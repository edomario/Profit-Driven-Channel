import { ActionDefinition } from '../../types';

const ownerMap = {
  solo: 'Owner',
  micro: 'Ops Lead',
  small: 'Ops Lead',
  small_med: 'Manager',
  medium: 'Department Lead',
  large: 'Department Lead',
  enterprise: 'Function Head'
};

export const actions: ActionDefinition[] = [
  // 7-Day Stabilize Profit
  {
    action_id: 'ACT_SOAP_OPS_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['no_standard_work'],
    title: 'Batch Sheet Lock (recipe weights + steps + critical limits)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['batch_pass_rate'],
    proof_required: ['signed_batch_sheets'],
    impact_score: 9
  },
  {
    action_id: 'ACT_SOAP_OPS_7_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['measurement_blindspot'],
    title: 'Fill-Weight Audit (overfill cost + underfill complaints)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['fill_weight_variance'],
    proof_required: ['fill_weight_log'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_OPS_7_03',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['hygiene_drift'],
    title: 'Changeover Cleaning Checklist (no residue carryover)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['contamination_incidents'],
    proof_required: ['cleaning_checklist_photos'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_OPS_7_04',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['inventory_blindspot'],
    title: 'Raw Material Staging (no stockout mid-run)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['stoppage_incidents'],
    proof_required: ['staging_list'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_OPS_7_05',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['quality_built_late'],
    title: 'First-10 Units QC Gate (approve before full run)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['rerun_rate'],
    proof_required: ['qc_signoff'],
    impact_score: 9
  },
  {
    action_id: 'ACT_SOAP_MARKET_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Market',
    signal_tags: ['complaint_handling_gap'],
    title: 'Complaint 48-Hour Closure Rule + Batch Link',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['complaint_closure_time'],
    proof_required: ['closure_log'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_RISK_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Risk',
    signal_tags: ['label_risk'],
    title: 'Label Control Rule (artwork + claims + batch codes)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['label_error_rate'],
    proof_required: ['label_master_file'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_OPS_7_06',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['reactive_maintenance'],
    title: 'Downtime Log (top 5 causes this week)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['uptime'],
    proof_required: ['downtime_board'],
    impact_score: 7
  },
  {
    action_id: 'ACT_SOAP_MONEY_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Money',
    signal_tags: ['yield_bleed'],
    title: 'Simple Yield Baseline per SKU',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['yield_percent'],
    proof_required: ['yield_sheet'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_LEAD_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Leadership',
    signal_tags: ['weak_shift_handover'],
    title: 'Daily 15-min Shift Handover (yield, defects, stockouts)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['shift_variance'],
    proof_required: ['handover_notes'],
    impact_score: 7
  },

  // 30-Day Build Control
  {
    action_id: 'ACT_SOAP_MONEY_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Money',
    signal_tags: ['costing_gap'],
    title: 'True COGS Engine per SKU (ingredients + packaging + labor + overhead)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['margin_per_sku'],
    proof_required: ['costing_template'],
    impact_score: 9
  },
  {
    action_id: 'ACT_SOAP_RISK_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Risk',
    signal_tags: ['traceability_gap'],
    title: 'Traceability System (raw lot -> batch -> finished SKU)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['traceability_completeness'],
    proof_required: ['batch_coding_sop'],
    impact_score: 9
  },
  {
    action_id: 'ACT_SOAP_OPS_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['quality_definition_gap'],
    title: 'QC Standards Pack (pH, viscosity, fragrance, appearance)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['first_pass_qc_rate'],
    proof_required: ['qc_sop_pack'],
    impact_score: 9
  },
  {
    action_id: 'ACT_SOAP_INNOV_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Innovation',
    signal_tags: ['sku_complexity_tax'],
    title: 'SKU Rationalization (remove low-margin high-complexity items)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['sku_profitability_score'],
    proof_required: ['sku_decision_list'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_MARKET_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Market',
    signal_tags: ['order_fulfillment_instability'],
    title: 'Distribution Discipline (channel plan + stock rotation)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['expiry_writeoffs'],
    proof_required: ['channel_plan'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_MONEY_30_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Money',
    signal_tags: ['credit_terms_risk'],
    title: 'Credit & Collections System (terms, follow-up, penalties)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['dso'],
    proof_required: ['collections_policy'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_OPS_30_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['order_fulfillment_instability'],
    title: 'Packaging Integrity Upgrade (seals, caps, leak tests)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['packaging_leak_rate'],
    proof_required: ['leak_test_results'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_RISK_30_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Risk',
    signal_tags: ['compliance_blocker_risk'],
    title: 'Safety + SDS/MSDS Coverage (chemicals, burns, storage)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['safety_incidents'],
    proof_required: ['sds_register'],
    impact_score: 9
  },
  {
    action_id: 'ACT_SOAP_PEOPLE_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'People',
    signal_tags: ['training_gap'],
    title: 'Training & Certification Ladder (compounders, fillers, QC)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['operator_certification_coverage'],
    proof_required: ['certification_list'],
    impact_score: 8
  },
  {
    action_id: 'ACT_SOAP_INNOV_30_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Innovation',
    signal_tags: ['no_product_testing_rhythm'],
    title: 'Innovation Sprint (one premium tier or trend product pilot)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['premium_revenue_share'],
    proof_required: ['pilot_results'],
    impact_score: 8
  }
];

import { ActionDefinition } from '../../types';

const ownerMap = {
  solo: 'Owner',
  micro: 'Ops Lead',
  small: 'Ops Lead',
  small_med: 'Manager',
  medium: 'Department Lead',
  large: 'Department Lead',
  enterprise: 'Function Head'
};

export const actions: ActionDefinition[] = [
  // 7-Day Stabilize Profit
  {
    action_id: 'ACT_METAL_OPS_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['no_standard_work'],
    title: 'Drawing/Spec Lock Rule (No fabrication from WhatsApp only)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['dispute_rate'],
    proof_required: ['signed_spec_sheet'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_OPS_7_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['waste_not_costed'],
    title: 'Scrap & Rework Baseline (Top 5 causes)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['scrap_rate', 'rework_hours'],
    proof_required: ['scrap_log'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_OPS_7_03',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['measurement_blindspot'],
    title: 'Measurement Verification System (2-person check before cutting)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['refabrication_incidents'],
    proof_required: ['measurement_checklist'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_OPS_7_04',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['inventory_blindspot'],
    title: 'Consumables Staging Checklist',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['consumable_stockout_incidents'],
    proof_required: ['staging_sheet'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_OPS_7_05',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['flow_instability'],
    title: 'Fit-Up Standard (tack sequence + clamp rules)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['distortion_defects'],
    proof_required: ['fitup_sop'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_OPS_7_06',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['bottleneck_bounce'],
    title: 'Bottleneck Machine Plan (schedule + preventive maintenance)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['idle_payroll_leak'],
    proof_required: ['machine_schedule'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_OPS_7_07',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['quality_built_late'],
    title: 'QC Gates (fit-up -> weld -> finish)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['first_pass_quality'],
    proof_required: ['qc_stamps'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_MONEY_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Money',
    signal_tags: ['cashflow_visibility_gap'],
    title: 'Deposit Policy Enforcement (minimum to start)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['deposit_collection_rate'],
    proof_required: ['deposit_policy'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_MONEY_7_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Money',
    signal_tags: ['pricing_margin_blindspot'],
    title: 'Change Order Form (scope creep pricing)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['scope_revenue_captured'],
    proof_required: ['signed_change_orders'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_LEAD_7_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Leadership',
    signal_tags: ['no_meeting_to_action'],
    title: 'Daily 15-min Job Board (Plan vs Actual)',
    days: 7,
    effort: 'S',
    default_owner_by_size: ownerMap,
    kpi_links: ['on_time_completion'],
    proof_required: ['job_board_photos'],
    impact_score: 7
  },

  // 30-Day Build Control
  {
    action_id: 'ACT_METAL_MONEY_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Money',
    signal_tags: ['costing_gap'],
    title: 'Job Costing Engine (materials + hours + consumables + overhead + margin)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['quote_accuracy', 'profit_per_job'],
    proof_required: ['costing_template'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_OPS_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Operations',
    signal_tags: ['no_standard_work'],
    title: 'Standard Job Cards + Templates for Repeat Work',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['cycle_time'],
    proof_required: ['job_card_library'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_INNOV_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Innovation',
    signal_tags: ['sku_complexity_tax'],
    title: 'Jigs & Fixtures Program (Top 10 repeat components)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['scrap_reduction', 'speed_improvement'],
    proof_required: ['jig_set'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_PEOPLE_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'People',
    signal_tags: ['training_gap'],
    title: 'Weld Quality Standard (internal skill test + SOP)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['rework_reduction'],
    proof_required: ['weld_test_records'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_MONEY_30_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Money',
    signal_tags: ['inventory_blindspot'],
    title: 'Inventory Min/Max for Steel + Consumables',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['stockout_reduction'],
    proof_required: ['reorder_rules'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_LEAD_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Leadership',
    signal_tags: ['no_kpi_ownership'],
    title: 'Capacity Planning Gate (jobs accepted vs shop capacity)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['overtime_reduction'],
    proof_required: ['capacity_sheet'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_MARKET_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Market',
    signal_tags: ['weak_proof_pack'],
    title: 'Portfolio + Proof Pack (photos, specs, testimonials)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['quote_to_deposit_conversion'],
    proof_required: ['portfolio_pack'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_RISK_30_01',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Risk',
    signal_tags: ['contract_gap'],
    title: 'Contract + Change Clause System',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['dispute_reduction'],
    proof_required: ['contract_templates'],
    impact_score: 8
  },
  {
    action_id: 'ACT_METAL_RISK_30_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Risk',
    signal_tags: ['hygiene_drift'],
    title: 'Safety System (PPE, fire, gas, grinder rules + audits)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['incident_reduction'],
    proof_required: ['safety_audits'],
    impact_score: 9
  },
  {
    action_id: 'ACT_METAL_INNOV_30_02',
    industry: 'manufacturing',
    line_type: ['all'],
    pillar: 'Innovation',
    signal_tags: ['no_market_feedback_loop'],
    title: 'Digital Tracking (job status, deadlines, payments)',
    days: 30,
    effort: 'M',
    default_owner_by_size: ownerMap,
    kpi_links: ['visibility_rate', 'delay_reduction'],
    proof_required: ['tracking_dashboard'],
    impact_score: 8
  }
];

var FB=Object.defineProperty;var BB=(e,t,i)=>t in e?FB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var H_=(e,t,i)=>BB(e,typeof t!="symbol"?t+"":t,i);function UB(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function Jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G_={exports:{}},Ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function qB(){if(b1)return Ld;b1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var d in r)d!=="key"&&(s[d]=r[d])}else s=r;return r=s.ref,{$$typeof:e,type:n,key:l,ref:r!==void 0?r:null,props:s}}return Ld.Fragment=t,Ld.jsx=i,Ld.jsxs=i,Ld}var x1;function zB(){return x1||(x1=1,G_.exports=qB()),G_.exports}var a=zB(),$_={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function WB(){if(k1)return ot;k1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),y=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function T(j,Z,R){this.props=j,this.context=Z,this.refs=C,this.updater=R||S}T.prototype.isReactComponent={},T.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function N(){}N.prototype=T.prototype;function E(j,Z,R){this.props=j,this.context=Z,this.refs=C,this.updater=R||S}var O=E.prototype=new N;O.constructor=E,k(O,T.prototype),O.isPureReactComponent=!0;var P=Array.isArray;function I(){}var D={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function V(j,Z,R){var fe=R.ref;return{$$typeof:e,type:j,key:Z,ref:fe!==void 0?fe:null,props:R}}function U(j,Z){return V(j.type,Z,j.props)}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function q(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(R){return Z[R]})}var pe=/\/+/g;function X(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?q(""+j.key):Z.toString(36)}function se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,Z,R,fe,je){var le=typeof j;(le==="undefined"||le==="boolean")&&(j=null);var ae=!1;if(j===null)ae=!0;else switch(le){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(j.$$typeof){case e:case t:ae=!0;break;case g:return ae=j._init,K(ae(j._payload),Z,R,fe,je)}}if(ae)return je=je(j),ae=fe===""?"."+X(j,0):fe,P(je)?(R="",ae!=null&&(R=ae.replace(pe,"$&/")+"/"),K(je,Z,R,"",function(Be){return Be})):je!=null&&(W(je)&&(je=U(je,R+(je.key==null||j&&j.key===je.key?"":(""+je.key).replace(pe,"$&/")+"/")+ae)),Z.push(je)),1;ae=0;var ee=fe===""?".":fe+":";if(P(j))for(var $=0;$<j.length;$++)fe=j[$],le=ee+X(fe,$),ae+=K(fe,Z,R,le,je);else if($=v(j),typeof $=="function")for(j=$.call(j),$=0;!(fe=j.next()).done;)fe=fe.value,le=ee+X(fe,$++),ae+=K(fe,Z,R,le,je);else if(le==="object"){if(typeof j.then=="function")return K(se(j),Z,R,fe,je);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ae}function z(j,Z,R){if(j==null)return j;var fe=[],je=0;return K(j,fe,"","",function(le){return Z.call(R,le,je++)}),fe}function Q(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(R){(j._status===0||j._status===-1)&&(j._status=1,j._result=R)},function(R){(j._status===0||j._status===-1)&&(j._status=2,j._result=R)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var de=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},F={map:z,forEach:function(j,Z,R){z(j,function(){Z.apply(this,arguments)},R)},count:function(j){var Z=0;return z(j,function(){Z++}),Z},toArray:function(j){return z(j,function(Z){return Z})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ot.Activity=h,ot.Children=F,ot.Component=T,ot.Fragment=i,ot.Profiler=r,ot.PureComponent=E,ot.StrictMode=n,ot.Suspense=p,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ot.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},ot.cache=function(j){return function(){return j.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(j,Z,R){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var fe=k({},j.props),je=j.key;if(Z!=null)for(le in Z.key!==void 0&&(je=""+Z.key),Z)!B.call(Z,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Z.ref===void 0||(fe[le]=Z[le]);var le=arguments.length-2;if(le===1)fe.children=R;else if(1<le){for(var ae=Array(le),ee=0;ee<le;ee++)ae[ee]=arguments[ee+2];fe.children=ae}return V(j.type,je,fe)},ot.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},ot.createElement=function(j,Z,R){var fe,je={},le=null;if(Z!=null)for(fe in Z.key!==void 0&&(le=""+Z.key),Z)B.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(je[fe]=Z[fe]);var ae=arguments.length-2;if(ae===1)je.children=R;else if(1<ae){for(var ee=Array(ae),$=0;$<ae;$++)ee[$]=arguments[$+2];je.children=ee}if(j&&j.defaultProps)for(fe in ae=j.defaultProps,ae)je[fe]===void 0&&(je[fe]=ae[fe]);return V(j,le,je)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(j){return{$$typeof:d,render:j}},ot.isValidElement=W,ot.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Q}},ot.memo=function(j,Z){return{$$typeof:u,type:j,compare:Z===void 0?null:Z}},ot.startTransition=function(j){var Z=D.T,R={};D.T=R;try{var fe=j(),je=D.S;je!==null&&je(R,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(I,de)}catch(le){de(le)}finally{Z!==null&&R.types!==null&&(Z.types=R.types),D.T=Z}},ot.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ot.use=function(j){return D.H.use(j)},ot.useActionState=function(j,Z,R){return D.H.useActionState(j,Z,R)},ot.useCallback=function(j,Z){return D.H.useCallback(j,Z)},ot.useContext=function(j){return D.H.useContext(j)},ot.useDebugValue=function(){},ot.useDeferredValue=function(j,Z){return D.H.useDeferredValue(j,Z)},ot.useEffect=function(j,Z){return D.H.useEffect(j,Z)},ot.useEffectEvent=function(j){return D.H.useEffectEvent(j)},ot.useId=function(){return D.H.useId()},ot.useImperativeHandle=function(j,Z,R){return D.H.useImperativeHandle(j,Z,R)},ot.useInsertionEffect=function(j,Z){return D.H.useInsertionEffect(j,Z)},ot.useLayoutEffect=function(j,Z){return D.H.useLayoutEffect(j,Z)},ot.useMemo=function(j,Z){return D.H.useMemo(j,Z)},ot.useOptimistic=function(j,Z){return D.H.useOptimistic(j,Z)},ot.useReducer=function(j,Z,R){return D.H.useReducer(j,Z,R)},ot.useRef=function(j){return D.H.useRef(j)},ot.useState=function(j){return D.H.useState(j)},ot.useSyncExternalStore=function(j,Z,R){return D.H.useSyncExternalStore(j,Z,R)},ot.useTransition=function(){return D.H.useTransition()},ot.version="19.2.4",ot}var S1;function xc(){return S1||(S1=1,$_.exports=WB()),$_.exports}var A=xc();const J0=Jn(A),VB=UB({__proto__:null,default:J0},[A]);var Y_={exports:{}},Rd={},Q_={exports:{}},X_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function HB(){return w1||(w1=1,(function(e){function t(K,z){var Q=K.length;K.push(z);e:for(;0<Q;){var de=Q-1>>>1,F=K[de];if(0<r(F,z))K[de]=z,K[Q]=F,Q=de;else break e}}function i(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var z=K[0],Q=K.pop();if(Q!==z){K[0]=Q;e:for(var de=0,F=K.length,j=F>>>1;de<j;){var Z=2*(de+1)-1,R=K[Z],fe=Z+1,je=K[fe];if(0>r(R,Q))fe<F&&0>r(je,R)?(K[de]=je,K[fe]=Q,de=fe):(K[de]=R,K[Z]=Q,de=Z);else if(fe<F&&0>r(je,Q))K[de]=je,K[fe]=Q,de=fe;else break e}}return z}function r(K,z){var Q=K.sortIndex-z.sortIndex;return Q!==0?Q:K.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var p=[],u=[],g=1,h=null,y=3,v=!1,S=!1,k=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(K){for(var z=i(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=K)n(u),z.sortIndex=z.expirationTime,t(p,z);else break;z=i(u)}}function P(K){if(k=!1,O(K),!S)if(i(p)!==null)S=!0,I||(I=!0,q());else{var z=i(u);z!==null&&se(P,z.startTime-K)}}var I=!1,D=-1,B=5,V=-1;function U(){return C?!0:!(e.unstable_now()-V<B)}function W(){if(C=!1,I){var K=e.unstable_now();V=K;var z=!0;try{e:{S=!1,k&&(k=!1,N(D),D=-1),v=!0;var Q=y;try{t:{for(O(K),h=i(p);h!==null&&!(h.expirationTime>K&&U());){var de=h.callback;if(typeof de=="function"){h.callback=null,y=h.priorityLevel;var F=de(h.expirationTime<=K);if(K=e.unstable_now(),typeof F=="function"){h.callback=F,O(K),z=!0;break t}h===i(p)&&n(p),O(K)}else n(p);h=i(p)}if(h!==null)z=!0;else{var j=i(u);j!==null&&se(P,j.startTime-K),z=!1}}break e}finally{h=null,y=Q,v=!1}z=void 0}}finally{z?q():I=!1}}}var q;if(typeof E=="function")q=function(){E(W)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,X=pe.port2;pe.port1.onmessage=W,q=function(){X.postMessage(null)}}else q=function(){T(W,0)};function se(K,z){D=T(function(){K(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(K){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var Q=y;y=z;try{return K()}finally{y=Q}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(K,z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=y;y=K;try{return z()}finally{y=Q}},e.unstable_scheduleCallback=function(K,z,Q){var de=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,K){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,K={id:g++,callback:z,priorityLevel:K,startTime:Q,expirationTime:F,sortIndex:-1},Q>de?(K.sortIndex=Q,t(u,K),i(p)===null&&K===i(u)&&(k?(N(D),D=-1):k=!0,se(P,Q-de))):(K.sortIndex=F,t(p,K),S||v||(S=!0,I||(I=!0,q()))),K},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(K){var z=y;return function(){var Q=y;y=z;try{return K.apply(this,arguments)}finally{y=Q}}}})(X_)),X_}var C1;function GB(){return C1||(C1=1,Q_.exports=HB()),Q_.exports}var J_={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function $B(){if(T1)return nn;T1=1;var e=xc();function t(p){var u="https://react.dev/errors/"+p;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(p,u,g){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:p,containerInfo:u,implementation:g}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,u){if(p==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,nn.createPortal=function(p,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(p,u,null,g)},nn.flushSync=function(p){var u=l.T,g=n.p;try{if(l.T=null,n.p=2,p)return p()}finally{l.T=u,n.p=g,n.d.f()}},nn.preconnect=function(p,u){typeof p=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(p,u))},nn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},nn.preinit=function(p,u){if(typeof p=="string"&&u&&typeof u.as=="string"){var g=u.as,h=d(g,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;g==="style"?n.d.S(p,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:y,fetchPriority:v}):g==="script"&&n.d.X(p,{crossOrigin:h,integrity:y,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},nn.preinitModule=function(p,u){if(typeof p=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var g=d(u.as,u.crossOrigin);n.d.M(p,{crossOrigin:g,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(p)},nn.preload=function(p,u){if(typeof p=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var g=u.as,h=d(g,u.crossOrigin);n.d.L(p,g,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},nn.preloadModule=function(p,u){if(typeof p=="string")if(u){var g=d(u.as,u.crossOrigin);n.d.m(p,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:g,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(p)},nn.requestFormReset=function(p){n.d.r(p)},nn.unstable_batchedUpdates=function(p,u){return p(u)},nn.useFormState=function(p,u,g){return l.H.useFormState(p,u,g)},nn.useFormStatus=function(){return l.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var A1;function aR(){if(A1)return J_.exports;A1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),J_.exports=$B(),J_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function YB(){if(E1)return Rd;E1=1;var e=GB(),t=xc(),i=aR();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function p(o){if(s(o)!==o)throw Error(n(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,m=c;;){var x=f.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){f=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===f)return p(x),o;if(w===m)return p(x),c;w=w.sibling}throw Error(n(188))}if(f.return!==m.return)f=x,m=w;else{for(var M=!1,L=x.child;L;){if(L===f){M=!0,f=x,m=w;break}if(L===m){M=!0,m=x,f=w;break}L=L.sibling}if(!M){for(L=w.child;L;){if(L===f){M=!0,f=w,m=x;break}if(L===m){M=!0,m=w,f=x;break}L=L.sibling}if(!M)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function g(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=g(o),c!==null)return c;o=o.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var pe=Symbol.for("react.client.reference");function X(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===pe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case E:return o.displayName||"Context";case N:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return c=o.displayName||null,c!==null?c:X(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return X(o(c))}catch{}}return null}var se=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},de=[],F=-1;function j(o){return{current:o}}function Z(o){0>F||(o.current=de[F],de[F]=null,F--)}function R(o,c){F++,de[F]=o.current,o.current=c}var fe=j(null),je=j(null),le=j(null),ae=j(null);function ee(o,c){switch(R(le,c),R(je,o),R(fe,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?zA(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=zA(c),o=WA(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(fe),R(fe,o)}function $(){Z(fe),Z(je),Z(le)}function Be(o){o.memoizedState!==null&&R(ae,o);var c=fe.current,f=WA(c,o.type);c!==f&&(R(je,o),R(fe,f))}function Fe(o){je.current===o&&(Z(fe),Z(je)),ae.current===o&&(Z(ae),Md._currentValue=Q)}var ce,H;function Ve(o){if(ce===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);ce=c&&c[1]||"",H=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+o+H}var Xe=!1;function _t(o,c){if(!o||Xe)return"";Xe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(oe){var re=oe}Reflect.construct(o,[],ye)}else{try{ye.call()}catch(oe){re=oe}o.call(ye.prototype)}}else{try{throw Error()}catch(oe){re=oe}(ye=o())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),M=w[0],L=w[1];if(M&&L){var G=M.split(`
`),ne=L.split(`
`);for(x=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(m===G.length||x===ne.length)for(m=G.length-1,x=ne.length-1;1<=m&&0<=x&&G[m]!==ne[x];)x--;for(;1<=m&&0<=x;m--,x--)if(G[m]!==ne[x]){if(m!==1||x!==1)do if(m--,x--,0>x||G[m]!==ne[x]){var ge=`
`+G[m].replace(" at new "," at ");return o.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",o.displayName)),ge}while(1<=m&&0<=x);break}}}finally{Xe=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ve(f):""}function At(o,c){switch(o.tag){case 26:case 27:case 5:return Ve(o.type);case 16:return Ve("Lazy");case 13:return o.child!==c&&c!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return _t(o.type,!1);case 11:return _t(o.type.render,!1);case 1:return _t(o.type,!0);case 31:return Ve("Activity");default:return""}}function Gt(o){try{var c="",f=null;do c+=At(o,f),f=o,o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var pn=Object.prototype.hasOwnProperty,ka=e.unstable_scheduleCallback,Ua=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,Ye=e.unstable_requestPaint,Ze=e.unstable_now,at=e.unstable_getCurrentPriorityLevel,ue=e.unstable_ImmediatePriority,ve=e.unstable_UserBlockingPriority,Qe=e.unstable_NormalPriority,st=e.unstable_LowPriority,et=e.unstable_IdlePriority,Yt=e.log,Ci=e.unstable_setDisableYieldValue,Qt=null,Xt=null;function tn(o){if(typeof Yt=="function"&&Ci(o),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Qt,o)}catch{}}var Et=Math.clz32?Math.clz32:Lm,ea=Math.log,fn=Math.LN2;function Lm(o){return o>>>=0,o===0?32:31-(ea(o)/fn|0)|0}var Xo=256,Gs=262144,$s=4194304;function qa(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function bn(o,c,f){var m=o.pendingLanes;if(m===0)return 0;var x=0,w=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var L=m&134217727;return L!==0?(m=L&~w,m!==0?x=qa(m):(M&=L,M!==0?x=qa(M):f||(f=L&~o,f!==0&&(x=qa(f))))):(L=m&~w,L!==0?x=qa(L):M!==0?x=qa(M):f||(f=m&~o,f!==0&&(x=qa(f)))),x===0?0:c!==0&&c!==x&&(c&w)===0&&(w=x&-x,f=c&-c,w>=f||w===32&&(f&4194048)!==0)?c:x}function Ti(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Kn(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tp(){var o=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),o}function ss(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function Ys(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function AF(o,c,f,m,x,w){var M=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var L=o.entanglements,G=o.expirationTimes,ne=o.hiddenUpdates;for(f=M&~f;0<f;){var ge=31-Et(f),ye=1<<ge;L[ge]=0,G[ge]=-1;var re=ne[ge];if(re!==null)for(ne[ge]=null,ge=0;ge<re.length;ge++){var oe=re[ge];oe!==null&&(oe.lane&=-536870913)}f&=~ye}m!==0&&Cw(o,m,0),w!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=w&~(M&~c))}function Cw(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-Et(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|f&261930}function Tw(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var m=31-Et(f),x=1<<m;x&c|o[m]&c&&(o[m]|=c),f&=~x}}function Aw(o,c){var f=c&-c;return f=(f&42)!==0?1:Rm(f),(f&(o.suspendedLanes|c))!==0?0:f}function Rm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Dm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ew(){var o=z.p;return o!==0?o:(o=window.event,o===void 0?32:f1(o.type))}function Nw(o,c){var f=z.p;try{return z.p=o,c()}finally{z.p=f}}var os=Math.random().toString(36).slice(2),Wi="__reactFiber$"+os,xn="__reactProps$"+os,Jo="__reactContainer$"+os,jm="__reactEvents$"+os,EF="__reactListeners$"+os,NF="__reactHandles$"+os,Mw="__reactResources$"+os,Vc="__reactMarker$"+os;function Km(o){delete o[Wi],delete o[xn],delete o[jm],delete o[EF],delete o[NF]}function Zo(o){var c=o[Wi];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Jo]||f[Wi]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=XA(o);o!==null;){if(f=o[Wi])return f;o=XA(o)}return c}o=f,f=o.parentNode}return null}function el(o){if(o=o[Wi]||o[Jo]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Hc(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function tl(o){var c=o[Mw];return c||(c=o[Mw]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Oi(o){o[Vc]=!0}var Pw=new Set,Iw={};function Qs(o,c){il(o,c),il(o+"Capture",c)}function il(o,c){for(Iw[o]=c,o=0;o<c.length;o++)Pw.add(c[o])}var MF=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ow={},Lw={};function PF(o){return pn.call(Lw,o)?!0:pn.call(Ow,o)?!1:MF.test(o)?Lw[o]=!0:(Ow[o]=!0,!1)}function Ap(o,c,f){if(PF(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Ep(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function pr(o,c,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+m)}}function ta(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Rw(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function IF(o,c,f){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,w=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(M){f=""+M,w.call(this,M)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Fm(o){if(!o._valueTracker){var c=Rw(o)?"checked":"value";o._valueTracker=IF(o,c,""+o[c])}}function Dw(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return o&&(m=Rw(o)?o.checked?"true":"false":o.value),o=m,o!==f?(c.setValue(o),!0):!1}function Np(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var OF=/[\n"\\]/g;function ia(o){return o.replace(OF,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Bm(o,c,f,m,x,w,M,L){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),c!=null?M==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ta(c)):o.value!==""+ta(c)&&(o.value=""+ta(c)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),c!=null?Um(o,M,ta(c)):f!=null?Um(o,M,ta(f)):m!=null&&o.removeAttribute("value"),x==null&&w!=null&&(o.defaultChecked=!!w),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?o.name=""+ta(L):o.removeAttribute("name")}function jw(o,c,f,m,x,w,M,L){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),c!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||c!=null)){Fm(o);return}f=f!=null?""+ta(f):"",c=c!=null?""+ta(c):f,L||c===o.value||(o.value=c),o.defaultValue=c}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=L?o.checked:!!m,o.defaultChecked=!!m,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M),Fm(o)}function Um(o,c,f){c==="number"&&Np(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function nl(o,c,f,m){if(o=o.options,c){c={};for(var x=0;x<f.length;x++)c["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=c.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&m&&(o[f].defaultSelected=!0)}else{for(f=""+ta(f),c=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function Kw(o,c,f){if(c!=null&&(c=""+ta(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+ta(f):""}function Fw(o,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(n(92));if(se(m)){if(1<m.length)throw Error(n(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=ta(c),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m),Fm(o)}function al(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var LF=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bw(o,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,f):typeof f!="number"||f===0||LF.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function Uw(o,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var x in c)m=c[x],c.hasOwnProperty(x)&&f[x]!==m&&Bw(o,x,m)}else for(var w in c)c.hasOwnProperty(w)&&Bw(o,w,c[w])}function qm(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RF=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DF=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mp(o){return DF.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function fr(){}var zm=null;function Wm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var rl=null,sl=null;function qw(o){var c=el(o);if(c&&(o=c.stateNode)){var f=o[xn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Bm(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ia(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==o&&m.form===o.form){var x=m[xn]||null;if(!x)throw Error(n(90));Bm(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===o.form&&Dw(m)}break e;case"textarea":Kw(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&nl(o,!!f.multiple,c,!1)}}}var Vm=!1;function zw(o,c,f){if(Vm)return o(c,f);Vm=!0;try{var m=o(c);return m}finally{if(Vm=!1,(rl!==null||sl!==null)&&(_f(),rl&&(c=rl,o=sl,sl=rl=null,qw(c),o)))for(c=0;c<o.length;c++)qw(o[c])}}function Gc(o,c){var f=o.stateNode;if(f===null)return null;var m=f[xn]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hm=!1;if(gr)try{var $c={};Object.defineProperty($c,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{Hm=!1}var ls=null,Gm=null,Pp=null;function Ww(){if(Pp)return Pp;var o,c=Gm,f=c.length,m,x="value"in ls?ls.value:ls.textContent,w=x.length;for(o=0;o<f&&c[o]===x[o];o++);var M=f-o;for(m=1;m<=M&&c[f-m]===x[w-m];m++);return Pp=x.slice(o,1<m?1-m:void 0)}function Ip(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Op(){return!0}function Vw(){return!1}function kn(o){function c(f,m,x,w,M){this._reactName=f,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(f=o[L],this[L]=f?f(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Op:Vw,this.isPropagationStopped=Vw,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Op)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Op)},persist:function(){},isPersistent:Op}),c}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=kn(Xs),Yc=h({},Xs,{view:0,detail:0}),jF=kn(Yc),$m,Ym,Qc,Rp=h({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Qc&&(Qc&&o.type==="mousemove"?($m=o.screenX-Qc.screenX,Ym=o.screenY-Qc.screenY):Ym=$m=0,Qc=o),$m)},movementY:function(o){return"movementY"in o?o.movementY:Ym}}),Hw=kn(Rp),KF=h({},Rp,{dataTransfer:0}),FF=kn(KF),BF=h({},Yc,{relatedTarget:0}),Qm=kn(BF),UF=h({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),qF=kn(UF),zF=h({},Xs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),WF=kn(zF),VF=h({},Xs,{data:0}),Gw=kn(VF),HF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$F={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YF(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=$F[o])?!!c[o]:!1}function Xm(){return YF}var QF=h({},Yc,{key:function(o){if(o.key){var c=HF[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ip(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?GF[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xm,charCode:function(o){return o.type==="keypress"?Ip(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ip(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),XF=kn(QF),JF=h({},Rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$w=kn(JF),ZF=h({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xm}),e5=kn(ZF),t5=h({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),i5=kn(t5),n5=h({},Rp,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),a5=kn(n5),r5=h({},Xs,{newState:0,oldState:0}),s5=kn(r5),o5=[9,13,27,32],Jm=gr&&"CompositionEvent"in window,Xc=null;gr&&"documentMode"in document&&(Xc=document.documentMode);var l5=gr&&"TextEvent"in window&&!Xc,Yw=gr&&(!Jm||Xc&&8<Xc&&11>=Xc),Qw=" ",Xw=!1;function Jw(o,c){switch(o){case"keyup":return o5.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ol=!1;function c5(o,c){switch(o){case"compositionend":return Zw(c);case"keypress":return c.which!==32?null:(Xw=!0,Qw);case"textInput":return o=c.data,o===Qw&&Xw?null:o;default:return null}}function d5(o,c){if(ol)return o==="compositionend"||!Jm&&Jw(o,c)?(o=Ww(),Pp=Gm=ls=null,ol=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Yw&&c.locale!=="ko"?null:c.data;default:return null}}var u5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eC(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!u5[o.type]:c==="textarea"}function tC(o,c,f,m){rl?sl?sl.push(m):sl=[m]:rl=m,c=Cf(c,"onChange"),0<c.length&&(f=new Lp("onChange","change",null,f,m),o.push({event:f,listeners:c}))}var Jc=null,Zc=null;function p5(o){jA(o,0)}function Dp(o){var c=Hc(o);if(Dw(c))return o}function iC(o,c){if(o==="change")return c}var nC=!1;if(gr){var Zm;if(gr){var ey="oninput"in document;if(!ey){var aC=document.createElement("div");aC.setAttribute("oninput","return;"),ey=typeof aC.oninput=="function"}Zm=ey}else Zm=!1;nC=Zm&&(!document.documentMode||9<document.documentMode)}function rC(){Jc&&(Jc.detachEvent("onpropertychange",sC),Zc=Jc=null)}function sC(o){if(o.propertyName==="value"&&Dp(Zc)){var c=[];tC(c,Zc,o,Wm(o)),zw(p5,c)}}function f5(o,c,f){o==="focusin"?(rC(),Jc=c,Zc=f,Jc.attachEvent("onpropertychange",sC)):o==="focusout"&&rC()}function g5(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Dp(Zc)}function h5(o,c){if(o==="click")return Dp(c)}function m5(o,c){if(o==="input"||o==="change")return Dp(c)}function y5(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Fn=typeof Object.is=="function"?Object.is:y5;function ed(o,c){if(Fn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var x=f[m];if(!pn.call(c,x)||!Fn(o[x],c[x]))return!1}return!0}function oC(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function lC(o,c){var f=oC(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=c&&m>=c)return{node:f,offset:c-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=oC(f)}}function cC(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?cC(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function dC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Np(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Np(o.document)}return c}function ty(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var _5=gr&&"documentMode"in document&&11>=document.documentMode,ll=null,iy=null,td=null,ny=!1;function uC(o,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ny||ll==null||ll!==Np(m)||(m=ll,"selectionStart"in m&&ty(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),td&&ed(td,m)||(td=m,m=Cf(iy,"onSelect"),0<m.length&&(c=new Lp("onSelect","select",null,c,f),o.push({event:c,listeners:m}),c.target=ll)))}function Js(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var cl={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},ay={},pC={};gr&&(pC=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Zs(o){if(ay[o])return ay[o];if(!cl[o])return o;var c=cl[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in pC)return ay[o]=c[f];return o}var fC=Zs("animationend"),gC=Zs("animationiteration"),hC=Zs("animationstart"),v5=Zs("transitionrun"),b5=Zs("transitionstart"),x5=Zs("transitioncancel"),mC=Zs("transitionend"),yC=new Map,ry="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ry.push("scrollEnd");function Sa(o,c){yC.set(o,c),Qs(c,[o])}var jp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},na=[],dl=0,sy=0;function Kp(){for(var o=dl,c=sy=dl=0;c<o;){var f=na[c];na[c++]=null;var m=na[c];na[c++]=null;var x=na[c];na[c++]=null;var w=na[c];if(na[c++]=null,m!==null&&x!==null){var M=m.pending;M===null?x.next=x:(x.next=M.next,M.next=x),m.pending=x}w!==0&&_C(f,x,w)}}function Fp(o,c,f,m){na[dl++]=o,na[dl++]=c,na[dl++]=f,na[dl++]=m,sy|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function oy(o,c,f,m){return Fp(o,c,f,m),Bp(o)}function eo(o,c){return Fp(o,null,null,c),Bp(o)}function _C(o,c,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var x=!1,w=o.return;w!==null;)w.childLanes|=f,m=w.alternate,m!==null&&(m.childLanes|=f),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(x=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,x&&c!==null&&(x=31-Et(f),o=w.hiddenUpdates,m=o[x],m===null?o[x]=[c]:m.push(c),c.lane=f|536870912),w):null}function Bp(o){if(50<Sd)throw Sd=0,m_=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var ul={};function k5(o,c,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(o,c,f,m){return new k5(o,c,f,m)}function ly(o){return o=o.prototype,!(!o||!o.isReactComponent)}function hr(o,c){var f=o.alternate;return f===null?(f=Bn(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function vC(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Up(o,c,f,m,x,w){var M=0;if(m=o,typeof o=="function")ly(o)&&(M=1);else if(typeof o=="string")M=AB(o,f,fe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=Bn(31,f,c,x),o.elementType=V,o.lanes=w,o;case k:return to(f.children,x,w,c);case C:M=8,x|=24;break;case T:return o=Bn(12,f,c,x|2),o.elementType=T,o.lanes=w,o;case P:return o=Bn(13,f,c,x),o.elementType=P,o.lanes=w,o;case I:return o=Bn(19,f,c,x),o.elementType=I,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:M=10;break e;case N:M=9;break e;case O:M=11;break e;case D:M=14;break e;case B:M=16,m=null;break e}M=29,f=Error(n(130,o===null?"null":typeof o,"")),m=null}return c=Bn(M,f,c,x),c.elementType=o,c.type=m,c.lanes=w,c}function to(o,c,f,m){return o=Bn(7,o,m,c),o.lanes=f,o}function cy(o,c,f){return o=Bn(6,o,null,c),o.lanes=f,o}function bC(o){var c=Bn(18,null,null,0);return c.stateNode=o,c}function dy(o,c,f){return c=Bn(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var xC=new WeakMap;function aa(o,c){if(typeof o=="object"&&o!==null){var f=xC.get(o);return f!==void 0?f:(c={value:o,source:c,stack:Gt(c)},xC.set(o,c),c)}return{value:o,source:c,stack:Gt(c)}}var pl=[],fl=0,qp=null,id=0,ra=[],sa=0,cs=null,za=1,Wa="";function mr(o,c){pl[fl++]=id,pl[fl++]=qp,qp=o,id=c}function kC(o,c,f){ra[sa++]=za,ra[sa++]=Wa,ra[sa++]=cs,cs=o;var m=za;o=Wa;var x=32-Et(m)-1;m&=~(1<<x),f+=1;var w=32-Et(c)+x;if(30<w){var M=x-x%5;w=(m&(1<<M)-1).toString(32),m>>=M,x-=M,za=1<<32-Et(c)+x|f<<x|m,Wa=w+o}else za=1<<w|f<<x|m,Wa=o}function uy(o){o.return!==null&&(mr(o,1),kC(o,1,0))}function py(o){for(;o===qp;)qp=pl[--fl],pl[fl]=null,id=pl[--fl],pl[fl]=null;for(;o===cs;)cs=ra[--sa],ra[sa]=null,Wa=ra[--sa],ra[sa]=null,za=ra[--sa],ra[sa]=null}function SC(o,c){ra[sa++]=za,ra[sa++]=Wa,ra[sa++]=cs,za=c.id,Wa=c.overflow,cs=o}var Vi=null,Ut=null,mt=!1,ds=null,oa=!1,fy=Error(n(519));function us(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nd(aa(c,o)),fy}function wC(o){var c=o.stateNode,f=o.type,m=o.memoizedProps;switch(c[Wi]=o,c[xn]=m,f){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(f=0;f<Cd.length;f++)pt(Cd[f],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":pt("invalid",c),jw(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":pt("invalid",c);break;case"textarea":pt("invalid",c),Fw(c,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||UA(c.textContent,f)?(m.popover!=null&&(pt("beforetoggle",c),pt("toggle",c)),m.onScroll!=null&&pt("scroll",c),m.onScrollEnd!=null&&pt("scrollend",c),m.onClick!=null&&(c.onclick=fr),c=!0):c=!1,c||us(o,!0)}function CC(o){for(Vi=o.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:Vi=Vi.return}}function gl(o){if(o!==Vi)return!1;if(!mt)return CC(o),mt=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||P_(o.type,o.memoizedProps)),f=!f),f&&Ut&&us(o),CC(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Ut=QA(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Ut=QA(o)}else c===27?(c=Ut,Cs(o.type)?(o=D_,D_=null,Ut=o):Ut=c):Ut=Vi?ca(o.stateNode.nextSibling):null;return!0}function io(){Ut=Vi=null,mt=!1}function gy(){var o=ds;return o!==null&&(Tn===null?Tn=o:Tn.push.apply(Tn,o),ds=null),o}function nd(o){ds===null?ds=[o]:ds.push(o)}var hy=j(null),no=null,yr=null;function ps(o,c,f){R(hy,c._currentValue),c._currentValue=f}function _r(o){o._currentValue=hy.current,Z(hy)}function my(o,c,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===f)break;o=o.return}}function yy(o,c,f,m){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var w=x.dependencies;if(w!==null){var M=x.child;w=w.firstContext;e:for(;w!==null;){var L=w;w=x;for(var G=0;G<c.length;G++)if(L.context===c[G]){w.lanes|=f,L=w.alternate,L!==null&&(L.lanes|=f),my(w.return,f,o),m||(M=null);break e}w=L.next}}else if(x.tag===18){if(M=x.return,M===null)throw Error(n(341));M.lanes|=f,w=M.alternate,w!==null&&(w.lanes|=f),my(M,f,o),M=null}else M=x.child;if(M!==null)M.return=x;else for(M=x;M!==null;){if(M===o){M=null;break}if(x=M.sibling,x!==null){x.return=M.return,M=x;break}M=M.return}x=M}}function hl(o,c,f,m){o=null;for(var x=c,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var M=x.alternate;if(M===null)throw Error(n(387));if(M=M.memoizedProps,M!==null){var L=x.type;Fn(x.pendingProps.value,M.value)||(o!==null?o.push(L):o=[L])}}else if(x===ae.current){if(M=x.alternate,M===null)throw Error(n(387));M.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Md):o=[Md])}x=x.return}o!==null&&yy(c,o,f,m),c.flags|=262144}function zp(o){for(o=o.firstContext;o!==null;){if(!Fn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ao(o){no=o,yr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Hi(o){return TC(no,o)}function Wp(o,c){return no===null&&ao(o),TC(o,c)}function TC(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},yr===null){if(o===null)throw Error(n(308));yr=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else yr=yr.next=c;return f}var S5=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},w5=e.unstable_scheduleCallback,C5=e.unstable_NormalPriority,li={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _y(){return{controller:new S5,data:new Map,refCount:0}}function ad(o){o.refCount--,o.refCount===0&&w5(C5,function(){o.controller.abort()})}var rd=null,vy=0,ml=0,yl=null;function T5(o,c){if(rd===null){var f=rd=[];vy=0,ml=k_(),yl={status:"pending",value:void 0,then:function(m){f.push(m)}}}return vy++,c.then(AC,AC),c}function AC(){if(--vy===0&&rd!==null){yl!==null&&(yl.status="fulfilled");var o=rd;rd=null,ml=0,yl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function A5(o,c){var f=[],m={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var x=0;x<f.length;x++)(0,f[x])(c)},function(x){for(m.status="rejected",m.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),m}var EC=K.S;K.S=function(o,c){uA=Ze(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&T5(o,c),EC!==null&&EC(o,c)};var ro=j(null);function by(){var o=ro.current;return o!==null?o:Dt.pooledCache}function Vp(o,c){c===null?R(ro,ro.current):R(ro,c.pool)}function NC(){var o=by();return o===null?null:{parent:li._currentValue,pool:o}}var _l=Error(n(460)),xy=Error(n(474)),Hp=Error(n(542)),Gp={then:function(){}};function MC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function PC(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(fr,fr),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,OC(o),o;default:if(typeof c.status=="string")c.then(fr,fr);else{if(o=Dt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=m}},function(m){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,OC(o),o}throw oo=c,_l}}function so(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(oo=f,_l):f}}var oo=null;function IC(){if(oo===null)throw Error(n(459));var o=oo;return oo=null,o}function OC(o){if(o===_l||o===Hp)throw Error(n(483))}var vl=null,sd=0;function $p(o){var c=sd;return sd+=1,vl===null&&(vl=[]),PC(vl,o,c)}function od(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Yp(o,c){throw c.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function LC(o){function c(J,Y){if(o){var ie=J.deletions;ie===null?(J.deletions=[Y],J.flags|=16):ie.push(Y)}}function f(J,Y){if(!o)return null;for(;Y!==null;)c(J,Y),Y=Y.sibling;return null}function m(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function x(J,Y){return J=hr(J,Y),J.index=0,J.sibling=null,J}function w(J,Y,ie){return J.index=ie,o?(ie=J.alternate,ie!==null?(ie=ie.index,ie<Y?(J.flags|=67108866,Y):ie):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function M(J){return o&&J.alternate===null&&(J.flags|=67108866),J}function L(J,Y,ie,he){return Y===null||Y.tag!==6?(Y=cy(ie,J.mode,he),Y.return=J,Y):(Y=x(Y,ie),Y.return=J,Y)}function G(J,Y,ie,he){var Je=ie.type;return Je===k?ge(J,Y,ie.props.children,he,ie.key):Y!==null&&(Y.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===B&&so(Je)===Y.type)?(Y=x(Y,ie.props),od(Y,ie),Y.return=J,Y):(Y=Up(ie.type,ie.key,ie.props,null,J.mode,he),od(Y,ie),Y.return=J,Y)}function ne(J,Y,ie,he){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ie.containerInfo||Y.stateNode.implementation!==ie.implementation?(Y=dy(ie,J.mode,he),Y.return=J,Y):(Y=x(Y,ie.children||[]),Y.return=J,Y)}function ge(J,Y,ie,he,Je){return Y===null||Y.tag!==7?(Y=to(ie,J.mode,he,Je),Y.return=J,Y):(Y=x(Y,ie),Y.return=J,Y)}function ye(J,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=cy(""+Y,J.mode,ie),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return ie=Up(Y.type,Y.key,Y.props,null,J.mode,ie),od(ie,Y),ie.return=J,ie;case S:return Y=dy(Y,J.mode,ie),Y.return=J,Y;case B:return Y=so(Y),ye(J,Y,ie)}if(se(Y)||q(Y))return Y=to(Y,J.mode,ie,null),Y.return=J,Y;if(typeof Y.then=="function")return ye(J,$p(Y),ie);if(Y.$$typeof===E)return ye(J,Wp(J,Y),ie);Yp(J,Y)}return null}function re(J,Y,ie,he){var Je=Y!==null?Y.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Je!==null?null:L(J,Y,""+ie,he);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===Je?G(J,Y,ie,he):null;case S:return ie.key===Je?ne(J,Y,ie,he):null;case B:return ie=so(ie),re(J,Y,ie,he)}if(se(ie)||q(ie))return Je!==null?null:ge(J,Y,ie,he,null);if(typeof ie.then=="function")return re(J,Y,$p(ie),he);if(ie.$$typeof===E)return re(J,Y,Wp(J,ie),he);Yp(J,ie)}return null}function oe(J,Y,ie,he,Je){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(ie)||null,L(Y,J,""+he,Je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return J=J.get(he.key===null?ie:he.key)||null,G(Y,J,he,Je);case S:return J=J.get(he.key===null?ie:he.key)||null,ne(Y,J,he,Je);case B:return he=so(he),oe(J,Y,ie,he,Je)}if(se(he)||q(he))return J=J.get(ie)||null,ge(Y,J,he,Je,null);if(typeof he.then=="function")return oe(J,Y,ie,$p(he),Je);if(he.$$typeof===E)return oe(J,Y,ie,Wp(Y,he),Je);Yp(Y,he)}return null}function ze(J,Y,ie,he){for(var Je=null,vt=null,Ge=Y,ct=Y=0,gt=null;Ge!==null&&ct<ie.length;ct++){Ge.index>ct?(gt=Ge,Ge=null):gt=Ge.sibling;var bt=re(J,Ge,ie[ct],he);if(bt===null){Ge===null&&(Ge=gt);break}o&&Ge&&bt.alternate===null&&c(J,Ge),Y=w(bt,Y,ct),vt===null?Je=bt:vt.sibling=bt,vt=bt,Ge=gt}if(ct===ie.length)return f(J,Ge),mt&&mr(J,ct),Je;if(Ge===null){for(;ct<ie.length;ct++)Ge=ye(J,ie[ct],he),Ge!==null&&(Y=w(Ge,Y,ct),vt===null?Je=Ge:vt.sibling=Ge,vt=Ge);return mt&&mr(J,ct),Je}for(Ge=m(Ge);ct<ie.length;ct++)gt=oe(Ge,J,ct,ie[ct],he),gt!==null&&(o&&gt.alternate!==null&&Ge.delete(gt.key===null?ct:gt.key),Y=w(gt,Y,ct),vt===null?Je=gt:vt.sibling=gt,vt=gt);return o&&Ge.forEach(function(Ms){return c(J,Ms)}),mt&&mr(J,ct),Je}function tt(J,Y,ie,he){if(ie==null)throw Error(n(151));for(var Je=null,vt=null,Ge=Y,ct=Y=0,gt=null,bt=ie.next();Ge!==null&&!bt.done;ct++,bt=ie.next()){Ge.index>ct?(gt=Ge,Ge=null):gt=Ge.sibling;var Ms=re(J,Ge,bt.value,he);if(Ms===null){Ge===null&&(Ge=gt);break}o&&Ge&&Ms.alternate===null&&c(J,Ge),Y=w(Ms,Y,ct),vt===null?Je=Ms:vt.sibling=Ms,vt=Ms,Ge=gt}if(bt.done)return f(J,Ge),mt&&mr(J,ct),Je;if(Ge===null){for(;!bt.done;ct++,bt=ie.next())bt=ye(J,bt.value,he),bt!==null&&(Y=w(bt,Y,ct),vt===null?Je=bt:vt.sibling=bt,vt=bt);return mt&&mr(J,ct),Je}for(Ge=m(Ge);!bt.done;ct++,bt=ie.next())bt=oe(Ge,J,ct,bt.value,he),bt!==null&&(o&&bt.alternate!==null&&Ge.delete(bt.key===null?ct:bt.key),Y=w(bt,Y,ct),vt===null?Je=bt:vt.sibling=bt,vt=bt);return o&&Ge.forEach(function(KB){return c(J,KB)}),mt&&mr(J,ct),Je}function Lt(J,Y,ie,he){if(typeof ie=="object"&&ie!==null&&ie.type===k&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var Je=ie.key;Y!==null;){if(Y.key===Je){if(Je=ie.type,Je===k){if(Y.tag===7){f(J,Y.sibling),he=x(Y,ie.props.children),he.return=J,J=he;break e}}else if(Y.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===B&&so(Je)===Y.type){f(J,Y.sibling),he=x(Y,ie.props),od(he,ie),he.return=J,J=he;break e}f(J,Y);break}else c(J,Y);Y=Y.sibling}ie.type===k?(he=to(ie.props.children,J.mode,he,ie.key),he.return=J,J=he):(he=Up(ie.type,ie.key,ie.props,null,J.mode,he),od(he,ie),he.return=J,J=he)}return M(J);case S:e:{for(Je=ie.key;Y!==null;){if(Y.key===Je)if(Y.tag===4&&Y.stateNode.containerInfo===ie.containerInfo&&Y.stateNode.implementation===ie.implementation){f(J,Y.sibling),he=x(Y,ie.children||[]),he.return=J,J=he;break e}else{f(J,Y);break}else c(J,Y);Y=Y.sibling}he=dy(ie,J.mode,he),he.return=J,J=he}return M(J);case B:return ie=so(ie),Lt(J,Y,ie,he)}if(se(ie))return ze(J,Y,ie,he);if(q(ie)){if(Je=q(ie),typeof Je!="function")throw Error(n(150));return ie=Je.call(ie),tt(J,Y,ie,he)}if(typeof ie.then=="function")return Lt(J,Y,$p(ie),he);if(ie.$$typeof===E)return Lt(J,Y,Wp(J,ie),he);Yp(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Y!==null&&Y.tag===6?(f(J,Y.sibling),he=x(Y,ie),he.return=J,J=he):(f(J,Y),he=cy(ie,J.mode,he),he.return=J,J=he),M(J)):f(J,Y)}return function(J,Y,ie,he){try{sd=0;var Je=Lt(J,Y,ie,he);return vl=null,Je}catch(Ge){if(Ge===_l||Ge===Hp)throw Ge;var vt=Bn(29,Ge,null,J.mode);return vt.lanes=he,vt.return=J,vt}finally{}}}var lo=LC(!0),RC=LC(!1),fs=!1;function ky(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sy(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function gs(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function hs(o,c,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var x=m.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),m.pending=c,c=Bp(o),_C(o,null,f),c}return Fp(o,m,c,f),Bp(o)}function ld(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Tw(o,f)}}function wy(o,c){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var x=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var M={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?x=w=M:w=w.next=M,f=f.next}while(f!==null);w===null?x=w=c:w=w.next=c}else x=w=c;f={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Cy=!1;function cd(){if(Cy){var o=yl;if(o!==null)throw o}}function dd(o,c,f,m){Cy=!1;var x=o.updateQueue;fs=!1;var w=x.firstBaseUpdate,M=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var G=L,ne=G.next;G.next=null,M===null?w=ne:M.next=ne,M=G;var ge=o.alternate;ge!==null&&(ge=ge.updateQueue,L=ge.lastBaseUpdate,L!==M&&(L===null?ge.firstBaseUpdate=ne:L.next=ne,ge.lastBaseUpdate=G))}if(w!==null){var ye=x.baseState;M=0,ge=ne=G=null,L=w;do{var re=L.lane&-536870913,oe=re!==L.lane;if(oe?(ft&re)===re:(m&re)===re){re!==0&&re===ml&&(Cy=!0),ge!==null&&(ge=ge.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ze=o,tt=L;re=c;var Lt=f;switch(tt.tag){case 1:if(ze=tt.payload,typeof ze=="function"){ye=ze.call(Lt,ye,re);break e}ye=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=tt.payload,re=typeof ze=="function"?ze.call(Lt,ye,re):ze,re==null)break e;ye=h({},ye,re);break e;case 2:fs=!0}}re=L.callback,re!==null&&(o.flags|=64,oe&&(o.flags|=8192),oe=x.callbacks,oe===null?x.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ge===null?(ne=ge=oe,G=ye):ge=ge.next=oe,M|=re;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;oe=L,L=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);ge===null&&(G=ye),x.baseState=G,x.firstBaseUpdate=ne,x.lastBaseUpdate=ge,w===null&&(x.shared.lanes=0),bs|=M,o.lanes=M,o.memoizedState=ye}}function DC(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function jC(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)DC(f[o],c)}var bl=j(null),Qp=j(0);function KC(o,c){o=Ar,R(Qp,o),R(bl,c),Ar=o|c.baseLanes}function Ty(){R(Qp,Ar),R(bl,bl.current)}function Ay(){Ar=Qp.current,Z(bl),Z(Qp)}var Un=j(null),la=null;function ms(o){var c=o.alternate;R(ri,ri.current&1),R(Un,o),la===null&&(c===null||bl.current!==null||c.memoizedState!==null)&&(la=o)}function Ey(o){R(ri,ri.current),R(Un,o),la===null&&(la=o)}function FC(o){o.tag===22?(R(ri,ri.current),R(Un,o),la===null&&(la=o)):ys()}function ys(){R(ri,ri.current),R(Un,Un.current)}function qn(o){Z(Un),la===o&&(la=null),Z(ri)}var ri=j(0);function Xp(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||L_(f)||R_(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var vr=0,lt=null,It=null,ci=null,Jp=!1,xl=!1,co=!1,Zp=0,ud=0,kl=null,E5=0;function Jt(){throw Error(n(321))}function Ny(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Fn(o[f],c[f]))return!1;return!0}function My(o,c,f,m,x,w){return vr=w,lt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,K.H=o===null||o.memoizedState===null?kT:Vy,co=!1,w=f(m,x),co=!1,xl&&(w=UC(c,f,m,x)),BC(o),w}function BC(o){K.H=gd;var c=It!==null&&It.next!==null;if(vr=0,ci=It=lt=null,Jp=!1,ud=0,kl=null,c)throw Error(n(300));o===null||di||(o=o.dependencies,o!==null&&zp(o)&&(di=!0))}function UC(o,c,f,m){lt=o;var x=0;do{if(xl&&(kl=null),ud=0,xl=!1,25<=x)throw Error(n(301));if(x+=1,ci=It=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}K.H=ST,w=c(f,m)}while(xl);return w}function N5(){var o=K.H,c=o.useState()[0];return c=typeof c.then=="function"?pd(c):c,o=o.useState()[0],(It!==null?It.memoizedState:null)!==o&&(lt.flags|=1024),c}function Py(){var o=Zp!==0;return Zp=0,o}function Iy(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function Oy(o){if(Jp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Jp=!1}vr=0,ci=It=lt=null,xl=!1,ud=Zp=0,kl=null}function gn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?lt.memoizedState=ci=o:ci=ci.next=o,ci}function si(){if(It===null){var o=lt.alternate;o=o!==null?o.memoizedState:null}else o=It.next;var c=ci===null?lt.memoizedState:ci.next;if(c!==null)ci=c,It=o;else{if(o===null)throw lt.alternate===null?Error(n(467)):Error(n(310));It=o,o={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},ci===null?lt.memoizedState=ci=o:ci=ci.next=o}return ci}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pd(o){var c=ud;return ud+=1,kl===null&&(kl=[]),o=PC(kl,o,c),c=lt,(ci===null?c.memoizedState:ci.next)===null&&(c=c.alternate,K.H=c===null||c.memoizedState===null?kT:Vy),o}function tf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return pd(o);if(o.$$typeof===E)return Hi(o)}throw Error(n(438,String(o)))}function Ly(o){var c=null,f=lt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=lt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=ef(),lt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),m=0;m<o;m++)f[m]=U;return c.index++,f}function br(o,c){return typeof c=="function"?c(o):c}function nf(o){var c=si();return Ry(c,It,o)}function Ry(o,c,f){var m=o.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=f;var x=o.baseQueue,w=m.pending;if(w!==null){if(x!==null){var M=x.next;x.next=w.next,w.next=M}c.baseQueue=x=w,m.pending=null}if(w=o.baseState,x===null)o.memoizedState=w;else{c=x.next;var L=M=null,G=null,ne=c,ge=!1;do{var ye=ne.lane&-536870913;if(ye!==ne.lane?(ft&ye)===ye:(vr&ye)===ye){var re=ne.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ye===ml&&(ge=!0);else if((vr&re)===re){ne=ne.next,re===ml&&(ge=!0);continue}else ye={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(L=G=ye,M=w):G=G.next=ye,lt.lanes|=re,bs|=re;ye=ne.action,co&&f(w,ye),w=ne.hasEagerState?ne.eagerState:f(w,ye)}else re={lane:ye,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(L=G=re,M=w):G=G.next=re,lt.lanes|=ye,bs|=ye;ne=ne.next}while(ne!==null&&ne!==c);if(G===null?M=w:G.next=L,!Fn(w,o.memoizedState)&&(di=!0,ge&&(f=yl,f!==null)))throw f;o.memoizedState=w,o.baseState=M,o.baseQueue=G,m.lastRenderedState=w}return x===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Dy(o){var c=si(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var m=f.dispatch,x=f.pending,w=c.memoizedState;if(x!==null){f.pending=null;var M=x=x.next;do w=o(w,M.action),M=M.next;while(M!==x);Fn(w,c.memoizedState)||(di=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),f.lastRenderedState=w}return[w,m]}function qC(o,c,f){var m=lt,x=si(),w=mt;if(w){if(f===void 0)throw Error(n(407));f=f()}else f=c();var M=!Fn((It||x).memoizedState,f);if(M&&(x.memoizedState=f,di=!0),x=x.queue,Fy(VC.bind(null,m,x,o),[o]),x.getSnapshot!==c||M||ci!==null&&ci.memoizedState.tag&1){if(m.flags|=2048,Sl(9,{destroy:void 0},WC.bind(null,m,x,f,c),null),Dt===null)throw Error(n(349));w||(vr&127)!==0||zC(m,c,f)}return f}function zC(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=lt.updateQueue,c===null?(c=ef(),lt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function WC(o,c,f,m){c.value=f,c.getSnapshot=m,HC(c)&&GC(o)}function VC(o,c,f){return f(function(){HC(c)&&GC(o)})}function HC(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Fn(o,f)}catch{return!0}}function GC(o){var c=eo(o,2);c!==null&&An(c,o,2)}function jy(o){var c=gn();if(typeof o=="function"){var f=o;if(o=f(),co){tn(!0);try{f()}finally{tn(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:o},c}function $C(o,c,f,m){return o.baseState=f,Ry(o,It,typeof m=="function"?m:br)}function M5(o,c,f,m,x){if(sf(o))throw Error(n(485));if(o=c.action,o!==null){var w={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};K.T!==null?f(!0):w.isTransition=!1,m(w),f=c.pending,f===null?(w.next=c.pending=w,YC(c,w)):(w.next=f.next,c.pending=f.next=w)}}function YC(o,c){var f=c.action,m=c.payload,x=o.state;if(c.isTransition){var w=K.T,M={};K.T=M;try{var L=f(x,m),G=K.S;G!==null&&G(M,L),QC(o,c,L)}catch(ne){Ky(o,c,ne)}finally{w!==null&&M.types!==null&&(w.types=M.types),K.T=w}}else try{w=f(x,m),QC(o,c,w)}catch(ne){Ky(o,c,ne)}}function QC(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){XC(o,c,m)},function(m){return Ky(o,c,m)}):XC(o,c,f)}function XC(o,c,f){c.status="fulfilled",c.value=f,JC(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,YC(o,f)))}function Ky(o,c,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,JC(c),c=c.next;while(c!==m)}o.action=null}function JC(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ZC(o,c){return c}function eT(o,c){if(mt){var f=Dt.formState;if(f!==null){e:{var m=lt;if(mt){if(Ut){t:{for(var x=Ut,w=oa;x.nodeType!==8;){if(!w){x=null;break t}if(x=ca(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){Ut=ca(x.nextSibling),m=x.data==="F!";break e}}us(m)}m=!1}m&&(c=f[0])}}return f=gn(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZC,lastRenderedState:c},f.queue=m,f=vT.bind(null,lt,m),m.dispatch=f,m=jy(!1),w=Wy.bind(null,lt,!1,m.queue),m=gn(),x={state:c,dispatch:null,action:o,pending:null},m.queue=x,f=M5.bind(null,lt,x,w,f),x.dispatch=f,m.memoizedState=o,[c,f,!1]}function tT(o){var c=si();return iT(c,It,o)}function iT(o,c,f){if(c=Ry(o,c,ZC)[0],o=nf(br)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=pd(c)}catch(M){throw M===_l?Hp:M}else m=c;c=si();var x=c.queue,w=x.dispatch;return f!==c.memoizedState&&(lt.flags|=2048,Sl(9,{destroy:void 0},P5.bind(null,x,f),null)),[m,w,o]}function P5(o,c){o.action=c}function nT(o){var c=si(),f=It;if(f!==null)return iT(c,f,o);si(),c=c.memoizedState,f=si();var m=f.queue.dispatch;return f.memoizedState=o,[c,m,!1]}function Sl(o,c,f,m){return o={tag:o,create:f,deps:m,inst:c,next:null},c=lt.updateQueue,c===null&&(c=ef(),lt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,c.lastEffect=o),o}function aT(){return si().memoizedState}function af(o,c,f,m){var x=gn();lt.flags|=o,x.memoizedState=Sl(1|c,{destroy:void 0},f,m===void 0?null:m)}function rf(o,c,f,m){var x=si();m=m===void 0?null:m;var w=x.memoizedState.inst;It!==null&&m!==null&&Ny(m,It.memoizedState.deps)?x.memoizedState=Sl(c,w,f,m):(lt.flags|=o,x.memoizedState=Sl(1|c,w,f,m))}function rT(o,c){af(8390656,8,o,c)}function Fy(o,c){rf(2048,8,o,c)}function I5(o){lt.flags|=4;var c=lt.updateQueue;if(c===null)c=ef(),lt.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function sT(o){var c=si().memoizedState;return I5({ref:c,nextImpl:o}),function(){if((wt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function oT(o,c){return rf(4,2,o,c)}function lT(o,c){return rf(4,4,o,c)}function cT(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function dT(o,c,f){f=f!=null?f.concat([o]):null,rf(4,4,cT.bind(null,c,o),f)}function By(){}function uT(o,c){var f=si();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&Ny(c,m[1])?m[0]:(f.memoizedState=[o,c],o)}function pT(o,c){var f=si();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&Ny(c,m[1]))return m[0];if(m=o(),co){tn(!0);try{o()}finally{tn(!1)}}return f.memoizedState=[m,c],m}function Uy(o,c,f){return f===void 0||(vr&1073741824)!==0&&(ft&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=fA(),lt.lanes|=o,bs|=o,f)}function fT(o,c,f,m){return Fn(f,c)?f:bl.current!==null?(o=Uy(o,f,m),Fn(o,c)||(di=!0),o):(vr&42)===0||(vr&1073741824)!==0&&(ft&261930)===0?(di=!0,o.memoizedState=f):(o=fA(),lt.lanes|=o,bs|=o,c)}function gT(o,c,f,m,x){var w=z.p;z.p=w!==0&&8>w?w:8;var M=K.T,L={};K.T=L,Wy(o,!1,c,f);try{var G=x(),ne=K.S;if(ne!==null&&ne(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ge=A5(G,m);fd(o,c,ge,Vn(o))}else fd(o,c,m,Vn(o))}catch(ye){fd(o,c,{then:function(){},status:"rejected",reason:ye},Vn())}finally{z.p=w,M!==null&&L.types!==null&&(M.types=L.types),K.T=M}}function O5(){}function qy(o,c,f,m){if(o.tag!==5)throw Error(n(476));var x=hT(o).queue;gT(o,x,c,Q,f===null?O5:function(){return mT(o),f(m)})}function hT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:Q},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function mT(o){var c=hT(o);c.next===null&&(c=o.alternate.memoizedState),fd(o,c.next.queue,{},Vn())}function zy(){return Hi(Md)}function yT(){return si().memoizedState}function _T(){return si().memoizedState}function L5(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Vn();o=gs(f);var m=hs(c,o,f);m!==null&&(An(m,c,f),ld(m,c,f)),c={cache:_y()},o.payload=c;return}c=c.return}}function R5(o,c,f){var m=Vn();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},sf(o)?bT(c,f):(f=oy(o,c,f,m),f!==null&&(An(f,o,m),xT(f,c,m)))}function vT(o,c,f){var m=Vn();fd(o,c,f,m)}function fd(o,c,f,m){var x={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(sf(o))bT(c,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var M=c.lastRenderedState,L=w(M,f);if(x.hasEagerState=!0,x.eagerState=L,Fn(L,M))return Fp(o,c,x,0),Dt===null&&Kp(),!1}catch{}finally{}if(f=oy(o,c,x,m),f!==null)return An(f,o,m),xT(f,c,m),!0}return!1}function Wy(o,c,f,m){if(m={lane:2,revertLane:k_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},sf(o)){if(c)throw Error(n(479))}else c=oy(o,f,m,2),c!==null&&An(c,o,2)}function sf(o){var c=o.alternate;return o===lt||c!==null&&c===lt}function bT(o,c){xl=Jp=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function xT(o,c,f){if((f&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Tw(o,f)}}var gd={readContext:Hi,use:tf,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};gd.useEffectEvent=Jt;var kT={readContext:Hi,use:tf,useCallback:function(o,c){return gn().memoizedState=[o,c===void 0?null:c],o},useContext:Hi,useEffect:rT,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,af(4194308,4,cT.bind(null,c,o),f)},useLayoutEffect:function(o,c){return af(4194308,4,o,c)},useInsertionEffect:function(o,c){af(4,2,o,c)},useMemo:function(o,c){var f=gn();c=c===void 0?null:c;var m=o();if(co){tn(!0);try{o()}finally{tn(!1)}}return f.memoizedState=[m,c],m},useReducer:function(o,c,f){var m=gn();if(f!==void 0){var x=f(c);if(co){tn(!0);try{f(c)}finally{tn(!1)}}}else x=c;return m.memoizedState=m.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},m.queue=o,o=o.dispatch=R5.bind(null,lt,o),[m.memoizedState,o]},useRef:function(o){var c=gn();return o={current:o},c.memoizedState=o},useState:function(o){o=jy(o);var c=o.queue,f=vT.bind(null,lt,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:By,useDeferredValue:function(o,c){var f=gn();return Uy(f,o,c)},useTransition:function(){var o=jy(!1);return o=gT.bind(null,lt,o.queue,!0,!1),gn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var m=lt,x=gn();if(mt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Dt===null)throw Error(n(349));(ft&127)!==0||zC(m,c,f)}x.memoizedState=f;var w={value:f,getSnapshot:c};return x.queue=w,rT(VC.bind(null,m,w,o),[o]),m.flags|=2048,Sl(9,{destroy:void 0},WC.bind(null,m,w,f,c),null),f},useId:function(){var o=gn(),c=Dt.identifierPrefix;if(mt){var f=Wa,m=za;f=(m&~(1<<32-Et(m)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Zp++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=E5++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:zy,useFormState:eT,useActionState:eT,useOptimistic:function(o){var c=gn();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Wy.bind(null,lt,!0,f),f.dispatch=c,[o,c]},useMemoCache:Ly,useCacheRefresh:function(){return gn().memoizedState=L5.bind(null,lt)},useEffectEvent:function(o){var c=gn(),f={impl:o};return c.memoizedState=f,function(){if((wt&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},Vy={readContext:Hi,use:tf,useCallback:uT,useContext:Hi,useEffect:Fy,useImperativeHandle:dT,useInsertionEffect:oT,useLayoutEffect:lT,useMemo:pT,useReducer:nf,useRef:aT,useState:function(){return nf(br)},useDebugValue:By,useDeferredValue:function(o,c){var f=si();return fT(f,It.memoizedState,o,c)},useTransition:function(){var o=nf(br)[0],c=si().memoizedState;return[typeof o=="boolean"?o:pd(o),c]},useSyncExternalStore:qC,useId:yT,useHostTransitionStatus:zy,useFormState:tT,useActionState:tT,useOptimistic:function(o,c){var f=si();return $C(f,It,o,c)},useMemoCache:Ly,useCacheRefresh:_T};Vy.useEffectEvent=sT;var ST={readContext:Hi,use:tf,useCallback:uT,useContext:Hi,useEffect:Fy,useImperativeHandle:dT,useInsertionEffect:oT,useLayoutEffect:lT,useMemo:pT,useReducer:Dy,useRef:aT,useState:function(){return Dy(br)},useDebugValue:By,useDeferredValue:function(o,c){var f=si();return It===null?Uy(f,o,c):fT(f,It.memoizedState,o,c)},useTransition:function(){var o=Dy(br)[0],c=si().memoizedState;return[typeof o=="boolean"?o:pd(o),c]},useSyncExternalStore:qC,useId:yT,useHostTransitionStatus:zy,useFormState:nT,useActionState:nT,useOptimistic:function(o,c){var f=si();return It!==null?$C(f,It,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Ly,useCacheRefresh:_T};ST.useEffectEvent=sT;function Hy(o,c,f,m){c=o.memoizedState,f=f(m,c),f=f==null?c:h({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Gy={enqueueSetState:function(o,c,f){o=o._reactInternals;var m=Vn(),x=gs(m);x.payload=c,f!=null&&(x.callback=f),c=hs(o,x,m),c!==null&&(An(c,o,m),ld(c,o,m))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var m=Vn(),x=gs(m);x.tag=1,x.payload=c,f!=null&&(x.callback=f),c=hs(o,x,m),c!==null&&(An(c,o,m),ld(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Vn(),m=gs(f);m.tag=2,c!=null&&(m.callback=c),c=hs(o,m,f),c!==null&&(An(c,o,f),ld(c,o,f))}};function wT(o,c,f,m,x,w,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,M):c.prototype&&c.prototype.isPureReactComponent?!ed(f,m)||!ed(x,w):!0}function CT(o,c,f,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==o&&Gy.enqueueReplaceState(c,c.state,null)}function uo(o,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(o=o.defaultProps){f===c&&(f=h({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}function TT(o){jp(o)}function AT(o){console.error(o)}function ET(o){jp(o)}function of(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function NT(o,c,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function $y(o,c,f){return f=gs(f),f.tag=3,f.payload={element:null},f.callback=function(){of(o,c)},f}function MT(o){return o=gs(o),o.tag=3,o}function PT(o,c,f,m){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var w=m.value;o.payload=function(){return x(w)},o.callback=function(){NT(c,f,m)}}var M=f.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){NT(c,f,m),typeof x!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function D5(o,c,f,m,x){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&hl(c,f,x,!0),f=Un.current,f!==null){switch(f.tag){case 31:case 13:return la===null?vf():f.alternate===null&&Zt===0&&(Zt=3),f.flags&=-257,f.flags|=65536,f.lanes=x,m===Gp?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),v_(o,m,x)),!1;case 22:return f.flags|=65536,m===Gp?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),v_(o,m,x)),!1}throw Error(n(435,f.tag))}return v_(o,m,x),vf(),!1}if(mt)return c=Un.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,m!==fy&&(o=Error(n(422),{cause:m}),nd(aa(o,f)))):(m!==fy&&(c=Error(n(423),{cause:m}),nd(aa(c,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,m=aa(m,f),x=$y(o.stateNode,m,x),wy(o,x),Zt!==4&&(Zt=2)),!1;var w=Error(n(520),{cause:m});if(w=aa(w,f),kd===null?kd=[w]:kd.push(w),Zt!==4&&(Zt=2),c===null)return!0;m=aa(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=$y(f.stateNode,m,o),wy(f,o),!1;case 1:if(c=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xs===null||!xs.has(w))))return f.flags|=65536,x&=-x,f.lanes|=x,x=MT(x),PT(x,o,f,m),wy(f,x),!1}f=f.return}while(f!==null);return!1}var Yy=Error(n(461)),di=!1;function Gi(o,c,f,m){c.child=o===null?RC(c,null,f,m):lo(c,o.child,f,m)}function IT(o,c,f,m,x){f=f.render;var w=c.ref;if("ref"in m){var M={};for(var L in m)L!=="ref"&&(M[L]=m[L])}else M=m;return ao(c),m=My(o,c,f,M,w,x),L=Py(),o!==null&&!di?(Iy(o,c,x),xr(o,c,x)):(mt&&L&&uy(c),c.flags|=1,Gi(o,c,m,x),c.child)}function OT(o,c,f,m,x){if(o===null){var w=f.type;return typeof w=="function"&&!ly(w)&&w.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=w,LT(o,c,w,m,x)):(o=Up(f.type,null,m,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(w=o.child,!n_(o,x)){var M=w.memoizedProps;if(f=f.compare,f=f!==null?f:ed,f(M,m)&&o.ref===c.ref)return xr(o,c,x)}return c.flags|=1,o=hr(w,m),o.ref=c.ref,o.return=c,c.child=o}function LT(o,c,f,m,x){if(o!==null){var w=o.memoizedProps;if(ed(w,m)&&o.ref===c.ref)if(di=!1,c.pendingProps=m=w,n_(o,x))(o.flags&131072)!==0&&(di=!0);else return c.lanes=o.lanes,xr(o,c,x)}return Qy(o,c,f,m,x)}function RT(o,c,f,m){var x=m.children,w=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,o!==null){for(m=c.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~w}else m=0,c.child=null;return DT(o,c,w,f,m)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Vp(c,w!==null?w.cachePool:null),w!==null?KC(c,w):Ty(),FC(c);else return m=c.lanes=536870912,DT(o,c,w!==null?w.baseLanes|f:f,f,m)}else w!==null?(Vp(c,w.cachePool),KC(c,w),ys(),c.memoizedState=null):(o!==null&&Vp(c,null),Ty(),ys());return Gi(o,c,x,f),c.child}function hd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function DT(o,c,f,m,x){var w=by();return w=w===null?null:{parent:li._currentValue,pool:w},c.memoizedState={baseLanes:f,cachePool:w},o!==null&&Vp(c,null),Ty(),FC(c),o!==null&&hl(o,c,m,!0),c.childLanes=x,null}function lf(o,c){return c=df({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function jT(o,c,f){return lo(c,o.child,null,f),o=lf(c,c.pendingProps),o.flags|=2,qn(c),c.memoizedState=null,o}function j5(o,c,f){var m=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(mt){if(m.mode==="hidden")return o=lf(c,m),c.lanes=536870912,hd(null,o);if(Ey(c),(o=Ut)?(o=YA(o,oa),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:cs!==null?{id:za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},f=bC(o),f.return=c,c.child=f,Vi=c,Ut=null)):o=null,o===null)throw us(c);return c.lanes=536870912,null}return lf(c,m)}var w=o.memoizedState;if(w!==null){var M=w.dehydrated;if(Ey(c),x)if(c.flags&256)c.flags&=-257,c=jT(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(di||hl(o,c,f,!1),x=(f&o.childLanes)!==0,di||x){if(m=Dt,m!==null&&(M=Aw(m,f),M!==0&&M!==w.retryLane))throw w.retryLane=M,eo(o,M),An(m,o,M),Yy;vf(),c=jT(o,c,f)}else o=w.treeContext,Ut=ca(M.nextSibling),Vi=c,mt=!0,ds=null,oa=!1,o!==null&&SC(c,o),c=lf(c,m),c.flags|=4096;return c}return o=hr(o.child,{mode:m.mode,children:m.children}),o.ref=c.ref,c.child=o,o.return=c,o}function cf(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function Qy(o,c,f,m,x){return ao(c),f=My(o,c,f,m,void 0,x),m=Py(),o!==null&&!di?(Iy(o,c,x),xr(o,c,x)):(mt&&m&&uy(c),c.flags|=1,Gi(o,c,f,x),c.child)}function KT(o,c,f,m,x,w){return ao(c),c.updateQueue=null,f=UC(c,m,f,x),BC(o),m=Py(),o!==null&&!di?(Iy(o,c,w),xr(o,c,w)):(mt&&m&&uy(c),c.flags|=1,Gi(o,c,f,w),c.child)}function FT(o,c,f,m,x){if(ao(c),c.stateNode===null){var w=ul,M=f.contextType;typeof M=="object"&&M!==null&&(w=Hi(M)),w=new f(m,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Gy,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=m,w.state=c.memoizedState,w.refs={},ky(c),M=f.contextType,w.context=typeof M=="object"&&M!==null?Hi(M):ul,w.state=c.memoizedState,M=f.getDerivedStateFromProps,typeof M=="function"&&(Hy(c,f,M,m),w.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&Gy.enqueueReplaceState(w,w.state,null),dd(c,m,w,x),cd(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){w=c.stateNode;var L=c.memoizedProps,G=uo(f,L);w.props=G;var ne=w.context,ge=f.contextType;M=ul,typeof ge=="object"&&ge!==null&&(M=Hi(ge));var ye=f.getDerivedStateFromProps;ge=typeof ye=="function"||typeof w.getSnapshotBeforeUpdate=="function",L=c.pendingProps!==L,ge||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L||ne!==M)&&CT(c,w,m,M),fs=!1;var re=c.memoizedState;w.state=re,dd(c,m,w,x),cd(),ne=c.memoizedState,L||re!==ne||fs?(typeof ye=="function"&&(Hy(c,f,ye,m),ne=c.memoizedState),(G=fs||wT(c,f,G,m,re,ne,M))?(ge||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ne),w.props=m,w.state=ne,w.context=M,m=G):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{w=c.stateNode,Sy(o,c),M=c.memoizedProps,ge=uo(f,M),w.props=ge,ye=c.pendingProps,re=w.context,ne=f.contextType,G=ul,typeof ne=="object"&&ne!==null&&(G=Hi(ne)),L=f.getDerivedStateFromProps,(ne=typeof L=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==ye||re!==G)&&CT(c,w,m,G),fs=!1,re=c.memoizedState,w.state=re,dd(c,m,w,x),cd();var oe=c.memoizedState;M!==ye||re!==oe||fs||o!==null&&o.dependencies!==null&&zp(o.dependencies)?(typeof L=="function"&&(Hy(c,f,L,m),oe=c.memoizedState),(ge=fs||wT(c,f,ge,m,re,oe,G)||o!==null&&o.dependencies!==null&&zp(o.dependencies))?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,oe,G),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,oe,G)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&re===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&re===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=oe),w.props=m,w.state=oe,w.context=G,m=ge):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&re===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&re===o.memoizedState||(c.flags|=1024),m=!1)}return w=m,cf(o,c),m=(c.flags&128)!==0,w||m?(w=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,o!==null&&m?(c.child=lo(c,o.child,null,x),c.child=lo(c,null,f,x)):Gi(o,c,f,x),c.memoizedState=w.state,o=c.child):o=xr(o,c,x),o}function BT(o,c,f,m){return io(),c.flags|=256,Gi(o,c,f,m),c.child}var Xy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jy(o){return{baseLanes:o,cachePool:NC()}}function Zy(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Wn),o}function UT(o,c,f){var m=c.pendingProps,x=!1,w=(c.flags&128)!==0,M;if((M=w)||(M=o!==null&&o.memoizedState===null?!1:(ri.current&2)!==0),M&&(x=!0,c.flags&=-129),M=(c.flags&32)!==0,c.flags&=-33,o===null){if(mt){if(x?ms(c):ys(),(o=Ut)?(o=YA(o,oa),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:cs!==null?{id:za,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},f=bC(o),f.return=c,c.child=f,Vi=c,Ut=null)):o=null,o===null)throw us(c);return R_(o)?c.lanes=32:c.lanes=536870912,null}var L=m.children;return m=m.fallback,x?(ys(),x=c.mode,L=df({mode:"hidden",children:L},x),m=to(m,x,f,null),L.return=c,m.return=c,L.sibling=m,c.child=L,m=c.child,m.memoizedState=Jy(f),m.childLanes=Zy(o,M,f),c.memoizedState=Xy,hd(null,m)):(ms(c),e_(c,L))}var G=o.memoizedState;if(G!==null&&(L=G.dehydrated,L!==null)){if(w)c.flags&256?(ms(c),c.flags&=-257,c=t_(o,c,f)):c.memoizedState!==null?(ys(),c.child=o.child,c.flags|=128,c=null):(ys(),L=m.fallback,x=c.mode,m=df({mode:"visible",children:m.children},x),L=to(L,x,f,null),L.flags|=2,m.return=c,L.return=c,m.sibling=L,c.child=m,lo(c,o.child,null,f),m=c.child,m.memoizedState=Jy(f),m.childLanes=Zy(o,M,f),c.memoizedState=Xy,c=hd(null,m));else if(ms(c),R_(L)){if(M=L.nextSibling&&L.nextSibling.dataset,M)var ne=M.dgst;M=ne,m=Error(n(419)),m.stack="",m.digest=M,nd({value:m,source:null,stack:null}),c=t_(o,c,f)}else if(di||hl(o,c,f,!1),M=(f&o.childLanes)!==0,di||M){if(M=Dt,M!==null&&(m=Aw(M,f),m!==0&&m!==G.retryLane))throw G.retryLane=m,eo(o,m),An(M,o,m),Yy;L_(L)||vf(),c=t_(o,c,f)}else L_(L)?(c.flags|=192,c.child=o.child,c=null):(o=G.treeContext,Ut=ca(L.nextSibling),Vi=c,mt=!0,ds=null,oa=!1,o!==null&&SC(c,o),c=e_(c,m.children),c.flags|=4096);return c}return x?(ys(),L=m.fallback,x=c.mode,G=o.child,ne=G.sibling,m=hr(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ne!==null?L=hr(ne,L):(L=to(L,x,f,null),L.flags|=2),L.return=c,m.return=c,m.sibling=L,c.child=m,hd(null,m),m=c.child,L=o.child.memoizedState,L===null?L=Jy(f):(x=L.cachePool,x!==null?(G=li._currentValue,x=x.parent!==G?{parent:G,pool:G}:x):x=NC(),L={baseLanes:L.baseLanes|f,cachePool:x}),m.memoizedState=L,m.childLanes=Zy(o,M,f),c.memoizedState=Xy,hd(o.child,m)):(ms(c),f=o.child,o=f.sibling,f=hr(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,o!==null&&(M=c.deletions,M===null?(c.deletions=[o],c.flags|=16):M.push(o)),c.child=f,c.memoizedState=null,f)}function e_(o,c){return c=df({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function df(o,c){return o=Bn(22,o,null,c),o.lanes=0,o}function t_(o,c,f){return lo(c,o.child,null,f),o=e_(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function qT(o,c,f){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),my(o.return,c,f)}function i_(o,c,f,m,x,w){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:x,treeForkCount:w}:(M.isBackwards=c,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=f,M.tailMode=x,M.treeForkCount=w)}function zT(o,c,f){var m=c.pendingProps,x=m.revealOrder,w=m.tail;m=m.children;var M=ri.current,L=(M&2)!==0;if(L?(M=M&1|2,c.flags|=128):M&=1,R(ri,M),Gi(o,c,m,f),m=mt?id:0,!L&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&qT(o,f,c);else if(o.tag===19)qT(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(f=c.child,x=null;f!==null;)o=f.alternate,o!==null&&Xp(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=c.child,c.child=null):(x=f.sibling,f.sibling=null),i_(c,!1,x,f,w,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&Xp(o)===null){c.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}i_(c,!0,f,null,w,m);break;case"together":i_(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function xr(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),bs|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(hl(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=hr(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=hr(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function n_(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&zp(o)))}function K5(o,c,f){switch(c.tag){case 3:ee(c,c.stateNode.containerInfo),ps(c,li,o.memoizedState.cache),io();break;case 27:case 5:Be(c);break;case 4:ee(c,c.stateNode.containerInfo);break;case 10:ps(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Ey(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(ms(c),c.flags|=128,null):(f&c.child.childLanes)!==0?UT(o,c,f):(ms(c),o=xr(o,c,f),o!==null?o.sibling:null);ms(c);break;case 19:var x=(o.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(hl(o,c,f,!1),m=(f&c.childLanes)!==0),x){if(m)return zT(o,c,f);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),R(ri,ri.current),m)break;return null;case 22:return c.lanes=0,RT(o,c,f,c.pendingProps);case 24:ps(c,li,o.memoizedState.cache)}return xr(o,c,f)}function WT(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)di=!0;else{if(!n_(o,f)&&(c.flags&128)===0)return di=!1,K5(o,c,f);di=(o.flags&131072)!==0}else di=!1,mt&&(c.flags&1048576)!==0&&kC(c,id,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(o=so(c.elementType),c.type=o,typeof o=="function")ly(o)?(m=uo(o,m),c.tag=1,c=FT(null,c,o,m,f)):(c.tag=0,c=Qy(null,c,o,m,f));else{if(o!=null){var x=o.$$typeof;if(x===O){c.tag=11,c=IT(null,c,o,m,f);break e}else if(x===D){c.tag=14,c=OT(null,c,o,m,f);break e}}throw c=X(o)||o,Error(n(306,c,""))}}return c;case 0:return Qy(o,c,c.type,c.pendingProps,f);case 1:return m=c.type,x=uo(m,c.pendingProps),FT(o,c,m,x,f);case 3:e:{if(ee(c,c.stateNode.containerInfo),o===null)throw Error(n(387));m=c.pendingProps;var w=c.memoizedState;x=w.element,Sy(o,c),dd(c,m,null,f);var M=c.memoizedState;if(m=M.cache,ps(c,li,m),m!==w.cache&&yy(c,[li],f,!0),cd(),m=M.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:M.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=BT(o,c,m,f);break e}else if(m!==x){x=aa(Error(n(424)),c),nd(x),c=BT(o,c,m,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ut=ca(o.firstChild),Vi=c,mt=!0,ds=null,oa=!0,f=RC(c,null,m,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(io(),m===x){c=xr(o,c,f);break e}Gi(o,c,m,f)}c=c.child}return c;case 26:return cf(o,c),o===null?(f=t1(c.type,null,c.pendingProps,null))?c.memoizedState=f:mt||(f=c.type,o=c.pendingProps,m=Tf(le.current).createElement(f),m[Wi]=c,m[xn]=o,$i(m,f,o),Oi(m),c.stateNode=m):c.memoizedState=t1(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Be(c),o===null&&mt&&(m=c.stateNode=JA(c.type,c.pendingProps,le.current),Vi=c,oa=!0,x=Ut,Cs(c.type)?(D_=x,Ut=ca(m.firstChild)):Ut=x),Gi(o,c,c.pendingProps.children,f),cf(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&mt&&((x=m=Ut)&&(m=gB(m,c.type,c.pendingProps,oa),m!==null?(c.stateNode=m,Vi=c,Ut=ca(m.firstChild),oa=!1,x=!0):x=!1),x||us(c)),Be(c),x=c.type,w=c.pendingProps,M=o!==null?o.memoizedProps:null,m=w.children,P_(x,w)?m=null:M!==null&&P_(x,M)&&(c.flags|=32),c.memoizedState!==null&&(x=My(o,c,N5,null,null,f),Md._currentValue=x),cf(o,c),Gi(o,c,m,f),c.child;case 6:return o===null&&mt&&((o=f=Ut)&&(f=hB(f,c.pendingProps,oa),f!==null?(c.stateNode=f,Vi=c,Ut=null,o=!0):o=!1),o||us(c)),null;case 13:return UT(o,c,f);case 4:return ee(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=lo(c,null,m,f):Gi(o,c,m,f),c.child;case 11:return IT(o,c,c.type,c.pendingProps,f);case 7:return Gi(o,c,c.pendingProps,f),c.child;case 8:return Gi(o,c,c.pendingProps.children,f),c.child;case 12:return Gi(o,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,ps(c,c.type,m.value),Gi(o,c,m.children,f),c.child;case 9:return x=c.type._context,m=c.pendingProps.children,ao(c),x=Hi(x),m=m(x),c.flags|=1,Gi(o,c,m,f),c.child;case 14:return OT(o,c,c.type,c.pendingProps,f);case 15:return LT(o,c,c.type,c.pendingProps,f);case 19:return zT(o,c,f);case 31:return j5(o,c,f);case 22:return RT(o,c,f,c.pendingProps);case 24:return ao(c),m=Hi(li),o===null?(x=by(),x===null&&(x=Dt,w=_y(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=f),x=w),c.memoizedState={parent:m,cache:x},ky(c),ps(c,li,x)):((o.lanes&f)!==0&&(Sy(o,c),dd(c,null,null,f),cd()),x=o.memoizedState,w=c.memoizedState,x.parent!==m?(x={parent:m,cache:m},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),ps(c,li,m)):(m=w.cache,ps(c,li,m),m!==x.cache&&yy(c,[li],f,!0))),Gi(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function kr(o){o.flags|=4}function a_(o,c,f,m,x){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(yA())o.flags|=8192;else throw oo=Gp,xy}else o.flags&=-16777217}function VT(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!s1(c))if(yA())o.flags|=8192;else throw oo=Gp,xy}function uf(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Tp():536870912,o.lanes|=c,Al|=c)}function md(o,c){if(!mt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function qt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(c)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=f,c}function F5(o,c,f){var m=c.pendingProps;switch(py(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(c),null;case 1:return qt(c),null;case 3:return f=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),_r(li),$(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(gl(c)?kr(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,gy())),qt(c),null;case 26:var x=c.type,w=c.memoizedState;return o===null?(kr(c),w!==null?(qt(c),VT(c,w)):(qt(c),a_(c,x,null,m,f))):w?w!==o.memoizedState?(kr(c),qt(c),VT(c,w)):(qt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==m&&kr(c),qt(c),a_(c,x,o,m,f)),null;case 27:if(Fe(c),f=le.current,x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&kr(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return qt(c),null}o=fe.current,gl(c)?wC(c):(o=JA(x,m,f),c.stateNode=o,kr(c))}return qt(c),null;case 5:if(Fe(c),x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&kr(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return qt(c),null}if(w=fe.current,gl(c))wC(c);else{var M=Tf(le.current);switch(w){case 1:w=M.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:w=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":w=M.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":w=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":w=M.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?M.createElement("select",{is:m.is}):M.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?M.createElement(x,{is:m.is}):M.createElement(x)}}w[Wi]=c,w[xn]=m;e:for(M=c.child;M!==null;){if(M.tag===5||M.tag===6)w.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===c)break e;for(;M.sibling===null;){if(M.return===null||M.return===c)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}c.stateNode=w;e:switch($i(w,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&kr(c)}}return qt(c),a_(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&kr(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(n(166));if(o=le.current,gl(c)){if(o=c.stateNode,f=c.memoizedProps,m=null,x=Vi,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}o[Wi]=c,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||UA(o.nodeValue,f)),o||us(c,!0)}else o=Tf(o).createTextNode(m),o[Wi]=c,c.stateNode=o}return qt(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(m=gl(c),f!==null){if(o===null){if(!m)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Wi]=c}else io(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qt(c),o=!1}else f=gy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(qn(c),c):(qn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return qt(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=gl(c),m!==null&&m.dehydrated!==null){if(o===null){if(!x)throw Error(n(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Wi]=c}else io(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qt(c),x=!1}else x=gy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(qn(c),c):(qn(c),null)}return qn(c),(c.flags&128)!==0?(c.lanes=f,c):(f=m!==null,o=o!==null&&o.memoizedState!==null,f&&(m=c.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==x&&(m.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),uf(c,c.updateQueue),qt(c),null);case 4:return $(),o===null&&T_(c.stateNode.containerInfo),qt(c),null;case 10:return _r(c.type),qt(c),null;case 19:if(Z(ri),m=c.memoizedState,m===null)return qt(c),null;if(x=(c.flags&128)!==0,w=m.rendering,w===null)if(x)md(m,!1);else{if(Zt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(w=Xp(o),w!==null){for(c.flags|=128,md(m,!1),o=w.updateQueue,c.updateQueue=o,uf(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)vC(f,o),f=f.sibling;return R(ri,ri.current&1|2),mt&&mr(c,m.treeForkCount),c.child}o=o.sibling}m.tail!==null&&Ze()>mf&&(c.flags|=128,x=!0,md(m,!1),c.lanes=4194304)}else{if(!x)if(o=Xp(w),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,uf(c,o),md(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!mt)return qt(c),null}else 2*Ze()-m.renderingStartTime>mf&&f!==536870912&&(c.flags|=128,x=!0,md(m,!1),c.lanes=4194304);m.isBackwards?(w.sibling=c.child,c.child=w):(o=m.last,o!==null?o.sibling=w:c.child=w,m.last=w)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Ze(),o.sibling=null,f=ri.current,R(ri,x?f&1|2:f&1),mt&&mr(c,m.treeForkCount),o):(qt(c),null);case 22:case 23:return qn(c),Ay(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(qt(c),c.subtreeFlags&6&&(c.flags|=8192)):qt(c),f=c.updateQueue,f!==null&&uf(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),o!==null&&Z(ro),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),_r(li),qt(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function B5(o,c){switch(py(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return _r(li),$(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Fe(c),null;case 31:if(c.memoizedState!==null){if(qn(c),c.alternate===null)throw Error(n(340));io()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(qn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));io()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Z(ri),null;case 4:return $(),null;case 10:return _r(c.type),null;case 22:case 23:return qn(c),Ay(),o!==null&&Z(ro),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return _r(li),null;case 25:return null;default:return null}}function HT(o,c){switch(py(c),c.tag){case 3:_r(li),$();break;case 26:case 27:case 5:Fe(c);break;case 4:$();break;case 31:c.memoizedState!==null&&qn(c);break;case 13:qn(c);break;case 19:Z(ri);break;case 10:_r(c.type);break;case 22:case 23:qn(c),Ay(),o!==null&&Z(ro);break;case 24:_r(li)}}function yd(o,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var x=m.next;f=x;do{if((f.tag&o)===o){m=void 0;var w=f.create,M=f.inst;m=w(),M.destroy=m}f=f.next}while(f!==x)}}catch(L){Mt(c,c.return,L)}}function _s(o,c,f){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var w=x.next;m=w;do{if((m.tag&o)===o){var M=m.inst,L=M.destroy;if(L!==void 0){M.destroy=void 0,x=c;var G=f,ne=L;try{ne()}catch(ge){Mt(x,G,ge)}}}m=m.next}while(m!==w)}}catch(ge){Mt(c,c.return,ge)}}function GT(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{jC(c,f)}catch(m){Mt(o,o.return,m)}}}function $T(o,c,f){f.props=uo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){Mt(o,c,m)}}function _d(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(x){Mt(o,c,x)}}function Va(o,c){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(x){Mt(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Mt(o,c,x)}else f.current=null}function YT(o){var c=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(x){Mt(o,o.return,x)}}function r_(o,c,f){try{var m=o.stateNode;lB(m,o.type,f,c),m[xn]=c}catch(x){Mt(o,o.return,x)}}function QT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Cs(o.type)||o.tag===4}function s_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||QT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Cs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function o_(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=fr));else if(m!==4&&(m===27&&Cs(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(o_(o,c,f),o=o.sibling;o!==null;)o_(o,c,f),o=o.sibling}function pf(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(m!==4&&(m===27&&Cs(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(pf(o,c,f),o=o.sibling;o!==null;)pf(o,c,f),o=o.sibling}function XT(o){var c=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);$i(c,m,f),c[Wi]=o,c[xn]=f}catch(w){Mt(o,o.return,w)}}var Sr=!1,ui=!1,l_=!1,JT=typeof WeakSet=="function"?WeakSet:Set,Li=null;function U5(o,c){if(o=o.containerInfo,N_=Of,o=dC(o),ty(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var M=0,L=-1,G=-1,ne=0,ge=0,ye=o,re=null;t:for(;;){for(var oe;ye!==f||x!==0&&ye.nodeType!==3||(L=M+x),ye!==w||m!==0&&ye.nodeType!==3||(G=M+m),ye.nodeType===3&&(M+=ye.nodeValue.length),(oe=ye.firstChild)!==null;)re=ye,ye=oe;for(;;){if(ye===o)break t;if(re===f&&++ne===x&&(L=M),re===w&&++ge===m&&(G=M),(oe=ye.nextSibling)!==null)break;ye=re,re=ye.parentNode}ye=oe}f=L===-1||G===-1?null:{start:L,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(M_={focusedElem:o,selectionRange:f},Of=!1,Li=c;Li!==null;)if(c=Li,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Li=o;else for(;Li!==null;){switch(c=Li,w=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)x=o[f],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,f=c,x=w.memoizedProps,w=w.memoizedState,m=f.stateNode;try{var ze=uo(f.type,x);o=m.getSnapshotBeforeUpdate(ze,w),m.__reactInternalSnapshotBeforeUpdate=o}catch(tt){Mt(f,f.return,tt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)O_(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":O_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Li=o;break}Li=c.return}}function ZT(o,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Cr(o,f),m&4&&yd(5,f);break;case 1:if(Cr(o,f),m&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(M){Mt(f,f.return,M)}else{var x=uo(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(M){Mt(f,f.return,M)}}m&64&&GT(f),m&512&&_d(f,f.return);break;case 3:if(Cr(o,f),m&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{jC(o,c)}catch(M){Mt(f,f.return,M)}}break;case 27:c===null&&m&4&&XT(f);case 26:case 5:Cr(o,f),c===null&&m&4&&YT(f),m&512&&_d(f,f.return);break;case 12:Cr(o,f);break;case 31:Cr(o,f),m&4&&iA(o,f);break;case 13:Cr(o,f),m&4&&nA(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Q5.bind(null,f),mB(o,f))));break;case 22:if(m=f.memoizedState!==null||Sr,!m){c=c!==null&&c.memoizedState!==null||ui,x=Sr;var w=ui;Sr=m,(ui=c)&&!w?Tr(o,f,(f.subtreeFlags&8772)!==0):Cr(o,f),Sr=x,ui=w}break;case 30:break;default:Cr(o,f)}}function eA(o){var c=o.alternate;c!==null&&(o.alternate=null,eA(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Km(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Wt=null,Sn=!1;function wr(o,c,f){for(f=f.child;f!==null;)tA(o,c,f),f=f.sibling}function tA(o,c,f){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Qt,f)}catch{}switch(f.tag){case 26:ui||Va(f,c),wr(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:ui||Va(f,c);var m=Wt,x=Sn;Cs(f.type)&&(Wt=f.stateNode,Sn=!1),wr(o,c,f),Ad(f.stateNode),Wt=m,Sn=x;break;case 5:ui||Va(f,c);case 6:if(m=Wt,x=Sn,Wt=null,wr(o,c,f),Wt=m,Sn=x,Wt!==null)if(Sn)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(f.stateNode)}catch(w){Mt(f,c,w)}else try{Wt.removeChild(f.stateNode)}catch(w){Mt(f,c,w)}break;case 18:Wt!==null&&(Sn?(o=Wt,GA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Rl(o)):GA(Wt,f.stateNode));break;case 4:m=Wt,x=Sn,Wt=f.stateNode.containerInfo,Sn=!0,wr(o,c,f),Wt=m,Sn=x;break;case 0:case 11:case 14:case 15:_s(2,f,c),ui||_s(4,f,c),wr(o,c,f);break;case 1:ui||(Va(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&$T(f,c,m)),wr(o,c,f);break;case 21:wr(o,c,f);break;case 22:ui=(m=ui)||f.memoizedState!==null,wr(o,c,f),ui=m;break;default:wr(o,c,f)}}function iA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Rl(o)}catch(f){Mt(c,c.return,f)}}}function nA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Rl(o)}catch(f){Mt(c,c.return,f)}}function q5(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new JT),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new JT),c;default:throw Error(n(435,o.tag))}}function ff(o,c){var f=q5(o);c.forEach(function(m){if(!f.has(m)){f.add(m);var x=X5.bind(null,o,m);m.then(x,x)}})}function wn(o,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var x=f[m],w=o,M=c,L=M;e:for(;L!==null;){switch(L.tag){case 27:if(Cs(L.type)){Wt=L.stateNode,Sn=!1;break e}break;case 5:Wt=L.stateNode,Sn=!1;break e;case 3:case 4:Wt=L.stateNode.containerInfo,Sn=!0;break e}L=L.return}if(Wt===null)throw Error(n(160));tA(w,M,x),Wt=null,Sn=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)aA(c,o),c=c.sibling}var wa=null;function aA(o,c){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:wn(c,o),Cn(o),m&4&&(_s(3,o,o.return),yd(3,o),_s(5,o,o.return));break;case 1:wn(c,o),Cn(o),m&512&&(ui||f===null||Va(f,f.return)),m&64&&Sr&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var x=wa;if(wn(c,o),Cn(o),m&512&&(ui||f===null||Va(f,f.return)),m&4){var w=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":w=x.getElementsByTagName("title")[0],(!w||w[Vc]||w[Wi]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(m),x.head.insertBefore(w,x.querySelector("head > title"))),$i(w,m,f),w[Wi]=o,Oi(w),m=w;break e;case"link":var M=a1("link","href",x).get(m+(f.href||""));if(M){for(var L=0;L<M.length;L++)if(w=M[L],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){M.splice(L,1);break t}}w=x.createElement(m),$i(w,m,f),x.head.appendChild(w);break;case"meta":if(M=a1("meta","content",x).get(m+(f.content||""))){for(L=0;L<M.length;L++)if(w=M[L],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){M.splice(L,1);break t}}w=x.createElement(m),$i(w,m,f),x.head.appendChild(w);break;default:throw Error(n(468,m))}w[Wi]=o,Oi(w),m=w}o.stateNode=m}else r1(x,o.type,o.stateNode);else o.stateNode=n1(x,m,o.memoizedProps);else w!==m?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,m===null?r1(x,o.type,o.stateNode):n1(x,m,o.memoizedProps)):m===null&&o.stateNode!==null&&r_(o,o.memoizedProps,f.memoizedProps)}break;case 27:wn(c,o),Cn(o),m&512&&(ui||f===null||Va(f,f.return)),f!==null&&m&4&&r_(o,o.memoizedProps,f.memoizedProps);break;case 5:if(wn(c,o),Cn(o),m&512&&(ui||f===null||Va(f,f.return)),o.flags&32){x=o.stateNode;try{al(x,"")}catch(ze){Mt(o,o.return,ze)}}m&4&&o.stateNode!=null&&(x=o.memoizedProps,r_(o,x,f!==null?f.memoizedProps:x)),m&1024&&(l_=!0);break;case 6:if(wn(c,o),Cn(o),m&4){if(o.stateNode===null)throw Error(n(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(ze){Mt(o,o.return,ze)}}break;case 3:if(Nf=null,x=wa,wa=Af(c.containerInfo),wn(c,o),wa=x,Cn(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Rl(c.containerInfo)}catch(ze){Mt(o,o.return,ze)}l_&&(l_=!1,rA(o));break;case 4:m=wa,wa=Af(o.stateNode.containerInfo),wn(c,o),Cn(o),wa=m;break;case 12:wn(c,o),Cn(o);break;case 31:wn(c,o),Cn(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,ff(o,m)));break;case 13:wn(c,o),Cn(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(hf=Ze()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,ff(o,m)));break;case 22:x=o.memoizedState!==null;var G=f!==null&&f.memoizedState!==null,ne=Sr,ge=ui;if(Sr=ne||x,ui=ge||G,wn(c,o),ui=ge,Sr=ne,Cn(o),m&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(f===null||G||Sr||ui||po(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){G=f=c;try{if(w=G.stateNode,x)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{L=G.stateNode;var ye=G.memoizedProps.style,re=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;L.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ze){Mt(G,G.return,ze)}}}else if(c.tag===6){if(f===null){G=c;try{G.stateNode.nodeValue=x?"":G.memoizedProps}catch(ze){Mt(G,G.return,ze)}}}else if(c.tag===18){if(f===null){G=c;try{var oe=G.stateNode;x?$A(oe,!0):$A(G.stateNode,!1)}catch(ze){Mt(G,G.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,ff(o,f))));break;case 19:wn(c,o),Cn(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,ff(o,m)));break;case 30:break;case 21:break;default:wn(c,o),Cn(o)}}function Cn(o){var c=o.flags;if(c&2){try{for(var f,m=o.return;m!==null;){if(QT(m)){f=m;break}m=m.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var x=f.stateNode,w=s_(o);pf(o,w,x);break;case 5:var M=f.stateNode;f.flags&32&&(al(M,""),f.flags&=-33);var L=s_(o);pf(o,L,M);break;case 3:case 4:var G=f.stateNode.containerInfo,ne=s_(o);o_(o,ne,G);break;default:throw Error(n(161))}}catch(ge){Mt(o,o.return,ge)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function rA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;rA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Cr(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ZT(o,c.alternate,c),c=c.sibling}function po(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:_s(4,c,c.return),po(c);break;case 1:Va(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&$T(c,c.return,f),po(c);break;case 27:Ad(c.stateNode);case 26:case 5:Va(c,c.return),po(c);break;case 22:c.memoizedState===null&&po(c);break;case 30:po(c);break;default:po(c)}o=o.sibling}}function Tr(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,x=o,w=c,M=w.flags;switch(w.tag){case 0:case 11:case 15:Tr(x,w,f),yd(4,w);break;case 1:if(Tr(x,w,f),m=w,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){Mt(m,m.return,ne)}if(m=w,x=m.updateQueue,x!==null){var L=m.stateNode;try{var G=x.shared.hiddenCallbacks;if(G!==null)for(x.shared.hiddenCallbacks=null,x=0;x<G.length;x++)DC(G[x],L)}catch(ne){Mt(m,m.return,ne)}}f&&M&64&&GT(w),_d(w,w.return);break;case 27:XT(w);case 26:case 5:Tr(x,w,f),f&&m===null&&M&4&&YT(w),_d(w,w.return);break;case 12:Tr(x,w,f);break;case 31:Tr(x,w,f),f&&M&4&&iA(x,w);break;case 13:Tr(x,w,f),f&&M&4&&nA(x,w);break;case 22:w.memoizedState===null&&Tr(x,w,f),_d(w,w.return);break;case 30:break;default:Tr(x,w,f)}c=c.sibling}}function c_(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&ad(f))}function d_(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ad(o))}function Ca(o,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)sA(o,c,f,m),c=c.sibling}function sA(o,c,f,m){var x=c.flags;switch(c.tag){case 0:case 11:case 15:Ca(o,c,f,m),x&2048&&yd(9,c);break;case 1:Ca(o,c,f,m);break;case 3:Ca(o,c,f,m),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ad(o)));break;case 12:if(x&2048){Ca(o,c,f,m),o=c.stateNode;try{var w=c.memoizedProps,M=w.id,L=w.onPostCommit;typeof L=="function"&&L(M,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(G){Mt(c,c.return,G)}}else Ca(o,c,f,m);break;case 31:Ca(o,c,f,m);break;case 13:Ca(o,c,f,m);break;case 23:break;case 22:w=c.stateNode,M=c.alternate,c.memoizedState!==null?w._visibility&2?Ca(o,c,f,m):vd(o,c):w._visibility&2?Ca(o,c,f,m):(w._visibility|=2,wl(o,c,f,m,(c.subtreeFlags&10256)!==0||!1)),x&2048&&c_(M,c);break;case 24:Ca(o,c,f,m),x&2048&&d_(c.alternate,c);break;default:Ca(o,c,f,m)}}function wl(o,c,f,m,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var w=o,M=c,L=f,G=m,ne=M.flags;switch(M.tag){case 0:case 11:case 15:wl(w,M,L,G,x),yd(8,M);break;case 23:break;case 22:var ge=M.stateNode;M.memoizedState!==null?ge._visibility&2?wl(w,M,L,G,x):vd(w,M):(ge._visibility|=2,wl(w,M,L,G,x)),x&&ne&2048&&c_(M.alternate,M);break;case 24:wl(w,M,L,G,x),x&&ne&2048&&d_(M.alternate,M);break;default:wl(w,M,L,G,x)}c=c.sibling}}function vd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,m=c,x=m.flags;switch(m.tag){case 22:vd(f,m),x&2048&&c_(m.alternate,m);break;case 24:vd(f,m),x&2048&&d_(m.alternate,m);break;default:vd(f,m)}c=c.sibling}}var bd=8192;function Cl(o,c,f){if(o.subtreeFlags&bd)for(o=o.child;o!==null;)oA(o,c,f),o=o.sibling}function oA(o,c,f){switch(o.tag){case 26:Cl(o,c,f),o.flags&bd&&o.memoizedState!==null&&EB(f,wa,o.memoizedState,o.memoizedProps);break;case 5:Cl(o,c,f);break;case 3:case 4:var m=wa;wa=Af(o.stateNode.containerInfo),Cl(o,c,f),wa=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=bd,bd=16777216,Cl(o,c,f),bd=m):Cl(o,c,f));break;default:Cl(o,c,f)}}function lA(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function xd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Li=m,dA(m,o)}lA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cA(o),o=o.sibling}function cA(o){switch(o.tag){case 0:case 11:case 15:xd(o),o.flags&2048&&_s(9,o,o.return);break;case 3:xd(o);break;case 12:xd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,gf(o)):xd(o);break;default:xd(o)}}function gf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Li=m,dA(m,o)}lA(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:_s(8,c,c.return),gf(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,gf(c));break;default:gf(c)}o=o.sibling}}function dA(o,c){for(;Li!==null;){var f=Li;switch(f.tag){case 0:case 11:case 15:_s(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ad(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Li=m;else e:for(f=o;Li!==null;){m=Li;var x=m.sibling,w=m.return;if(eA(m),m===f){Li=null;break e}if(x!==null){x.return=w,Li=x;break e}Li=w}}}var z5={getCacheForType:function(o){var c=Hi(li),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return Hi(li).controller.signal}},W5=typeof WeakMap=="function"?WeakMap:Map,wt=0,Dt=null,ut=null,ft=0,Nt=0,zn=null,vs=!1,Tl=!1,u_=!1,Ar=0,Zt=0,bs=0,fo=0,p_=0,Wn=0,Al=0,kd=null,Tn=null,f_=!1,hf=0,uA=0,mf=1/0,yf=null,xs=null,Ai=0,ks=null,El=null,Er=0,g_=0,h_=null,pA=null,Sd=0,m_=null;function Vn(){return(wt&2)!==0&&ft!==0?ft&-ft:K.T!==null?k_():Ew()}function fA(){if(Wn===0)if((ft&536870912)===0||mt){var o=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),Wn=o}else Wn=536870912;return o=Un.current,o!==null&&(o.flags|=32),Wn}function An(o,c,f){(o===Dt&&(Nt===2||Nt===9)||o.cancelPendingCommit!==null)&&(Nl(o,0),Ss(o,ft,Wn,!1)),Ys(o,f),((wt&2)===0||o!==Dt)&&(o===Dt&&((wt&2)===0&&(fo|=f),Zt===4&&Ss(o,ft,Wn,!1)),Ha(o))}function gA(o,c,f){if((wt&6)!==0)throw Error(n(327));var m=!f&&(c&127)===0&&(c&o.expiredLanes)===0||Ti(o,c),x=m?G5(o,c):__(o,c,!0),w=m;do{if(x===0){Tl&&!m&&Ss(o,c,0,!1);break}else{if(f=o.current.alternate,w&&!V5(f)){x=__(o,c,!1),w=!1;continue}if(x===2){if(w=c,o.errorRecoveryDisabledLanes&w)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){c=M;e:{var L=o;x=kd;var G=L.current.memoizedState.isDehydrated;if(G&&(Nl(L,M).flags|=256),M=__(L,M,!1),M!==2){if(u_&&!G){L.errorRecoveryDisabledLanes|=w,fo|=w,x=4;break e}w=Tn,Tn=x,w!==null&&(Tn===null?Tn=w:Tn.push.apply(Tn,w))}x=M}if(w=!1,x!==2)continue}}if(x===1){Nl(o,0),Ss(o,c,0,!0);break}e:{switch(m=o,w=x,w){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Ss(m,c,Wn,!vs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(x=hf+300-Ze(),10<x)){if(Ss(m,c,Wn,!vs),bn(m,0,!0)!==0)break e;Er=c,m.timeoutHandle=VA(hA.bind(null,m,f,Tn,yf,f_,c,Wn,fo,Al,vs,w,"Throttled",-0,0),x);break e}hA(m,f,Tn,yf,f_,c,Wn,fo,Al,vs,w,null,-0,0)}}break}while(!0);Ha(o)}function hA(o,c,f,m,x,w,M,L,G,ne,ge,ye,re,oe){if(o.timeoutHandle=-1,ye=c.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fr},oA(c,w,ye);var ze=(w&62914560)===w?hf-Ze():(w&4194048)===w?uA-Ze():0;if(ze=NB(ye,ze),ze!==null){Er=w,o.cancelPendingCommit=ze(SA.bind(null,o,c,w,f,m,x,M,L,G,ge,ye,null,re,oe)),Ss(o,w,M,!ne);return}}SA(o,c,w,f,m,x,M,L,G)}function V5(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var x=f[m],w=x.getSnapshot;x=x.value;try{if(!Fn(w(),x))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ss(o,c,f,m){c&=~p_,c&=~fo,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var x=c;0<x;){var w=31-Et(x),M=1<<w;m[w]=-1,x&=~M}f!==0&&Cw(o,f,c)}function _f(){return(wt&6)===0?(wd(0),!1):!0}function y_(){if(ut!==null){if(Nt===0)var o=ut.return;else o=ut,yr=no=null,Oy(o),vl=null,sd=0,o=ut;for(;o!==null;)HT(o.alternate,o),o=o.return;ut=null}}function Nl(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,uB(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Er=0,y_(),Dt=o,ut=f=hr(o.current,null),ft=c,Nt=0,zn=null,vs=!1,Tl=Ti(o,c),u_=!1,Al=Wn=p_=fo=bs=Zt=0,Tn=kd=null,f_=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var x=31-Et(m),w=1<<x;c|=o[x],m&=~w}return Ar=c,Kp(),f}function mA(o,c){lt=null,K.H=gd,c===_l||c===Hp?(c=IC(),Nt=3):c===xy?(c=IC(),Nt=4):Nt=c===Yy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,zn=c,ut===null&&(Zt=1,of(o,aa(c,o.current)))}function yA(){var o=Un.current;return o===null?!0:(ft&4194048)===ft?la===null:(ft&62914560)===ft||(ft&536870912)!==0?o===la:!1}function _A(){var o=K.H;return K.H=gd,o===null?gd:o}function vA(){var o=K.A;return K.A=z5,o}function vf(){Zt=4,vs||(ft&4194048)!==ft&&Un.current!==null||(Tl=!0),(bs&134217727)===0&&(fo&134217727)===0||Dt===null||Ss(Dt,ft,Wn,!1)}function __(o,c,f){var m=wt;wt|=2;var x=_A(),w=vA();(Dt!==o||ft!==c)&&(yf=null,Nl(o,c)),c=!1;var M=Zt;e:do try{if(Nt!==0&&ut!==null){var L=ut,G=zn;switch(Nt){case 8:y_(),M=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(c=!0);var ne=Nt;if(Nt=0,zn=null,Ml(o,L,G,ne),f&&Tl){M=0;break e}break;default:ne=Nt,Nt=0,zn=null,Ml(o,L,G,ne)}}H5(),M=Zt;break}catch(ge){mA(o,ge)}while(!0);return c&&o.shellSuspendCounter++,yr=no=null,wt=m,K.H=x,K.A=w,ut===null&&(Dt=null,ft=0,Kp()),M}function H5(){for(;ut!==null;)bA(ut)}function G5(o,c){var f=wt;wt|=2;var m=_A(),x=vA();Dt!==o||ft!==c?(yf=null,mf=Ze()+500,Nl(o,c)):Tl=Ti(o,c);e:do try{if(Nt!==0&&ut!==null){c=ut;var w=zn;t:switch(Nt){case 1:Nt=0,zn=null,Ml(o,c,w,1);break;case 2:case 9:if(MC(w)){Nt=0,zn=null,xA(c);break}c=function(){Nt!==2&&Nt!==9||Dt!==o||(Nt=7),Ha(o)},w.then(c,c);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:MC(w)?(Nt=0,zn=null,xA(c)):(Nt=0,zn=null,Ml(o,c,w,7));break;case 5:var M=null;switch(ut.tag){case 26:M=ut.memoizedState;case 5:case 27:var L=ut;if(M?s1(M):L.stateNode.complete){Nt=0,zn=null;var G=L.sibling;if(G!==null)ut=G;else{var ne=L.return;ne!==null?(ut=ne,bf(ne)):ut=null}break t}}Nt=0,zn=null,Ml(o,c,w,5);break;case 6:Nt=0,zn=null,Ml(o,c,w,6);break;case 8:y_(),Zt=6;break e;default:throw Error(n(462))}}$5();break}catch(ge){mA(o,ge)}while(!0);return yr=no=null,K.H=m,K.A=x,wt=f,ut!==null?0:(Dt=null,ft=0,Kp(),Zt)}function $5(){for(;ut!==null&&!Ke();)bA(ut)}function bA(o){var c=WT(o.alternate,o,Ar);o.memoizedProps=o.pendingProps,c===null?bf(o):ut=c}function xA(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=KT(f,c,c.pendingProps,c.type,void 0,ft);break;case 11:c=KT(f,c,c.pendingProps,c.type.render,c.ref,ft);break;case 5:Oy(c);default:HT(f,c),c=ut=vC(c,Ar),c=WT(f,c,Ar)}o.memoizedProps=o.pendingProps,c===null?bf(o):ut=c}function Ml(o,c,f,m){yr=no=null,Oy(c),vl=null,sd=0;var x=c.return;try{if(D5(o,x,c,f,ft)){Zt=1,of(o,aa(f,o.current)),ut=null;return}}catch(w){if(x!==null)throw ut=x,w;Zt=1,of(o,aa(f,o.current)),ut=null;return}c.flags&32768?(mt||m===1?o=!0:Tl||(ft&536870912)!==0?o=!1:(vs=o=!0,(m===2||m===9||m===3||m===6)&&(m=Un.current,m!==null&&m.tag===13&&(m.flags|=16384))),kA(c,o)):bf(c)}function bf(o){var c=o;do{if((c.flags&32768)!==0){kA(c,vs);return}o=c.return;var f=F5(c.alternate,c,Ar);if(f!==null){ut=f;return}if(c=c.sibling,c!==null){ut=c;return}ut=c=o}while(c!==null);Zt===0&&(Zt=5)}function kA(o,c){do{var f=B5(o.alternate,o);if(f!==null){f.flags&=32767,ut=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){ut=o;return}ut=o=f}while(o!==null);Zt=6,ut=null}function SA(o,c,f,m,x,w,M,L,G){o.cancelPendingCommit=null;do xf();while(Ai!==0);if((wt&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(w=c.lanes|c.childLanes,w|=sy,AF(o,f,w,M,L,G),o===Dt&&(ut=Dt=null,ft=0),El=c,ks=o,Er=f,g_=w,h_=x,pA=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,J5(Qe,function(){return EA(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=K.T,K.T=null,x=z.p,z.p=2,M=wt,wt|=4;try{U5(o,c,f)}finally{wt=M,z.p=x,K.T=m}}Ai=1,wA(),CA(),TA()}}function wA(){if(Ai===1){Ai=0;var o=ks,c=El,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=K.T,K.T=null;var m=z.p;z.p=2;var x=wt;wt|=4;try{aA(c,o);var w=M_,M=dC(o.containerInfo),L=w.focusedElem,G=w.selectionRange;if(M!==L&&L&&L.ownerDocument&&cC(L.ownerDocument.documentElement,L)){if(G!==null&&ty(L)){var ne=G.start,ge=G.end;if(ge===void 0&&(ge=ne),"selectionStart"in L)L.selectionStart=ne,L.selectionEnd=Math.min(ge,L.value.length);else{var ye=L.ownerDocument||document,re=ye&&ye.defaultView||window;if(re.getSelection){var oe=re.getSelection(),ze=L.textContent.length,tt=Math.min(G.start,ze),Lt=G.end===void 0?tt:Math.min(G.end,ze);!oe.extend&&tt>Lt&&(M=Lt,Lt=tt,tt=M);var J=lC(L,tt),Y=lC(L,Lt);if(J&&Y&&(oe.rangeCount!==1||oe.anchorNode!==J.node||oe.anchorOffset!==J.offset||oe.focusNode!==Y.node||oe.focusOffset!==Y.offset)){var ie=ye.createRange();ie.setStart(J.node,J.offset),oe.removeAllRanges(),tt>Lt?(oe.addRange(ie),oe.extend(Y.node,Y.offset)):(ie.setEnd(Y.node,Y.offset),oe.addRange(ie))}}}}for(ye=[],oe=L;oe=oe.parentNode;)oe.nodeType===1&&ye.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ye.length;L++){var he=ye[L];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Of=!!N_,M_=N_=null}finally{wt=x,z.p=m,K.T=f}}o.current=c,Ai=2}}function CA(){if(Ai===2){Ai=0;var o=ks,c=El,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=K.T,K.T=null;var m=z.p;z.p=2;var x=wt;wt|=4;try{ZT(o,c.alternate,c)}finally{wt=x,z.p=m,K.T=f}}Ai=3}}function TA(){if(Ai===4||Ai===3){Ai=0,Ye();var o=ks,c=El,f=Er,m=pA;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ai=5:(Ai=0,El=ks=null,AA(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(xs=null),Dm(f),c=c.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Qt,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=K.T,x=z.p,z.p=2,K.T=null;try{for(var w=o.onRecoverableError,M=0;M<m.length;M++){var L=m[M];w(L.value,{componentStack:L.stack})}}finally{K.T=c,z.p=x}}(Er&3)!==0&&xf(),Ha(o),x=o.pendingLanes,(f&261930)!==0&&(x&42)!==0?o===m_?Sd++:(Sd=0,m_=o):Sd=0,wd(0)}}function AA(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,ad(c)))}function xf(){return wA(),CA(),TA(),EA()}function EA(){if(Ai!==5)return!1;var o=ks,c=g_;g_=0;var f=Dm(Er),m=K.T,x=z.p;try{z.p=32>f?32:f,K.T=null,f=h_,h_=null;var w=ks,M=Er;if(Ai=0,El=ks=null,Er=0,(wt&6)!==0)throw Error(n(331));var L=wt;if(wt|=4,cA(w.current),sA(w,w.current,M,f),wt=L,wd(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Qt,w)}catch{}return!0}finally{z.p=x,K.T=m,AA(o,c)}}function NA(o,c,f){c=aa(f,c),c=$y(o.stateNode,c,2),o=hs(o,c,2),o!==null&&(Ys(o,2),Ha(o))}function Mt(o,c,f){if(o.tag===3)NA(o,o,f);else for(;c!==null;){if(c.tag===3){NA(c,o,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xs===null||!xs.has(m))){o=aa(f,o),f=MT(2),m=hs(c,f,2),m!==null&&(PT(f,m,c,o),Ys(m,2),Ha(m));break}}c=c.return}}function v_(o,c,f){var m=o.pingCache;if(m===null){m=o.pingCache=new W5;var x=new Set;m.set(c,x)}else x=m.get(c),x===void 0&&(x=new Set,m.set(c,x));x.has(f)||(u_=!0,x.add(f),o=Y5.bind(null,o,c,f),c.then(o,o))}function Y5(o,c,f){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Dt===o&&(ft&f)===f&&(Zt===4||Zt===3&&(ft&62914560)===ft&&300>Ze()-hf?(wt&2)===0&&Nl(o,0):p_|=f,Al===ft&&(Al=0)),Ha(o)}function MA(o,c){c===0&&(c=Tp()),o=eo(o,c),o!==null&&(Ys(o,c),Ha(o))}function Q5(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),MA(o,f)}function X5(o,c){var f=0;switch(o.tag){case 31:case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(c),MA(o,f)}function J5(o,c){return ka(o,c)}var kf=null,Pl=null,b_=!1,Sf=!1,x_=!1,ws=0;function Ha(o){o!==Pl&&o.next===null&&(Pl===null?kf=Pl=o:Pl=Pl.next=o),Sf=!0,b_||(b_=!0,eB())}function wd(o,c){if(!x_&&Sf){x_=!0;do for(var f=!1,m=kf;m!==null;){if(o!==0){var x=m.pendingLanes;if(x===0)var w=0;else{var M=m.suspendedLanes,L=m.pingedLanes;w=(1<<31-Et(42|o)+1)-1,w&=x&~(M&~L),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,LA(m,w))}else w=ft,w=bn(m,m===Dt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ti(m,w)||(f=!0,LA(m,w));m=m.next}while(f);x_=!1}}function Z5(){PA()}function PA(){Sf=b_=!1;var o=0;ws!==0&&dB()&&(o=ws);for(var c=Ze(),f=null,m=kf;m!==null;){var x=m.next,w=IA(m,c);w===0?(m.next=null,f===null?kf=x:f.next=x,x===null&&(Pl=f)):(f=m,(o!==0||(w&3)!==0)&&(Sf=!0)),m=x}Ai!==0&&Ai!==5||wd(o),ws!==0&&(ws=0)}function IA(o,c){for(var f=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var M=31-Et(w),L=1<<M,G=x[M];G===-1?((L&f)===0||(L&m)!==0)&&(x[M]=Kn(L,c)):G<=c&&(o.expiredLanes|=L),w&=~L}if(c=Dt,f=ft,f=bn(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===c&&(Nt===2||Nt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Ua(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ti(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(m!==null&&Ua(m),Dm(f)){case 2:case 8:f=ve;break;case 32:f=Qe;break;case 268435456:f=et;break;default:f=Qe}return m=OA.bind(null,o),f=ka(f,m),o.callbackPriority=c,o.callbackNode=f,c}return m!==null&&m!==null&&Ua(m),o.callbackPriority=2,o.callbackNode=null,2}function OA(o,c){if(Ai!==0&&Ai!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(xf()&&o.callbackNode!==f)return null;var m=ft;return m=bn(o,o===Dt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(gA(o,m,c),IA(o,Ze()),o.callbackNode!=null&&o.callbackNode===f?OA.bind(null,o):null)}function LA(o,c){if(xf())return null;gA(o,c,!0)}function eB(){pB(function(){(wt&6)!==0?ka(ue,Z5):PA()})}function k_(){if(ws===0){var o=ml;o===0&&(o=Xo,Xo<<=1,(Xo&261888)===0&&(Xo=256)),ws=o}return ws}function RA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Mp(""+o)}function DA(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function tB(o,c,f,m,x){if(c==="submit"&&f&&f.stateNode===x){var w=RA((x[xn]||null).action),M=m.submitter;M&&(c=(c=M[xn]||null)?RA(c.formAction):M.getAttribute("formAction"),c!==null&&(w=c,M=null));var L=new Lp("action","action",null,m,x);o.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ws!==0){var G=M?DA(x,M):new FormData(x);qy(f,{pending:!0,data:G,method:x.method,action:w},null,G)}}else typeof w=="function"&&(L.preventDefault(),G=M?DA(x,M):new FormData(x),qy(f,{pending:!0,data:G,method:x.method,action:w},w,G))},currentTarget:x}]})}}for(var S_=0;S_<ry.length;S_++){var w_=ry[S_],iB=w_.toLowerCase(),nB=w_[0].toUpperCase()+w_.slice(1);Sa(iB,"on"+nB)}Sa(fC,"onAnimationEnd"),Sa(gC,"onAnimationIteration"),Sa(hC,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(v5,"onTransitionRun"),Sa(b5,"onTransitionStart"),Sa(x5,"onTransitionCancel"),Sa(mC,"onTransitionEnd"),il("onMouseEnter",["mouseout","mouseover"]),il("onMouseLeave",["mouseout","mouseover"]),il("onPointerEnter",["pointerout","pointerover"]),il("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function jA(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],x=m.event;m=m.listeners;e:{var w=void 0;if(c)for(var M=m.length-1;0<=M;M--){var L=m[M],G=L.instance,ne=L.currentTarget;if(L=L.listener,G!==w&&x.isPropagationStopped())break e;w=L,x.currentTarget=ne;try{w(x)}catch(ge){jp(ge)}x.currentTarget=null,w=G}else for(M=0;M<m.length;M++){if(L=m[M],G=L.instance,ne=L.currentTarget,L=L.listener,G!==w&&x.isPropagationStopped())break e;w=L,x.currentTarget=ne;try{w(x)}catch(ge){jp(ge)}x.currentTarget=null,w=G}}}}function pt(o,c){var f=c[jm];f===void 0&&(f=c[jm]=new Set);var m=o+"__bubble";f.has(m)||(KA(c,o,2,!1),f.add(m))}function C_(o,c,f){var m=0;c&&(m|=4),KA(f,o,m,c)}var wf="_reactListening"+Math.random().toString(36).slice(2);function T_(o){if(!o[wf]){o[wf]=!0,Pw.forEach(function(f){f!=="selectionchange"&&(aB.has(f)||C_(f,!1,o),C_(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[wf]||(c[wf]=!0,C_("selectionchange",!1,c))}}function KA(o,c,f,m){switch(f1(c)){case 2:var x=IB;break;case 8:x=OB;break;default:x=U_}f=x.bind(null,c,f,o),x=void 0,!Hm||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(c,f,{capture:!0,passive:x}):o.addEventListener(c,f,!0):x!==void 0?o.addEventListener(c,f,{passive:x}):o.addEventListener(c,f,!1)}function A_(o,c,f,m,x){var w=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var L=m.stateNode.containerInfo;if(L===x)break;if(M===4)for(M=m.return;M!==null;){var G=M.tag;if((G===3||G===4)&&M.stateNode.containerInfo===x)return;M=M.return}for(;L!==null;){if(M=Zo(L),M===null)return;if(G=M.tag,G===5||G===6||G===26||G===27){m=w=M;continue e}L=L.parentNode}}m=m.return}zw(function(){var ne=w,ge=Wm(f),ye=[];e:{var re=yC.get(o);if(re!==void 0){var oe=Lp,ze=o;switch(o){case"keypress":if(Ip(f)===0)break e;case"keydown":case"keyup":oe=XF;break;case"focusin":ze="focus",oe=Qm;break;case"focusout":ze="blur",oe=Qm;break;case"beforeblur":case"afterblur":oe=Qm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=FF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=e5;break;case fC:case gC:case hC:oe=qF;break;case mC:oe=i5;break;case"scroll":case"scrollend":oe=jF;break;case"wheel":oe=a5;break;case"copy":case"cut":case"paste":oe=WF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=$w;break;case"toggle":case"beforetoggle":oe=s5}var tt=(c&4)!==0,Lt=!tt&&(o==="scroll"||o==="scrollend"),J=tt?re!==null?re+"Capture":null:re;tt=[];for(var Y=ne,ie;Y!==null;){var he=Y;if(ie=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ie===null||J===null||(he=Gc(Y,J),he!=null&&tt.push(Td(Y,he,ie))),Lt)break;Y=Y.return}0<tt.length&&(re=new oe(re,ze,null,f,ge),ye.push({event:re,listeners:tt}))}}if((c&7)===0){e:{if(re=o==="mouseover"||o==="pointerover",oe=o==="mouseout"||o==="pointerout",re&&f!==zm&&(ze=f.relatedTarget||f.fromElement)&&(Zo(ze)||ze[Jo]))break e;if((oe||re)&&(re=ge.window===ge?ge:(re=ge.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(ze=f.relatedTarget||f.toElement,oe=ne,ze=ze?Zo(ze):null,ze!==null&&(Lt=s(ze),tt=ze.tag,ze!==Lt||tt!==5&&tt!==27&&tt!==6)&&(ze=null)):(oe=null,ze=ne),oe!==ze)){if(tt=Hw,he="onMouseLeave",J="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(tt=$w,he="onPointerLeave",J="onPointerEnter",Y="pointer"),Lt=oe==null?re:Hc(oe),ie=ze==null?re:Hc(ze),re=new tt(he,Y+"leave",oe,f,ge),re.target=Lt,re.relatedTarget=ie,he=null,Zo(ge)===ne&&(tt=new tt(J,Y+"enter",ze,f,ge),tt.target=ie,tt.relatedTarget=Lt,he=tt),Lt=he,oe&&ze)t:{for(tt=rB,J=oe,Y=ze,ie=0,he=J;he;he=tt(he))ie++;he=0;for(var Je=Y;Je;Je=tt(Je))he++;for(;0<ie-he;)J=tt(J),ie--;for(;0<he-ie;)Y=tt(Y),he--;for(;ie--;){if(J===Y||Y!==null&&J===Y.alternate){tt=J;break t}J=tt(J),Y=tt(Y)}tt=null}else tt=null;oe!==null&&FA(ye,re,oe,tt,!1),ze!==null&&Lt!==null&&FA(ye,Lt,ze,tt,!0)}}e:{if(re=ne?Hc(ne):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var vt=iC;else if(eC(re))if(nC)vt=m5;else{vt=g5;var Ge=f5}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&qm(ne.elementType)&&(vt=iC):vt=h5;if(vt&&(vt=vt(o,ne))){tC(ye,vt,f,ge);break e}Ge&&Ge(o,re,ne),o==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&Um(re,"number",re.value)}switch(Ge=ne?Hc(ne):window,o){case"focusin":(eC(Ge)||Ge.contentEditable==="true")&&(ll=Ge,iy=ne,td=null);break;case"focusout":td=iy=ll=null;break;case"mousedown":ny=!0;break;case"contextmenu":case"mouseup":case"dragend":ny=!1,uC(ye,f,ge);break;case"selectionchange":if(_5)break;case"keydown":case"keyup":uC(ye,f,ge)}var ct;if(Jm)e:{switch(o){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ol?Jw(o,f)&&(gt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(gt="onCompositionStart");gt&&(Yw&&f.locale!=="ko"&&(ol||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ol&&(ct=Ww()):(ls=ge,Gm="value"in ls?ls.value:ls.textContent,ol=!0)),Ge=Cf(ne,gt),0<Ge.length&&(gt=new Gw(gt,o,null,f,ge),ye.push({event:gt,listeners:Ge}),ct?gt.data=ct:(ct=Zw(f),ct!==null&&(gt.data=ct)))),(ct=l5?c5(o,f):d5(o,f))&&(gt=Cf(ne,"onBeforeInput"),0<gt.length&&(Ge=new Gw("onBeforeInput","beforeinput",null,f,ge),ye.push({event:Ge,listeners:gt}),Ge.data=ct)),tB(ye,o,ne,f,ge)}jA(ye,c)})}function Td(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Cf(o,c){for(var f=c+"Capture",m=[];o!==null;){var x=o,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=Gc(o,f),x!=null&&m.unshift(Td(o,x,w)),x=Gc(o,c),x!=null&&m.push(Td(o,x,w))),o.tag===3)return m;o=o.return}return[]}function rB(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function FA(o,c,f,m,x){for(var w=c._reactName,M=[];f!==null&&f!==m;){var L=f,G=L.alternate,ne=L.stateNode;if(L=L.tag,G!==null&&G===m)break;L!==5&&L!==26&&L!==27||ne===null||(G=ne,x?(ne=Gc(f,w),ne!=null&&M.unshift(Td(f,ne,G))):x||(ne=Gc(f,w),ne!=null&&M.push(Td(f,ne,G)))),f=f.return}M.length!==0&&o.push({event:c,listeners:M})}var sB=/\r\n?/g,oB=/\u0000|\uFFFD/g;function BA(o){return(typeof o=="string"?o:""+o).replace(sB,`
`).replace(oB,"")}function UA(o,c){return c=BA(c),BA(o)===c}function Ot(o,c,f,m,x,w){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||al(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&al(o,""+m);break;case"className":Ep(o,"class",m);break;case"tabIndex":Ep(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ep(o,f,m);break;case"style":Uw(o,m,w);break;case"data":if(c!=="object"){Ep(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=Mp(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(c!=="input"&&Ot(o,c,"name",x.name,x,null),Ot(o,c,"formEncType",x.formEncType,x,null),Ot(o,c,"formMethod",x.formMethod,x,null),Ot(o,c,"formTarget",x.formTarget,x,null)):(Ot(o,c,"encType",x.encType,x,null),Ot(o,c,"method",x.method,x,null),Ot(o,c,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=Mp(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=fr);break;case"onScroll":m!=null&&pt("scroll",o);break;case"onScrollEnd":m!=null&&pt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=Mp(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":pt("beforetoggle",o),pt("toggle",o),Ap(o,"popover",m);break;case"xlinkActuate":pr(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":pr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":pr(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":pr(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":pr(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":pr(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":pr(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":pr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":pr(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ap(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=RF.get(f)||f,Ap(o,f,m))}}function E_(o,c,f,m,x,w){switch(f){case"style":Uw(o,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"children":typeof m=="string"?al(o,m):(typeof m=="number"||typeof m=="bigint")&&al(o,""+m);break;case"onScroll":m!=null&&pt("scroll",o);break;case"onScrollEnd":m!=null&&pt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iw.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),c=f.slice(2,x?f.length-7:void 0),w=o[xn]||null,w=w!=null?w[f]:null,typeof w=="function"&&o.removeEventListener(c,w,x),typeof m=="function")){typeof w!="function"&&w!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,m,x);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Ap(o,f,m)}}}function $i(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",o),pt("load",o);var m=!1,x=!1,w;for(w in f)if(f.hasOwnProperty(w)){var M=f[w];if(M!=null)switch(w){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ot(o,c,w,M,f,null)}}x&&Ot(o,c,"srcSet",f.srcSet,f,null),m&&Ot(o,c,"src",f.src,f,null);return;case"input":pt("invalid",o);var L=w=M=x=null,G=null,ne=null;for(m in f)if(f.hasOwnProperty(m)){var ge=f[m];if(ge!=null)switch(m){case"name":x=ge;break;case"type":M=ge;break;case"checked":G=ge;break;case"defaultChecked":ne=ge;break;case"value":w=ge;break;case"defaultValue":L=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,c));break;default:Ot(o,c,m,ge,f,null)}}jw(o,w,L,G,ne,M,x,!1);return;case"select":pt("invalid",o),m=M=w=null;for(x in f)if(f.hasOwnProperty(x)&&(L=f[x],L!=null))switch(x){case"value":w=L;break;case"defaultValue":M=L;break;case"multiple":m=L;default:Ot(o,c,x,L,f,null)}c=w,f=M,o.multiple=!!m,c!=null?nl(o,!!m,c,!1):f!=null&&nl(o,!!m,f,!0);return;case"textarea":pt("invalid",o),w=x=m=null;for(M in f)if(f.hasOwnProperty(M)&&(L=f[M],L!=null))switch(M){case"value":m=L;break;case"defaultValue":x=L;break;case"children":w=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:Ot(o,c,M,L,f,null)}Fw(o,m,x,w);return;case"option":for(G in f)if(f.hasOwnProperty(G)&&(m=f[G],m!=null))switch(G){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ot(o,c,G,m,f,null)}return;case"dialog":pt("beforetoggle",o),pt("toggle",o),pt("cancel",o),pt("close",o);break;case"iframe":case"object":pt("load",o);break;case"video":case"audio":for(m=0;m<Cd.length;m++)pt(Cd[m],o);break;case"image":pt("error",o),pt("load",o);break;case"details":pt("toggle",o);break;case"embed":case"source":case"link":pt("error",o),pt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in f)if(f.hasOwnProperty(ne)&&(m=f[ne],m!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ot(o,c,ne,m,f,null)}return;default:if(qm(c)){for(ge in f)f.hasOwnProperty(ge)&&(m=f[ge],m!==void 0&&E_(o,c,ge,m,f,void 0));return}}for(L in f)f.hasOwnProperty(L)&&(m=f[L],m!=null&&Ot(o,c,L,m,f,null))}function lB(o,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,M=null,L=null,G=null,ne=null,ge=null;for(oe in f){var ye=f[oe];if(f.hasOwnProperty(oe)&&ye!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":G=ye;default:m.hasOwnProperty(oe)||Ot(o,c,oe,null,m,ye)}}for(var re in m){var oe=m[re];if(ye=f[re],m.hasOwnProperty(re)&&(oe!=null||ye!=null))switch(re){case"type":w=oe;break;case"name":x=oe;break;case"checked":ne=oe;break;case"defaultChecked":ge=oe;break;case"value":M=oe;break;case"defaultValue":L=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,c));break;default:oe!==ye&&Ot(o,c,re,oe,m,ye)}}Bm(o,M,L,G,ne,ge,w,x);return;case"select":oe=M=L=re=null;for(w in f)if(G=f[w],f.hasOwnProperty(w)&&G!=null)switch(w){case"value":break;case"multiple":oe=G;default:m.hasOwnProperty(w)||Ot(o,c,w,null,m,G)}for(x in m)if(w=m[x],G=f[x],m.hasOwnProperty(x)&&(w!=null||G!=null))switch(x){case"value":re=w;break;case"defaultValue":L=w;break;case"multiple":M=w;default:w!==G&&Ot(o,c,x,w,m,G)}c=L,f=M,m=oe,re!=null?nl(o,!!f,re,!1):!!m!=!!f&&(c!=null?nl(o,!!f,c,!0):nl(o,!!f,f?[]:"",!1));return;case"textarea":oe=re=null;for(L in f)if(x=f[L],f.hasOwnProperty(L)&&x!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ot(o,c,L,null,m,x)}for(M in m)if(x=m[M],w=f[M],m.hasOwnProperty(M)&&(x!=null||w!=null))switch(M){case"value":re=x;break;case"defaultValue":oe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==w&&Ot(o,c,M,x,m,w)}Kw(o,re,oe);return;case"option":for(var ze in f)if(re=f[ze],f.hasOwnProperty(ze)&&re!=null&&!m.hasOwnProperty(ze))switch(ze){case"selected":o.selected=!1;break;default:Ot(o,c,ze,null,m,re)}for(G in m)if(re=m[G],oe=f[G],m.hasOwnProperty(G)&&re!==oe&&(re!=null||oe!=null))switch(G){case"selected":o.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Ot(o,c,G,re,m,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in f)re=f[tt],f.hasOwnProperty(tt)&&re!=null&&!m.hasOwnProperty(tt)&&Ot(o,c,tt,null,m,re);for(ne in m)if(re=m[ne],oe=f[ne],m.hasOwnProperty(ne)&&re!==oe&&(re!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,c));break;default:Ot(o,c,ne,re,m,oe)}return;default:if(qm(c)){for(var Lt in f)re=f[Lt],f.hasOwnProperty(Lt)&&re!==void 0&&!m.hasOwnProperty(Lt)&&E_(o,c,Lt,void 0,m,re);for(ge in m)re=m[ge],oe=f[ge],!m.hasOwnProperty(ge)||re===oe||re===void 0&&oe===void 0||E_(o,c,ge,re,m,oe);return}}for(var J in f)re=f[J],f.hasOwnProperty(J)&&re!=null&&!m.hasOwnProperty(J)&&Ot(o,c,J,null,m,re);for(ye in m)re=m[ye],oe=f[ye],!m.hasOwnProperty(ye)||re===oe||re==null&&oe==null||Ot(o,c,ye,re,m,oe)}function qA(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cB(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var x=f[m],w=x.transferSize,M=x.initiatorType,L=x.duration;if(w&&L&&qA(M)){for(M=0,L=x.responseEnd,m+=1;m<f.length;m++){var G=f[m],ne=G.startTime;if(ne>L)break;var ge=G.transferSize,ye=G.initiatorType;ge&&qA(ye)&&(G=G.responseEnd,M+=ge*(G<L?1:(L-ne)/(G-ne)))}if(--m,c+=8*(w+M)/(x.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var N_=null,M_=null;function Tf(o){return o.nodeType===9?o:o.ownerDocument}function zA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WA(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function P_(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var I_=null;function dB(){var o=window.event;return o&&o.type==="popstate"?o===I_?!1:(I_=o,!0):(I_=null,!1)}var VA=typeof setTimeout=="function"?setTimeout:void 0,uB=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,pB=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(o){return HA.resolve(null).then(o).catch(fB)}:VA;function fB(o){setTimeout(function(){throw o})}function Cs(o){return o==="head"}function GA(o,c){var f=c,m=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"||f==="/&"){if(m===0){o.removeChild(x),Rl(c);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")Ad(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,Ad(f);for(var w=f.firstChild;w;){var M=w.nextSibling,L=w.nodeName;w[Vc]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=M}}else f==="body"&&Ad(o.ownerDocument.body);f=x}while(f);Rl(c)}function $A(o,c){var f=o;o=0;do{var m=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=m}while(f)}function O_(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":O_(f),Km(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function gB(o,c,f,m){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Vc])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=ca(o.nextSibling),o===null)break}return null}function hB(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ca(o.nextSibling),o===null))return null;return o}function YA(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=ca(o.nextSibling),o===null))return null;return o}function L_(o){return o.data==="$?"||o.data==="$~"}function R_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function mB(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var m=function(){c(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function ca(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var D_=null;function QA(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return ca(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function XA(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function JA(o,c,f){switch(c=Tf(f),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Ad(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Km(o)}var da=new Map,ZA=new Set;function Af(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Nr=z.d;z.d={f:yB,r:_B,D:vB,C:bB,L:xB,m:kB,X:wB,S:SB,M:CB};function yB(){var o=Nr.f(),c=_f();return o||c}function _B(o){var c=el(o);c!==null&&c.tag===5&&c.type==="form"?mT(c):Nr.r(o)}var Il=typeof document>"u"?null:document;function e1(o,c,f){var m=Il;if(m&&typeof c=="string"&&c){var x=ia(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),ZA.has(x)||(ZA.add(x),o={rel:o,crossOrigin:f,href:c},m.querySelector(x)===null&&(c=m.createElement("link"),$i(c,"link",o),Oi(c),m.head.appendChild(c)))}}function vB(o){Nr.D(o),e1("dns-prefetch",o,null)}function bB(o,c){Nr.C(o,c),e1("preconnect",o,c)}function xB(o,c,f){Nr.L(o,c,f);var m=Il;if(m&&o&&c){var x='link[rel="preload"][as="'+ia(c)+'"]';c==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+ia(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+ia(f.imageSizes)+'"]')):x+='[href="'+ia(o)+'"]';var w=x;switch(c){case"style":w=Ol(o);break;case"script":w=Ll(o)}da.has(w)||(o=h({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),da.set(w,o),m.querySelector(x)!==null||c==="style"&&m.querySelector(Ed(w))||c==="script"&&m.querySelector(Nd(w))||(c=m.createElement("link"),$i(c,"link",o),Oi(c),m.head.appendChild(c)))}}function kB(o,c){Nr.m(o,c);var f=Il;if(f&&o){var m=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+ia(m)+'"][href="'+ia(o)+'"]',w=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ll(o)}if(!da.has(w)&&(o=h({rel:"modulepreload",href:o},c),da.set(w,o),f.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Nd(w)))return}m=f.createElement("link"),$i(m,"link",o),Oi(m),f.head.appendChild(m)}}}function SB(o,c,f){Nr.S(o,c,f);var m=Il;if(m&&o){var x=tl(m).hoistableStyles,w=Ol(o);c=c||"default";var M=x.get(w);if(!M){var L={loading:0,preload:null};if(M=m.querySelector(Ed(w)))L.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":c},f),(f=da.get(w))&&j_(o,f);var G=M=m.createElement("link");Oi(G),$i(G,"link",o),G._p=new Promise(function(ne,ge){G.onload=ne,G.onerror=ge}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Ef(M,c,m)}M={type:"stylesheet",instance:M,count:1,state:L},x.set(w,M)}}}function wB(o,c){Nr.X(o,c);var f=Il;if(f&&o){var m=tl(f).hoistableScripts,x=Ll(o),w=m.get(x);w||(w=f.querySelector(Nd(x)),w||(o=h({src:o,async:!0},c),(c=da.get(x))&&K_(o,c),w=f.createElement("script"),Oi(w),$i(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function CB(o,c){Nr.M(o,c);var f=Il;if(f&&o){var m=tl(f).hoistableScripts,x=Ll(o),w=m.get(x);w||(w=f.querySelector(Nd(x)),w||(o=h({src:o,async:!0,type:"module"},c),(c=da.get(x))&&K_(o,c),w=f.createElement("script"),Oi(w),$i(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function t1(o,c,f,m){var x=(x=le.current)?Af(x):null;if(!x)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Ol(f.href),f=tl(x).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Ol(f.href);var w=tl(x).hoistableStyles,M=w.get(o);if(M||(x=x.ownerDocument||x,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,M),(w=x.querySelector(Ed(o)))&&!w._p&&(M.instance=w,M.state.loading=5),da.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},da.set(o,f),w||TB(x,o,f,M.state))),c&&m===null)throw Error(n(528,""));return M}if(c&&m!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ll(f),f=tl(x).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Ol(o){return'href="'+ia(o)+'"'}function Ed(o){return'link[rel="stylesheet"]['+o+"]"}function i1(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function TB(o,c,f,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),$i(c,"link",f),Oi(c),o.head.appendChild(c))}function Ll(o){return'[src="'+ia(o)+'"]'}function Nd(o){return"script[async]"+o}function n1(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+ia(f.href)+'"]');if(m)return c.instance=m,Oi(m),m;var x=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Oi(m),$i(m,"style",x),Ef(m,f.precedence,o),c.instance=m;case"stylesheet":x=Ol(f.href);var w=o.querySelector(Ed(x));if(w)return c.state.loading|=4,c.instance=w,Oi(w),w;m=i1(f),(x=da.get(x))&&j_(m,x),w=(o.ownerDocument||o).createElement("link"),Oi(w);var M=w;return M._p=new Promise(function(L,G){M.onload=L,M.onerror=G}),$i(w,"link",m),c.state.loading|=4,Ef(w,f.precedence,o),c.instance=w;case"script":return w=Ll(f.src),(x=o.querySelector(Nd(w)))?(c.instance=x,Oi(x),x):(m=f,(x=da.get(w))&&(m=h({},f),K_(m,x)),o=o.ownerDocument||o,x=o.createElement("script"),Oi(x),$i(x,"link",m),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Ef(m,f.precedence,o));return c.instance}function Ef(o,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,w=x,M=0;M<m.length;M++){var L=m[M];if(L.dataset.precedence===c)w=L;else if(w!==x)break}w?w.parentNode.insertBefore(o,w.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function j_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function K_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Nf=null;function a1(o,c,f){if(Nf===null){var m=new Map,x=Nf=new Map;x.set(f,m)}else x=Nf,m=x.get(f),m||(m=new Map,x.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var w=f[x];if(!(w[Vc]||w[Wi]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(c)||"";M=o+M;var L=m.get(M);L?L.push(w):m.set(M,[w])}}return m}function r1(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function AB(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function s1(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function EB(o,c,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var x=Ol(m.href),w=c.querySelector(Ed(x));if(w){c=w._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Mf.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=w,Oi(w);return}w=c.ownerDocument||c,m=i1(m),(x=da.get(x))&&j_(m,x),w=w.createElement("link"),Oi(w);var M=w;M._p=new Promise(function(L,G){M.onload=L,M.onerror=G}),$i(w,"link",m),f.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Mf.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var F_=0;function NB(o,c){return o.stylesheets&&o.count===0&&If(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var m=setTimeout(function(){if(o.stylesheets&&If(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+c);0<o.imgBytes&&F_===0&&(F_=62500*cB());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&If(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>F_?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function Mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Pf=null;function If(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Pf=new Map,c.forEach(MB,o),Pf=null,Mf.call(o))}function MB(o,c){if(!(c.state.loading&4)){var f=Pf.get(o);if(f)var m=f.get(null);else{f=new Map,Pf.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var M=x[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(f.set(M.dataset.precedence,M),m=M)}m&&f.set(null,m)}x=c.instance,M=x.getAttribute("data-precedence"),w=f.get(M)||m,w===m&&f.set(null,x),f.set(M,x),this.count++,m=Mf.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),w?w.parentNode.insertBefore(x,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var Md={$$typeof:E,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function PB(o,c,f,m,x,w,M,L,G){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function o1(o,c,f,m,x,w,M,L,G,ne,ge,ye){return o=new PB(o,c,f,M,G,ne,ge,ye,L),c=1,w===!0&&(c|=24),w=Bn(3,null,null,c),o.current=w,w.stateNode=o,c=_y(),c.refCount++,o.pooledCache=c,c.refCount++,w.memoizedState={element:m,isDehydrated:f,cache:c},ky(w),o}function l1(o){return o?(o=ul,o):ul}function c1(o,c,f,m,x,w){x=l1(x),m.context===null?m.context=x:m.pendingContext=x,m=gs(c),m.payload={element:f},w=w===void 0?null:w,w!==null&&(m.callback=w),f=hs(o,m,c),f!==null&&(An(f,o,c),ld(f,o,c))}function d1(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function B_(o,c){d1(o,c),(o=o.alternate)&&d1(o,c)}function u1(o){if(o.tag===13||o.tag===31){var c=eo(o,67108864);c!==null&&An(c,o,67108864),B_(o,67108864)}}function p1(o){if(o.tag===13||o.tag===31){var c=Vn();c=Rm(c);var f=eo(o,c);f!==null&&An(f,o,c),B_(o,c)}}var Of=!0;function IB(o,c,f,m){var x=K.T;K.T=null;var w=z.p;try{z.p=2,U_(o,c,f,m)}finally{z.p=w,K.T=x}}function OB(o,c,f,m){var x=K.T;K.T=null;var w=z.p;try{z.p=8,U_(o,c,f,m)}finally{z.p=w,K.T=x}}function U_(o,c,f,m){if(Of){var x=q_(m);if(x===null)A_(o,c,m,Lf,f),g1(o,m);else if(RB(x,o,c,f,m))m.stopPropagation();else if(g1(o,m),c&4&&-1<LB.indexOf(o)){for(;x!==null;){var w=el(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=qa(w.pendingLanes);if(M!==0){var L=w;for(L.pendingLanes|=2,L.entangledLanes|=2;M;){var G=1<<31-Et(M);L.entanglements[1]|=G,M&=~G}Ha(w),(wt&6)===0&&(mf=Ze()+500,wd(0))}}break;case 31:case 13:L=eo(w,2),L!==null&&An(L,w,2),_f(),B_(w,2)}if(w=q_(m),w===null&&A_(o,c,m,Lf,f),w===x)break;x=w}x!==null&&m.stopPropagation()}else A_(o,c,m,null,f)}}function q_(o){return o=Wm(o),z_(o)}var Lf=null;function z_(o){if(Lf=null,o=Zo(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=l(c),o!==null)return o;o=null}else if(f===31){if(o=d(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Lf=o,null}function f1(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case ue:return 2;case ve:return 8;case Qe:case st:return 32;case et:return 268435456;default:return 32}default:return 32}}var W_=!1,Ts=null,As=null,Es=null,Pd=new Map,Id=new Map,Ns=[],LB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g1(o,c){switch(o){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Pd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(c.pointerId)}}function Od(o,c,f,m,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},c!==null&&(c=el(c),c!==null&&u1(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function RB(o,c,f,m,x){switch(c){case"focusin":return Ts=Od(Ts,o,c,f,m,x),!0;case"dragenter":return As=Od(As,o,c,f,m,x),!0;case"mouseover":return Es=Od(Es,o,c,f,m,x),!0;case"pointerover":var w=x.pointerId;return Pd.set(w,Od(Pd.get(w)||null,o,c,f,m,x)),!0;case"gotpointercapture":return w=x.pointerId,Id.set(w,Od(Id.get(w)||null,o,c,f,m,x)),!0}return!1}function h1(o){var c=Zo(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){o.blockedOn=c,Nw(o.priority,function(){p1(f)});return}}else if(c===31){if(c=d(f),c!==null){o.blockedOn=c,Nw(o.priority,function(){p1(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Rf(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=q_(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);zm=m,f.target.dispatchEvent(m),zm=null}else return c=el(f),c!==null&&u1(c),o.blockedOn=f,!1;c.shift()}return!0}function m1(o,c,f){Rf(o)&&f.delete(c)}function DB(){W_=!1,Ts!==null&&Rf(Ts)&&(Ts=null),As!==null&&Rf(As)&&(As=null),Es!==null&&Rf(Es)&&(Es=null),Pd.forEach(m1),Id.forEach(m1)}function Df(o,c){o.blockedOn===c&&(o.blockedOn=null,W_||(W_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,DB)))}var jf=null;function y1(o){jf!==o&&(jf=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jf===o&&(jf=null);for(var c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],x=o[c+2];if(typeof m!="function"){if(z_(m||f)===null)continue;break}var w=el(f);w!==null&&(o.splice(c,3),c-=3,qy(w,{pending:!0,data:x,method:f.method,action:m},m,x))}}))}function Rl(o){function c(G){return Df(G,o)}Ts!==null&&Df(Ts,o),As!==null&&Df(As,o),Es!==null&&Df(Es,o),Pd.forEach(c),Id.forEach(c);for(var f=0;f<Ns.length;f++){var m=Ns[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Ns.length&&(f=Ns[0],f.blockedOn===null);)h1(f),f.blockedOn===null&&Ns.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var x=f[m],w=f[m+1],M=x[xn]||null;if(typeof w=="function")M||y1(f);else if(M){var L=null;if(w&&w.hasAttribute("formAction")){if(x=w,M=w[xn]||null)L=M.formAction;else if(z_(x)!==null)continue}else L=M.action;typeof L=="function"?f[m+1]=L:(f.splice(m,3),m-=3),y1(f)}}}function _1(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(M){return x=M})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function V_(o){this._internalRoot=o}Kf.prototype.render=V_.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,m=Vn();c1(f,m,o,c,null,null)},Kf.prototype.unmount=V_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;c1(o.current,2,null,o,null,null),_f(),c[Jo]=null}};function Kf(o){this._internalRoot=o}Kf.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ew();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ns.length&&c!==0&&c<Ns[f].priority;f++);Ns.splice(f,0,o),f===0&&h1(o)}};var v1=t.version;if(v1!=="19.2.4")throw Error(n(527,v1,"19.2.4"));z.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=u(c),o=o!==null?g(o):null,o=o===null?null:o.stateNode,o};var jB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{Qt=Ff.inject(jB),Xt=Ff}catch{}}return Rd.createRoot=function(o,c){if(!r(o))throw Error(n(299));var f=!1,m="",x=TT,w=AT,M=ET;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError)),c=o1(o,1,!1,null,null,f,m,null,x,w,M,_1),o[Jo]=c.current,T_(o),new V_(c)},Rd.hydrateRoot=function(o,c,f){if(!r(o))throw Error(n(299));var m=!1,x="",w=TT,M=AT,L=ET,G=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(L=f.onRecoverableError),f.formState!==void 0&&(G=f.formState)),c=o1(o,1,!0,c,f??null,m,x,G,w,M,L,_1),c.context=l1(null),f=c.current,m=Vn(),m=Rm(m),x=gs(m),x.callback=null,hs(f,x,m),f=m,c.current.lanes=f,Ys(c,f),Ha(c),o[Jo]=c.current,T_(o),new Kf(c)},Rd.version="19.2.4",Rd}var N1;function QB(){if(N1)return Y_.exports;N1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Y_.exports=YB(),Y_.exports}var XB=QB();const JB=Jn(XB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=(...e)=>e.filter((t,i,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,n)=>n?n.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=e=>{const t=eU(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:l,...d},p)=>A.createElement("svg",{ref:p,...tU,width:t,height:t,stroke:e,strokeWidth:n?Number(i)*24/Number(t):i,className:rR("lucide",r),...!s&&!iU(d)&&{"aria-hidden":"true"},...d},[...l.map(([u,g])=>A.createElement(u,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const i=A.forwardRef(({className:n,...r},s)=>A.createElement(nU,{ref:s,iconNode:t,className:rR(`lucide-${ZB(M1(e))}`,`lucide-${e}`,n),...r}));return i.displayName=M1(e),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ya=me("activity",aU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dc=me("arrow-left",rU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],on=me("arrow-right",sU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wu=me("award",oU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],uc=me("book-open",lU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],dU=me("bot",cU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],pU=me("brain-circuit",uU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Z0=me("brain",fU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Lh=me("briefcase",gU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Yr=me("building-2",hU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],P1=me("building",mU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_U=me("calculator",yU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kc=me("calendar",vU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xU=me("camera",bU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sR=me("chart-column",kU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ek=me("chart-no-axes-column",SU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ja=me("check",wU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ju=me("chevron-down",CU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ir=me("chevron-left",TU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ic=me("chevron-right",AU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oR=me("chevron-up",EU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],MU=me("chromium",NU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pc=me("circle-alert",PU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],OU=me("circle-arrow-up",IU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hx=me("circle-check-big",LU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],He=me("circle-check",RU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lR=me("circle-play",DU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KU=me("circle-question-mark",jU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zi=me("clock",FU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],cR=me("cloud-upload",BU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qU=me("copy",UU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Do=me("credit-card",zU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],VU=me("database",WU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],GU=me("dollar-sign",HU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fr=me("download",$U);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Po=me("ellipsis",YU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],XU=me("external-link",QU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dR=me("eye",JU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],eq=me("facebook",ZU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],iq=me("factory",tq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ln=me("file-text",nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],rq=me("flag",aq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zu=me("funnel",sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],lq=me("gavel",oq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Br=me("globe",cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],uq=me("graduation-cap",dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],fq=me("grid-3x3",pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],hq=me("hard-hat",gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],tk=me("heart-pulse",mq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_q=me("history",yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],bq=me("hourglass",vq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],kq=me("house",xq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Cg=me("image",Sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Cq=me("info",wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Aq=me("key",Tq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Gl=me("layout-dashboard",Eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Mq=me("layout-grid",Nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Iq=me("library",Pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lq=me("link",Oq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],uR=me("linkedin",Rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],I1=me("list-checks",Dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],pR=me("list",jq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ma=me("loader-circle",Kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rn=me("lock",Fq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fR=me("log-out",Bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tg=me("mail",Uq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dr=me("map-pin",qq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Ds=me("megaphone",zq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Vq=me("menu",Wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vo=me("message-square",Hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],$q=me("mic",Gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],mx=me("monitor",Yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Xq=me("mouse-pointer",Qq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Zq=me("newspaper",Jq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Ag=me("octagon-alert",ez);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Cu=me("panels-top-left",tz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gR=me("phone-call",iz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],az=me("pickaxe",nz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ik=me("play",rz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nc=me("plus",sz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],yx=me("printer",oz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cz=me("refresh-cw",lz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nk=me("save",dz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ka=me("search",uz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fz=me("send",pz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hz=me("settings",gz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],yz=me("share-2",mz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ur=me("shield-alert",_z);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cn=me("shield-check",vz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Sc=me("shield",bz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kz=me("shopping-bag",xz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],hR=me("sliders-vertical",Sz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Or=me("sparkles",wz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Tz=me("sprout",Cz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ez=me("square-check-big",Az);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mR=me("square-pen",Nz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nn=me("star",Mz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Iz=me("tag",Pz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],Lz=me("tags",Oz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ks=me("target",Rz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],O1=me("trash-2",Dz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Kz=me("trending-down",jz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dr=me("trending-up",Fz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ar=me("triangle-alert",Bz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],yR=me("trophy",Uz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],zz=me("truck",qz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Vz=me("twitter",Wz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Gz=me("user-x",Hz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_x=me("user",$z);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Da=me("users",Yz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Xz=me("utensils",Qz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ir=me("video",Jz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_R=me("wallet",Zz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],t6=me("wand-sparkles",e6);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],n6=me("wifi",i6);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],r6=me("wrench",a6);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yn=me("x",s6);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ii=me("zap",o6),Z_={en:{hero:{title_prefix:"Is your Business",title_highlight:"Leaking Profit?",title_suffix:"We Know Where.",subtitle:"Most founders have vision (Heart) but lack the engine (Wallet). Take the 7-Minute Forensic Scan.",cta_scan:"Start Free Quick Scan",cta_partners:"For Accountants & Coaches",trust_tier1:"Trusted by New York Agencies",trust_tier3:"Trusted by Top African SMEs",critical_warning:"Critical Warning"},nav:{courses:"Courses",live:"Live Sessions",experts:"Find Experts",pricing:"Pricing",login:"Sign In",get_started:"Get Started"},pricing:{tier1_name:"Standard",tier3_name:"Emerging Market",ppp_notice:"Your region qualifies for discounted local pricing."},hud:{title:"Command Center",subtitle:"{businessName}  {industryLabel}  {countryName}",lastUpdated:"Last updated: {date}",refresh:"Re-scan",primaryCta:"Fix My Critical Pillar",primaryCta_helper:"Start with the bottleneck thats limiting profit right now.",viewReport:"View Full Report",downloadReport:"Download PDF",resumeAssessment:"Resume Deep Scan"},radar:{title:"Your 7-Pillar Health Map",subtitle:"This is your current business shape. The smallest pillar usually limits growth.",critical_label:"Critical Pillar",critical_helper:"This is the bottleneck. Improving it lifts the whole system fastest.",strength_label:"Top Strength",strength_helper:"Protect this. Your strongest pillar is often the engine of your advantage.",cta_focusPillar:"Open {pillarName} Fix Plan",cta_viewDrivers:"See what drove this score"},pillar:{brain:"Brain",voice:"Voice",engine:"Engine",fuel:"Fuel",pulse:"Pulse",shield:"Shield",tribe:"Tribe"},tooltip:{brain:{meaning:"Leadership clarity, hiring quality, accountability.",weakLeak:"Profit leaks through confusion.",weekFix:"Define 3 priorities + 3 KPIs."},voice:{meaning:"Lead flow, conversion, messaging.",weakLeak:"Profit leaks through weak distribution.",weekFix:"Install follow-up cadence."},engine:{meaning:"Execution speed, SOPs, delegation.",weakLeak:"Profit leaks through rework.",weekFix:"Document top 10 SOPs."},fuel:{meaning:"Cash flow control, margins.",weakLeak:"Profit leaks quietly through underpricing.",weekFix:"List top 5 costs + top 5 revenue lines."},pulse:{meaning:"Market fit, product evolution.",weakLeak:"Profit leaks through obsolete offers.",weekFix:"Survey 10 customers."},shield:{meaning:"Contracts, compliance, risk.",weakLeak:"Profit wiped out by one shock.",weekFix:"Standardize contracts + 2FA."},tribe:{meaning:"Trust, autonomy, feedback safety.",weakLeak:"Profit leaks through politics.",weekFix:"Reduce approvals."}},benchmark:{headline_high:"Youre in the Top {topPercent}% of {industryLabel} in {countryName}.",headline_mid:"Youre ahead of {percentAhead}% of {industryLabel} in {countryName}.",headline_early:"Early benchmark: your position is estimated for {industryLabel} in {countryName}.",subhead:"Based on businesses with similar size and category. Cohort: {cohortSize}.",confidence_high:"High confidence",downloadBadge:"Download Industry Leader Badge",howCalculated:"How this is calculated",modal:{title:"Benchmark Method",cohortTitle:"Who youre compared to",cohortBody:"We compare you to businesses in {countryName} within {industryLabel} and a similar size band ({sizeBand}).",metricTitle:"What we rank",metricBody:"Your benchmark is based on a Health Index calculated from your 7 pillar scores.",confidenceTitle:"Confidence level",confidenceBody:"Confidence rises as cohort size grows.",updateTitle:"When it updates",updateBody:"Benchmarks update as new assessments enter the dataset.",footer:"This benchmark shows relative positionnot guaranteed outcomes."}},sim:{title:"Profit Simulator",subtitle:"Move the levers. Watch the profit impact. Then generate a fix plan from your best scenario.",baseline:{revenue:"Revenue: {amount}",margin:"Margin: {percent}%"},slider:{price:"Price",price_helper:"Raise pricing power.",conversion:"Conversion",conversion_helper:"Turn more leads into customers.",retention:"Retention",retention_helper:"Keep customers longer.",efficiency:"Efficiency",efficiency_helper:"Reduce rework.",costControl:"Cost Control",costControl_helper:"Cut zombie costs.",quality:"Quality",quality_helper:"Reduce churn.",riskReduction:"Risk",riskReduction_helper:"Reduce shock risk.",teamSpeed:"Speed",teamSpeed_helper:"Faster execution."},output:{title:"Projected Impact",delta:"Change: {deltaAmount}",bestLever:"Biggest lever: {leverName}",why:"Why: Your {pillarName} score suggests {mechanism}."},cta:{saveScenario:"Sauvegarder",generatePlan:"Gnrer le Plan"},mechanism:{fuel:"your cash flow is constrained by pricing and collections",engine:"rework is absorbing productive time",voice:"lead conversion is limiting revenue",pulse:"product relevance is affecting purchases",shield:"risk exposure creates volatility",brain:"priority noise reduces speed",tribe:"approval friction slows decisions"}},trust:{benchmarkNote:"Benchmarks are directional.",simulatorNote:"Simulator outputs are estimates.",tribePrivacy:"Results are aggregated."}},fr:{hero:{title_prefix:"Votre entreprise",title_highlight:"Perd-elle du Profit ?",title_suffix:"Nous Savons O.",subtitle:"La plupart des fondateurs ont la vision (Cur) mais manquent de moteur (Portefeuille). Faites le scan de 7 minutes.",cta_scan:"Scan Rapide Gratuit",cta_partners:"Pour Comptables & Coachs",trust_tier1:"Approuv par les agences de Paris",trust_tier3:"Approuv par les PME d'Afrique de l'Ouest",critical_warning:"Alerte Critique"},nav:{courses:"Formations",live:"En Direct",experts:"Experts",pricing:"Tarifs",login:"Connexion",get_started:"Commencer"},pricing:{tier1_name:"Standard",tier3_name:"March mergent",ppp_notice:"Votre rgion bnficie d'une tarification locale rduite."},hud:{title:"Centre de Commande",subtitle:"{businessName}  {industryLabel}  {countryName}",lastUpdated:"Mis  jour: {date}",refresh:"Re-scanner",primaryCta:"Rparer le Pilier Critique",primaryCta_helper:"Commencez par le goulot d'tranglement qui limite vos profits.",viewReport:"Voir Rapport Complet",downloadReport:"Tlcharger PDF",resumeAssessment:"Reprendre l'Audit"},radar:{title:"Votre Carte de Sant (7 Piliers)",subtitle:"Ceci est la  forme  actuelle de votre entreprise. Le plus petit pilier limite la croissance.",critical_label:"Pilier Critique",critical_helper:"C'est le goulot d'tranglement.",strength_label:"Force Principale",strength_helper:"Protgez ceci. C'est votre moteur.",cta_focusPillar:"Ouvrir le Plan {pillarName}",cta_viewDrivers:"Voir les causes"},pillar:{brain:"Cerveau",voice:"Voix",engine:"Moteur",fuel:"Carburant",pulse:"Pouls",shield:"Bouclier",tribe:"Tribu"},tooltip:{brain:{meaning:"Clart du leadership, recrutement.",weakLeak:"Fuites par confusion.",weekFix:"Dfinir 3 priorits."},voice:{meaning:"Flux de leads, conversion.",weakLeak:"Fuites par faible distribution.",weekFix:"Suivi des leads."},engine:{meaning:"Vitesse d'excution, SOPs.",weakLeak:"Fuites par retravail.",weekFix:"Documenter 10 SOPs."},fuel:{meaning:"Contrle du cash, marges.",weakLeak:"Fuites par sous-tarification.",weekFix:"Lister top 5 cots."},pulse:{meaning:"Adquation march, produit.",weakLeak:"Fuites par offres obsoltes.",weekFix:"Sonder 10 clients."},shield:{meaning:"Contrats, conformit.",weakLeak:"Profit ananti par un choc.",weekFix:"Contrats standards + 2FA."},tribe:{meaning:"Confiance, autonomie.",weakLeak:"Fuites par politique interne.",weekFix:"Rduire les approbations."}},sim:{title:"Simulateur de Profit",subtitle:"Bougez les leviers. Voyez l'impact. Gnrez un plan.",baseline:{revenue:"Revenu: {amount}",margin:"Marge: {percent}%"},slider:{price:"Prix",price_helper:"Augmenter le pouvoir de prix.",conversion:"Conversion",conversion_helper:"Convertir plus de leads.",retention:"Rtention",retention_helper:"Garder les clients.",efficiency:"Efficacit",efficiency_helper:"Rduire le retravail.",costControl:"Contrle Cots",costControl_helper:"Couper les cots zombies.",quality:"Qualit",quality_helper:"Rduire l'attrition.",riskReduction:"Risque",riskReduction_helper:"Rduire les chocs.",teamSpeed:"Vitesse",teamSpeed_helper:"Excution plus rapide."},output:{title:"Impact Projet",delta:"Changement: {deltaAmount}",bestLever:"Meilleur levier: {leverName}",why:"Pourquoi: Votre score {pillarName} suggre {mechanism}."},cta:{saveScenario:"Sauvegarder",generatePlan:"Gnrer le Plan"},mechanism:{fuel:"votre cash flow est contraint",engine:"le retravail absorbe du temps",voice:"la conversion limite les revenus",pulse:"la pertinence produit affecte les achats",shield:"l'exposition aux risques cre de la volatilit",brain:"le bruit prioritaire rduit la vitesse",tribe:"la friction d'approbation ralentit tout"}}},sw:{hero:{title_prefix:"Je, Biashara Yako",title_highlight:"Inapoteza Faida?",title_suffix:"Tunajua Wapi.",subtitle:"Waanzilishi wengi wana maono (Moyo) lakini wanakosa injini (Pochi). Fanya uchunguzi wa dakika 7.",cta_scan:"Anza Uchunguzi wa Bure",cta_partners:"Kwa Wahasibu na Makocha",trust_tier1:"Inaaminika na Mashirika ya Global",trust_tier3:"Inaaminika na SMEs za Juu Afrika",critical_warning:"Onyo Muhimu"},nav:{courses:"Mafunzo",live:"Moja kwa Moja",experts:"Wataalamu",pricing:"Bei",login:"Ingia",get_started:"Anza Sasa"},pricing:{tier1_name:"Kawaida",tier3_name:"Soko Linalokua",ppp_notice:"Eneo lako linastahiki punguzo la bei la ndani."},hud:{title:"Kituo cha Amri",subtitle:"{businessName}  {industryLabel}  {countryName}",lastUpdated:"Ilisasishwa: {date}",refresh:"Chunguza Tena",primaryCta:"Rekebisha Nguzo Muhimu",primaryCta_helper:"Anza na kikwazo kinachopunguza faida sasa.",viewReport:"Tazama Ripoti Kamili",downloadReport:"Pakua PDF",resumeAssessment:"Endelea na Uchunguzi"},radar:{title:"Ramani Yako ya Afya (Nguzo 7)",subtitle:"Hii ndiyo 'umbo' la biashara yako sasa. Nguzo ndogo zaidi huzuia ukuaji.",critical_label:"Nguzo Muhimu",critical_helper:"Hiki ndicho kikwazo. Kukiboresha kunainua mfumo mzima.",strength_label:"Nguvu Kubwa",strength_helper:"Linda hii. Hii ndiyo injini ya faida yako.",cta_focusPillar:"Fungua Mpango wa {pillarName}",cta_viewDrivers:"Ona sababu za alama hii"},pillar:{brain:"Ubongo",voice:"Sauti",engine:"Injini",fuel:"Mafuta",pulse:"Mapigo",shield:"Ngao",tribe:"Kabila"},tooltip:{brain:{meaning:"Uongozi na uwazi.",weakLeak:"Faida inapotea kwa kuchanganyikiwa.",weekFix:"Weka vipaumbele 3."},voice:{meaning:"Mauzo na ujumbe.",weakLeak:"Faida inapotea kwa usambazaji dhaifu.",weekFix:"Fuatilia wateja."},engine:{meaning:"Kasi ya utekelezaji.",weakLeak:"Faida inapotea kwa kurudia kazi.",weekFix:"Andika taratibu (SOPs)."},fuel:{meaning:"Udhibiti wa pesa.",weakLeak:"Faida inapotea kwa bei ndogo.",weekFix:"Orodhesha gharama na mapato."},pulse:{meaning:"Ubora wa bidhaa.",weakLeak:"Faida inapotea kwa bidhaa za zamani.",weekFix:"Uliza wateja 10."},shield:{meaning:"Mikataba na usalama.",weakLeak:"Faida inafutwa na mshtuko mmoja.",weekFix:"Mikataba na usalama wa data."},tribe:{meaning:"Ushirikiano na kuaminiana.",weakLeak:"Faida inapotea kwa siasa za ofisi.",weekFix:"Punguza idhini zisizo lazima."}},sim:{title:"Kielelezo cha Faida",subtitle:"Sogeza vichocheo. Ona athari kwa faida. Tengeneza mpango.",baseline:{revenue:"Mapato: {amount}",margin:"Faida Ghafi: {percent}%"},slider:{price:"Bei",price_helper:"Ongeza nguvu ya bei.",conversion:"Ubadilishaji",conversion_helper:"Badilisha wateja zaidi.",retention:"Uhifadhi",retention_helper:"Weka wateja muda mrefu.",efficiency:"Ufanisi",efficiency_helper:"Punguza kurudia kazi.",costControl:"Udhibiti Gharama",costControl_helper:"Kata gharama zisizo na faida.",quality:"Ubora",quality_helper:"Punguza malalamiko.",riskReduction:"Hatari",riskReduction_helper:"Punguza hatari.",teamSpeed:"Kasi",teamSpeed_helper:"Utekelezaji wa haraka."},output:{title:"Athari Iliyokadiriwa",delta:"Mabadiliko: {deltaAmount}",bestLever:"Kichocheo kikubwa: {leverName}",why:"Kwa nini: Alama yako ya {pillarName} inaonyesha {mechanism}."},cta:{saveScenario:"Hifadhi",generatePlan:"Tengeneza Mpango"},mechanism:{fuel:"mtiririko wako wa pesa umebanwa",engine:"kurudia kazi kunapoteza muda",voice:"uongofu wa wateja unazuia mapato",pulse:"uhusiano wa bidhaa unaathiri manunuzi",shield:"hatari inatengeneza kutokuwa na uhakika",brain:"kelele za vipaumbele zinapunguza kasi",tribe:"msuguano wa idhini unapunguza maamuzi"}}}},l6={USD:1,EUR:.92,GBP:.79,UGX:3750,KES:130,NGN:1500,INR:83},c6={1:1,2:.6,3:.5},d6=(e,t)=>{const i=t.split(".");let n=Z_[e];n||(n=Z_.en);for(const r of i)if(n&&n[r]!==void 0)n=n[r];else{let s=Z_.en;for(const l of i){if(s[l]===void 0)return t;s=s[l]}return typeof s=="string"?s:t}return typeof n=="string"?n:t},u6=(e,t)=>{const i=l6[t]||1,n=e*i;if(["UGX","KES","NGN","INR"].includes(t)){const r=Math.ceil(n/100)*100;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(r)}return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(n)},p6=(e,t,i)=>{const n=c6[t],r=e*n;return u6(r,i)},L1=e=>{const t=e||"US",i={US:{country:"US",currency:"USD",language:"en",pricingTier:1,contentRegion:"US_UK_AGENCY",regionGroup:"NAFTA"},GB:{country:"GB",currency:"GBP",language:"en",pricingTier:1,contentRegion:"US_UK_AGENCY",regionGroup:"EU"},FR:{country:"FR",currency:"EUR",language:"fr",pricingTier:1,contentRegion:"US_UK_AGENCY",regionGroup:"EU"},UG:{country:"UG",currency:"UGX",language:"en",pricingTier:3,contentRegion:"AFRICA_SME",regionGroup:"EAC"},KE:{country:"KE",currency:"KES",language:"sw",pricingTier:3,contentRegion:"AFRICA_SME",regionGroup:"EAC"},NG:{country:"NG",currency:"NGN",language:"en",pricingTier:3,contentRegion:"AFRICA_SME",regionGroup:"ECOWAS"},IN:{country:"IN",currency:"INR",language:"en",pricingTier:2,contentRegion:"GLOBAL",regionGroup:"APAC"},GLOBAL:{country:"GLOBAL",currency:"USD",language:"en",pricingTier:1,contentRegion:"GLOBAL",regionGroup:"GLOBAL"}};return i[t]||i.US},vR=A.createContext(void 0),f6=({children:e})=>{const[t,i]=A.useState(L1("US")),n=p=>{const u=L1(p);i(u)},r=p=>{i(u=>({...u,language:p}))},s=p=>{i(u=>({...u,currency:p}))},l=p=>d6(t.language,p),d=p=>p6(p,t.pricingTier,t.currency);return a.jsx(vR.Provider,{value:{locale:t,setRegion:n,setLanguage:r,setCurrency:s,t:l,price:d},children:e})},wc=()=>{const e=A.useContext(vR);if(!e)throw new Error("useLocalization must be used within a LocalizationProvider");return e},g6=["GLOBAL","US","GB","FR","UG","KE","NG","IN"],h6=({currentView:e,setView:t,user:i,onLogout:n,categories:r,onSearch:s,onCategorySelect:l})=>{const{locale:d,setRegion:p,t:u}=wc(),[g,h]=A.useState(!1),[y,v]=A.useState(!1),[S,k]=A.useState(""),C=A.useRef(null);A.useEffect(()=>{const E=O=>{C.current&&!C.current.contains(O.target)&&h(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const T=E=>{E.preventDefault(),S.trim()&&(s(S),h(!1),v(!1))},N=E=>{t(E),v(!1),h(!1)};return A.useEffect(()=>(y?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[y]),a.jsxs("nav",{className:"sticky top-0 z-50 w-full bg-surface-container/95 backdrop-blur-sm border-b border-white/50 h-[72px] flex items-center shadow-sm",children:[a.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{className:"md:hidden p-3 rounded-full hover:bg-surface-variant/50 text-on-surface transition-colors ripple",onClick:()=>v(!0),children:a.jsx(Vq,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center cursor-pointer gap-3",onClick:()=>N("landing"),children:[a.jsx("div",{className:"w-10 h-10 bg-primary-container text-on-primary-container rounded-xl flex items-center justify-center shadow-sm",children:a.jsx("span",{className:"font-bold text-xl",children:"P"})}),a.jsx("span",{className:"font-medium text-xl tracking-tight text-on-surface hidden sm:block",children:"Profit Channel"})]}),a.jsxs("div",{className:"hidden md:block relative",ref:C,children:[a.jsxs("button",{className:`flex items-center gap-2 text-sm font-medium py-2 px-4 rounded-full transition-all border ${g?"bg-secondary-container text-on-secondary-container border-transparent":"bg-surface border-outline/20 text-on-surface-variant hover:bg-surface-variant/30"}`,onClick:()=>h(!g),children:[u("nav.courses")," ",a.jsx(Ju,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),g&&a.jsxs("div",{className:"absolute top-full left-0 w-[600px] bg-surface rounded-2xl shadow-elevation-3 mt-3 p-2 overflow-hidden z-50 animate-in fade-in zoom-in-95 origin-top-left border border-outline/10",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(E=>a.jsxs("button",{onClick:()=>{l(E.key),h(!1)},className:"group text-left px-4 py-3 rounded-xl hover:bg-surface-variant/30 hover:text-primary text-sm font-medium text-on-surface flex items-center gap-3 transition-all duration-200",children:[a.jsx("span",{className:"text-xl transition-transform duration-200 group-hover:scale-110 group-hover:-rotate-3",children:E.icon}),a.jsx("span",{children:E.name})]},E.key))}),a.jsx("div",{className:"mt-2 pt-2 border-t border-outline/10 px-2 pb-1",children:a.jsx("button",{onClick:()=>N("catalog"),className:"w-full text-center py-2.5 rounded-full text-sm font-bold text-primary hover:bg-primary-container/30 transition-colors",children:"View all courses"})})]})]})]}),a.jsx("div",{className:"hidden lg:block flex-1 max-w-md mx-4",children:a.jsxs("form",{onSubmit:T,className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(Ka,{className:"w-5 h-5 text-on-surface-variant/70"})}),a.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-12 pr-4 py-3 bg-surface-variant/40 hover:bg-surface-variant/60 focus:bg-surface-variant/80 border-none rounded-full text-on-surface text-base placeholder-on-surface-variant/70 focus:ring-2 focus:ring-primary focus:outline-none transition-all",value:S,onChange:E=>k(E.target.value)})]})}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx("div",{className:"hidden md:flex items-center",children:a.jsxs("div",{className:"group relative",children:[a.jsxs("button",{className:"flex items-center gap-2 text-sm text-on-surface-variant hover:bg-surface-variant/30 rounded-full px-3 py-1.5 transition-colors border border-outline/20",children:[a.jsx(Br,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:d.country})]}),a.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-surface rounded-xl shadow-elevation-2 overflow-hidden z-20 hidden group-hover:block py-2",children:g6.map(E=>a.jsx("button",{onClick:()=>p(E),className:`w-full text-left px-4 py-2 text-sm hover:bg-surface-container flex items-center justify-between ${d.country===E?"text-primary font-bold":"text-on-surface"}`,children:E},E))})]})}),i?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"hidden md:flex flex-col items-end mr-2",children:[a.jsx("span",{className:"text-sm font-bold text-on-surface leading-none",children:i.name}),a.jsx("span",{className:"text-[10px] text-on-surface-variant",children:i.role})]}),a.jsx("button",{onClick:()=>N("dashboard"),className:"w-10 h-10 rounded-full overflow-hidden border-2 border-surface shadow-sm hover:ring-2 hover:ring-primary transition-all",children:a.jsx("img",{src:i.avatar,alt:"Profile",className:"w-full h-full object-cover"})})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>N("login"),className:"text-sm font-medium text-primary hover:bg-primary-container/30 px-4 py-2 rounded-full transition-colors",children:u("nav.login")}),a.jsx("button",{onClick:()=>N("signup"),className:"bg-primary text-on-primary px-5 py-2 rounded-full text-sm font-medium hover:shadow-elevation-1 hover:bg-primary/90 transition-all",children:u("nav.get_started")})]})]})]})}),y&&a.jsxs("div",{className:"fixed inset-0 z-[60] flex justify-end font-sans",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:()=>v(!1)}),a.jsxs("div",{className:"relative w-[85%] max-w-[320px] h-full bg-white shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center bg-white",children:[i?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:i.avatar,alt:i.name,className:"w-10 h-10 rounded-full border border-gray-200"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900 text-sm leading-tight",children:i.name}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i.role.replace("_"," ")})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-black text-white rounded-lg flex items-center justify-center font-bold",children:"P"}),a.jsx("span",{className:"text-lg font-bold text-gray-900 tracking-tight",children:"Profit Channel"})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:a.jsx(yn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto py-2",children:[a.jsx("div",{className:"px-3 space-y-1",children:[{id:"dashboard",label:"Dashboard",icon:Gl,show:!!i},{id:"catalog",label:u("nav.courses"),icon:uc,show:!0},{id:"live_schedule",label:u("nav.live"),icon:ir,show:!0},{id:"consultant_marketplace",label:u("nav.experts"),icon:Da,show:!0},{id:"pricing",label:u("nav.pricing"),icon:Do,show:!0}].filter(E=>E.show).map(E=>a.jsxs("button",{onClick:()=>N(E.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ${e===E.id?"bg-black text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[E.icon&&a.jsx(E.icon,{className:"w-5 h-5"}),E.label]},E.id))}),a.jsx("div",{className:"my-4 border-t border-gray-100 mx-5"}),a.jsxs("div",{className:"px-5 space-y-4",children:[a.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Settings"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Region"}),a.jsx("div",{className:"flex gap-2",children:["GLOBAL","US","UG"].map(E=>a.jsx("button",{onClick:()=>p(E),className:`text-[10px] font-bold px-2 py-1 rounded border ${d.country===E?"bg-black text-white border-black":"bg-white text-gray-500 border-gray-200"}`,children:E},E))})]})]})]}),a.jsx("div",{className:"p-5 border-t border-gray-100 bg-gray-50 mt-auto",children:i?a.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-bold text-red-600 bg-white border border-red-100 hover:bg-red-50 rounded-xl transition-colors shadow-sm",children:[a.jsx(fR,{className:"w-5 h-5"})," Sign Out"]}):a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:()=>N("login"),className:"px-4 py-3 rounded-xl text-sm font-bold text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 shadow-sm",children:"Log In"}),a.jsx("button",{onClick:()=>N("signup"),className:"px-4 py-3 rounded-xl text-sm font-bold text-white bg-black hover:bg-gray-800 shadow-md",children:"Sign Up"})]})})]})]})]})},m6=({currentView:e,setView:t,userRole:i})=>{const r=(s=>{const l=[{id:"blog_feed",label:"Blog",icon:Zq},{id:"settings",label:"Settings",icon:hz}];switch(s){case"student":return[{id:"dashboard",label:"Overview",icon:Gl},{id:"second_brain",label:"Second Brain",icon:pU},{id:"locker",label:"Learning Locker",icon:Iq},{id:"action_lab",label:"Action Lab",icon:ii},{id:"ai_ad_studio",label:"AI Ad Studio",icon:Or},{id:"catalog",label:"Marketplace",icon:uc},{id:"pricing",label:"Upgrade Tier",icon:OU},...l];case"trainer":return[{id:"dashboard",label:"Partner Dashboard",icon:Gl},{id:"studio",label:"Content Studio",icon:ir},{id:"students",label:"My Students",icon:Da},{id:"ad_manager",label:"Promotions",icon:Ds},{id:"ai_ad_studio",label:"AI Ad Studio",icon:Or},{id:"billing",label:"Earnings",icon:ek},...l];case"consultant":return[{id:"consultant_dashboard",label:"Command Center",icon:Gl},{id:"clients",label:"Client List",icon:Lh},{id:"ad_manager",label:"Promotions",icon:Ds},{id:"ai_ad_studio",label:"AI Ad Studio",icon:Or},{id:"consultant_marketplace",label:"View Marketplace",icon:uc},{id:"consultant_onboarding",label:"Build Profile",icon:rq},...l];case"enterprise_admin":return[{id:"dashboard",label:"Company Overview",icon:Gl},{id:"company_profile",label:"Public Profile",icon:Yr},{id:"ad_manager",label:"Ads & Sponsors",icon:Ds},{id:"ai_ad_studio",label:"AI Ad Studio",icon:Or},{id:"team",label:"Team Management",icon:Da},{id:"billing",label:"Billing & Seats",icon:Do},...l];case"admin":return[{id:"admin_dashboard",label:"Platform Overview",icon:ya},{id:"admin_verifications",label:"Verifications",icon:Ur},{id:"admin_dashboard",label:"Disputes & Finance",icon:lq},{id:"ad_manager",label:"Ad Policy Review",icon:Ds},...l];default:return[{id:"dashboard",label:"Overview",icon:Gl},...l]}})(i);return a.jsxs("aside",{className:"w-[280px] bg-surface-container h-[calc(100vh-72px)] hidden md:flex flex-col sticky top-[72px] p-3 overflow-y-auto",children:[a.jsx("div",{className:"mb-4 px-4 mt-2",children:a.jsx("h3",{className:"text-xs font-bold text-on-surface-variant/70 uppercase tracking-widest",children:i.replace("_"," ")})}),a.jsx("nav",{className:"space-y-1 flex-1",children:r.map(s=>{const l=e===s.id;return a.jsxs("button",{onClick:()=>t(s.id),className:`w-full flex items-center h-[56px] px-4 rounded-full transition-all duration-200 group relative
                ${l?"bg-secondary-container text-on-secondary-container font-bold shadow-sm":"text-on-surface-variant hover:bg-surface-variant/50 hover:text-on-surface"}`,children:[a.jsx(s.icon,{className:`w-5 h-5 mr-3 ${l?"text-on-secondary-container":"text-on-surface-variant group-hover:text-on-surface"}`}),a.jsx("span",{className:"text-sm tracking-wide",children:s.label}),l&&a.jsx("span",{className:"absolute right-4 w-1.5 h-1.5 rounded-full bg-on-secondary-container"})]},s.id)})}),a.jsx("div",{className:"mt-auto px-2 pb-4",children:a.jsxs("div",{className:"bg-surface p-4 rounded-2xl border border-outline/10 shadow-sm",children:[i==="student"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-primary",children:"Pro Member"}),a.jsx("span",{className:"text-[10px] bg-primary-container text-on-primary-container px-2 py-0.5 rounded-full",children:"Active"})]}),a.jsx("div",{className:"w-full bg-surface-variant rounded-full h-1",children:a.jsx("div",{className:"bg-primary h-1 rounded-full w-3/4"})}),a.jsx("p",{className:"text-[10px] text-on-surface-variant mt-2 text-right",children:"75% to Elite"})]}),i!=="student"&&a.jsxs("div",{className:"text-xs text-on-surface-variant text-center",children:[a.jsx("p",{className:"font-bold text-on-surface",children:"ExecuStay v2.4"}),a.jsx("p",{children:"Material Design 3 Enabled"})]})]})})]})},y6=({onSearch:e,onCourseClick:t,onCategoryClick:i,onViewSchedule:n,onStartDiagnostic:r,courses:s,categories:l})=>{const[d,p]=A.useState(""),{t:u,locale:g}=wc(),h=s.slice(0,3),y=g.contentRegion==="AFRICA_SME"?u("hero.trust_tier3"):u("hero.trust_tier1");return a.jsxs("div",{className:"bg-white font-sans",children:[a.jsx("div",{className:"relative bg-white border-b border-gray-100 overflow-hidden",children:a.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[a.jsxs("div",{className:"max-w-2xl relative z-10",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-50 text-red-700 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide mb-6 border border-red-100",children:[a.jsx(ya,{className:"w-3 h-3"})," Profit Warning"]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight leading-[1.1] mb-6 text-slate-900",children:["Determine your ",a.jsx("br",{})," ",a.jsx("span",{className:"text-brand-600",children:"Business DNA."})]}),a.jsx("div",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:a.jsxs("p",{children:["What is the ",a.jsx("span",{className:"font-bold text-black",children:"#1 thing"})," keeping you awake at night? Take the doctor-grade diagnostic to find the hidden leaks in your operation."]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:r,className:"bg-profit text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-green-600 transition-all shadow-lg shadow-green-200 flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[a.jsx(ya,{className:"w-5 h-5"})," Start The Scan"]}),a.jsx("button",{onClick:()=>i("all"),className:"bg-white text-gray-700 border border-gray-200 px-8 py-4 rounded-xl text-lg font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:u("hero.cta_partners")})]}),a.jsxs("div",{className:"mt-8 flex items-center gap-4 text-sm text-gray-500",children:[a.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(v=>a.jsx("img",{src:`https://ui-avatars.com/api/?background=random&name=User+${v}`,className:"w-8 h-8 rounded-full border-2 border-white"},v))}),a.jsx("p",{className:"font-medium text-gray-700",children:y})]})]}),a.jsxs("div",{className:"relative hidden lg:block",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-brand-100 to-transparent rounded-full blur-3xl opacity-30 transform translate-x-10 translate-y-10"}),a.jsxs("div",{className:"relative bg-white p-8 rounded-3xl shadow-2xl border border-gray-100 max-w-md mx-auto transform rotate-2 hover:rotate-0 transition-transform duration-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Profit DNA Score"}),a.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold",children:"CRITICAL"})]}),a.jsxs("div",{className:"relative h-64 w-full flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 border border-dashed border-gray-200 rounded-full"}),a.jsx("div",{className:"absolute inset-8 border border-dashed border-gray-200 rounded-full"}),a.jsx("div",{className:"absolute inset-16 border border-dashed border-gray-200 rounded-full"}),a.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full opacity-80",children:[a.jsx("polygon",{points:"50,10 90,40 70,90 30,90 10,40",className:"fill-brand-600 stroke-brand-800 stroke-2 opacity-20"}),a.jsx("polygon",{points:"50,10 90,40 70,90 30,90 10,40",className:"fill-none stroke-brand-600 stroke-2"}),a.jsx("circle",{cx:"30",cy:"90",r:"4",className:"fill-red-500 animate-ping"})]}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-white p-2 rounded shadow-lg border border-red-100 text-xs text-red-600 font-bold",children:"Profit Leak Detected: -30%"})]})]})]})]})})}),a.jsx("div",{className:"bg-gray-50 py-20",children:a.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Stop Guessing. Start Measuring."}),a.jsx("p",{className:"text-gray-500 text-lg",children:"We don't just give you courses. We give you a live operating system for profit."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 mb-6",children:a.jsx(dr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Profit Simulator"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:'Interactive sliders show exactly how fixing your "Fuel" (Finance) or "Voice" (Marketing) impacts your bottom line.'})]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center text-purple-600 mb-6",children:a.jsx(Z0,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Boardroom AI"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:'A 24/7 AI Consultant trained on your specific diagnostic scores. Ask it "How do I fire my toxic manager?" and get a script tailored to your conflict style.'})]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-amber-600 mb-6",children:a.jsx(cn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Competitor Benchmarks"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:'See how you stack up against top SMEs in your region. Download the "Industry Leader" badge if you qualify.'})]})]})]})}),a.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Fix the Leaks"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Prescribed training based on common weak pillars."})]}),a.jsxs("button",{onClick:n||(()=>i("all")),className:"hidden md:flex items-center gap-2 text-brand-600 font-bold hover:underline",children:["View All ",a.jsx(on,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:h.map(v=>a.jsxs("div",{onClick:()=>t(v.slug),className:"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col h-full",children:[a.jsx("div",{className:"aspect-video relative overflow-hidden bg-gray-100",children:a.jsx("img",{src:v.thumbnail,alt:v.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"})}),a.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:v.category}),a.jsxs("div",{className:"flex items-center gap-1 text-amber-500 text-xs font-bold",children:[a.jsx(Nn,{className:"w-3 h-3 fill-current"})," ",v.rating]})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-brand-600 transition-colors line-clamp-2 min-h-[3.5rem]",children:v.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:v.shortPromise}),a.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:v.instructor.avatar,alt:"",className:"w-8 h-8 rounded-full border border-gray-200"}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-bold text-gray-900",children:v.instructor.name})})]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",v.price]})]})]})]},v.id))})]}),a.jsx("div",{className:"bg-white py-12 border-t border-gray-200",children:a.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("p",{className:"text-center text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by teams at"}),a.jsx("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["Acme Corp","GlobalBank","TechFlow","Stripe","Brex"].map((v,S)=>a.jsx("span",{className:"text-xl font-extrabold text-gray-800",children:v},S))})]})})]})};function bR(e){var t,i,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(i=bR(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function yt(){for(var e,t,i=0,n="",r=arguments.length;i<r;i++)(e=arguments[i])&&(t=bR(e))&&(n&&(n+=" "),n+=t);return n}var _6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ak(e){if(typeof e!="string")return!1;var t=_6;return t.includes(e)}var v6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b6=new Set(v6);function xR(e){return typeof e!="string"?!1:b6.has(e)}function kR(e){return typeof e=="string"&&e.startsWith("data-")}function ni(e){if(typeof e!="object"||e===null)return{};var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(xR(i)||kR(i))&&(t[i]=e[i]);return t}function Cc(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ni(t)}return typeof e=="object"&&!Array.isArray(e)?ni(e):null}function Ji(e){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(xR(i)||kR(i)||ak(i))&&(t[i]=e[i]);return t}function x6(e){return e==null?null:A.isValidElement(e)?Ji(e.props):typeof e=="object"&&!Array.isArray(e)?Ji(e):null}var k6=["children","width","height","viewBox","className","style","title","desc"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vx.apply(null,arguments)}function S6(e,t){if(e==null)return{};var i,n,r=w6(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function w6(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var SR=A.forwardRef((e,t)=>{var{children:i,width:n,height:r,viewBox:s,className:l,style:d,title:p,desc:u}=e,g=S6(e,k6),h=s||{width:n,height:r,x:0,y:0},y=yt("recharts-surface",l);return A.createElement("svg",vx({},Ji(g),{className:y,width:n,height:r,style:d,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),A.createElement("title",null,p),A.createElement("desc",null,u),i)}),C6=["children","className"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bx.apply(null,arguments)}function T6(e,t){if(e==null)return{};var i,n,r=A6(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function A6(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var Fi=A.forwardRef((e,t)=>{var{children:i,className:n}=e,r=T6(e,C6),s=yt("recharts-layer",n);return A.createElement("g",bx({className:s},Ji(r),{ref:t}),i)}),wR=aR(),E6=A.createContext(null);function ei(e){return function(){return e}}const xx=Math.PI,kx=2*xx,So=1e-6,N6=kx-So;function CR(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function M6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CR;const i=10**t;return function(n){this._+=n[0];for(let r=1,s=n.length;r<s;++r)this._+=Math.round(arguments[r]*i)/i+n[r]}}class P6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CR:M6(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,r){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,i,n,r,s,l){this._append`C${+t},${+i},${+n},${+r},${this._x1=+s},${this._y1=+l}`}arcTo(t,i,n,r,s){if(t=+t,i=+i,n=+n,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,p=n-t,u=r-i,g=l-t,h=d-i,y=g*g+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(y>So)if(!(Math.abs(h*p-u*g)>So)||!s)this._append`L${this._x1=t},${this._y1=i}`;else{let v=n-l,S=r-d,k=p*p+u*u,C=v*v+S*S,T=Math.sqrt(k),N=Math.sqrt(y),E=s*Math.tan((xx-Math.acos((k+y-C)/(2*T*N)))/2),O=E/N,P=E/T;Math.abs(O-1)>So&&this._append`L${t+O*g},${i+O*h}`,this._append`A${s},${s},0,0,${+(h*v>g*S)},${this._x1=t+P*p},${this._y1=i+P*u}`}}arc(t,i,n,r,s,l){if(t=+t,i=+i,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(r),p=n*Math.sin(r),u=t+d,g=i+p,h=1^l,y=l?r-s:s-r;this._x1===null?this._append`M${u},${g}`:(Math.abs(this._x1-u)>So||Math.abs(this._y1-g)>So)&&this._append`L${u},${g}`,n&&(y<0&&(y=y%kx+kx),y>N6?this._append`A${n},${n},0,1,${h},${t-d},${i-p}A${n},${n},0,1,${h},${this._x1=u},${this._y1=g}`:y>So&&this._append`A${n},${n},0,${+(y>=xx)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=i+n*Math.sin(s)}`)}rect(t,i,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function TR(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new P6(t)}function rk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AR(e){this._context=e}AR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rh(e){return new AR(e)}function ER(e){return e[0]}function NR(e){return e[1]}function MR(e,t){var i=ei(!0),n=null,r=Rh,s=null,l=TR(d);e=typeof e=="function"?e:e===void 0?ER:ei(e),t=typeof t=="function"?t:t===void 0?NR:ei(t);function d(p){var u,g=(p=rk(p)).length,h,y=!1,v;for(n==null&&(s=r(v=l())),u=0;u<=g;++u)!(u<g&&i(h=p[u],u,p))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(h,u,p),+t(h,u,p));if(v)return s=null,v+""||null}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:ei(+p),d):e},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:ei(+p),d):t},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ei(!!p),d):i},d.curve=function(p){return arguments.length?(r=p,n!=null&&(s=r(n)),d):r},d.context=function(p){return arguments.length?(p==null?n=s=null:s=r(n=p),d):n},d}function Bf(e,t,i){var n=null,r=ei(!0),s=null,l=Rh,d=null,p=TR(u);e=typeof e=="function"?e:e===void 0?ER:ei(+e),t=typeof t=="function"?t:ei(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?NR:ei(+i);function u(h){var y,v,S,k=(h=rk(h)).length,C,T=!1,N,E=new Array(k),O=new Array(k);for(s==null&&(d=l(N=p())),y=0;y<=k;++y){if(!(y<k&&r(C=h[y],y,h))===T)if(T=!T)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),S=y-1;S>=v;--S)d.point(E[S],O[S]);d.lineEnd(),d.areaEnd()}T&&(E[y]=+e(C,y,h),O[y]=+t(C,y,h),d.point(n?+n(C,y,h):E[y],i?+i(C,y,h):O[y]))}if(N)return d=null,N+""||null}function g(){return MR().defined(r).curve(l).context(s)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:ei(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:ei(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ei(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:ei(+h),i=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:ei(+h),u):t},u.y1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:ei(+h),u):i},u.lineX0=u.lineY0=function(){return g().x(e).y(t)},u.lineY1=function(){return g().x(e).y(i)},u.lineX1=function(){return g().x(n).y(t)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:ei(!!h),u):r},u.curve=function(h){return arguments.length?(l=h,s!=null&&(d=l(s)),u):l},u.context=function(h){return arguments.length?(h==null?s=d=null:d=l(s=h),u):s},u}class PR{constructor(t,i){this._context=t,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,i){switch(t=+t,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,i,t,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,t,this._y0,t,i);break}}this._x0=t,this._y0=i}}function I6(e){return new PR(e,!0)}function O6(e){return new PR(e,!1)}function Eg(){}function Ng(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function IR(e){this._context=e}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L6(e){return new IR(e)}function OR(e){this._context=e}OR.prototype={areaStart:Eg,areaEnd:Eg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R6(e){return new OR(e)}function LR(e){this._context=e}LR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:Ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D6(e){return new LR(e)}function RR(e){this._context=e}RR.prototype={areaStart:Eg,areaEnd:Eg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function j6(e){return new RR(e)}function R1(e){return e<0?-1:1}function D1(e,t,i){var n=e._x1-e._x0,r=t-e._x1,s=(e._y1-e._y0)/(n||r<0&&-0),l=(i-e._y1)/(r||n<0&&-0),d=(s*r+l*n)/(n+r);return(R1(s)+R1(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function j1(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function ev(e,t,i){var n=e._x0,r=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,r+d*t,s-d,l-d*i,s,l)}function Mg(e){this._context=e}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ev(this,this._t0,j1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ev(this,j1(this,i=D1(this,e,t)),i);break;default:ev(this,this._t0,i=D1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function DR(e){this._context=new jR(e)}(DR.prototype=Object.create(Mg.prototype)).point=function(e,t){Mg.prototype.point.call(this,t,e)};function jR(e){this._context=e}jR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,n,r,s){this._context.bezierCurveTo(t,e,n,i,s,r)}};function K6(e){return new Mg(e)}function F6(e){return new DR(e)}function KR(e){this._context=e}KR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var n=K1(e),r=K1(t),s=0,l=1;l<i;++s,++l)this._context.bezierCurveTo(n[0][s],r[0][s],n[1][s],r[1][s],e[l],t[l]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function K1(e){var t,i=e.length-1,n,r=new Array(i),s=new Array(i),l=new Array(i);for(r[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,s[i-1]=7,l[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(r[i-1]=l[i-1]/s[i-1],t=i-2;t>=0;--t)r[t]=(l[t]-r[t+1])/s[t];for(s[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)s[t]=2*e[t+1]-r[t+1];return[r,s]}function B6(e){return new KR(e)}function Dh(e,t){this._context=e,this._t=t}Dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function U6(e){return new Dh(e,.5)}function q6(e){return new Dh(e,0)}function z6(e){return new Dh(e,1)}function jo(e,t){if((l=e.length)>1)for(var i=1,n,r,s=e[t[0]],l,d=s.length;i<l;++i)for(r=s,s=e[t[i]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Sx(e){for(var t=e.length,i=new Array(t);--t>=0;)i[t]=t;return i}function W6(e,t){return e[t]}function V6(e){const t=[];return t.key=e,t}function H6(){var e=ei([]),t=Sx,i=jo,n=W6;function r(s){var l=Array.from(e.apply(this,arguments),V6),d,p=l.length,u=-1,g;for(const h of s)for(d=0,++u;d<p;++d)(l[d][u]=[0,+n(h,l[d].key,u,s)]).data=h;for(d=0,g=rk(t(l));d<p;++d)l[g[d]].index=d;return i(l,g),l}return r.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ei(Array.from(s)),r):e},r.value=function(s){return arguments.length?(n=typeof s=="function"?s:ei(+s),r):n},r.order=function(s){return arguments.length?(t=s==null?Sx:typeof s=="function"?s:ei(Array.from(s)),r):t},r.offset=function(s){return arguments.length?(i=s??jo,r):i},r}function G6(e,t){if((n=e.length)>0){for(var i,n,r=0,s=e[0].length,l;r<s;++r){for(l=i=0;i<n;++i)l+=e[i][r][1]||0;if(l)for(i=0;i<n;++i)e[i][r][1]/=l}jo(e,t)}}function $6(e,t){if((r=e.length)>0){for(var i=0,n=e[t[0]],r,s=n.length;i<s;++i){for(var l=0,d=0;l<r;++l)d+=e[l][i][1]||0;n[i][1]+=n[i][0]=-d/2}jo(e,t)}}function Y6(e,t){if(!(!((l=e.length)>0)||!((s=(r=e[t[0]]).length)>0))){for(var i=0,n=1,r,s,l;n<s;++n){for(var d=0,p=0,u=0;d<l;++d){for(var g=e[t[d]],h=g[n][1]||0,y=g[n-1][1]||0,v=(h-y)/2,S=0;S<d;++S){var k=e[t[S]],C=k[n][1]||0,T=k[n-1][1]||0;v+=C-T}p+=h,u+=v*h}r[n-1][1]+=r[n-1][0]=i,p&&(i-=u/p)}r[n-1][1]+=r[n-1][0]=i,jo(e,t)}}var tv={},iv={},F1;function Q6(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return i==="__proto__"}e.isUnsafeProperty=t})(iv)),iv}var nv={},B1;function FR(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){switch(typeof i){case"number":case"symbol":return!1;case"string":return i.includes(".")||i.includes("[")||i.includes("]")}}e.isDeepKey=t})(nv)),nv}var av={},U1;function sk(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){var n;return typeof i=="string"||typeof i=="symbol"?i:Object.is((n=i==null?void 0:i.valueOf)==null?void 0:n.call(i),-0)?"-0":String(i)}e.toKey=t})(av)),av}var rv={},sv={},q1;function X6(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){if(i==null)return"";if(typeof i=="string")return i;if(Array.isArray(i))return i.map(t).join(",");const n=String(i);return n==="0"&&Object.is(Number(i),-0)?"-0":n}e.toString=t})(sv)),sv}var z1;function ok(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X6(),i=sk();function n(r){if(Array.isArray(r))return r.map(i.toKey);if(typeof r=="symbol")return[r];r=t.toString(r);const s=[],l=r.length;if(l===0)return s;let d=0,p="",u="",g=!1;for(r.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const h=r[d];u?h==="\\"&&d+1<l?(d++,p+=r[d]):h===u?u="":p+=h:g?h==='"'||h==="'"?u=h:h==="]"?(g=!1,s.push(p),p=""):p+=h:h==="["?(g=!0,p&&(s.push(p),p="")):h==="."?p&&(s.push(p),p=""):p+=h,d++}return p&&s.push(p),s}e.toPath=n})(rv)),rv}var W1;function lk(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q6(),i=FR(),n=sk(),r=ok();function s(d,p,u){if(d==null)return u;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return u;const g=d[p];return g===void 0?i.isDeepKey(p)?s(d,r.toPath(p),u):u:g}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const g=d[p];return g===void 0?u:g}default:{if(Array.isArray(p))return l(d,p,u);if(Object.is(p==null?void 0:p.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return u;const g=d[p];return g===void 0?u:g}}}function l(d,p,u){if(p.length===0)return u;let g=d;for(let h=0;h<p.length;h++){if(g==null||t.isUnsafeProperty(p[h]))return u;g=g[p[h]]}return g===void 0?u:g}e.get=s})(tv)),tv}var ov,V1;function J6(){return V1||(V1=1,ov=lk().get),ov}var Z6=J6();const jh=Jn(Z6);var eW=4;function js(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eW,i=10**t,n=Math.round(e*i)/i;return Object.is(n,-0)?0:n}function ji(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.reduce((r,s,l)=>{var d=i[l-1];return typeof d=="string"?r+d+s:d!==void 0?r+js(d)+s:r+s},"")}var ga=e=>e===0?0:e>0?1:-1,rr=e=>typeof e=="number"&&e!=+e,Ko=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,$e=e=>(typeof e=="number"||e instanceof Number)&&!rr(e),sr=e=>$e(e)||typeof e=="string",tW=0,Tu=e=>{var t=++tW;return"".concat(e||"").concat(t)},Us=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&typeof t!="string")return n;var s;if(Ko(t)){if(i==null)return n;var l=t.indexOf("%");s=i*parseFloat(t.slice(0,l))/100}else s=+t;return rr(s)&&(s=n),r&&i!=null&&s>i&&(s=i),s},BR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,i={},n=0;n<t;n++)if(!i[String(e[n])])i[String(e[n])]=!0;else return!0;return!1};function Mn(e,t,i){return $e(e)&&$e(t)?js(e+i*(t-e)):t}function UR(e,t,i){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):jh(n,t))===i)}var Bi=e=>e===null||typeof e>"u",ck=e=>Bi(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Pn(e){return e!=null}function Qr(){}var qR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,dk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(A.isValidElement(e)&&(i=e.props),typeof i!="object"&&typeof i!="function")return null;var n={};return Object.keys(i).forEach(r=>{ak(r)&&(n[r]=(s=>i[r](i,s)))}),n},iW=(e,t,i)=>n=>(e(t,i,n),null),uk=(e,t,i)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(r=>{var s=e[r];ak(r)&&typeof s=="function"&&(n||(n={}),n[r]=iW(s,t,i))}),n};function H1(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function nW(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(i),!0).forEach(function(n){aW(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H1(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function aW(e,t,i){return(t=rW(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(e,t){var i=nW({},e),n=t,r=Object.keys(t),s=r.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),i);return s}var lv={},cv={},G1;function oW(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,n){const r=new Map;for(let s=0;s<i.length;s++){const l=i[s],d=n(l,s,i);r.has(d)||r.set(d,l)}return Array.from(r.values())}e.uniqBy=t})(cv)),cv}var dv={},$1;function lW(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,n){return function(...r){return i.apply(this,r.slice(0,n))}}e.ary=t})(dv)),dv}var uv={},Y1;function Kh(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return i}e.identity=t})(uv)),uv}var pv={},fv={},gv={},Q1;function cW(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return Number.isSafeInteger(i)&&i>=0}e.isLength=t})(gv)),gv}var X1;function pk(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cW();function i(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=i})(fv)),fv}var hv={},J1;function dW(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="object"&&i!==null}e.isObjectLike=t})(hv)),hv}var Z1;function uW(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk(),i=dW();function n(r){return i.isObjectLike(r)&&t.isArrayLike(r)}e.isArrayLikeObject=n})(pv)),pv}var mv={},yv={},eE;function pW(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk();function i(n){return function(r){return t.get(r,n)}}e.property=i})(yv)),yv}var _v={},vv={},bv={},xv={},tE;function zR(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return i!==null&&(typeof i=="object"||typeof i=="function")}e.isObject=t})(xv)),xv}var kv={},iE;function WR(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return i==null||typeof i!="object"&&typeof i!="function"}e.isPrimitive=t})(kv)),kv}var Sv={},nE;function VR(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,n){return i===n||Number.isNaN(i)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Sv)),Sv}var aE;function fW(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zR(),i=WR(),n=VR();function r(g,h,y){return typeof y!="function"?r(g,h,()=>{}):s(g,h,function v(S,k,C,T,N,E){const O=y(S,k,C,T,N,E);return O!==void 0?!!O:s(S,k,v,E)},new Map)}function s(g,h,y,v){if(h===g)return!0;switch(typeof h){case"object":return l(g,h,y,v);case"function":return Object.keys(h).length>0?s(g,{...h},y,v):n.isEqualsSameValueZero(g,h);default:return t.isObject(g)?typeof h=="string"?h==="":!0:n.isEqualsSameValueZero(g,h)}}function l(g,h,y,v){if(h==null)return!0;if(Array.isArray(h))return p(g,h,y,v);if(h instanceof Map)return d(g,h,y,v);if(h instanceof Set)return u(g,h,y,v);const S=Object.keys(h);if(g==null||i.isPrimitive(g))return S.length===0;if(S.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===g;v==null||v.set(h,g);try{for(let k=0;k<S.length;k++){const C=S[k];if(!i.isPrimitive(g)&&!(C in g)||h[C]===void 0&&g[C]!==void 0||h[C]===null&&g[C]!==null||!y(g[C],h[C],C,g,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function d(g,h,y,v){if(h.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,k]of h.entries()){const C=g.get(S);if(y(C,k,S,g,h,v)===!1)return!1}return!0}function p(g,h,y,v){if(h.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let k=0;k<h.length;k++){const C=h[k];let T=!1;for(let N=0;N<g.length;N++){if(S.has(N))continue;const E=g[N];let O=!1;if(y(E,C,k,g,h,v)&&(O=!0),O){S.add(N),T=!0;break}}if(!T)return!1}return!0}function u(g,h,y,v){return h.size===0?!0:g instanceof Set?p([...g],[...h],y,v):!1}e.isMatchWith=r,e.isSetMatch=u})(bv)),bv}var rE;function HR(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fW();function i(n,r){return t.isMatchWith(n,r,()=>{})}e.isMatch=i})(vv)),vv}var wv={},Cv={},Tv={},sE;function gW(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return Object.getOwnPropertySymbols(i).filter(n=>Object.prototype.propertyIsEnumerable.call(i,n))}e.getSymbols=t})(Tv)),Tv}var Av={},oE;function fk(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}e.getTag=t})(Av)),Av}var Ev={},lE;function GR(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",i="[object String]",n="[object Number]",r="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",p="[object Map]",u="[object Set]",g="[object Array]",h="[object Function]",y="[object ArrayBuffer]",v="[object Object]",S="[object Error]",k="[object DataView]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",B="[object BigInt64Array]",V="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=g,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=O,e.booleanTag=r,e.dataViewTag=k,e.dateTag=d,e.errorTag=S,e.float32ArrayTag=V,e.float64ArrayTag=U,e.functionTag=h,e.int16ArrayTag=I,e.int32ArrayTag=D,e.int8ArrayTag=P,e.mapTag=p,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=u,e.stringTag=i,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=T})(Ev)),Ev}var Nv={},cE;function hW(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}e.isTypedArray=t})(Nv)),Nv}var dE;function $R(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gW(),i=fk(),n=GR(),r=WR(),s=hW();function l(g,h){return d(g,void 0,g,new Map,h)}function d(g,h,y,v=new Map,S=void 0){const k=S==null?void 0:S(g,h,y,v);if(k!==void 0)return k;if(r.isPrimitive(g))return g;if(v.has(g))return v.get(g);if(Array.isArray(g)){const C=new Array(g.length);v.set(g,C);for(let T=0;T<g.length;T++)C[T]=d(g[T],T,y,v,S);return Object.hasOwn(g,"index")&&(C.index=g.index),Object.hasOwn(g,"input")&&(C.input=g.input),C}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const C=new RegExp(g.source,g.flags);return C.lastIndex=g.lastIndex,C}if(g instanceof Map){const C=new Map;v.set(g,C);for(const[T,N]of g)C.set(T,d(N,T,y,v,S));return C}if(g instanceof Set){const C=new Set;v.set(g,C);for(const T of g)C.add(d(T,void 0,y,v,S));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(s.isTypedArray(g)){const C=new(Object.getPrototypeOf(g)).constructor(g.length);v.set(g,C);for(let T=0;T<g.length;T++)C[T]=d(g[T],T,y,v,S);return C}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const C=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return v.set(g,C),p(C,g,y,v,S),C}if(typeof File<"u"&&g instanceof File){const C=new File([g],g.name,{type:g.type});return v.set(g,C),p(C,g,y,v,S),C}if(typeof Blob<"u"&&g instanceof Blob){const C=new Blob([g],{type:g.type});return v.set(g,C),p(C,g,y,v,S),C}if(g instanceof Error){const C=new g.constructor;return v.set(g,C),C.message=g.message,C.name=g.name,C.stack=g.stack,C.cause=g.cause,p(C,g,y,v,S),C}if(g instanceof Boolean){const C=new Boolean(g.valueOf());return v.set(g,C),p(C,g,y,v,S),C}if(g instanceof Number){const C=new Number(g.valueOf());return v.set(g,C),p(C,g,y,v,S),C}if(g instanceof String){const C=new String(g.valueOf());return v.set(g,C),p(C,g,y,v,S),C}if(typeof g=="object"&&u(g)){const C=Object.create(Object.getPrototypeOf(g));return v.set(g,C),p(C,g,y,v,S),C}return g}function p(g,h,y=g,v,S){const k=[...Object.keys(h),...t.getSymbols(h)];for(let C=0;C<k.length;C++){const T=k[C],N=Object.getOwnPropertyDescriptor(g,T);(N==null||N.writable)&&(g[T]=d(h[T],T,y,v,S))}}function u(g){switch(i.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=p})(Cv)),Cv}var uE;function mW(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R();function i(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=i})(wv)),wv}var pE;function yW(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HR(),i=mW();function n(r){return r=i.cloneDeep(r),s=>t.isMatch(s,r)}e.matches=n})(_v)),_v}var Mv={},Pv={},Iv={},fE;function _W(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R(),i=fk(),n=GR();function r(s,l){return t.cloneDeepWith(s,(d,p,u,g)=>{const h=l==null?void 0:l(d,p,u,g);if(h!==void 0)return h;if(typeof s=="object"){if(i.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const y={};return g.set(s,y),t.copyProperties(y,s,u,g),y}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(y,s),y}case n.argumentsTag:{const y={};return t.copyProperties(y,s),y.length=s.length,y[Symbol.iterator]=s[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=r})(Iv)),Iv}var gE;function vW(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_W();function i(n){return t.cloneDeepWith(n)}e.cloneDeep=i})(Pv)),Pv}var Ov={},Lv={},hE;function YR(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function i(n,r=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<r;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=i})(Lv)),Lv}var Rv={},mE;function bW(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk();function i(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=i})(Rv)),Rv}var yE;function xW(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FR(),i=YR(),n=bW(),r=ok();function s(l,d){let p;if(Array.isArray(d)?p=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?p=r.toPath(d):p=[d],p.length===0)return!1;let u=l;for(let g=0;g<p.length;g++){const h=p[g];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&i.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=s})(Ov)),Ov}var _E;function kW(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HR(),i=sk(),n=vW(),r=lk(),s=xW();function l(d,p){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=i.toKey(d);break}}return p=n.cloneDeep(p),function(u){const g=r.get(u,d);return g===void 0?s.has(u,d):p===void 0?g===void 0:t.isMatch(g,p)}}e.matchesProperty=l})(Mv)),Mv}var vE;function gk(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kh(),i=pW(),n=yW(),r=kW();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?r.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return i.property(l)}}e.iteratee=s})(mv)),mv}var bE;function SW(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oW(),i=lW(),n=Kh(),r=uW(),s=gk();function l(d,p=n.identity){return r.isArrayLikeObject(d)?t.uniqBy(Array.from(d),i.ary(s.iteratee(p),1)):[]}e.uniqBy=l})(lv)),lv}var Dv,xE;function wW(){return xE||(xE=1,Dv=SW().uniqBy),Dv}var CW=wW();const kE=Jn(CW);function TW(e,t,i){return t===!0?kE(e,i):typeof t=="function"?kE(e,t):e}var jv={exports:{}},Kv={},Fv={exports:{}},Bv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function AW(){if(SE)return Bv;SE=1;var e=xc();function t(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var i=typeof Object.is=="function"?Object.is:t,n=e.useState,r=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(h,y){var v=y(),S=n({inst:{value:v,getSnapshot:y}}),k=S[0].inst,C=S[1];return s(function(){k.value=v,k.getSnapshot=y,p(k)&&C({inst:k})},[h,v,y]),r(function(){return p(k)&&C({inst:k}),h(function(){p(k)&&C({inst:k})})},[h]),l(v),v}function p(h){var y=h.getSnapshot;h=h.value;try{var v=y();return!i(h,v)}catch{return!0}}function u(h,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:d;return Bv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Bv}var wE;function EW(){return wE||(wE=1,Fv.exports=AW()),Fv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function NW(){if(CE)return Kv;CE=1;var e=xc(),t=EW();function i(u,g){return u===g&&(u!==0||1/u===1/g)||u!==u&&g!==g}var n=typeof Object.is=="function"?Object.is:i,r=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,p=e.useDebugValue;return Kv.useSyncExternalStoreWithSelector=function(u,g,h,y,v){var S=s(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=d(function(){function T(I){if(!N){if(N=!0,E=I,I=y(I),v!==void 0&&k.hasValue){var D=k.value;if(v(D,I))return O=D}return O=I}if(D=O,n(E,I))return D;var B=y(I);return v!==void 0&&v(D,B)?(E=I,D):(E=I,O=B)}var N=!1,E,O,P=h===void 0?null:h;return[function(){return T(g())},P===null?void 0:function(){return T(P())}]},[g,h,y,v]);var C=r(u,S[0],S[1]);return l(function(){k.hasValue=!0,k.value=C},[C]),p(C),C},Kv}var TE;function MW(){return TE||(TE=1,jv.exports=NW()),jv.exports}var PW=MW(),hk=A.createContext(null),IW=e=>e,$t=()=>{var e=A.useContext(hk);return e?e.store.dispatch:IW},hg=()=>{},OW=()=>hg,LW=(e,t)=>e===t;function We(e){var t=A.useContext(hk),i=A.useMemo(()=>t?n=>{if(n!=null)return e(n)}:hg,[t,e]);return PW.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:OW,t?t.store.getState:hg,t?t.store.getState:hg,i,LW)}function RW(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function DW(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function jW(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(i=>typeof i=="function")){const i=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${i}]`)}}var AE=e=>Array.isArray(e)?e:[e];function KW(e){const t=Array.isArray(e[0])?e[0]:e;return jW(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FW(e,t){const i=[],{length:n}=e;for(let r=0;r<n;r++)i.push(e[r].apply(null,t));return i}var BW=class{constructor(e){this.value=e}deref(){return this.value}},UW=typeof WeakRef<"u"?WeakRef:BW,qW=0,EE=1;function Uf(){return{s:qW,v:void 0,o:null,p:null}}function QR(e,t={}){let i=Uf();const{resultEqualityCheck:n}=t;let r,s=0;function l(){var h;let d=i;const{length:p}=arguments;for(let y=0,v=p;y<v;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let k=d.o;k===null&&(d.o=k=new WeakMap);const C=k.get(S);C===void 0?(d=Uf(),k.set(S,d)):d=C}else{let k=d.p;k===null&&(d.p=k=new Map);const C=k.get(S);C===void 0?(d=Uf(),k.set(S,d)):d=C}}const u=d;let g;if(d.s===EE)g=d.v;else if(g=e.apply(null,arguments),s++,n){const y=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;y!=null&&n(y,g)&&(g=y,s!==0&&s--),r=typeof g=="object"&&g!==null||typeof g=="function"?new UW(g):g}return u.s=EE,u.v=g,g}return l.clearCache=()=>{i=Uf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function zW(e,...t){const i=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...r)=>{let s=0,l=0,d,p={},u=r.pop();typeof u=="object"&&(p=u,u=r.pop()),RW(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const g={...i,...p},{memoize:h,memoizeOptions:y=[],argsMemoize:v=QR,argsMemoizeOptions:S=[]}=g,k=AE(y),C=AE(S),T=KW(r),N=h(function(){return s++,u.apply(null,arguments)},...k),E=v(function(){l++;const P=FW(T,arguments);return d=N.apply(null,P),d},...C);return Object.assign(E,{resultFunc:u,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var te=zW(QR),WW=Object.assign((e,t=te)=>{DW(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const i=Object.keys(e),n=i.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,p)=>(l[i[p]]=d,l),{}))},{withTypes:()=>WW}),Uv={},qv={},zv={},NE;function VW(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const i=(n,r,s)=>{if(n!==r){const l=t(n),d=t(r);if(l===d&&l===0){if(n<r)return s==="desc"?1:-1;if(n>r)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=i})(zv)),zv}var Wv={},Vv={},ME;function XR(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"||i instanceof Symbol}e.isSymbol=t})(Vv)),Vv}var PE;function HW(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function r(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!i.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=r})(Wv)),Wv}var IE;function GW(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VW(),i=HW(),n=ok();function r(s,l,d,p){if(s==null)return[];d=p?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const u=(v,S)=>{let k=v;for(let C=0;C<S.length&&k!=null;++C)k=k[S[C]];return k},g=(v,S)=>S==null||v==null?S:typeof v=="object"&&"key"in v?Object.hasOwn(S,v.key)?S[v.key]:u(S,v.path):typeof v=="function"?v(S):Array.isArray(v)?u(S,v):typeof S=="object"?S[v]:S,h=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||i.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(S=>g(S,v))})).slice().sort((v,S)=>{for(let k=0;k<h.length;k++){const C=t.compareValues(v.criteria[k],S.criteria[k],d[k]);if(C!==0)return C}return 0}).map(v=>v.original)}e.orderBy=r})(qv)),qv}var Hv={},OE;function $W(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,n=1){const r=[],s=Math.floor(n),l=(d,p)=>{for(let u=0;u<d.length;u++){const g=d[u];Array.isArray(g)&&p<s?l(g,p+1):r.push(g)}};return l(i,0),r}e.flatten=t})(Hv)),Hv}var Gv={},LE;function JR(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YR(),i=pk(),n=zR(),r=VR();function s(l,d,p){return n.isObject(p)&&(typeof d=="number"&&i.isArrayLike(p)&&t.isIndex(d)&&d<p.length||typeof d=="string"&&d in p)?r.isEqualsSameValueZero(p[d],l):!1}e.isIterateeCall=s})(Gv)),Gv}var RE;function YW(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GW(),i=$W(),n=JR();function r(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,i.flatten(l),["asc"])}e.sortBy=r})(Uv)),Uv}var $v,DE;function QW(){return DE||(DE=1,$v=YW().sortBy),$v}var XW=QW();const Fh=Jn(XW);var ZR=e=>e.legend.settings,JW=e=>e.legend.size,ZW=e=>e.legend.payload;te([ZW,ZR],(e,t)=>{var{itemSorter:i}=t,n=e.flat(1);return i?Fh(n,i):n});var qf=1;function e7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,i]=A.useState({height:0,left:0,top:0,width:0}),n=A.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>qf||Math.abs(l.left-t.left)>qf||Math.abs(l.top-t.top)>qf||Math.abs(l.width-t.width)>qf)&&i({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Qi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var t7=typeof Symbol=="function"&&Symbol.observable||"@@observable",jE=t7,Yv=()=>Math.random().toString(36).substring(7).split("").join("."),i7={INIT:`@@redux/INIT${Yv()}`,REPLACE:`@@redux/REPLACE${Yv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yv()}`},Pg=i7;function mk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function e2(e,t,i){if(typeof e!="function")throw new Error(Qi(2));if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Qi(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Qi(1));return i(e2)(e,t)}let n=e,r=t,s=new Map,l=s,d=0,p=!1;function u(){l===s&&(l=new Map,s.forEach((C,T)=>{l.set(T,C)}))}function g(){if(p)throw new Error(Qi(3));return r}function h(C){if(typeof C!="function")throw new Error(Qi(4));if(p)throw new Error(Qi(5));let T=!0;u();const N=d++;return l.set(N,C),function(){if(T){if(p)throw new Error(Qi(6));T=!1,u(),l.delete(N),s=null}}}function y(C){if(!mk(C))throw new Error(Qi(7));if(typeof C.type>"u")throw new Error(Qi(8));if(typeof C.type!="string")throw new Error(Qi(17));if(p)throw new Error(Qi(9));try{p=!0,r=n(r,C)}finally{p=!1}return(s=l).forEach(N=>{N()}),C}function v(C){if(typeof C!="function")throw new Error(Qi(10));n=C,y({type:Pg.REPLACE})}function S(){const C=h;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Qi(11));function N(){const O=T;O.next&&O.next(g())}return N(),{unsubscribe:C(N)}},[jE](){return this}}}return y({type:Pg.INIT}),{dispatch:y,subscribe:h,getState:g,replaceReducer:v,[jE]:S}}function n7(e){Object.keys(e).forEach(t=>{const i=e[t];if(typeof i(void 0,{type:Pg.INIT})>"u")throw new Error(Qi(12));if(typeof i(void 0,{type:Pg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qi(13))})}function t2(e){const t=Object.keys(e),i={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(i[l]=e[l])}const n=Object.keys(i);let r;try{n7(i)}catch(s){r=s}return function(l={},d){if(r)throw r;let p=!1;const u={};for(let g=0;g<n.length;g++){const h=n[g],y=i[h],v=l[h],S=y(v,d);if(typeof S>"u")throw d&&d.type,new Error(Qi(14));u[h]=S,p=p||S!==v}return p=p||n.length!==Object.keys(l).length,p?u:l}}function Ig(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,i)=>(...n)=>t(i(...n)))}function a7(...e){return t=>(i,n)=>{const r=t(i,n);let s=()=>{throw new Error(Qi(15))};const l={getState:r.getState,dispatch:(p,...u)=>s(p,...u)},d=e.map(p=>p(l));return s=Ig(...d)(r.dispatch),{...r,dispatch:s}}}function i2(e){return mk(e)&&"type"in e&&typeof e.type=="string"}var n2=Symbol.for("immer-nothing"),KE=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Aa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $n=Object,fc=$n.getPrototypeOf,Og="constructor",Bh="prototype",wx="configurable",Lg="enumerable",mg="writable",Au="value",qr=e=>!!e&&!!e[_n];function ja(e){var t;return e?a2(e)||qh(e)||!!e[KE]||!!((t=e[Og])!=null&&t[KE])||zh(e)||Wh(e):!1}var r7=$n[Bh][Og].toString(),FE=new WeakMap;function a2(e){if(!e||!yk(e))return!1;const t=fc(e);if(t===null||t===$n[Bh])return!0;const i=$n.hasOwnProperty.call(t,Og)&&t[Og];if(i===Object)return!0;if(!$l(i))return!1;let n=FE.get(i);return n===void 0&&(n=Function.toString.call(i),FE.set(i,n)),n===r7}function Uh(e,t,i=!0){ep(e)===0?(i?Reflect.ownKeys(e):$n.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((n,r)=>t(r,n,e))}function ep(e){const t=e[_n];return t?t.type_:qh(e)?1:zh(e)?2:Wh(e)?3:0}var BE=(e,t,i=ep(e))=>i===2?e.has(t):$n[Bh].hasOwnProperty.call(e,t),Cx=(e,t,i=ep(e))=>i===2?e.get(t):e[t],Rg=(e,t,i,n=ep(e))=>{n===2?e.set(t,i):n===3?e.add(i):e[t]=i};function s7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var qh=Array.isArray,zh=e=>e instanceof Map,Wh=e=>e instanceof Set,yk=e=>typeof e=="object",$l=e=>typeof e=="function",Qv=e=>typeof e=="boolean";function o7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Mr=e=>e.copy_||e.base_,_k=e=>e.modified_?e.copy_:e.base_;function Tx(e,t){if(zh(e))return new Map(e);if(Wh(e))return new Set(e);if(qh(e))return Array[Bh].slice.call(e);const i=a2(e);if(t===!0||t==="class_only"&&!i){const n=$n.getOwnPropertyDescriptors(e);delete n[_n];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const l=r[s],d=n[l];d[mg]===!1&&(d[mg]=!0,d[wx]=!0),(d.get||d.set)&&(n[l]={[wx]:!0,[mg]:!0,[Lg]:d[Lg],[Au]:e[l]})}return $n.create(fc(e),n)}else{const n=fc(e);if(n!==null&&i)return{...e};const r=$n.create(n);return $n.assign(r,e)}}function vk(e,t=!1){return Vh(e)||qr(e)||!ja(e)||(ep(e)>1&&$n.defineProperties(e,{set:zf,add:zf,clear:zf,delete:zf}),$n.freeze(e),t&&Uh(e,(i,n)=>{vk(n,!0)},!1)),e}function l7(){Aa(2)}var zf={[Au]:l7};function Vh(e){return e===null||!yk(e)?!0:$n.isFrozen(e)}var Dg="MapSet",Ax="Patches",UE="ArrayMethods",r2={};function Fo(e){const t=r2[e];return t||Aa(0,e),t}var qE=e=>!!r2[e],Eu,s2=()=>Eu,c7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qE(Dg)?Fo(Dg):void 0,arrayMethodsPlugin_:qE(UE)?Fo(UE):void 0});function zE(e,t){t&&(e.patchPlugin_=Fo(Ax),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ex(e){Nx(e),e.drafts_.forEach(d7),e.drafts_=null}function Nx(e){e===Eu&&(Eu=e.parent_)}var WE=e=>Eu=c7(Eu,e);function d7(e){const t=e[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];if(e!==void 0&&e!==i){i[_n].modified_&&(Ex(t),Aa(4)),ja(e)&&(e=HE(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(i[_n].base_,e,t)}else e=HE(t,i);return u7(t,e,!0),Ex(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==n2?e:void 0}function HE(e,t){if(Vh(t))return t;const i=t[_n];if(!i)return jg(t,e.handledSet_,e);if(!Hh(i,e))return t;if(!i.modified_)return i.base_;if(!i.finalized_){const{callbacks_:n}=i;if(n)for(;n.length>0;)n.pop()(e);c2(i,e)}return i.copy_}function u7(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vk(t,i)}function o2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Hh=(e,t)=>e.scope_===t,p7=[];function l2(e,t,i,n){const r=Mr(e),s=e.type_;if(n!==void 0&&Cx(r,n,s)===t){Rg(r,n,i,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Uh(r,(p,u)=>{if(qr(u)){const g=d.get(u)||[];g.push(p),d.set(u,g)}})}const l=e.draftLocations_.get(t)??p7;for(const d of l)Rg(r,d,i,s)}function f7(e,t,i){e.callbacks_.push(function(r){var d;const s=t;if(!s||!Hh(s,r))return;(d=r.mapSetPlugin_)==null||d.fixSetContents(s);const l=_k(s);l2(e,s.draft_??s,l,i),c2(s,r)})}function c2(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const s=r.getPath(e);s&&r.generatePatches_(e,s,t)}o2(e)}}function g7(e,t,i){const{scope_:n}=e;if(qr(i)){const r=i[_n];Hh(r,n)&&r.callbacks_.push(function(){yg(e);const l=_k(r);l2(e,i,l,t)})}else ja(i)&&e.callbacks_.push(function(){const s=Mr(e);e.type_===3?s.has(i)&&jg(i,n.handledSet_,n):Cx(s,t,e.type_)===i&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&jg(Cx(e.copy_,t,e.type_),n.handledSet_,n)})}function jg(e,t,i){return!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1||qr(e)||t.has(e)||!ja(e)||Vh(e)||(t.add(e),Uh(e,(n,r)=>{if(qr(r)){const s=r[_n];if(Hh(s,i)){const l=_k(s);Rg(e,n,l,e.type_),o2(s)}}else ja(r)&&jg(r,t,i)})),e}function h7(e,t){const i=qh(e),n={type_:i?1:0,scope_:t?t.scope_:s2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=n,s=Kg;i&&(r=[n],s=Nu);const{revoke:l,proxy:d}=Proxy.revocable(r,s);return n.draft_=d,n.revoke_=l,[d,n]}var Kg={get(e,t){if(t===_n)return e;let i=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&i!=null&&i.isArrayOperationMethod(t))return i.createMethodInterceptor(e,t);const r=Mr(e);if(!BE(r,t,e.type_))return m7(e,r,t);const s=r[t];if(e.finalized_||!ja(s)||n&&e.operationMethod&&(i!=null&&i.isMutatingArrayMethod(e.operationMethod))&&o7(t))return s;if(s===Xv(e.base_,t)){yg(e);const l=e.type_===1?+t:t,d=Px(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in Mr(e)},ownKeys(e){return Reflect.ownKeys(Mr(e))},set(e,t,i){const n=d2(Mr(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,i),!0;if(!e.modified_){const r=Xv(Mr(e),t),s=r==null?void 0:r[_n];if(s&&s.base_===i)return e.copy_[t]=i,e.assigned_.set(t,!1),!0;if(s7(i,r)&&(i!==void 0||BE(e.base_,t,e.type_)))return!0;yg(e),Mx(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_.set(t,!0),g7(e,t,i)),!0},deleteProperty(e,t){return yg(e),Xv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Mx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=Mr(e),n=Reflect.getOwnPropertyDescriptor(i,t);return n&&{[mg]:!0,[wx]:e.type_!==1||t!=="length",[Lg]:n[Lg],[Au]:i[t]}},defineProperty(){Aa(11)},getPrototypeOf(e){return fc(e.base_)},setPrototypeOf(){Aa(12)}},Nu={};for(let e in Kg){let t=Kg[e];Nu[e]=function(){const i=arguments;return i[0]=i[0][0],t.apply(this,i)}}Nu.deleteProperty=function(e,t){return Nu.set.call(this,e,t,void 0)};Nu.set=function(e,t,i){return Kg.set.call(this,e[0],t,i,e[0])};function Xv(e,t){const i=e[_n];return(i?Mr(i):e)[t]}function m7(e,t,i){var r;const n=d2(t,i);return n?Au in n?n[Au]:(r=n.get)==null?void 0:r.call(e.draft_):void 0}function d2(e,t){if(!(t in e))return;let i=fc(e);for(;i;){const n=Object.getOwnPropertyDescriptor(i,t);if(n)return n;i=fc(i)}}function Mx(e){e.modified_||(e.modified_=!0,e.parent_&&Mx(e.parent_))}function yg(e){e.copy_||(e.assigned_=new Map,e.copy_=Tx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var y7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(i,n,r)=>{if($l(i)&&!$l(n)){const l=n;n=i;const d=this;return function(u=l,...g){return d.produce(u,h=>n.call(this,h,...g))}}$l(n)||Aa(6),r!==void 0&&!$l(r)&&Aa(7);let s;if(ja(i)){const l=WE(this),d=Px(l,i,void 0);let p=!0;try{s=n(d),p=!1}finally{p?Ex(l):Nx(l)}return zE(l,r),VE(s,l)}else if(!i||!yk(i)){if(s=n(i),s===void 0&&(s=i),s===n2&&(s=void 0),this.autoFreeze_&&vk(s,!0),r){const l=[],d=[];Fo(Ax).generateReplacementPatches_(i,s,{patches_:l,inversePatches_:d}),r(l,d)}return s}else Aa(1,i)},this.produceWithPatches=(i,n)=>{if($l(i))return(d,...p)=>this.produceWithPatches(d,u=>i(u,...p));let r,s;return[this.produce(i,n,(d,p)=>{r=d,s=p}),r,s]},Qv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Qv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Qv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ja(t)||Aa(8),qr(t)&&(t=Oa(t));const i=WE(this),n=Px(i,t,void 0);return n[_n].isManual_=!0,Nx(i),n}finishDraft(t,i){const n=t&&t[_n];(!n||!n.isManual_)&&Aa(9);const{scope_:r}=n;return zE(r,i),VE(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,i){let n;for(n=i.length-1;n>=0;n--){const s=i[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(i=i.slice(n+1));const r=Fo(Ax).applyPatches_;return qr(t)?r(t,i):this.produce(t,s=>r(s,i))}};function Px(e,t,i,n){const[r,s]=zh(t)?Fo(Dg).proxyMap_(t,i):Wh(t)?Fo(Dg).proxySet_(t,i):h7(t,i);return((i==null?void 0:i.scope_)??s2()).drafts_.push(r),s.callbacks_=(i==null?void 0:i.callbacks_)??[],s.key_=n,i&&n!==void 0?f7(i,s,n):s.callbacks_.push(function(p){var g;(g=p.mapSetPlugin_)==null||g.fixSetContents(s);const{patchPlugin_:u}=p;s.modified_&&u&&u.generatePatches_(s,[],p)}),r}function Oa(e){return qr(e)||Aa(10,e),u2(e)}function u2(e){if(!ja(e)||Vh(e))return e;const t=e[_n];let i,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=Tx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else i=Tx(e,!0);return Uh(i,(r,s)=>{Rg(i,r,u2(s))},n),t&&(t.finalized_=!1),i}var _7=new y7,p2=_7.produce;function f2(e){return({dispatch:i,getState:n})=>r=>s=>typeof s=="function"?s(i,n,e):r(s)}var v7=f2(),b7=f2,x7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ig:Ig.apply(null,arguments)};function _a(e,t){function i(...n){if(t){let r=t(...n);if(!r)throw new Error(Qn(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=n=>i2(n)&&n.type===e,i}var g2=class iu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,iu.prototype)}static get[Symbol.species](){return iu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new iu(...t[0].concat(this)):new iu(...t.concat(this))}};function GE(e){return ja(e)?p2(e,()=>{}):e}function Wf(e,t,i){return e.has(t)?e.get(t):e.set(t,i(t)).get(t)}function k7(e){return typeof e=="boolean"}var S7=()=>function(t){const{thunk:i=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=t??{};let l=new g2;return i&&(k7(i)?l.push(v7):l.push(b7(i.extraArgument))),l},h2="RTK_autoBatch",Vt=()=>e=>({payload:e,meta:{[h2]:!0}}),$E=e=>t=>{setTimeout(t,e)},m2=(e={type:"raf"})=>t=>(...i)=>{const n=t(...i);let r=!0,s=!1,l=!1;const d=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$E(10):e.type==="callback"?e.queueNotification:$E(e.timeout),u=()=>{l=!1,s&&(s=!1,d.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const h=()=>r&&g(),y=n.subscribe(h);return d.add(g),()=>{y(),d.delete(g)}},dispatch(g){var h;try{return r=!((h=g==null?void 0:g.meta)!=null&&h[h2]),s=!r,s&&(l||(l=!0,p(u))),n.dispatch(g)}finally{r=!0}}})},w7=e=>function(i){const{autoBatch:n=!0}=i??{};let r=new g2(e);return n&&r.push(m2(typeof n=="object"?n:void 0)),r};function C7(e){const t=S7(),{reducer:i=void 0,middleware:n,devTools:r=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof i=="function")d=i;else if(mk(i))d=t2(i);else throw new Error(Qn(1));let p;typeof n=="function"?p=n(t):p=t();let u=Ig;r&&(u=x7({trace:!1,...typeof r=="object"&&r}));const g=a7(...p),h=w7(g);let y=typeof l=="function"?l(h):h();const v=u(...y);return e2(d,s,v)}function y2(e){const t={},i=[];let n;const r={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Qn(28));if(d in t)throw new Error(Qn(29));return t[d]=l,r},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&i.push({matcher:s.settled,reducer:l.settled}),r},addMatcher(s,l){return i.push({matcher:s,reducer:l}),r},addDefaultCase(s){return n=s,r}};return e(r),[t,i,n]}function T7(e){return typeof e=="function"}function A7(e,t){let[i,n,r]=y2(t),s;if(T7(e))s=()=>GE(e());else{const d=GE(e);s=()=>d}function l(d=s(),p){let u=[i[p.type],...n.filter(({matcher:g})=>g(p)).map(({reducer:g})=>g)];return u.filter(g=>!!g).length===0&&(u=[r]),u.reduce((g,h)=>{if(h)if(qr(g)){const v=h(g,p);return v===void 0?g:v}else{if(ja(g))return p2(g,y=>h(y,p));{const y=h(g,p);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},d)}return l.getInitialState=s,l}var E7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",N7=(e=21)=>{let t="",i=e;for(;i--;)t+=E7[Math.random()*64|0];return t},M7=Symbol.for("rtk-slice-createasyncthunk");function P7(e,t){return`${e}/${t}`}function I7({creators:e}={}){var i;const t=(i=e==null?void 0:e.asyncThunk)==null?void 0:i[M7];return function(r){const{name:s,reducerPath:l=s}=r;if(!s)throw new Error(Qn(11));const d=(typeof r.reducers=="function"?r.reducers(L7()):r.reducers)||{},p=Object.keys(d),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(O,P){const I=typeof O=="string"?O:O.type;if(!I)throw new Error(Qn(12));if(I in u.sliceCaseReducersByType)throw new Error(Qn(13));return u.sliceCaseReducersByType[I]=P,g},addMatcher(O,P){return u.sliceMatchers.push({matcher:O,reducer:P}),g},exposeAction(O,P){return u.actionCreators[O]=P,g},exposeCaseReducer(O,P){return u.sliceCaseReducersByName[O]=P,g}};p.forEach(O=>{const P=d[O],I={reducerName:O,type:P7(s,O),createNotation:typeof r.reducers=="function"};D7(P)?K7(I,P,g,t):R7(I,P,g)});function h(){const[O={},P=[],I=void 0]=typeof r.extraReducers=="function"?y2(r.extraReducers):[r.extraReducers],D={...O,...u.sliceCaseReducersByType};return A7(r.initialState,B=>{for(let V in D)B.addCase(V,D[V]);for(let V of u.sliceMatchers)B.addMatcher(V.matcher,V.reducer);for(let V of P)B.addMatcher(V.matcher,V.reducer);I&&B.addDefaultCase(I)})}const y=O=>O,v=new Map,S=new WeakMap;let k;function C(O,P){return k||(k=h()),k(O,P)}function T(){return k||(k=h()),k.getInitialState()}function N(O,P=!1){function I(B){let V=B[O];return typeof V>"u"&&P&&(V=Wf(S,I,T)),V}function D(B=y){const V=Wf(v,P,()=>new WeakMap);return Wf(V,B,()=>{const U={};for(const[W,q]of Object.entries(r.selectors??{}))U[W]=O7(q,B,()=>Wf(S,B,T),P);return U})}return{reducerPath:O,getSelectors:D,get selectors(){return D(I)},selectSlice:I}}const E={name:s,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:T,...N(l),injectInto(O,{reducerPath:P,...I}={}){const D=P??l;return O.inject({reducerPath:D,reducer:C},I),{...E,...N(D,!0)}}};return E}}function O7(e,t,i,n){function r(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=i()),e(d,...l)}return r.unwrapped=e,r}var Dn=I7();function L7(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function R7({type:e,reducerName:t,createNotation:i},n,r){let s,l;if("reducer"in n){if(i&&!j7(n))throw new Error(Qn(17));s=n.reducer,l=n.prepare}else s=n;r.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?_a(e,l):_a(e))}function D7(e){return e._reducerDefinitionType==="asyncThunk"}function j7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function K7({type:e,reducerName:t},i,n,r){if(!r)throw new Error(Qn(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:p,settled:u,options:g}=i,h=r(e,s,g);n.exposeAction(t,h),l&&n.addCase(h.fulfilled,l),d&&n.addCase(h.pending,d),p&&n.addCase(h.rejected,p),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:l||Vf,pending:d||Vf,rejected:p||Vf,settled:u||Vf})}function Vf(){}var F7="task",_2="listener",v2="completed",bk="cancelled",B7=`task-${bk}`,U7=`task-${v2}`,Ix=`${_2}-${bk}`,q7=`${_2}-${v2}`,Gh=class{constructor(e){H_(this,"name","TaskAbortError");H_(this,"message");this.code=e,this.message=`${F7} ${bk} (reason: ${e})`}},xk=(e,t)=>{if(typeof e!="function")throw new TypeError(Qn(32))},Fg=()=>{},b2=(e,t=Fg)=>(e.catch(t),e),x2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Io=e=>{if(e.aborted)throw new Gh(e.reason)};function k2(e,t){let i=Fg;return new Promise((n,r)=>{const s=()=>r(new Gh(e.reason));if(e.aborted){s();return}i=x2(e,s),t.finally(()=>i()).then(n,r)}).finally(()=>{i=Fg})}var z7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(i){return{status:i instanceof Gh?"cancelled":"rejected",error:i}}finally{t==null||t()}},Bg=e=>t=>b2(k2(e,t).then(i=>(Io(e),i))),S2=e=>{const t=Bg(e);return i=>t(new Promise(n=>setTimeout(n,i)))},{assign:ac}=Object,YE={},$h="listenerMiddleware",W7=(e,t)=>{const i=n=>x2(e,()=>n.abort(e.reason));return(n,r)=>{xk(n);const s=new AbortController;i(s);const l=z7(async()=>{Io(e),Io(s.signal);const d=await n({pause:Bg(s.signal),delay:S2(s.signal),signal:s.signal});return Io(s.signal),d},()=>s.abort(U7));return r!=null&&r.autoJoin&&t.push(l.catch(Fg)),{result:Bg(e)(l),cancel(){s.abort(B7)}}}},V7=(e,t)=>{const i=async(n,r)=>{Io(t);let s=()=>{};const d=[new Promise((p,u)=>{let g=e({predicate:n,effect:(h,y)=>{y.unsubscribe(),p([h,y.getState(),y.getOriginalState()])}});s=()=>{g(),u()}})];r!=null&&d.push(new Promise(p=>setTimeout(p,r,null)));try{const p=await k2(t,Promise.race(d));return Io(t),p}finally{s()}};return(n,r)=>b2(i(n,r))},w2=e=>{let{type:t,actionCreator:i,matcher:n,predicate:r,effect:s}=e;if(t)r=_a(t).match;else if(i)t=i.type,r=i.match;else if(n)r=n;else if(!r)throw new Error(Qn(21));return xk(s),{predicate:r,type:t,effect:s}},C2=ac(e=>{const{type:t,predicate:i,effect:n}=w2(e);return{id:N7(),effect:n,type:t,predicate:i,pending:new Set,unsubscribe:()=>{throw new Error(Qn(22))}}},{withTypes:()=>C2}),QE=(e,t)=>{const{type:i,effect:n,predicate:r}=w2(t);return Array.from(e.values()).find(s=>(typeof i=="string"?s.type===i:s.predicate===r)&&s.effect===n)},Ox=e=>{e.pending.forEach(t=>{t.abort(Ix)})},H7=(e,t)=>()=>{for(const i of t.keys())Ox(i);e.clear()},XE=(e,t,i)=>{try{e(t,i)}catch(n){setTimeout(()=>{throw n},0)}},T2=ac(_a(`${$h}/add`),{withTypes:()=>T2}),G7=_a(`${$h}/removeAll`),A2=ac(_a(`${$h}/remove`),{withTypes:()=>A2}),$7=(...e)=>{console.error(`${$h}/error`,...e)},tp=(e={})=>{const t=new Map,i=new Map,n=v=>{const S=i.get(v)??0;i.set(v,S+1)},r=v=>{const S=i.get(v)??1;S===1?i.delete(v):i.set(v,S-1)},{extra:s,onError:l=$7}=e;xk(l);const d=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),S=>{v.unsubscribe(),S!=null&&S.cancelActive&&Ox(v)}),p=v=>{const S=QE(t,v)??C2(v);return d(S)};ac(p,{withTypes:()=>p});const u=v=>{const S=QE(t,v);return S&&(S.unsubscribe(),v.cancelActive&&Ox(S)),!!S};ac(u,{withTypes:()=>u});const g=async(v,S,k,C)=>{const T=new AbortController,N=V7(p,T.signal),E=[];try{v.pending.add(T),n(v),await Promise.resolve(v.effect(S,ac({},k,{getOriginalState:C,condition:(O,P)=>N(O,P).then(Boolean),take:N,delay:S2(T.signal),pause:Bg(T.signal),extra:s,signal:T.signal,fork:W7(T.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((O,P,I)=>{O!==T&&(O.abort(Ix),I.delete(O))})},cancel:()=>{T.abort(Ix),v.pending.delete(T)},throwIfCancelled:()=>{Io(T.signal)}})))}catch(O){O instanceof Gh||XE(l,O,{raisedBy:"effect"})}finally{await Promise.all(E),T.abort(q7),r(v),v.pending.delete(T)}},h=H7(t,i);return{middleware:v=>S=>k=>{if(!i2(k))return S(k);if(T2.match(k))return p(k.payload);if(G7.match(k)){h();return}if(A2.match(k))return u(k.payload);let C=v.getState();const T=()=>{if(C===YE)throw new Error(Qn(23));return C};let N;try{if(N=S(k),t.size>0){const E=v.getState(),O=Array.from(t.values());for(const P of O){let I=!1;try{I=P.predicate(k,E,C)}catch(D){I=!1,XE(l,D,{raisedBy:"predicate"})}I&&g(P,k,v,T)}}}finally{C=YE}return N},startListening:p,stopListening:u,clearListeners:h}};function Qn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Y7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},E2=Dn({name:"chartLayout",initialState:Y7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var i,n,r,s;e.margin.top=(i=t.payload.top)!==null&&i!==void 0?i:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(r=t.payload.bottom)!==null&&r!==void 0?r:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Q7,setLayout:X7,setChartSize:J7,setScale:Z7}=E2.actions,e9=E2.reducer;function N2(e,t,i){return Array.isArray(e)&&e&&t+i!==0?e.slice(t,i+1):e}function ht(e){return Number.isFinite(e)}function or(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function JE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Ql(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(i),!0).forEach(function(n){t9(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):JE(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function t9(e,t,i){return(t=i9(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(e,t,i){return Bi(e)||Bi(t)?i:sr(t)?jh(e,t,i):typeof t=="function"?t(e):i}var a9=(e,t,i)=>{if(t&&i){var{width:n,height:r}=i,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&$e(e[s]))return Ql(Ql({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&$e(e[l]))return Ql(Ql({},e),{},{[l]:e[l]+(r||0)})}return e},Fa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",M2=(e,t,i,n)=>{if(n)return e.map(d=>d.coordinate);var r,s,l=e.map(d=>(d.coordinate===t&&(r=!0),d.coordinate===i&&(s=!0),d.coordinate));return r||l.push(t),s||l.push(i),l},P2=(e,t,i)=>{if(!e)return null;var{duplicateDomain:n,type:r,range:s,scale:l,realScaleType:d,isCategorical:p,categoricalDomain:u,tickCount:g,ticks:h,niceTicks:y,axisType:v}=e;if(!l)return null;var S=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=r==="category"&&l.bandwidth?l.bandwidth()/S:0;if(k=v==="angleAxis"&&s&&s.length>=2?ga(s[0]-s[1])*2*k:k,h||y){var C=(h||y||[]).map((T,N)=>{var E=n?n.indexOf(T):T,O=l.map(E);return ht(O)?{coordinate:O+k,value:T,offset:k,index:N}:null}).filter(Pn);return C}return p&&u?u.map((T,N)=>{var E=l.map(T);return ht(E)?{coordinate:E+k,value:T,index:N,offset:k}:null}).filter(Pn):l.ticks&&g!=null?l.ticks(g).map((T,N)=>{var E=l.map(T);return ht(E)?{coordinate:E+k,value:T,index:N,offset:k}:null}).filter(Pn):l.domain().map((T,N)=>{var E=l.map(T);return ht(E)?{coordinate:E+k,value:n?n[T]:T,index:N,offset:k}:null}).filter(Pn)},r9=e=>{var t,i=e.length;if(!(i<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var r=0;r<n;++r)for(var s=0,l=0,d=0;d<i;++d){var p=e[d],u=p==null?void 0:p[r];if(u!=null){var g=u[1],h=u[0],y=rr(g)?h:g;y>=0?(u[0]=s,s+=y,u[1]=s):(u[0]=l,l+=y,u[1]=l)}}}},s9=e=>{var t,i=e.length;if(!(i<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var r=0;r<n;++r)for(var s=0,l=0;l<i;++l){var d=e[l],p=d==null?void 0:d[r];if(p!=null){var u=rr(p[1])?p[0]:p[1];u>=0?(p[0]=s,s+=u,p[1]=s):(p[0]=0,p[1]=0)}}}},o9={sign:r9,expand:G6,none:jo,silhouette:$6,wiggle:Y6,positive:s9},l9=(e,t,i)=>{var n,r=(n=o9[i])!==null&&n!==void 0?n:jo,s=H6().keys(t).value((d,p)=>Number(oi(d,p,0))).order(Sx).offset(r),l=s(e);return l.forEach((d,p)=>{d.forEach((u,g)=>{var h=oi(e[g],t[p],0);Array.isArray(h)&&h.length===2&&$e(h[0])&&$e(h[1])&&(u[0]=h[0],u[1]=h[1])})}),l};function c9(e){return e==null?void 0:String(e)}function ZE(e){var{axis:t,ticks:i,bandSize:n,entry:r,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Bi(r[t.dataKey])){var d=UR(i,"value",r[t.dataKey]);if(d)return d.coordinate+n/2}return i!=null&&i[s]?i[s].coordinate+n/2:null}var p=oi(r,Bi(l)?t.dataKey:l),u=t.scale.map(p);return $e(u)?u:null}var d9=e=>{var t=e.flat(2).filter($e);return[Math.min(...t),Math.max(...t)]},u9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],p9=(e,t,i)=>{if(e!=null)return u9(Object.keys(e).reduce((n,r)=>{var s=e[r];if(!s)return n;var{stackedData:l}=s,d=l.reduce((p,u)=>{var g=N2(u,t,i),h=d9(g);return!ht(h[0])||!ht(h[1])?p:[Math.min(p[0],h[0]),Math.max(p[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},eN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gc=(e,t,i)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!i||n>0)return n}if(e&&t&&t.length>=2){for(var r=Fh(t,g=>g.coordinate),s=1/0,l=1,d=r.length;l<d;l++){var p=r[l],u=r[l-1];s=Math.min(((p==null?void 0:p.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return i?void 0:0};function iN(e){var{tooltipEntrySettings:t,dataKey:i,payload:n,value:r,name:s}=e;return Ql(Ql({},t),{},{dataKey:i,payload:n,value:r,name:s})}function Yh(e,t){if(e)return String(e);if(typeof t=="string")return t}var f9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},g9=(e,t)=>t==="centric"?e.angle:e.radius,Xr=e=>e.layout.width,Jr=e=>e.layout.height,h9=e=>e.layout.scale,I2=e=>e.layout.margin,Qh=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xh=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),m9="data-recharts-item-index",y9="data-recharts-item-id",ip=60;function nN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Hf(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(i),!0).forEach(function(n){_9(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function _9(e,t,i){return(t=v9(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x9=e=>e.brush.height;function k9(e){var t=Xh(e);return t.reduce((i,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var r=typeof n.width=="number"?n.width:ip;return i+r}return i},0)}function S9(e){var t=Xh(e);return t.reduce((i,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var r=typeof n.width=="number"?n.width:ip;return i+r}return i},0)}function w9(e){var t=Qh(e);return t.reduce((i,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?i+n.height:i,0)}function C9(e){var t=Qh(e);return t.reduce((i,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?i+n.height:i,0)}var en=te([Xr,Jr,I2,x9,k9,S9,w9,C9,ZR,JW],(e,t,i,n,r,s,l,d,p,u)=>{var g={left:(i.left||0)+r,right:(i.right||0)+s},h={top:(i.top||0)+l,bottom:(i.bottom||0)+d},y=Hf(Hf({},h),g),v=y.bottom;y.bottom+=n,y=a9(y,p,u);var S=e-y.left-y.right,k=t-y.top-y.bottom;return Hf(Hf({brushBottom:v},y),{},{width:Math.max(S,0),height:Math.max(k,0)})}),T9=te(en,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),O2=te(Xr,Jr,(e,t)=>({x:0,y:0,width:e,height:t})),A9=A.createContext(null),dn=()=>A.useContext(A9)!=null,Jh=e=>e.brush,Zh=te([Jh,en,I2],(e,t,i)=>({height:e.height,x:$e(e.x)?e.x:t.left,y:$e(e.y)?e.y:t.top+t.height+t.brushBottom-((i==null?void 0:i.bottom)||0),width:$e(e.width)?e.width:t.width})),Jv={},Zv={},eb={},aN;function E9(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,n,{signal:r,edges:s}={}){let l,d=null;const p=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),g=()=>{d!==null&&(i.apply(l,d),l=void 0,d=null)},h=()=>{u&&g(),k()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,h()},n)},S=()=>{y!==null&&(clearTimeout(y),y=null)},k=()=>{S(),l=void 0,d=null},C=()=>{g()},T=function(...N){if(r!=null&&r.aborted)return;l=this,d=N;const E=y==null;v(),p&&E&&g()};return T.schedule=v,T.cancel=k,T.flush=C,r==null||r.addEventListener("abort",k,{once:!0}),T}e.debounce=t})(eb)),eb}var rN;function N9(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9();function i(n,r=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:p}=s,u=Array(2);l&&(u[0]="leading"),d&&(u[1]="trailing");let g,h=null;const y=t.debounce(function(...k){g=n.apply(this,k),h=null},r,{edges:u}),v=function(...k){return p!=null&&(h===null&&(h=Date.now()),Date.now()-h>=p)?(g=n.apply(this,k),h=Date.now(),y.cancel(),y.schedule(),g):(y.apply(this,k),g)},S=()=>(y.flush(),g);return v.cancel=y.cancel,v.flush=S,v}e.debounce=i})(Zv)),Zv}var sN;function M9(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N9();function i(n,r=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,r,{leading:l,maxWait:r,trailing:d})}e.throttle=i})(Jv)),Jv}var tb,oN;function P9(){return oN||(oN=1,tb=M9().throttle),tb}var I9=P9();const O9=Jn(I9);var Ug=function(t,i){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(i===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(i===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(i.replace(/%s/g,()=>r[l++]))}},er={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},L2=(e,t,i)=>{var{width:n=er.width,height:r=er.height,aspect:s,maxHeight:l}=i,d=Ko(n)?e:Number(n),p=Ko(r)?t:Number(r);return s&&s>0&&(d?p=d/s:p&&(d=p*s),l&&p!=null&&p>l&&(p=l)),{calculatedWidth:d,calculatedHeight:p}},L9={width:0,height:0,overflow:"visible"},R9={width:0,overflowX:"visible"},D9={height:0,overflowY:"visible"},j9={},K9=e=>{var{width:t,height:i}=e,n=Ko(t),r=Ko(i);return n&&r?L9:n?R9:r?D9:j9};function F9(e){var{width:t,height:i,aspect:n}=e,r=t,s=i;return r===void 0&&s===void 0?(r=er.width,s=er.height):r===void 0?r=n&&n>0?void 0:er.width:s===void 0&&(s=n&&n>0?void 0:er.height),{width:r,height:s}}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Lx.apply(null,arguments)}function lN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function cN(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(i),!0).forEach(function(n){B9(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function B9(e,t,i){return(t=U9(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function U9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R2=A.createContext(er.initialDimension);function z9(e){return or(e.width)&&or(e.height)}function D2(e){var{children:t,width:i,height:n}=e,r=A.useMemo(()=>({width:i,height:n}),[i,n]);return z9(r)?A.createElement(R2.Provider,{value:r},t):null}var kk=()=>A.useContext(R2),W9=A.forwardRef((e,t)=>{var{aspect:i,initialDimension:n=er.initialDimension,width:r,height:s,minWidth:l=er.minWidth,minHeight:d,maxHeight:p,children:u,debounce:g=er.debounce,id:h,className:y,onResize:v,style:S={}}=e,k=A.useRef(null),C=A.useRef();C.current=v,A.useImperativeHandle(t,()=>k.current);var[T,N]=A.useState({containerWidth:n.width,containerHeight:n.height}),E=A.useCallback((B,V)=>{N(U=>{var W=Math.round(B),q=Math.round(V);return U.containerWidth===W&&U.containerHeight===q?U:{containerWidth:W,containerHeight:q}})},[]);A.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return Qr;var B=q=>{var pe,X=q[0];if(X!=null){var{width:se,height:K}=X.contentRect;E(se,K),(pe=C.current)===null||pe===void 0||pe.call(C,se,K)}};g>0&&(B=O9(B,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(B),{width:U,height:W}=k.current.getBoundingClientRect();return E(U,W),V.observe(k.current),()=>{V.disconnect()}},[E,g]);var{containerWidth:O,containerHeight:P}=T;Ug(!i||i>0,"The aspect(%s) must be greater than zero.",i);var{calculatedWidth:I,calculatedHeight:D}=L2(O,P,{width:r,height:s,aspect:i,maxHeight:p});return Ug(I!=null&&I>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,D,r,s,l,d,i),A.createElement("div",{id:h?"".concat(h):void 0,className:yt("recharts-responsive-container",y),style:cN(cN({},S),{},{width:r,height:s,minWidth:l,minHeight:d,maxHeight:p}),ref:k},A.createElement("div",{style:K9({width:r,height:s})},A.createElement(D2,{width:I,height:D},u)))}),np=A.forwardRef((e,t)=>{var i=kk();if(or(i.width)&&or(i.height))return e.children;var{width:n,height:r}=F9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=L2(void 0,void 0,{width:n,height:r,aspect:e.aspect,maxHeight:e.maxHeight});return $e(s)&&$e(l)?A.createElement(D2,{width:s,height:l},e.children):A.createElement(W9,Lx({},e,{width:n,height:r,ref:t}))});function Sk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var em=()=>{var e,t=dn(),i=We(T9),n=We(Zh),r=(e=We(Jh))===null||e===void 0?void 0:e.padding;return!t||!n||!r?i:{width:n.width-r.left-r.right,height:n.height-r.top-r.bottom,x:r.left,y:r.top}},V9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j2=()=>{var e;return(e=We(en))!==null&&e!==void 0?e:V9},K2=()=>We(Xr),F2=()=>We(Jr),Tt=e=>e.layout.layoutType,Tc=()=>We(Tt),wk=()=>{var e=Tc();if(e==="horizontal"||e==="vertical")return e},Ck=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},B2=()=>We(Ck),H9=()=>{var e=Tc();return e!==void 0},ap=e=>{var t=$t(),i=dn(),{width:n,height:r}=e,s=kk(),l=n,d=r;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:r),A.useEffect(()=>{!i&&or(l)&&or(d)&&t(J7({width:l,height:d}))},[t,i,l,d]),null},U2=Symbol.for("immer-nothing"),dN=Symbol.for("immer-draftable"),Xn=Symbol.for("immer-state");function Ea(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mu=Object.getPrototypeOf;function hc(e){return!!e&&!!e[Xn]}function Bo(e){var t;return e?q2(e)||Array.isArray(e)||!!e[dN]||!!((t=e.constructor)!=null&&t[dN])||rp(e)||im(e):!1}var G9=Object.prototype.constructor.toString(),uN=new WeakMap;function q2(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(i===Object)return!0;if(typeof i!="function")return!1;let n=uN.get(i);return n===void 0&&(n=Function.toString.call(i),uN.set(i,n)),n===G9}function qg(e,t,i=!0){tm(e)===0?(i?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((n,r)=>t(r,n,e))}function tm(e){const t=e[Xn];return t?t.type_:Array.isArray(e)?1:rp(e)?2:im(e)?3:0}function Rx(e,t){return tm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function z2(e,t,i){const n=tm(e);n===2?e.set(t,i):n===3?e.add(i):e[t]=i}function $9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function rp(e){return e instanceof Map}function im(e){return e instanceof Set}function wo(e){return e.copy_||e.base_}function Dx(e,t){if(rp(e))return new Map(e);if(im(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const i=q2(e);if(t===!0||t==="class_only"&&!i){const n=Object.getOwnPropertyDescriptors(e);delete n[Xn];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const l=r[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(Mu(e),n)}else{const n=Mu(e);if(n!==null&&i)return{...e};const r=Object.create(n);return Object.assign(r,e)}}function Tk(e,t=!1){return nm(e)||hc(e)||!Bo(e)||(tm(e)>1&&Object.defineProperties(e,{set:Gf,add:Gf,clear:Gf,delete:Gf}),Object.freeze(e),t&&Object.values(e).forEach(i=>Tk(i,!0))),e}function Y9(){Ea(2)}var Gf={value:Y9};function nm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Q9={};function Uo(e){const t=Q9[e];return t||Ea(0,e),t}var Pu;function W2(){return Pu}function X9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pN(e,t){t&&(Uo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jx(e){Kx(e),e.drafts_.forEach(J9),e.drafts_=null}function Kx(e){e===Pu&&(Pu=e.parent_)}function fN(e){return Pu=X9(Pu,e)}function J9(e){const t=e[Xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return e!==void 0&&e!==i?(i[Xn].modified_&&(jx(t),Ea(4)),Bo(e)&&(e=zg(t,e),t.parent_||Wg(t,e)),t.patches_&&Uo("Patches").generateReplacementPatches_(i[Xn].base_,e,t.patches_,t.inversePatches_)):e=zg(t,i,[]),jx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==U2?e:void 0}function zg(e,t,i){if(nm(t))return t;const n=e.immer_.shouldUseStrictIteration(),r=t[Xn];if(!r)return qg(t,(s,l)=>hN(e,r,t,s,l,i),n),t;if(r.scope_!==e)return t;if(!r.modified_)return Wg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,d=!1;r.type_===3&&(l=new Set(s),s.clear(),d=!0),qg(l,(p,u)=>hN(e,r,s,p,u,i,d),n),Wg(e,s,!1),i&&e.patches_&&Uo("Patches").generatePatches_(r,i,e.patches_,e.inversePatches_)}return r.copy_}function hN(e,t,i,n,r,s,l){if(r==null||typeof r!="object"&&!l)return;const d=nm(r);if(!(d&&!l)){if(hc(r)){const p=s&&t&&t.type_!==3&&!Rx(t.assigned_,n)?s.concat(n):void 0,u=zg(e,r,p);if(z2(i,n,u),hc(u))e.canAutoFreeze_=!1;else return}else l&&i.add(r);if(Bo(r)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===r&&d)return;zg(e,r),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(rp(i)?i.has(n):Object.prototype.propertyIsEnumerable.call(i,n))&&Wg(e,r)}}}function Wg(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tk(t,i)}function Z9(e,t){const i=Array.isArray(e),n={type_:i?1:0,scope_:t?t.scope_:W2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,s=Ak;i&&(r=[n],s=Iu);const{revoke:l,proxy:d}=Proxy.revocable(r,s);return n.draft_=d,n.revoke_=l,d}var Ak={get(e,t){if(t===Xn)return e;const i=wo(e);if(!Rx(i,t))return e8(e,i,t);const n=i[t];return e.finalized_||!Bo(n)?n:n===ib(e.base_,t)?(nb(e),e.copy_[t]=Bx(n,e)):n},has(e,t){return t in wo(e)},ownKeys(e){return Reflect.ownKeys(wo(e))},set(e,t,i){const n=V2(wo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,i),!0;if(!e.modified_){const r=ib(wo(e),t),s=r==null?void 0:r[Xn];if(s&&s.base_===i)return e.copy_[t]=i,e.assigned_[t]=!1,!0;if($9(i,r)&&(i!==void 0||Rx(e.base_,t)))return!0;nb(e),Fx(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ib(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nb(e),Fx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=wo(e),n=Reflect.getOwnPropertyDescriptor(i,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:i[t]}},defineProperty(){Ea(11)},getPrototypeOf(e){return Mu(e.base_)},setPrototypeOf(){Ea(12)}},Iu={};qg(Ak,(e,t)=>{Iu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Iu.deleteProperty=function(e,t){return Iu.set.call(this,e,t,void 0)};Iu.set=function(e,t,i){return Ak.set.call(this,e[0],t,i,e[0])};function ib(e,t){const i=e[Xn];return(i?wo(i):e)[t]}function e8(e,t,i){var r;const n=V2(t,i);return n?"value"in n?n.value:(r=n.get)==null?void 0:r.call(e.draft_):void 0}function V2(e,t){if(!(t in e))return;let i=Mu(e);for(;i;){const n=Object.getOwnPropertyDescriptor(i,t);if(n)return n;i=Mu(i)}}function Fx(e){e.modified_||(e.modified_=!0,e.parent_&&Fx(e.parent_))}function nb(e){e.copy_||(e.copy_=Dx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var t8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,i,n)=>{if(typeof t=="function"&&typeof i!="function"){const s=i;i=t;const l=this;return function(p=s,...u){return l.produce(p,g=>i.call(this,g,...u))}}typeof i!="function"&&Ea(6),n!==void 0&&typeof n!="function"&&Ea(7);let r;if(Bo(t)){const s=fN(this),l=Bx(t,void 0);let d=!0;try{r=i(l),d=!1}finally{d?jx(s):Kx(s)}return pN(s,n),gN(r,s)}else if(!t||typeof t!="object"){if(r=i(t),r===void 0&&(r=t),r===U2&&(r=void 0),this.autoFreeze_&&Tk(r,!0),n){const s=[],l=[];Uo("Patches").generateReplacementPatches_(t,r,s,l),n(s,l)}return r}else Ea(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,p=>t(p,...d));let n,r;return[this.produce(t,i,(l,d)=>{n=l,r=d}),n,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Bo(e)||Ea(8),hc(e)&&(e=i8(e));const t=fN(this),i=Bx(e,void 0);return i[Xn].isManual_=!0,Kx(t),i}finishDraft(e,t){const i=e&&e[Xn];(!i||!i.isManual_)&&Ea(9);const{scope_:n}=i;return pN(n,t),gN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const r=t[i];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}i>-1&&(t=t.slice(i+1));const n=Uo("Patches").applyPatches_;return hc(e)?n(e,t):this.produce(e,r=>n(r,t))}};function Bx(e,t){const i=rp(e)?Uo("MapSet").proxyMap_(e,t):im(e)?Uo("MapSet").proxySet_(e,t):Z9(e,t);return(t?t.scope_:W2()).drafts_.push(i),i}function i8(e){return hc(e)||Ea(10,e),H2(e)}function H2(e){if(!Bo(e)||nm(e))return e;const t=e[Xn];let i,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=Dx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else i=Dx(e,!0);return qg(i,(r,s)=>{z2(i,r,H2(s))},n),t&&(t.finalized_=!1),i}var n8=new t8;n8.produce;var a8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},G2=Dn({name:"legend",initialState:a8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Vt()},replaceLegendPayload:{reducer(e,t){var{prev:i,next:n}=t.payload,r=Oa(e).payload.indexOf(i);r>-1&&(e.payload[r]=n)},prepare:Vt()},removeLegendPayload:{reducer(e,t){var i=Oa(e).payload.indexOf(t.payload);i>-1&&e.payload.splice(i,1)},prepare:Vt()}}}),{setLegendSize:ske,setLegendSettings:oke,addLegendPayload:$2,replaceLegendPayload:Y2,removeLegendPayload:Q2}=G2.actions,r8=G2.reducer;function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ux.apply(null,arguments)}function mN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Dd(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(i),!0).forEach(function(n){s8(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function s8(e,t,i){return(t=o8(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o8(e){var t=l8(e,"string");return typeof t=="symbol"?t:t+""}function l8(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e){return Array.isArray(e)&&sr(e[0])&&sr(e[1])?e.join(" ~ "):e}var Dl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},d8=e=>{var{separator:t=Dl.separator,contentStyle:i,itemStyle:n,labelStyle:r=Dl.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:p,labelClassName:u,label:g,labelFormatter:h,accessibilityLayer:y=Dl.accessibilityLayer}=e,v=()=>{if(s&&s.length){var P={padding:0,margin:0},I=(d?Fh(s,d):s).map((D,B)=>{if(D.type==="none")return null;var V=D.formatter||l||c8,{value:U,name:W}=D,q=U,pe=W;if(V){var X=V(U,W,D,B,s);if(Array.isArray(X))[q,pe]=X;else if(X!=null)q=X;else return null}var se=Dd(Dd({},Dl.itemStyle),{},{color:D.color||Dl.itemStyle.color},n);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:se},sr(pe)?A.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,sr(pe)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},q),A.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:P},I)}return null},S=Dd(Dd({},Dl.contentStyle),i),k=Dd({margin:0},r),C=!Bi(g),T=C?g:"",N=yt("recharts-default-tooltip",p),E=yt("recharts-tooltip-label",u);C&&h&&s!==void 0&&s!==null&&(T=h(g,s));var O=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Ux({className:N,style:S},O),A.createElement("p",{className:E,style:k},A.isValidElement(T)?T:"".concat(T)),v())},jd="recharts-tooltip-wrapper",u8={visibility:"hidden"};function p8(e){var{coordinate:t,translateX:i,translateY:n}=e;return yt(jd,{["".concat(jd,"-right")]:$e(i)&&t&&$e(t.x)&&i>=t.x,["".concat(jd,"-left")]:$e(i)&&t&&$e(t.x)&&i<t.x,["".concat(jd,"-bottom")]:$e(n)&&t&&$e(t.y)&&n>=t.y,["".concat(jd,"-top")]:$e(n)&&t&&$e(t.y)&&n<t.y})}function yN(e){var{allowEscapeViewBox:t,coordinate:i,key:n,offset:r,position:s,reverseDirection:l,tooltipDimension:d,viewBox:p,viewBoxDimension:u}=e;if(s&&$e(s[n]))return s[n];var g=i[n]-d-(r>0?r:0),h=i[n]+r;if(t[n])return l[n]?g:h;var y=p[n];if(y==null)return 0;if(l[n]){var v=g,S=y;return v<S?Math.max(h,y):Math.max(g,y)}if(u==null)return 0;var k=h+d,C=y+u;return k>C?Math.max(g,y):Math.max(h,y)}function f8(e){var{translateX:t,translateY:i,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(i,"px, 0)"):"translate(".concat(t,"px, ").concat(i,"px)")}}function g8(e){var{allowEscapeViewBox:t,coordinate:i,offsetTop:n,offsetLeft:r,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:p,viewBox:u}=e,g,h,y;return d.height>0&&d.width>0&&i?(h=yN({allowEscapeViewBox:t,coordinate:i,key:"x",offset:r,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:u,viewBoxDimension:u.width}),y=yN({allowEscapeViewBox:t,coordinate:i,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:u,viewBoxDimension:u.height}),g=f8({translateX:h,translateY:y,useTranslate3d:p})):g=u8,{cssProperties:g,cssClasses:p8({translateX:h,translateY:y,coordinate:i})}}function _N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function $f(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(i),!0).forEach(function(n){qx(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_N(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function qx(e,t,i){return(t=h8(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h8(e){var t=m8(e,"string");return typeof t=="symbol"?t:t+""}function m8(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class y8 extends A.PureComponent{constructor(){super(...arguments),qx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var i,n,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(i=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&i!==void 0?i:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,i;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:i,animationDuration:n,animationEasing:r,children:s,coordinate:l,hasPayload:d,isAnimationActive:p,offset:u,position:g,reverseDirection:h,useTranslate3d:y,viewBox:v,wrapperStyle:S,lastBoundingBox:k,innerRef:C,hasPortalFromProps:T}=this.props,N=typeof u=="number"?u:u.x,E=typeof u=="number"?u:u.y,{cssClasses:O,cssProperties:P}=g8({allowEscapeViewBox:i,coordinate:l,offsetLeft:N,offsetTop:E,position:g,reverseDirection:h,tooltipBox:{height:k.height,width:k.width},useTranslate3d:y,viewBox:v}),I=T?{}:$f($f({transition:p&&t?"transform ".concat(n,"ms ").concat(r):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=$f($f({},I),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},S);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:C},s)}}var X2=()=>{var e;return(e=We(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zx.apply(null,arguments)}function vN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function bN(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(i),!0).forEach(function(n){_8(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function _8(e,t,i){return(t=v8(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v8(e){var t=b8(e,"string");return typeof t=="symbol"?t:t+""}function b8(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xN={curveBasisClosed:R6,curveBasisOpen:D6,curveBasis:L6,curveBumpX:I6,curveBumpY:O6,curveLinearClosed:j6,curveLinear:Rh,curveMonotoneX:K6,curveMonotoneY:F6,curveNatural:B6,curveStep:U6,curveStepAfter:z6,curveStepBefore:q6},Vg=e=>ht(e.x)&&ht(e.y),kN=e=>e.base!=null&&Vg(e.base)&&Vg(e),Kd=e=>e.x,Fd=e=>e.y,x8=(e,t)=>{if(typeof e=="function")return e;var i="curve".concat(ck(e));if((i==="curveMonotone"||i==="curveBump")&&t){var n=xN["".concat(i).concat(t==="vertical"?"Y":"X")];if(n)return n}return xN[i]||Rh},SN={connectNulls:!1,type:"linear"},k8=e=>{var{type:t=SN.type,points:i=[],baseLine:n,layout:r,connectNulls:s=SN.connectNulls}=e,l=x8(t,r),d=s?i.filter(Vg):i;if(Array.isArray(n)){var p,u=i.map((S,k)=>bN(bN({},S),{},{base:n[k]}));r==="vertical"?p=Bf().y(Fd).x1(Kd).x0(S=>S.base.x):p=Bf().x(Kd).y1(Fd).y0(S=>S.base.y);var g=p.defined(kN).curve(l),h=s?u.filter(kN):u;return g(h)}var y;r==="vertical"&&$e(n)?y=Bf().y(Fd).x1(Kd).x0(n):$e(n)?y=Bf().x(Kd).y1(Fd).y0(n):y=MR().x(Kd).y(Fd);var v=y.defined(Vg).curve(l);return v(d)},_g=e=>{var{className:t,points:i,path:n,pathRef:r}=e,s=Tc();if((!i||!i.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=i&&i.length?k8(l):n;return A.createElement("path",zx({},ni(e),dk(e),{className:yt("recharts-curve",t),d:d===null?void 0:d,ref:r}))},S8=["x","y","top","left","width","height","className"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wx.apply(null,arguments)}function wN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function w8(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(i),!0).forEach(function(n){C8(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function C8(e,t,i){return(t=T8(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function T8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E8(e,t){if(e==null)return{};var i,n,r=N8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function N8(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var M8=(e,t,i,n,r,s)=>"M".concat(e,",").concat(r,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(i),P8=e=>{var{x:t=0,y:i=0,top:n=0,left:r=0,width:s=0,height:l=0,className:d}=e,p=E8(e,S8),u=w8({x:t,y:i,top:n,left:r,width:s,height:l},p);return!$e(t)||!$e(i)||!$e(s)||!$e(l)||!$e(n)||!$e(r)?null:A.createElement("path",Wx({},Ji(u),{className:yt("recharts-cross",d),d:M8(t,i,s,l,n,r)}))};function I8(e,t,i,n){var r=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-r:i.left+.5,y:e==="horizontal"?i.top+.5:t.y-r,width:e==="horizontal"?n:i.width-1,height:e==="horizontal"?i.height-1:n}}function CN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function TN(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(i),!0).forEach(function(n){O8(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function O8(e,t,i){return(t=L8(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function L8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),j8=(e,t,i)=>e.map(n=>"".concat(D8(n)," ").concat(t,"ms ").concat(i)).join(","),K8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((i,n)=>i.filter(r=>n.includes(r))),Ou=(e,t)=>Object.keys(t).reduce((i,n)=>TN(TN({},i),{},{[n]:e(n,t[n])}),{});function AN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Ei(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(i),!0).forEach(function(n){F8(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function F8(e,t,i){return(t=B8(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function B8(e){var t=U8(e,"string");return typeof t=="symbol"?t:t+""}function U8(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hg=(e,t,i)=>e+(t-e)*i,Vx=e=>{var{from:t,to:i}=e;return t!==i},J2=(e,t,i)=>{var n=Ou((r,s)=>{if(Vx(s)){var[l,d]=e(s.from,s.to,s.velocity);return Ei(Ei({},s),{},{from:l,velocity:d})}return s},t);return i<1?Ou((r,s)=>Vx(s)&&n[r]!=null?Ei(Ei({},s),{},{velocity:Hg(s.velocity,n[r].velocity,i),from:Hg(s.from,n[r].from,i)}):s,t):J2(e,n,i-1)};function q8(e,t,i,n,r,s){var l,d=n.reduce((y,v)=>Ei(Ei({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),p=()=>Ou((y,v)=>v.from,d),u=()=>!Object.values(d).filter(Vx).length,g=null,h=y=>{l||(l=y);var v=y-l,S=v/i.dt;d=J2(i,d,S),r(Ei(Ei(Ei({},e),t),p())),l=y,u()||(g=s.setTimeout(h))};return()=>(g=s.setTimeout(h),()=>{var y;(y=g)===null||y===void 0||y()})}function z8(e,t,i,n,r,s,l){var d=null,p=r.reduce((h,y)=>{var v=e[y],S=t[y];return v==null||S==null?h:Ei(Ei({},h),{},{[y]:[v,S]})},{}),u,g=h=>{u||(u=h);var y=(h-u)/n,v=Ou((k,C)=>Hg(...C,i(y)),p);if(s(Ei(Ei(Ei({},e),t),v)),y<1)d=l.setTimeout(g);else{var S=Ou((k,C)=>Hg(...C,i(1)),p);s(Ei(Ei(Ei({},e),t),S))}};return()=>(d=l.setTimeout(g),()=>{var h;(h=d)===null||h===void 0||h()})}const W8=(e,t,i,n,r,s)=>{var l=K8(e,t);return i==null?()=>(r(Ei(Ei({},e),t)),()=>{}):i.isStepper===!0?q8(e,t,i,l,r,s):z8(e,t,i,n,l,r,s)};var Gg=1e-4,Z2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eD=(e,t)=>e.map((i,n)=>i*t**n).reduce((i,n)=>i+n),EN=(e,t)=>i=>{var n=Z2(e,t);return eD(n,i)},V8=(e,t)=>i=>{var n=Z2(e,t),r=[...n.map((s,l)=>s*l).slice(1),0];return eD(r,i)},H8=e=>{var t,i=e.split("(");if(i.length!==2||i[0]!=="cubic-bezier")return null;var n=(t=i[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var r=n.map(s=>parseFloat(s));return[r[0],r[1],r[2],r[3]]},G8=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(i.length===1)switch(i[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=H8(i[0]);if(r)return r}}return i.length===4?i:[0,0,1,1]},$8=(e,t,i,n)=>{var r=EN(e,i),s=EN(t,n),l=V8(e,i),d=u=>u>1?1:u<0?0:u,p=u=>{for(var g=u>1?1:u,h=g,y=0;y<8;++y){var v=r(h)-g,S=l(h);if(Math.abs(v-g)<Gg||S<Gg)return s(h);h=d(h-v/S)}return s(h)};return p.isStepper=!1,p},NN=function(){return $8(...G8(...arguments))},Y8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:i=100,damping:n=8,dt:r=17}=t,s=(l,d,p)=>{var u=-(l-d)*i,g=p*n,h=p+(u-g)*r/1e3,y=p*r/1e3+l;return Math.abs(y-d)<Gg&&Math.abs(h)<Gg?[d,0]:[y,h]};return s.isStepper=!0,s.dt=r,s},Q8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NN(e);case"spring":return Y8();default:if(e.split("(")[0]==="cubic-bezier")return NN(e)}return typeof e=="function"?e:null};function X8(e){var t,i=()=>null,n=!1,r=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[p,...u]=d;if(typeof p=="number"){r=e.setTimeout(s.bind(null,u),p);return}s(p),r=e.setTimeout(s.bind(null,u));return}typeof l=="string"&&(t=l,i(t)),typeof l=="object"&&(t=l,i(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,r&&(r(),r=null),s(l)},subscribe:l=>(i=l,()=>{i=()=>null}),getTimeoutController:()=>e}}class J8{setTimeout(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),r=null,s=l=>{l-n>=i?t(l):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function Z8(){return X8(new J8)}var eV=A.createContext(Z8);function tV(e,t){var i=A.useContext(eV);return A.useMemo(()=>t??i(e),[e,t,i])}var iV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sp={isSsr:iV()},nV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MN={t:0},ab={t:1};function Ek(e){var t=Mi(e,nV),{isActive:i,canBegin:n,duration:r,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:p,children:u}=t,g=i==="auto"?!sp.isSsr:i,h=tV(t.animationId,t.animationManager),[y,v]=A.useState(g?MN:ab),S=A.useRef(null);return A.useEffect(()=>{g||v(ab)},[g]),A.useEffect(()=>{if(!g||!n)return Qr;var k=W8(MN,ab,Q8(s),r,v,h.getTimeoutController()),C=()=>{S.current=k()};return h.start([p,l,C,r,d]),()=>{h.stop(),S.current&&S.current(),d()}},[g,n,r,s,l,p,d,h]),u(y.t)}function Nk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",i=A.useRef(Tu(t)),n=A.useRef(e);return n.current!==e&&(i.current=Tu(t),n.current=e),i.current}var aV=["radius"],rV=["radius"],PN,IN,ON,LN,RN,DN,jN,KN,FN,BN;function UN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function qN(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(i),!0).forEach(function(n){sV(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):UN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function sV(e,t,i){return(t=oV(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$g.apply(null,arguments)}function zN(e,t){if(e==null)return{};var i,n,r=cV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function cV(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function Ga(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var WN=(e,t,i,n,r)=>{var s=js(i),l=js(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),p=l>=0?1:-1,u=s>=0?1:-1,g=l>=0&&s>=0||l<0&&s<0?1:0,h;if(d>0&&Array.isArray(r)){for(var y=[0,0,0,0],v=0,S=4;v<S;v++){var k,C=(k=r[v])!==null&&k!==void 0?k:0;y[v]=C>d?d:C}h=ji(PN||(PN=Ga(["M",",",""])),e,t+p*y[0]),y[0]>0&&(h+=ji(IN||(IN=Ga(["A ",",",",0,0,",",",",",""])),y[0],y[0],g,e+u*y[0],t)),h+=ji(ON||(ON=Ga(["L ",",",""])),e+i-u*y[1],t),y[1]>0&&(h+=ji(LN||(LN=Ga(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],g,e+i,t+p*y[1])),h+=ji(RN||(RN=Ga(["L ",",",""])),e+i,t+n-p*y[2]),y[2]>0&&(h+=ji(DN||(DN=Ga(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],g,e+i-u*y[2],t+n)),h+=ji(jN||(jN=Ga(["L ",",",""])),e+u*y[3],t+n),y[3]>0&&(h+=ji(KN||(KN=Ga(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],g,e,t+n-p*y[3])),h+="Z"}else if(d>0&&r===+r&&r>0){var T=Math.min(d,r);h=ji(FN||(FN=Ga(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*T,T,T,g,e+u*T,t,e+i-u*T,t,T,T,g,e+i,t+p*T,e+i,t+n-p*T,T,T,g,e+i-u*T,t+n,e+u*T,t+n,T,T,g,e,t+n-p*T)}else h=ji(BN||(BN=Ga(["M ",","," h "," v "," h "," Z"])),e,t,i,n,-i);return h},VN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dV=e=>{var t=Mi(e,VN),i=A.useRef(null),[n,r]=A.useState(-1);A.useEffect(()=>{if(i.current&&i.current.getTotalLength)try{var z=i.current.getTotalLength();z&&r(z)}catch{}},[]);var{x:s,y:l,width:d,height:p,radius:u,className:g}=t,{animationEasing:h,animationDuration:y,animationBegin:v,isAnimationActive:S,isUpdateAnimationActive:k}=t,C=A.useRef(d),T=A.useRef(p),N=A.useRef(s),E=A.useRef(l),O=A.useMemo(()=>({x:s,y:l,width:d,height:p,radius:u}),[s,l,d,p,u]),P=Nk(O,"rectangle-");if(s!==+s||l!==+l||d!==+d||p!==+p||d===0||p===0)return null;var I=yt("recharts-rectangle",g);if(!k){var D=Ji(t),{radius:B}=D,V=zN(D,aV);return A.createElement("path",$g({},V,{x:js(s),y:js(l),width:js(d),height:js(p),radius:typeof u=="number"?u:void 0,className:I,d:WN(s,l,d,p,u)}))}var U=C.current,W=T.current,q=N.current,pe=E.current,X="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),K=j8(["strokeDasharray"],y,typeof h=="string"?h:VN.animationEasing);return A.createElement(Ek,{animationId:P,key:P,canBegin:n>0,duration:y,easing:h,isActive:k,begin:v},z=>{var Q=Mn(U,d,z),de=Mn(W,p,z),F=Mn(q,s,z),j=Mn(pe,l,z);i.current&&(C.current=Q,T.current=de,N.current=F,E.current=j);var Z;S?z>0?Z={transition:K,strokeDasharray:se}:Z={strokeDasharray:X}:Z={strokeDasharray:se};var R=Ji(t),{radius:fe}=R,je=zN(R,rV);return A.createElement("path",$g({},je,{radius:typeof u=="number"?u:void 0,className:I,d:WN(F,j,Q,de,u),ref:i,style:qN(qN({},Z),t.style)}))})};function HN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function GN(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(i),!0).forEach(function(n){uV(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):HN(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function uV(e,t,i){return(t=pV(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yg=Math.PI/180,Qg=e=>e*Math.PI/180,gV=e=>e*180/Math.PI,Rt=(e,t,i,n)=>({x:e+Math.cos(-Yg*n)*i,y:t+Math.sin(-Yg*n)*i}),hV=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(i-(n.top||0)-(n.bottom||0)))/2},mV=(e,t)=>{var{x:i,y:n}=e,{x:r,y:s}=t;return Math.sqrt((i-r)**2+(n-s)**2)},yV=(e,t)=>{var{x:i,y:n}=e,{cx:r,cy:s}=t,l=mV({x:i,y:n},{x:r,y:s});if(l<=0)return{radius:l,angle:0};var d=(i-r)/l,p=Math.acos(d);return n>s&&(p=2*Math.PI-p),{radius:l,angle:gV(p),angleInRadian:p}},_V=e=>{var{startAngle:t,endAngle:i}=e,n=Math.floor(t/360),r=Math.floor(i/360),s=Math.min(n,r);return{startAngle:t-s*360,endAngle:i-s*360}},vV=(e,t)=>{var{startAngle:i,endAngle:n}=t,r=Math.floor(i/360),s=Math.floor(n/360),l=Math.min(r,s);return e+l*360},bV=(e,t)=>{var{chartX:i,chartY:n}=e,{radius:r,angle:s}=yV({x:i,y:n},t),{innerRadius:l,outerRadius:d}=t;if(r<l||r>d||r===0)return null;var{startAngle:p,endAngle:u}=_V(t),g=s,h;if(p<=u){for(;g>u;)g-=360;for(;g<p;)g+=360;h=g>=p&&g<=u}else{for(;g>p;)g-=360;for(;g<u;)g+=360;h=g>=u&&g<=p}return h?GN(GN({},t),{},{radius:r,angle:vV(g,t)}):null};function tD(e){var{cx:t,cy:i,radius:n,startAngle:r,endAngle:s}=e,l=Rt(t,i,n,r),d=Rt(t,i,n,s);return{points:[l,d],cx:t,cy:i,radius:n,startAngle:r,endAngle:s}}var $N,YN,QN,XN,JN,ZN,eM;function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Hx.apply(null,arguments)}function Ao(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xV=(e,t)=>{var i=ga(t-e),n=Math.min(Math.abs(t-e),359.999);return i*n},Yf=e=>{var{cx:t,cy:i,radius:n,angle:r,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:p}=e,u=d*(l?1:-1)+n,g=Math.asin(d/u)/Yg,h=p?r:r+s*g,y=Rt(t,i,u,h),v=Rt(t,i,n,h),S=p?r-s*g:r,k=Rt(t,i,u*Math.cos(g*Yg),S);return{center:y,circleTangency:v,lineTangency:k,theta:g}},iD=e=>{var{cx:t,cy:i,innerRadius:n,outerRadius:r,startAngle:s,endAngle:l}=e,d=xV(s,l),p=s+d,u=Rt(t,i,r,s),g=Rt(t,i,r,p),h=ji($N||($N=Ao(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,r,r,+(Math.abs(d)>180),+(s>p),g.x,g.y);if(n>0){var y=Rt(t,i,n,s),v=Rt(t,i,n,p);h+=ji(YN||(YN=Ao(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(d)>180),+(s<=p),y.x,y.y)}else h+=ji(QN||(QN=Ao(["L ",","," Z"])),t,i);return h},kV=e=>{var{cx:t,cy:i,innerRadius:n,outerRadius:r,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:p,endAngle:u}=e,g=ga(u-p),{circleTangency:h,lineTangency:y,theta:v}=Yf({cx:t,cy:i,radius:r,angle:p,sign:g,cornerRadius:s,cornerIsExternal:d}),{circleTangency:S,lineTangency:k,theta:C}=Yf({cx:t,cy:i,radius:r,angle:u,sign:-g,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(p-u):Math.abs(p-u)-v-C;if(T<0)return l?ji(XN||(XN=Ao(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):iD({cx:t,cy:i,innerRadius:n,outerRadius:r,startAngle:p,endAngle:u});var N=ji(JN||(JN=Ao(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(g<0),h.x,h.y,r,r,+(T>180),+(g<0),S.x,S.y,s,s,+(g<0),k.x,k.y);if(n>0){var{circleTangency:E,lineTangency:O,theta:P}=Yf({cx:t,cy:i,radius:n,angle:p,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:I,lineTangency:D,theta:B}=Yf({cx:t,cy:i,radius:n,angle:u,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),V=d?Math.abs(p-u):Math.abs(p-u)-P-B;if(V<0&&s===0)return"".concat(N,"L").concat(t,",").concat(i,"Z");N+=ji(ZN||(ZN=Ao(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,s,s,+(g<0),I.x,I.y,n,n,+(V>180),+(g>0),E.x,E.y,s,s,+(g<0),O.x,O.y)}else N+=ji(eM||(eM=Ao(["L",",","Z"])),t,i);return N},SV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wV=e=>{var t=Mi(e,SV),{cx:i,cy:n,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:p,startAngle:u,endAngle:g,className:h}=t;if(s<r||u===g)return null;var y=yt("recharts-sector",h),v=s-r,S=Us(l,v,0,!0),k;return S>0&&Math.abs(u-g)<360?k=kV({cx:i,cy:n,innerRadius:r,outerRadius:s,cornerRadius:Math.min(S,v/2),forceCornerRadius:d,cornerIsExternal:p,startAngle:u,endAngle:g}):k=iD({cx:i,cy:n,innerRadius:r,outerRadius:s,startAngle:u,endAngle:g}),A.createElement("path",Hx({},Ji(t),{className:y,d:k}))};function CV(e,t,i){if(e==="horizontal")return[{x:t.x,y:i.top},{x:t.x,y:i.top+i.height}];if(e==="vertical")return[{x:i.left,y:t.y},{x:i.left+i.width,y:t.y}];if(qR(t)){if(e==="centric"){var{cx:n,cy:r,innerRadius:s,outerRadius:l,angle:d}=t,p=Rt(n,r,s,d),u=Rt(n,r,l,d);return[{x:p.x,y:p.y},{x:u.x,y:u.y}]}return tD(t)}}var rb={},sb={},ob={},tM;function TV(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR();function i(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=i})(ob)),ob}var iM;function AV(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TV();function i(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=i})(sb)),sb}var nM;function EV(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JR(),i=AV();function n(r,s,l){l&&typeof l!="number"&&t.isIterateeCall(r,s,l)&&(s=l=void 0),r=i.toFinite(r),s===void 0?(s=r,r=0):s=i.toFinite(s),l=l===void 0?r<s?1:-1:i.toFinite(l);const d=Math.max(Math.ceil((s-r)/(l||1)),0),p=new Array(d);for(let u=0;u<d;u++)p[u]=r,r+=l;return p}e.range=n})(rb)),rb}var lb,aM;function NV(){return aM||(aM=1,lb=EV().range),lb}var MV=NV();const nD=Jn(MV);function Fs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mk(e){let t,i,n;e.length!==2?(t=Fs,i=(d,p)=>Fs(e(d),p),n=(d,p)=>e(d)-p):(t=e===Fs||e===PV?e:IV,i=e,n=e);function r(d,p,u=0,g=d.length){if(u<g){if(t(p,p)!==0)return g;do{const h=u+g>>>1;i(d[h],p)<0?u=h+1:g=h}while(u<g)}return u}function s(d,p,u=0,g=d.length){if(u<g){if(t(p,p)!==0)return g;do{const h=u+g>>>1;i(d[h],p)<=0?u=h+1:g=h}while(u<g)}return u}function l(d,p,u=0,g=d.length){const h=r(d,p,u,g-1);return h>u&&n(d[h-1],p)>-n(d[h],p)?h-1:h}return{left:r,center:l,right:s}}function IV(){return 0}function aD(e){return e===null?NaN:+e}function*OV(e,t){for(let i of e)i!=null&&(i=+i)>=i&&(yield i)}const LV=Mk(Fs),op=LV.right;Mk(aD).center;class rM extends Map{constructor(t,i=jV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(sM(this,t))}has(t){return super.has(sM(this,t))}set(t,i){return super.set(RV(this,t),i)}delete(t){return super.delete(DV(this,t))}}function sM({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):i}function RV({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function DV({_intern:e,_key:t},i){const n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function jV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KV(e=Fs){if(e===Fs)return rD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,i)=>{const n=e(t,i);return n||n===0?n:(e(i,i)===0)-(e(t,t)===0)}}function rD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FV=Math.sqrt(50),BV=Math.sqrt(10),UV=Math.sqrt(2);function Xg(e,t,i){const n=(t-e)/Math.max(0,i),r=Math.floor(Math.log10(n)),s=n/Math.pow(10,r),l=s>=FV?10:s>=BV?5:s>=UV?2:1;let d,p,u;return r<0?(u=Math.pow(10,-r)/l,d=Math.round(e*u),p=Math.round(t*u),d/u<e&&++d,p/u>t&&--p,u=-u):(u=Math.pow(10,r)*l,d=Math.round(e/u),p=Math.round(t/u),d*u<e&&++d,p*u>t&&--p),p<d&&.5<=i&&i<2?Xg(e,t,i*2):[d,p,u]}function Gx(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];const n=t<e,[r,s,l]=n?Xg(t,e,i):Xg(e,t,i);if(!(s>=r))return[];const d=s-r+1,p=new Array(d);if(n)if(l<0)for(let u=0;u<d;++u)p[u]=(s-u)/-l;else for(let u=0;u<d;++u)p[u]=(s-u)*l;else if(l<0)for(let u=0;u<d;++u)p[u]=(r+u)/-l;else for(let u=0;u<d;++u)p[u]=(r+u)*l;return p}function $x(e,t,i){return t=+t,e=+e,i=+i,Xg(e,t,i)[2]}function Yx(e,t,i){t=+t,e=+e,i=+i;const n=t<e,r=n?$x(t,e,i):$x(e,t,i);return(n?-1:1)*(r<0?1/-r:r)}function oM(e,t){let i;for(const n of e)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);return i}function lM(e,t){let i;for(const n of e)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);return i}function sD(e,t,i=0,n=1/0,r){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),n=Math.floor(Math.min(e.length-1,n)),!(i<=t&&t<=n))return e;for(r=r===void 0?rD:KV(r);n>i;){if(n-i>600){const p=n-i+1,u=t-i+1,g=Math.log(p),h=.5*Math.exp(2*g/3),y=.5*Math.sqrt(g*h*(p-h)/p)*(u-p/2<0?-1:1),v=Math.max(i,Math.floor(t-u*h/p+y)),S=Math.min(n,Math.floor(t+(p-u)*h/p+y));sD(e,t,v,S,r)}const s=e[t];let l=i,d=n;for(Bd(e,i,t),r(e[n],s)>0&&Bd(e,i,n);l<d;){for(Bd(e,l,d),++l,--d;r(e[l],s)<0;)++l;for(;r(e[d],s)>0;)--d}r(e[i],s)===0?Bd(e,i,d):(++d,Bd(e,d,n)),d<=t&&(i=d+1),t<=d&&(n=d-1)}return e}function Bd(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function qV(e,t,i){if(e=Float64Array.from(OV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lM(e);if(t>=1)return oM(e);var n,r=(n-1)*t,s=Math.floor(r),l=oM(sD(e,s).subarray(0,s+1)),d=lM(e.subarray(s+1));return l+(d-l)*(r-s)}}function zV(e,t,i=aD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+i(e[0],0,e);if(t>=1)return+i(e[n-1],n-1,e);var n,r=(n-1)*t,s=Math.floor(r),l=+i(e[s],s,e),d=+i(e[s+1],s+1,e);return l+(d-l)*(r-s)}}function WV(e,t,i){e=+e,t=+t,i=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+i;for(var n=-1,r=Math.max(0,Math.ceil((t-e)/i))|0,s=new Array(r);++n<r;)s[n]=e+n*i;return s}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qx=Symbol("implicit");function Pk(){var e=new rM,t=[],i=[],n=Qx;function r(s){let l=e.get(s);if(l===void 0){if(n!==Qx)return n;e.set(s,l=t.push(s)-1)}return i[l%i.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new rM;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(i=Array.from(s),r):i.slice()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return Pk(t,i).unknown(n)},xa.apply(r,arguments),r}function Ik(){var e=Pk().unknown(void 0),t=e.domain,i=e.range,n=0,r=1,s,l,d=!1,p=0,u=0,g=.5;delete e.unknown;function h(){var y=t().length,v=r<n,S=v?r:n,k=v?n:r;s=(k-S)/Math.max(1,y-p+u*2),d&&(s=Math.floor(s)),S+=(k-S-s*(y-p))*g,l=s*(1-p),d&&(S=Math.round(S),l=Math.round(l));var C=WV(y).map(function(T){return S+s*T});return i(v?C.reverse():C)}return e.domain=function(y){return arguments.length?(t(y),h()):t()},e.range=function(y){return arguments.length?([n,r]=y,n=+n,r=+r,h()):[n,r]},e.rangeRound=function(y){return[n,r]=y,n=+n,r=+r,d=!0,h()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(d=!!y,h()):d},e.padding=function(y){return arguments.length?(p=Math.min(1,u=+y),h()):p},e.paddingInner=function(y){return arguments.length?(p=Math.min(1,y),h()):p},e.paddingOuter=function(y){return arguments.length?(u=+y,h()):u},e.align=function(y){return arguments.length?(g=Math.max(0,Math.min(1,y)),h()):g},e.copy=function(){return Ik(t(),[n,r]).round(d).paddingInner(p).paddingOuter(u).align(g)},xa.apply(h(),arguments)}function oD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oD(t())},e}function VV(){return oD(Ik.apply(null,arguments).paddingInner(1))}function Ok(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function lD(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function lp(){}var Lu=.7,Jg=1/Lu,rc="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HV=/^#([0-9a-f]{3,8})$/,GV=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),$V=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),YV=new RegExp(`^rgba\\(${rc},${rc},${rc},${Ru}\\)$`),QV=new RegExp(`^rgba\\(${nr},${nr},${nr},${Ru}\\)$`),XV=new RegExp(`^hsl\\(${Ru},${nr},${nr}\\)$`),JV=new RegExp(`^hsla\\(${Ru},${nr},${nr},${Ru}\\)$`),cM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ok(lp,Du,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dM,formatHex:dM,formatHex8:ZV,formatHsl:eH,formatRgb:uM,toString:uM});function dM(){return this.rgb().formatHex()}function ZV(){return this.rgb().formatHex8()}function eH(){return cD(this).formatHsl()}function uM(){return this.rgb().formatRgb()}function Du(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=HV.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?pM(t):i===3?new In(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?Qf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?Qf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GV.exec(e))?new In(t[1],t[2],t[3],1):(t=$V.exec(e))?new In(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YV.exec(e))?Qf(t[1],t[2],t[3],t[4]):(t=QV.exec(e))?Qf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XV.exec(e))?hM(t[1],t[2]/100,t[3]/100,1):(t=JV.exec(e))?hM(t[1],t[2]/100,t[3]/100,t[4]):cM.hasOwnProperty(e)?pM(cM[e]):e==="transparent"?new In(NaN,NaN,NaN,0):null}function pM(e){return new In(e>>16&255,e>>8&255,e&255,1)}function Qf(e,t,i,n){return n<=0&&(e=t=i=NaN),new In(e,t,i,n)}function tH(e){return e instanceof lp||(e=Du(e)),e?(e=e.rgb(),new In(e.r,e.g,e.b,e.opacity)):new In}function Xx(e,t,i,n){return arguments.length===1?tH(e):new In(e,t,i,n??1)}function In(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}Ok(In,Xx,lD(lp,{brighter(e){return e=e==null?Jg:Math.pow(Jg,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lu:Math.pow(Lu,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new In(Oo(this.r),Oo(this.g),Oo(this.b),Zg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fM,formatHex:fM,formatHex8:iH,formatRgb:gM,toString:gM}));function fM(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}`}function iH(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}${Eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function gM(){const e=Zg(this.opacity);return`${e===1?"rgb(":"rgba("}${Oo(this.r)}, ${Oo(this.g)}, ${Oo(this.b)}${e===1?")":`, ${e})`}`}function Zg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eo(e){return e=Oo(e),(e<16?"0":"")+e.toString(16)}function hM(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,i,n)}function cD(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof lp||(e=Du(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,r=Math.min(t,i,n),s=Math.max(t,i,n),l=NaN,d=s-r,p=(s+r)/2;return d?(t===s?l=(i-n)/d+(i<n)*6:i===s?l=(n-t)/d+2:l=(t-i)/d+4,d/=p<.5?s+r:2-s-r,l*=60):d=p>0&&p<1?0:l,new Na(l,d,p,e.opacity)}function nH(e,t,i,n){return arguments.length===1?cD(e):new Na(e,t,i,n??1)}function Na(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}Ok(Na,nH,lD(lp,{brighter(e){return e=e==null?Jg:Math.pow(Jg,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lu:Math.pow(Lu,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,r=2*i-n;return new In(cb(e>=240?e-240:e+120,r,n),cb(e,r,n),cb(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new Na(mM(this.h),Xf(this.s),Xf(this.l),Zg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zg(this.opacity);return`${e===1?"hsl(":"hsla("}${mM(this.h)}, ${Xf(this.s)*100}%, ${Xf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mM(e){return e=(e||0)%360,e<0?e+360:e}function Xf(e){return Math.max(0,Math.min(1,e||0))}function cb(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const Lk=e=>()=>e;function aH(e,t){return function(i){return e+i*t}}function rH(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function sH(e){return(e=+e)==1?dD:function(t,i){return i-t?rH(t,i,e):Lk(isNaN(t)?i:t)}}function dD(e,t){var i=t-e;return i?aH(e,i):Lk(isNaN(e)?t:e)}const yM=(function e(t){var i=sH(t);function n(r,s){var l=i((r=Xx(r)).r,(s=Xx(s)).r),d=i(r.g,s.g),p=i(r.b,s.b),u=dD(r.opacity,s.opacity);return function(g){return r.r=l(g),r.g=d(g),r.b=p(g),r.opacity=u(g),r+""}}return n.gamma=e,n})(1);function oH(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,n=t.slice(),r;return function(s){for(r=0;r<i;++r)n[r]=e[r]*(1-s)+t[r]*s;return n}}function lH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cH(e,t){var i=t?t.length:0,n=e?Math.min(i,e.length):0,r=new Array(n),s=new Array(i),l;for(l=0;l<n;++l)r[l]=Ac(e[l],t[l]);for(;l<i;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=r[l](d);return s}}function dH(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}function eh(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function uH(e,t){var i={},n={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?i[r]=Ac(e[r],t[r]):n[r]=t[r];return function(s){for(r in i)n[r]=i[r](s);return n}}var Jx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,db=new RegExp(Jx.source,"g");function pH(e){return function(){return e}}function fH(e){return function(t){return e(t)+""}}function gH(e,t){var i=Jx.lastIndex=db.lastIndex=0,n,r,s,l=-1,d=[],p=[];for(e=e+"",t=t+"";(n=Jx.exec(e))&&(r=db.exec(t));)(s=r.index)>i&&(s=t.slice(i,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(r=r[0])?d[l]?d[l]+=r:d[++l]=r:(d[++l]=null,p.push({i:l,x:eh(n,r)})),i=db.lastIndex;return i<t.length&&(s=t.slice(i),d[l]?d[l]+=s:d[++l]=s),d.length<2?p[0]?fH(p[0].x):pH(t):(t=p.length,function(u){for(var g=0,h;g<t;++g)d[(h=p[g]).i]=h.x(u);return d.join("")})}function Ac(e,t){var i=typeof t,n;return t==null||i==="boolean"?Lk(t):(i==="number"?eh:i==="string"?(n=Du(t))?(t=n,yM):gH:t instanceof Du?yM:t instanceof Date?dH:lH(t)?oH:Array.isArray(t)?cH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uH:eh)(e,t)}function Rk(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function hH(e,t){t===void 0&&(t=e,e=Ac);for(var i=0,n=t.length-1,r=t[0],s=new Array(n<0?0:n);i<n;)s[i]=e(r,r=t[++i]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function mH(e){return function(){return e}}function th(e){return+e}var _M=[0,1];function mn(e){return e}function Zx(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:mH(isNaN(t)?NaN:.5)}function yH(e,t){var i;return e>t&&(i=e,e=t,t=i),function(n){return Math.max(e,Math.min(t,n))}}function _H(e,t,i){var n=e[0],r=e[1],s=t[0],l=t[1];return r<n?(n=Zx(r,n),s=i(l,s)):(n=Zx(n,r),s=i(s,l)),function(d){return s(n(d))}}function vH(e,t,i){var n=Math.min(e.length,t.length)-1,r=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)r[l]=Zx(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(d){var p=op(e,d,1,n)-1;return s[p](r[p](d))}}function cp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function am(){var e=_M,t=_M,i=Ac,n,r,s,l=mn,d,p,u;function g(){var y=Math.min(e.length,t.length);return l!==mn&&(l=yH(e[0],e[y-1])),d=y>2?vH:_H,p=u=null,h}function h(y){return y==null||isNaN(y=+y)?s:(p||(p=d(e.map(n),t,i)))(n(l(y)))}return h.invert=function(y){return l(r((u||(u=d(t,e.map(n),eh)))(y)))},h.domain=function(y){return arguments.length?(e=Array.from(y,th),g()):e.slice()},h.range=function(y){return arguments.length?(t=Array.from(y),g()):t.slice()},h.rangeRound=function(y){return t=Array.from(y),i=Rk,g()},h.clamp=function(y){return arguments.length?(l=y?!0:mn,g()):l!==mn},h.interpolate=function(y){return arguments.length?(i=y,g()):i},h.unknown=function(y){return arguments.length?(s=y,h):s},function(y,v){return n=y,r=v,g()}}function Dk(){return am()(mn,mn)}function bH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ih(e,t){if(!isFinite(e)||e===0)return null;var i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}function mc(e){return e=ih(Math.abs(e)),e?e[1]:NaN}function xH(e,t){return function(i,n){for(var r=i.length,s=[],l=0,d=e[0],p=0;r>0&&d>0&&(p+d+1>n&&(d=Math.max(1,n-p)),s.push(i.substring(r-=d,r+d)),!((p+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function kH(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var SH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ju(e){if(!(t=SH.exec(e)))throw new Error("invalid format: "+e);var t;return new jk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ju.prototype=jk.prototype;function jk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wH(e){e:for(var t=e.length,i=1,n=-1,r;i<t;++i)switch(e[i]){case".":n=r=i;break;case"0":n===0&&(n=i),r=i;break;default:if(!+e[i])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(r+1):e}var nh;function CH(e,t){var i=ih(e,t);if(!i)return nh=void 0,e.toPrecision(t);var n=i[0],r=i[1],s=r-(nh=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ih(e,Math.max(0,t+s-1))[0]}function vM(e,t){var i=ih(e,t);if(!i)return e+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}const bM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vM(e*100,t),r:vM,s:CH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xM(e){return e}var kM=Array.prototype.map,SM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TH(e){var t=e.grouping===void 0||e.thousands===void 0?xM:xH(kM.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?xM:kH(kM.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function u(h,y){h=ju(h);var v=h.fill,S=h.align,k=h.sign,C=h.symbol,T=h.zero,N=h.width,E=h.comma,O=h.precision,P=h.trim,I=h.type;I==="n"?(E=!0,I="g"):bM[I]||(O===void 0&&(O=12),P=!0,I="g"),(T||v==="0"&&S==="=")&&(T=!0,v="0",S="=");var D=(y&&y.prefix!==void 0?y.prefix:"")+(C==="$"?i:C==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),B=(C==="$"?n:/[%p]/.test(I)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),V=bM[I],U=/[defgprs%]/.test(I);O=O===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function W(q){var pe=D,X=B,se,K,z;if(I==="c")X=V(q)+X,q="";else{q=+q;var Q=q<0||1/q<0;if(q=isNaN(q)?p:V(Math.abs(q),O),P&&(q=wH(q)),Q&&+q==0&&k!=="+"&&(Q=!1),pe=(Q?k==="("?k:d:k==="-"||k==="("?"":k)+pe,X=(I==="s"&&!isNaN(q)&&nh!==void 0?SM[8+nh/3]:"")+X+(Q&&k==="("?")":""),U){for(se=-1,K=q.length;++se<K;)if(z=q.charCodeAt(se),48>z||z>57){X=(z===46?r+q.slice(se+1):q.slice(se))+X,q=q.slice(0,se);break}}}E&&!T&&(q=t(q,1/0));var de=pe.length+q.length+X.length,F=de<N?new Array(N-de+1).join(v):"";switch(E&&T&&(q=t(F+q,F.length?N-X.length:1/0),F=""),S){case"<":q=pe+q+X+F;break;case"=":q=pe+F+q+X;break;case"^":q=F.slice(0,de=F.length>>1)+pe+q+X+F.slice(de);break;default:q=F+pe+q+X;break}return s(q)}return W.toString=function(){return h+""},W}function g(h,y){var v=Math.max(-8,Math.min(8,Math.floor(mc(y)/3)))*3,S=Math.pow(10,-v),k=u((h=ju(h),h.type="f",h),{suffix:SM[8+v/3]});return function(C){return k(S*C)}}return{format:u,formatPrefix:g}}var Jf,Kk,uD;AH({thousands:",",grouping:[3],currency:["$",""]});function AH(e){return Jf=TH(e),Kk=Jf.format,uD=Jf.formatPrefix,Jf}function EH(e){return Math.max(0,-mc(Math.abs(e)))}function NH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mc(t)/3)))*3-mc(Math.abs(e)))}function MH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mc(t)-mc(e))+1}function pD(e,t,i,n){var r=Yx(e,t,i),s;switch(n=ju(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=NH(r,l))&&(n.precision=s),uD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=MH(r,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=EH(r))&&(n.precision=s-(n.type==="%")*2);break}}return Kk(n)}function qs(e){var t=e.domain;return e.ticks=function(i){var n=t();return Gx(n[0],n[n.length-1],i??10)},e.tickFormat=function(i,n){var r=t();return pD(r[0],r[r.length-1],i??10,n)},e.nice=function(i){i==null&&(i=10);var n=t(),r=0,s=n.length-1,l=n[r],d=n[s],p,u,g=10;for(d<l&&(u=l,l=d,d=u,u=r,r=s,s=u);g-- >0;){if(u=$x(l,d,i),u===p)return n[r]=l,n[s]=d,t(n);if(u>0)l=Math.floor(l/u)*u,d=Math.ceil(d/u)*u;else if(u<0)l=Math.ceil(l*u)/u,d=Math.floor(d*u)/u;else break;p=u}return e},e}function fD(){var e=Dk();return e.copy=function(){return cp(e,fD())},xa.apply(e,arguments),qs(e)}function gD(e){var t;function i(n){return n==null||isNaN(n=+n)?t:n}return i.invert=i,i.domain=i.range=function(n){return arguments.length?(e=Array.from(n,th),i):e.slice()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return gD(e).unknown(t)},e=arguments.length?Array.from(e,th):[0,1],qs(i)}function hD(e,t){e=e.slice();var i=0,n=e.length-1,r=e[i],s=e[n],l;return s<r&&(l=i,i=n,n=l,l=r,r=s,s=l),e[i]=t.floor(r),e[n]=t.ceil(s),e}function wM(e){return Math.log(e)}function CM(e){return Math.exp(e)}function PH(e){return-Math.log(-e)}function IH(e){return-Math.exp(-e)}function OH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LH(e){return e===10?OH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function RH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function TM(e){return(t,i)=>-e(-t,i)}function Fk(e){const t=e(wM,CM),i=t.domain;let n=10,r,s;function l(){return r=RH(n),s=LH(n),i()[0]<0?(r=TM(r),s=TM(s),e(PH,IH)):e(wM,CM),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(i(d),l()):i()},t.ticks=d=>{const p=i();let u=p[0],g=p[p.length-1];const h=g<u;h&&([u,g]=[g,u]);let y=r(u),v=r(g),S,k;const C=d==null?10:+d;let T=[];if(!(n%1)&&v-y<C){if(y=Math.floor(y),v=Math.ceil(v),u>0){for(;y<=v;++y)for(S=1;S<n;++S)if(k=y<0?S/s(-y):S*s(y),!(k<u)){if(k>g)break;T.push(k)}}else for(;y<=v;++y)for(S=n-1;S>=1;--S)if(k=y>0?S/s(-y):S*s(y),!(k<u)){if(k>g)break;T.push(k)}T.length*2<C&&(T=Gx(u,g,C))}else T=Gx(y,v,Math.min(v-y,C)).map(s);return h?T.reverse():T},t.tickFormat=(d,p)=>{if(d==null&&(d=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=ju(p)).precision==null&&(p.trim=!0),p=Kk(p)),d===1/0)return p;const u=Math.max(1,n*d/t.ticks().length);return g=>{let h=g/s(Math.round(r(g)));return h*n<n-.5&&(h*=n),h<=u?p(g):""}},t.nice=()=>i(hD(i(),{floor:d=>s(Math.floor(r(d))),ceil:d=>s(Math.ceil(r(d)))})),t}function mD(){const e=Fk(am()).domain([1,10]);return e.copy=()=>cp(e,mD()).base(e.base()),xa.apply(e,arguments),e}function AM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Bk(e){var t=1,i=e(AM(t),EM(t));return i.constant=function(n){return arguments.length?e(AM(t=+n),EM(t)):t},qs(i)}function yD(){var e=Bk(am());return e.copy=function(){return cp(e,yD()).constant(e.constant())},xa.apply(e,arguments)}function NM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jH(e){return e<0?-e*e:e*e}function Uk(e){var t=e(mn,mn),i=1;function n(){return i===1?e(mn,mn):i===.5?e(DH,jH):e(NM(i),NM(1/i))}return t.exponent=function(r){return arguments.length?(i=+r,n()):i},qs(t)}function qk(){var e=Uk(am());return e.copy=function(){return cp(e,qk()).exponent(e.exponent())},xa.apply(e,arguments),e}function KH(){return qk.apply(null,arguments).exponent(.5)}function MM(e){return Math.sign(e)*e*e}function FH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _D(){var e=Dk(),t=[0,1],i=!1,n;function r(s){var l=FH(e(s));return isNaN(l)?n:i?Math.round(l):l}return r.invert=function(s){return e.invert(MM(s))},r.domain=function(s){return arguments.length?(e.domain(s),r):e.domain()},r.range=function(s){return arguments.length?(e.range((t=Array.from(s,th)).map(MM)),r):t.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(i=!!s,r):i},r.clamp=function(s){return arguments.length?(e.clamp(s),r):e.clamp()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return _D(e.domain(),t).round(i).clamp(e.clamp()).unknown(n)},xa.apply(r,arguments),qs(r)}function vD(){var e=[],t=[],i=[],n;function r(){var l=0,d=Math.max(1,t.length);for(i=new Array(d-1);++l<d;)i[l-1]=zV(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[op(i,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?i[d-1]:e[0],d<i.length?i[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Fs),r()},s.range=function(l){return arguments.length?(t=Array.from(l),r()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return i.slice()},s.copy=function(){return vD().domain(e).range(t).unknown(n)},xa.apply(s,arguments)}function bD(){var e=0,t=1,i=1,n=[.5],r=[0,1],s;function l(p){return p!=null&&p<=p?r[op(n,p,0,i)]:s}function d(){var p=-1;for(n=new Array(i);++p<i;)n[p]=((p+1)*t-(p-i)*e)/(i+1);return l}return l.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,d()):[e,t]},l.range=function(p){return arguments.length?(i=(r=Array.from(p)).length-1,d()):r.slice()},l.invertExtent=function(p){var u=r.indexOf(p);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=i?[n[i-1],t]:[n[u-1],n[u]]},l.unknown=function(p){return arguments.length&&(s=p),l},l.thresholds=function(){return n.slice()},l.copy=function(){return bD().domain([e,t]).range(r).unknown(s)},xa.apply(qs(l),arguments)}function xD(){var e=[.5],t=[0,1],i,n=1;function r(s){return s!=null&&s<=s?t[op(e,s,0,n)]:i}return r.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return xD().domain(e).range(t).unknown(i)},xa.apply(r,arguments)}const ub=new Date,pb=new Date;function Pi(e,t,i,n){function r(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(e(s=new Date(+s)),s),r.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),r.round=s=>{const l=r(s),d=r.ceil(s);return s-l<d-s?l:d},r.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),r.range=(s,l,d)=>{const p=[];if(s=r.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return p;let u;do p.push(u=new Date(+s)),t(s,d),e(s);while(u<s&&s<l);return p},r.filter=s=>Pi(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),i&&(r.count=(s,l)=>(ub.setTime(+s),pb.setTime(+l),e(ub),e(pb),Math.floor(i(ub,pb))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(n?l=>n(l)%s===0:l=>r.count(0,l)%s===0):r)),r}const ah=Pi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ah.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pi(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):ah);ah.range;const Lr=1e3,ha=Lr*60,Rr=ha*60,zr=Rr*24,zk=zr*7,PM=zr*30,fb=zr*365,No=Pi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCSeconds());No.range;const Wk=Pi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lr)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getMinutes());Wk.range;const Vk=Pi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCMinutes());Vk.range;const Hk=Pi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lr-e.getMinutes()*ha)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getHours());Hk.range;const Gk=Pi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCHours());Gk.range;const dp=Pi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ha)/zr,e=>e.getDate()-1);dp.range;const rm=Pi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zr,e=>e.getUTCDate()-1);rm.range;const kD=Pi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zr,e=>Math.floor(e/zr));kD.range;function Ho(e){return Pi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+i*7)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*ha)/zk)}const sm=Ho(0),rh=Ho(1),BH=Ho(2),UH=Ho(3),yc=Ho(4),qH=Ho(5),zH=Ho(6);sm.range;rh.range;BH.range;UH.range;yc.range;qH.range;zH.range;function Go(e){return Pi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i*7)},(t,i)=>(i-t)/zk)}const om=Go(0),sh=Go(1),WH=Go(2),VH=Go(3),_c=Go(4),HH=Go(5),GH=Go(6);om.range;sh.range;WH.range;VH.range;_c.range;HH.range;GH.range;const $k=Pi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$k.range;const Yk=Pi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yk.range;const Wr=Pi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)});Wr.range;const Vr=Pi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)});Vr.range;function SD(e,t,i,n,r,s){const l=[[No,1,Lr],[No,5,5*Lr],[No,15,15*Lr],[No,30,30*Lr],[s,1,ha],[s,5,5*ha],[s,15,15*ha],[s,30,30*ha],[r,1,Rr],[r,3,3*Rr],[r,6,6*Rr],[r,12,12*Rr],[n,1,zr],[n,2,2*zr],[i,1,zk],[t,1,PM],[t,3,3*PM],[e,1,fb]];function d(u,g,h){const y=g<u;y&&([u,g]=[g,u]);const v=h&&typeof h.range=="function"?h:p(u,g,h),S=v?v.range(u,+g+1):[];return y?S.reverse():S}function p(u,g,h){const y=Math.abs(g-u)/h,v=Mk(([,,C])=>C).right(l,y);if(v===l.length)return e.every(Yx(u/fb,g/fb,h));if(v===0)return ah.every(Math.max(Yx(u,g,h),1));const[S,k]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return S.every(k)}return[d,p]}const[$H,YH]=SD(Vr,Yk,om,kD,Gk,Vk),[QH,XH]=SD(Wr,$k,sm,dp,Hk,Wk);function gb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ud(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function JH(e){var t=e.dateTime,i=e.date,n=e.time,r=e.periods,s=e.days,l=e.shortDays,d=e.months,p=e.shortMonths,u=qd(r),g=zd(r),h=qd(s),y=zd(s),v=qd(l),S=zd(l),k=qd(d),C=zd(d),T=qd(p),N=zd(p),E={a:z,A:Q,b:de,B:F,c:null,d:jM,e:jM,f:xG,g:PG,G:OG,H:_G,I:vG,j:bG,L:wD,m:kG,M:SG,p:j,q:Z,Q:BM,s:UM,S:wG,u:CG,U:TG,V:AG,w:EG,W:NG,x:null,X:null,y:MG,Y:IG,Z:LG,"%":FM},O={a:R,A:fe,b:je,B:le,c:null,d:KM,e:KM,f:KG,g:$G,G:QG,H:RG,I:DG,j:jG,L:TD,m:FG,M:BG,p:ae,q:ee,Q:BM,s:UM,S:UG,u:qG,U:zG,V:WG,w:VG,W:HG,x:null,X:null,y:GG,Y:YG,Z:XG,"%":FM},P={a:U,A:W,b:q,B:pe,c:X,d:RM,e:RM,f:gG,g:LM,G:OM,H:DM,I:DM,j:dG,L:fG,m:cG,M:uG,p:V,q:lG,Q:mG,s:yG,S:pG,u:nG,U:aG,V:rG,w:iG,W:sG,x:se,X:K,y:LM,Y:OM,Z:oG,"%":hG};E.x=I(i,E),E.X=I(n,E),E.c=I(t,E),O.x=I(i,O),O.X=I(n,O),O.c=I(t,O);function I($,Be){return function(Fe){var ce=[],H=-1,Ve=0,Xe=$.length,_t,At,Gt;for(Fe instanceof Date||(Fe=new Date(+Fe));++H<Xe;)$.charCodeAt(H)===37&&(ce.push($.slice(Ve,H)),(At=IM[_t=$.charAt(++H)])!=null?_t=$.charAt(++H):At=_t==="e"?" ":"0",(Gt=Be[_t])&&(_t=Gt(Fe,At)),ce.push(_t),Ve=H+1);return ce.push($.slice(Ve,H)),ce.join("")}}function D($,Be){return function(Fe){var ce=Ud(1900,void 0,1),H=B(ce,$,Fe+="",0),Ve,Xe;if(H!=Fe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Be&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ve=hb(Ud(ce.y,0,1)),Xe=Ve.getUTCDay(),Ve=Xe>4||Xe===0?sh.ceil(Ve):sh(Ve),Ve=rm.offset(Ve,(ce.V-1)*7),ce.y=Ve.getUTCFullYear(),ce.m=Ve.getUTCMonth(),ce.d=Ve.getUTCDate()+(ce.w+6)%7):(Ve=gb(Ud(ce.y,0,1)),Xe=Ve.getDay(),Ve=Xe>4||Xe===0?rh.ceil(Ve):rh(Ve),Ve=dp.offset(Ve,(ce.V-1)*7),ce.y=Ve.getFullYear(),ce.m=Ve.getMonth(),ce.d=Ve.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Xe="Z"in ce?hb(Ud(ce.y,0,1)).getUTCDay():gb(Ud(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Xe+5)%7:ce.w+ce.U*7-(Xe+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,hb(ce)):gb(ce)}}function B($,Be,Fe,ce){for(var H=0,Ve=Be.length,Xe=Fe.length,_t,At;H<Ve;){if(ce>=Xe)return-1;if(_t=Be.charCodeAt(H++),_t===37){if(_t=Be.charAt(H++),At=P[_t in IM?Be.charAt(H++):_t],!At||(ce=At($,Fe,ce))<0)return-1}else if(_t!=Fe.charCodeAt(ce++))return-1}return ce}function V($,Be,Fe){var ce=u.exec(Be.slice(Fe));return ce?($.p=g.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function U($,Be,Fe){var ce=v.exec(Be.slice(Fe));return ce?($.w=S.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function W($,Be,Fe){var ce=h.exec(Be.slice(Fe));return ce?($.w=y.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function q($,Be,Fe){var ce=T.exec(Be.slice(Fe));return ce?($.m=N.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function pe($,Be,Fe){var ce=k.exec(Be.slice(Fe));return ce?($.m=C.get(ce[0].toLowerCase()),Fe+ce[0].length):-1}function X($,Be,Fe){return B($,t,Be,Fe)}function se($,Be,Fe){return B($,i,Be,Fe)}function K($,Be,Fe){return B($,n,Be,Fe)}function z($){return l[$.getDay()]}function Q($){return s[$.getDay()]}function de($){return p[$.getMonth()]}function F($){return d[$.getMonth()]}function j($){return r[+($.getHours()>=12)]}function Z($){return 1+~~($.getMonth()/3)}function R($){return l[$.getUTCDay()]}function fe($){return s[$.getUTCDay()]}function je($){return p[$.getUTCMonth()]}function le($){return d[$.getUTCMonth()]}function ae($){return r[+($.getUTCHours()>=12)]}function ee($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var Be=I($+="",E);return Be.toString=function(){return $},Be},parse:function($){var Be=D($+="",!1);return Be.toString=function(){return $},Be},utcFormat:function($){var Be=I($+="",O);return Be.toString=function(){return $},Be},utcParse:function($){var Be=D($+="",!0);return Be.toString=function(){return $},Be}}}var IM={"-":"",_:" ",0:"0"},Ui=/^\s*\d+/,ZH=/^%/,eG=/[\\^$*+?|[\]().{}]/g;function kt(e,t,i){var n=e<0?"-":"",r=(n?-e:e)+"",s=r.length;return n+(s<i?new Array(i-s+1).join(t)+r:r)}function tG(e){return e.replace(eG,"\\$&")}function qd(e){return new RegExp("^(?:"+e.map(tG).join("|")+")","i")}function zd(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function iG(e,t,i){var n=Ui.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function nG(e,t,i){var n=Ui.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function aG(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function rG(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function sG(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function OM(e,t,i){var n=Ui.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function LM(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function oG(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function lG(e,t,i){var n=Ui.exec(t.slice(i,i+1));return n?(e.q=n[0]*3-3,i+n[0].length):-1}function cG(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function RM(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function dG(e,t,i){var n=Ui.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function DM(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function uG(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function pG(e,t,i){var n=Ui.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function fG(e,t,i){var n=Ui.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function gG(e,t,i){var n=Ui.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function hG(e,t,i){var n=ZH.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function mG(e,t,i){var n=Ui.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function yG(e,t,i){var n=Ui.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function jM(e,t){return kt(e.getDate(),t,2)}function _G(e,t){return kt(e.getHours(),t,2)}function vG(e,t){return kt(e.getHours()%12||12,t,2)}function bG(e,t){return kt(1+dp.count(Wr(e),e),t,3)}function wD(e,t){return kt(e.getMilliseconds(),t,3)}function xG(e,t){return wD(e,t)+"000"}function kG(e,t){return kt(e.getMonth()+1,t,2)}function SG(e,t){return kt(e.getMinutes(),t,2)}function wG(e,t){return kt(e.getSeconds(),t,2)}function CG(e){var t=e.getDay();return t===0?7:t}function TG(e,t){return kt(sm.count(Wr(e)-1,e),t,2)}function CD(e){var t=e.getDay();return t>=4||t===0?yc(e):yc.ceil(e)}function AG(e,t){return e=CD(e),kt(yc.count(Wr(e),e)+(Wr(e).getDay()===4),t,2)}function EG(e){return e.getDay()}function NG(e,t){return kt(rh.count(Wr(e)-1,e),t,2)}function MG(e,t){return kt(e.getFullYear()%100,t,2)}function PG(e,t){return e=CD(e),kt(e.getFullYear()%100,t,2)}function IG(e,t){return kt(e.getFullYear()%1e4,t,4)}function OG(e,t){var i=e.getDay();return e=i>=4||i===0?yc(e):yc.ceil(e),kt(e.getFullYear()%1e4,t,4)}function LG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function KM(e,t){return kt(e.getUTCDate(),t,2)}function RG(e,t){return kt(e.getUTCHours(),t,2)}function DG(e,t){return kt(e.getUTCHours()%12||12,t,2)}function jG(e,t){return kt(1+rm.count(Vr(e),e),t,3)}function TD(e,t){return kt(e.getUTCMilliseconds(),t,3)}function KG(e,t){return TD(e,t)+"000"}function FG(e,t){return kt(e.getUTCMonth()+1,t,2)}function BG(e,t){return kt(e.getUTCMinutes(),t,2)}function UG(e,t){return kt(e.getUTCSeconds(),t,2)}function qG(e){var t=e.getUTCDay();return t===0?7:t}function zG(e,t){return kt(om.count(Vr(e)-1,e),t,2)}function AD(e){var t=e.getUTCDay();return t>=4||t===0?_c(e):_c.ceil(e)}function WG(e,t){return e=AD(e),kt(_c.count(Vr(e),e)+(Vr(e).getUTCDay()===4),t,2)}function VG(e){return e.getUTCDay()}function HG(e,t){return kt(sh.count(Vr(e)-1,e),t,2)}function GG(e,t){return kt(e.getUTCFullYear()%100,t,2)}function $G(e,t){return e=AD(e),kt(e.getUTCFullYear()%100,t,2)}function YG(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function QG(e,t){var i=e.getUTCDay();return e=i>=4||i===0?_c(e):_c.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function XG(){return"+0000"}function FM(){return"%"}function BM(e){return+e}function UM(e){return Math.floor(+e/1e3)}var jl,ED,ND;JG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JG(e){return jl=JH(e),ED=jl.format,jl.parse,ND=jl.utcFormat,jl.utcParse,jl}function ZG(e){return new Date(e)}function e$(e){return e instanceof Date?+e:+new Date(+e)}function Qk(e,t,i,n,r,s,l,d,p,u){var g=Dk(),h=g.invert,y=g.domain,v=u(".%L"),S=u(":%S"),k=u("%I:%M"),C=u("%I %p"),T=u("%a %d"),N=u("%b %d"),E=u("%B"),O=u("%Y");function P(I){return(p(I)<I?v:d(I)<I?S:l(I)<I?k:s(I)<I?C:n(I)<I?r(I)<I?T:N:i(I)<I?E:O)(I)}return g.invert=function(I){return new Date(h(I))},g.domain=function(I){return arguments.length?y(Array.from(I,e$)):y().map(ZG)},g.ticks=function(I){var D=y();return e(D[0],D[D.length-1],I??10)},g.tickFormat=function(I,D){return D==null?P:u(D)},g.nice=function(I){var D=y();return(!I||typeof I.range!="function")&&(I=t(D[0],D[D.length-1],I??10)),I?y(hD(D,I)):g},g.copy=function(){return cp(g,Qk(e,t,i,n,r,s,l,d,p,u))},g}function t$(){return xa.apply(Qk(QH,XH,Wr,$k,sm,dp,Hk,Wk,No,ED).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function i$(){return xa.apply(Qk($H,YH,Vr,Yk,om,rm,Gk,Vk,No,ND).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lm(){var e=0,t=1,i,n,r,s,l=mn,d=!1,p;function u(h){return h==null||isNaN(h=+h)?p:l(r===0?.5:(h=(s(h)-i)*r,d?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,i=s(e=+e),n=s(t=+t),r=i===n?0:1/(n-i),u):[e,t]},u.clamp=function(h){return arguments.length?(d=!!h,u):d},u.interpolator=function(h){return arguments.length?(l=h,u):l};function g(h){return function(y){var v,S;return arguments.length?([v,S]=y,l=h(v,S),u):[l(0),l(1)]}}return u.range=g(Ac),u.rangeRound=g(Rk),u.unknown=function(h){return arguments.length?(p=h,u):p},function(h){return s=h,i=h(e),n=h(t),r=i===n?0:1/(n-i),u}}function zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MD(){var e=qs(lm()(mn));return e.copy=function(){return zs(e,MD())},Zr.apply(e,arguments)}function PD(){var e=Fk(lm()).domain([1,10]);return e.copy=function(){return zs(e,PD()).base(e.base())},Zr.apply(e,arguments)}function ID(){var e=Bk(lm());return e.copy=function(){return zs(e,ID()).constant(e.constant())},Zr.apply(e,arguments)}function Xk(){var e=Uk(lm());return e.copy=function(){return zs(e,Xk()).exponent(e.exponent())},Zr.apply(e,arguments)}function n$(){return Xk.apply(null,arguments).exponent(.5)}function OD(){var e=[],t=mn;function i(n){if(n!=null&&!isNaN(n=+n))return t((op(e,n,1)-1)/(e.length-1))}return i.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let r of n)r!=null&&!isNaN(r=+r)&&e.push(r);return e.sort(Fs),i},i.interpolator=function(n){return arguments.length?(t=n,i):t},i.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},i.quantiles=function(n){return Array.from({length:n+1},(r,s)=>qV(e,s/n))},i.copy=function(){return OD(t).domain(e)},Zr.apply(i,arguments)}function cm(){var e=0,t=.5,i=1,n=1,r,s,l,d,p,u=mn,g,h=!1,y;function v(k){return isNaN(k=+k)?y:(k=.5+((k=+g(k))-s)*(n*k<n*s?d:p),u(h?Math.max(0,Math.min(1,k)):k))}v.domain=function(k){return arguments.length?([e,t,i]=k,r=g(e=+e),s=g(t=+t),l=g(i=+i),d=r===s?0:.5/(s-r),p=s===l?0:.5/(l-s),n=s<r?-1:1,v):[e,t,i]},v.clamp=function(k){return arguments.length?(h=!!k,v):h},v.interpolator=function(k){return arguments.length?(u=k,v):u};function S(k){return function(C){var T,N,E;return arguments.length?([T,N,E]=C,u=hH(k,[T,N,E]),v):[u(0),u(.5),u(1)]}}return v.range=S(Ac),v.rangeRound=S(Rk),v.unknown=function(k){return arguments.length?(y=k,v):y},function(k){return g=k,r=k(e),s=k(t),l=k(i),d=r===s?0:.5/(s-r),p=s===l?0:.5/(l-s),n=s<r?-1:1,v}}function LD(){var e=qs(cm()(mn));return e.copy=function(){return zs(e,LD())},Zr.apply(e,arguments)}function RD(){var e=Fk(cm()).domain([.1,1,10]);return e.copy=function(){return zs(e,RD()).base(e.base())},Zr.apply(e,arguments)}function DD(){var e=Bk(cm());return e.copy=function(){return zs(e,DD()).constant(e.constant())},Zr.apply(e,arguments)}function Jk(){var e=Uk(cm());return e.copy=function(){return zs(e,Jk()).exponent(e.exponent())},Zr.apply(e,arguments)}function a$(){return Jk.apply(null,arguments).exponent(.5)}const nu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ik,scaleDiverging:LD,scaleDivergingLog:RD,scaleDivergingPow:Jk,scaleDivergingSqrt:a$,scaleDivergingSymlog:DD,scaleIdentity:gD,scaleImplicit:Qx,scaleLinear:fD,scaleLog:mD,scaleOrdinal:Pk,scalePoint:VV,scalePow:qk,scaleQuantile:vD,scaleQuantize:bD,scaleRadial:_D,scaleSequential:MD,scaleSequentialLog:PD,scaleSequentialPow:Xk,scaleSequentialQuantile:OD,scaleSequentialSqrt:n$,scaleSequentialSymlog:ID,scaleSqrt:KH,scaleSymlog:yD,scaleThreshold:xD,scaleTime:t$,scaleUtc:i$,tickFormat:pD},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,dm=te([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jD=(e,t,i,n)=>n?dm(e):es(e),r$=(e,t,i)=>i?dm(e):es(e);function Hr(e){if(Array.isArray(e)&&e.length===2){var[t,i]=e;if(ht(t)&&ht(i))return!0}return!1}function qM(e,t,i){return i?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[i,n]=e,r,s;if(ht(i))r=i;else if(typeof i=="function")return;if(ht(n))s=n;else if(typeof n=="function")return;var l=[r,s];if(Hr(l))return l}}function s$(e,t,i){if(!(!i&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,i);if(Hr(n))return qM(n,t,i)}catch{}if(Array.isArray(e)&&e.length===2){var[r,s]=e,l,d;if(r==="auto")t!=null&&(l=Math.min(...t));else if($e(r))l=r;else if(typeof r=="function")try{t!=null&&(l=r(t==null?void 0:t[0]))}catch{}else if(typeof r=="string"&&eN.test(r)){var p=eN.exec(r);if(p==null||p[1]==null||t==null)l=void 0;else{var u=+p[1];l=t[0]-u}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if($e(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&tN.test(s)){var g=tN.exec(s);if(g==null||g[1]==null||t==null)d=void 0;else{var h=+g[1];d=t[1]+h}}else d=t==null?void 0:t[1];var y=[l,d];if(Hr(y))return t==null?y:qM(y,t,i)}}}var Ec=1e9,o$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eS,Ht=!0,va="[DecimalError] ",Lo=va+"Invalid argument: ",Zk=va+"Exponent out of range: ",Nc=Math.floor,Co=Math.pow,l$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,Ki=1e7,zt=7,FD=9007199254740991,oh=Nc(FD/zt),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,i,n,r,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,r=e.d.length,t=0,i=n<r?n:r;t<i;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===r?0:n>r^s.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,i=(t-e.e)*zt;if(t=e.d[t],t)for(;t%10==0;t/=10)i--;return i<0?0:i};qe.dividedBy=qe.div=function(e){return jr(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,i=t.constructor;return jt(jr(t,new i(e),0,1),i.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return wi(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,i=this,n=i.constructor,r=n.precision,s=r+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gn))throw Error(va+"NaN");if(i.s<1)throw Error(va+(i.s?"NaN":"-Infinity"));return i.eq(Gn)?new n(0):(Ht=!1,t=jr(Ku(i,s),Ku(e,s),s),Ht=!0,jt(t,r))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qD(t,e):BD(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,i=this,n=i.constructor,r=n.precision;if(e=new n(e),!e.s)throw Error(va+"NaN");return i.s?(Ht=!1,t=jr(i,e,0,1).times(e),Ht=!0,i.minus(t)):jt(new n(i),r)};qe.naturalExponential=qe.exp=function(){return UD(this)};qe.naturalLogarithm=qe.ln=function(){return Ku(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BD(t,e):qD(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,i,n,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lo+e);if(t=wi(r)+1,n=r.d.length-1,i=n*zt+1,n=r.d[n],n){for(;n%10==0;n/=10)i--;for(n=r.d[0];n>=10;n/=10)i++}return e&&t>i?t:i};qe.squareRoot=qe.sqrt=function(){var e,t,i,n,r,s,l,d=this,p=d.constructor;if(d.s<1){if(!d.s)return new p(0);throw Error(va+"NaN")}for(e=wi(d),Ht=!1,r=Math.sqrt(+d),r==0||r==1/0?(t=tr(d.d),(t.length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=Nc((e+1)/2)-(e<0||e%2),r==1/0?t="5e"+e:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(r.toString()),i=p.precision,r=l=i+3;;)if(s=n,n=s.plus(jr(d,s,l+2)).times(.5),tr(s.d).slice(0,l)===(t=tr(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),r==l&&t=="4999"){if(jt(s,i+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return Ht=!0,jt(n,i)};qe.times=qe.mul=function(e){var t,i,n,r,s,l,d,p,u,g=this,h=g.constructor,y=g.d,v=(e=new h(e)).d;if(!g.s||!e.s)return new h(0);for(e.s*=g.s,i=g.e+e.e,p=y.length,u=v.length,p<u&&(s=y,y=v,v=s,l=p,p=u,u=l),s=[],l=p+u,n=l;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,r=p+n;r>n;)d=s[r]+v[n]*y[r-n-1]+t,s[r--]=d%Ki|0,t=d/Ki|0;s[r]=(s[r]+t)%Ki|0}for(;!s[--l];)s.pop();return t?++i:s.shift(),e.d=s,e.e=i,Ht?jt(e,h.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var i=this,n=i.constructor;return i=new n(i),e===void 0?i:(lr(e,0,Ec),t===void 0?t=n.rounding:lr(t,0,8),jt(i,e+wi(i)+1,t))};qe.toExponential=function(e,t){var i,n=this,r=n.constructor;return e===void 0?i=qo(n,!0):(lr(e,0,Ec),t===void 0?t=r.rounding:lr(t,0,8),n=jt(new r(n),e+1,t),i=qo(n,!0,e+1)),i};qe.toFixed=function(e,t){var i,n,r=this,s=r.constructor;return e===void 0?qo(r):(lr(e,0,Ec),t===void 0?t=s.rounding:lr(t,0,8),n=jt(new s(r),e+wi(r)+1,t),i=qo(n.abs(),!1,e+wi(n)+1),r.isneg()&&!r.isZero()?"-"+i:i)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return jt(new t(e),wi(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,i,n,r,s,l,d=this,p=d.constructor,u=12,g=+(e=new p(e));if(!e.s)return new p(Gn);if(d=new p(d),!d.s){if(e.s<1)throw Error(va+"Infinity");return d}if(d.eq(Gn))return d;if(n=p.precision,e.eq(Gn))return jt(d,n);if(t=e.e,i=e.d.length-1,l=t>=i,s=d.s,l){if((i=g<0?-g:g)<=FD){for(r=new p(Gn),t=Math.ceil(n/zt+4),Ht=!1;i%2&&(r=r.times(d),WM(r.d,t)),i=Nc(i/2),i!==0;)d=d.times(d),WM(d.d,t);return Ht=!0,e.s<0?new p(Gn).div(r):jt(r,n)}}else if(s<0)throw Error(va+"NaN");return s=s<0&&e.d[Math.max(t,i)]&1?-1:1,d.s=1,Ht=!1,r=e.times(Ku(d,n+u)),Ht=!0,r=UD(r),r.s=s,r};qe.toPrecision=function(e,t){var i,n,r=this,s=r.constructor;return e===void 0?(i=wi(r),n=qo(r,i<=s.toExpNeg||i>=s.toExpPos)):(lr(e,1,Ec),t===void 0?t=s.rounding:lr(t,0,8),r=jt(new s(r),e,t),i=wi(r),n=qo(r,e<=i||i<=s.toExpNeg,e)),n};qe.toSignificantDigits=qe.tosd=function(e,t){var i=this,n=i.constructor;return e===void 0?(e=n.precision,t=n.rounding):(lr(e,1,Ec),t===void 0?t=n.rounding:lr(t,0,8)),jt(new n(i),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wi(e),i=e.constructor;return qo(e,t<=i.toExpNeg||t>=i.toExpPos)};function BD(e,t){var i,n,r,s,l,d,p,u,g=e.constructor,h=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Ht?jt(t,h):t;if(p=e.d,u=t.d,l=e.e,r=t.e,p=p.slice(),s=l-r,s){for(s<0?(n=p,s=-s,d=u.length):(n=u,r=l,d=p.length),l=Math.ceil(h/zt),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=p.length,s=u.length,d-s<0&&(s=d,n=u,u=p,p=n),i=0;s;)i=(p[--s]=p[s]+u[s]+i)/Ki|0,p[s]%=Ki;for(i&&(p.unshift(i),++r),d=p.length;p[--d]==0;)p.pop();return t.d=p,t.e=r,Ht?jt(t,h):t}function lr(e,t,i){if(e!==~~e||e<t||e>i)throw Error(Lo+e)}function tr(e){var t,i,n,r=e.length-1,s="",l=e[0];if(r>0){for(s+=l,t=1;t<r;t++)n=e[t]+"",i=zt-n.length,i&&(s+=Os(i)),s+=n;l=e[t],n=l+"",i=zt-n.length,i&&(s+=Os(i))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var jr=(function(){function e(n,r){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*r+l,n[d]=s%Ki|0,l=s/Ki|0;return l&&n.unshift(l),n}function t(n,r,s,l){var d,p;if(s!=l)p=s>l?1:-1;else for(d=p=0;d<s;d++)if(n[d]!=r[d]){p=n[d]>r[d]?1:-1;break}return p}function i(n,r,s){for(var l=0;s--;)n[s]-=l,l=n[s]<r[s]?1:0,n[s]=l*Ki+n[s]-r[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,r,s,l){var d,p,u,g,h,y,v,S,k,C,T,N,E,O,P,I,D,B,V=n.constructor,U=n.s==r.s?1:-1,W=n.d,q=r.d;if(!n.s)return new V(n);if(!r.s)throw Error(va+"Division by zero");for(p=n.e-r.e,D=q.length,P=W.length,v=new V(U),S=v.d=[],u=0;q[u]==(W[u]||0);)++u;if(q[u]>(W[u]||0)&&--p,s==null?N=s=V.precision:l?N=s+(wi(n)-wi(r))+1:N=s,N<0)return new V(0);if(N=N/zt+2|0,u=0,D==1)for(g=0,q=q[0],N++;(u<P||g)&&N--;u++)E=g*Ki+(W[u]||0),S[u]=E/q|0,g=E%q|0;else{for(g=Ki/(q[0]+1)|0,g>1&&(q=e(q,g),W=e(W,g),D=q.length,P=W.length),O=D,k=W.slice(0,D),C=k.length;C<D;)k[C++]=0;B=q.slice(),B.unshift(0),I=q[0],q[1]>=Ki/2&&++I;do g=0,d=t(q,k,D,C),d<0?(T=k[0],D!=C&&(T=T*Ki+(k[1]||0)),g=T/I|0,g>1?(g>=Ki&&(g=Ki-1),h=e(q,g),y=h.length,C=k.length,d=t(h,k,y,C),d==1&&(g--,i(h,D<y?B:q,y))):(g==0&&(d=g=1),h=q.slice()),y=h.length,y<C&&h.unshift(0),i(k,h,C),d==-1&&(C=k.length,d=t(q,k,D,C),d<1&&(g++,i(k,D<C?B:q,C))),C=k.length):d===0&&(g++,k=[0]),S[u++]=g,d&&k[0]?k[C++]=W[O]||0:(k=[W[O]],C=1);while((O++<P||k[0]!==void 0)&&N--)}return S[0]||S.shift(),v.e=p,jt(v,l?s+wi(v)+1:s)}})();function UD(e,t){var i,n,r,s,l,d,p=0,u=0,g=e.constructor,h=g.precision;if(wi(e)>16)throw Error(Zk+wi(e));if(!e.s)return new g(Gn);for(Ht=!1,d=h,l=new g(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(Co(2,u))/Math.LN10*2+5|0,d+=n,i=r=s=new g(Gn),g.precision=d;;){if(r=jt(r.times(e),d),i=i.times(++p),l=s.plus(jr(r,i,d)),tr(l.d).slice(0,d)===tr(s.d).slice(0,d)){for(;u--;)s=jt(s.times(s),d);return g.precision=h,t==null?(Ht=!0,jt(s,h)):s}s=l}}function wi(e){for(var t=e.e*zt,i=e.d[0];i>=10;i/=10)t++;return t}function mb(e,t,i){if(t>e.LN10.sd())throw Ht=!0,i&&(e.precision=i),Error(va+"LN10 precision limit exceeded");return jt(new e(e.LN10),t)}function Os(e){for(var t="";e--;)t+="0";return t}function Ku(e,t){var i,n,r,s,l,d,p,u,g,h=1,y=10,v=e,S=v.d,k=v.constructor,C=k.precision;if(v.s<1)throw Error(va+(v.s?"NaN":"-Infinity"));if(v.eq(Gn))return new k(0);if(t==null?(Ht=!1,u=C):u=t,v.eq(10))return t==null&&(Ht=!0),mb(k,u);if(u+=y,k.precision=u,i=tr(S),n=i.charAt(0),s=wi(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)v=v.times(e),i=tr(v.d),n=i.charAt(0),h++;s=wi(v),n>1?(v=new k("0."+i),s++):v=new k(n+"."+i.slice(1))}else return p=mb(k,u+2,C).times(s+""),v=Ku(new k(n+"."+i.slice(1)),u-y).plus(p),k.precision=C,t==null?(Ht=!0,jt(v,C)):v;for(d=l=v=jr(v.minus(Gn),v.plus(Gn),u),g=jt(v.times(v),u),r=3;;){if(l=jt(l.times(g),u),p=d.plus(jr(l,new k(r),u)),tr(p.d).slice(0,u)===tr(d.d).slice(0,u))return d=d.times(2),s!==0&&(d=d.plus(mb(k,u+2,C).times(s+""))),d=jr(d,new k(h),u),k.precision=C,t==null?(Ht=!0,jt(d,C)):d;d=p,r+=2}}function zM(e,t){var i,n,r;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(i<0&&(i=n),i+=+t.slice(n+1),t=t.substring(0,n)):i<0&&(i=t.length),n=0;t.charCodeAt(n)===48;)++n;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(n,r),t){if(r-=n,i=i-n-1,e.e=Nc(i/zt),e.d=[],n=(i+1)%zt,i<0&&(n+=zt),n<r){for(n&&e.d.push(+t.slice(0,n)),r-=zt;n<r;)e.d.push(+t.slice(n,n+=zt));t=t.slice(n),n=zt-t.length}else n-=r;for(;n--;)t+="0";if(e.d.push(+t),Ht&&(e.e>oh||e.e<-oh))throw Error(Zk+i)}else e.s=0,e.e=0,e.d=[0];return e}function jt(e,t,i){var n,r,s,l,d,p,u,g,h=e.d;for(l=1,s=h[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=zt,r=t,u=h[g=0];else{if(g=Math.ceil((n+1)/zt),s=h.length,g>=s)return e;for(u=s=h[g],l=1;s>=10;s/=10)l++;n%=zt,r=n-zt+l}if(i!==void 0&&(s=Co(10,l-r-1),d=u/s%10|0,p=t<0||h[g+1]!==void 0||u%s,p=i<4?(d||p)&&(i==0||i==(e.s<0?3:2)):d>5||d==5&&(i==4||p||i==6&&(n>0?r>0?u/Co(10,l-r):0:h[g-1])%10&1||i==(e.s<0?8:7))),t<1||!h[0])return p?(s=wi(e),h.length=1,t=t-s-1,h[0]=Co(10,(zt-t%zt)%zt),e.e=Nc(-t/zt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=g,s=1,g--):(h.length=g+1,s=Co(10,zt-n),h[g]=r>0?(u/Co(10,l-r)%Co(10,r)|0)*s:0),p)for(;;)if(g==0){(h[0]+=s)==Ki&&(h[0]=1,++e.e);break}else{if(h[g]+=s,h[g]!=Ki)break;h[g--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Ht&&(e.e>oh||e.e<-oh))throw Error(Zk+wi(e));return e}function qD(e,t){var i,n,r,s,l,d,p,u,g,h,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Ht?jt(t,v):t;if(p=e.d,h=t.d,n=t.e,u=e.e,p=p.slice(),l=u-n,l){for(g=l<0,g?(i=p,l=-l,d=h.length):(i=h,n=u,d=p.length),r=Math.max(Math.ceil(v/zt),d)+2,l>r&&(l=r,i.length=1),i.reverse(),r=l;r--;)i.push(0);i.reverse()}else{for(r=p.length,d=h.length,g=r<d,g&&(d=r),r=0;r<d;r++)if(p[r]!=h[r]){g=p[r]<h[r];break}l=0}for(g&&(i=p,p=h,h=i,t.s=-t.s),d=p.length,r=h.length-d;r>0;--r)p[d++]=0;for(r=h.length;r>l;){if(p[--r]<h[r]){for(s=r;s&&p[--s]===0;)p[s]=Ki-1;--p[s],p[r]+=Ki}p[r]-=h[r]}for(;p[--d]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,Ht?jt(t,v):t):new y(0)}function qo(e,t,i){var n,r=wi(e),s=tr(e.d),l=s.length;return t?(i&&(n=i-l)>0?s=s.charAt(0)+"."+s.slice(1)+Os(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+Os(-r-1)+s,i&&(n=i-l)>0&&(s+=Os(n))):r>=l?(s+=Os(r+1-l),i&&(n=i-r-1)>0&&(s=s+"."+Os(n))):((n=r+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),i&&(n=i-l)>0&&(r+1===l&&(s+="."),s+=Os(n))),e.s<0?"-"+s:s}function WM(e,t){if(e.length>t)return e.length=t,!0}function zD(e){var t,i,n;function r(s){var l=this;if(!(l instanceof r))return new r(s);if(l.constructor=r,s instanceof r){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Lo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return zM(l,s.toString())}else if(typeof s!="string")throw Error(Lo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,l$.test(s))zM(l,s);else throw Error(Lo+s)}if(r.prototype=qe,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=zD,r.config=r.set=c$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(i=n[t++])||(e[i]=this[i]);return r.config(e),r}function c$(e){if(!e||typeof e!="object")throw Error(va+"Object expected");var t,i,n,r=["precision",1,Ec,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((n=e[i=r[t]])!==void 0)if(Nc(n)===n&&n>=r[t+1]&&n<=r[t+2])this[i]=n;else throw Error(Lo+i+": "+n);if((n=e[i="LN10"])!==void 0)if(n==Math.LN10)this[i]=new this(n);else throw Error(Lo+i+": "+n);return this}var eS=zD(o$);Gn=new eS(1);const Pt=eS;function WD(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function VD(e,t,i){for(var n=new Pt(e),r=0,s=[];n.lt(t)&&r<1e5;)s.push(n.toNumber()),n=n.add(i),r++;return s}var HD=e=>{var[t,i]=e,[n,r]=[t,i];return t>i&&([n,r]=[i,t]),[n,r]},GD=(e,t,i)=>{if(e.lte(0))return new Pt(0);var n=WD(e.toNumber()),r=new Pt(10).pow(n),s=e.div(r),l=n!==1?.05:.1,d=new Pt(Math.ceil(s.div(l).toNumber())).add(i).mul(l),p=d.mul(r);return t?new Pt(p.toNumber()):new Pt(Math.ceil(p.toNumber()))},d$=(e,t,i)=>{var n=new Pt(1),r=new Pt(e);if(!r.isint()&&i){var s=Math.abs(e);s<1?(n=new Pt(10).pow(WD(e)-1),r=new Pt(Math.floor(r.div(n).toNumber())).mul(n)):s>1&&(r=new Pt(Math.floor(e)))}else e===0?r=new Pt(Math.floor((t-1)/2)):i||(r=new Pt(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],p=0;p<t;p++)d.push(r.add(new Pt(p-l).mul(n)).toNumber());return d},$D=function(t,i,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((i-t)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var l=GD(new Pt(i).sub(t).div(n-1),r,s),d;t<=0&&i>=0?d=new Pt(0):(d=new Pt(t).add(i).div(2),d=d.sub(new Pt(d).mod(l)));var p=Math.ceil(d.sub(t).div(l).toNumber()),u=Math.ceil(new Pt(i).sub(d).div(l).toNumber()),g=p+u+1;return g>n?$D(t,i,n,r,s+1):(g<n&&(u=i>0?u+(n-g):u,p=i>0?p:p+(n-g)),{step:l,tickMin:d.sub(new Pt(p).mul(l)),tickMax:d.add(new Pt(u).mul(l))})},u$=function(t){var[i,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[d,p]=HD([i,n]);if(d===-1/0||p===1/0){var u=p===1/0?[d,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),p];return i>n?u.reverse():u}if(d===p)return d$(d,r,s);var{step:g,tickMin:h,tickMax:y}=$D(d,p,l,s,0),v=VD(h,y.add(new Pt(.1).mul(g)),g);return i>n?v.reverse():v},p$=function(t,i){var[n,r]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=HD([n,r]);if(l===-1/0||d===1/0)return[n,r];if(l===d)return[l];var p=Math.max(i,2),u=GD(new Pt(d).sub(l).div(p-1),s,0),g=[...VD(new Pt(l),new Pt(d),u),d];return s===!1&&(g=g.map(h=>Math.round(h))),n>r?g.reverse():g},f$=e=>e.rootProps.barCategoryGap,up=e=>e.rootProps.stackOffset,YD=e=>e.rootProps.reverseStackOrder,tS=e=>e.options.chartName,iS=e=>e.rootProps.syncId,QD=e=>e.rootProps.syncMethod,nS=e=>e.options.eventEmitter,g$=e=>e.rootProps.baseValue,Ni={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Is={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Ni.axis},Ta={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:Ni.axis},um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Mc(e,t,i){if(i!=="auto")return i;if(e!=null)return Fa(e,t)?"category":"number"}function VM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function lh(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(i),!0).forEach(function(n){h$(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):VM(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function h$(e,t,i){return(t=m$(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m$(e){var t=y$(e,"string");return typeof t=="symbol"?t:t+""}function y$(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HM={allowDataOverflow:Is.allowDataOverflow,allowDecimals:Is.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Is.angleAxisId,includeHidden:!1,name:void 0,reversed:Is.reversed,scale:Is.scale,tick:Is.tick,tickCount:void 0,ticks:void 0,type:Is.type,unit:void 0},GM={allowDataOverflow:Ta.allowDataOverflow,allowDecimals:Ta.allowDecimals,allowDuplicatedCategory:Ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ta.radiusAxisId,includeHidden:Ta.includeHidden,name:void 0,reversed:Ta.reversed,scale:Ta.scale,tick:Ta.tick,tickCount:Ta.tickCount,ticks:void 0,type:Ta.type,unit:void 0},_$=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Pc=te([_$,Ck],(e,t)=>{var i;if(e!=null)return e;var n=(i=Mc(t,"angleAxis",HM.type))!==null&&i!==void 0?i:"category";return lh(lh({},HM),{},{type:n})}),v$=(e,t)=>e.polarAxis.radiusAxis[t],pp=te([v$,Ck],(e,t)=>{var i;if(e!=null)return e;var n=(i=Mc(t,"radiusAxis",GM.type))!==null&&i!==void 0?i:"category";return lh(lh({},GM),{},{type:n})}),pm=e=>e.polarOptions,aS=te([Xr,Jr,en],hV),XD=te([pm,aS],(e,t)=>{if(e!=null)return Us(e.innerRadius,t,0)}),JD=te([pm,aS],(e,t)=>{if(e!=null)return Us(e.outerRadius,t,t*.8)}),b$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:i}=e;return[t,i]},ZD=te([pm],b$),x$=te([Pc,ZD],um),ej=te([aS,XD,JD],(e,t,i)=>{if(!(e==null||t==null||i==null))return[t,i]}),k$=te([pp,ej],um),Ic=te([Tt,pm,XD,JD,Xr,Jr],(e,t,i,n,r,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||i==null||n==null)){var{cx:l,cy:d,startAngle:p,endAngle:u}=t;return{cx:Us(l,r,r/2),cy:Us(d,s,s/2),innerRadius:i,outerRadius:n,startAngle:p,endAngle:u,clockWise:!1}}}),Bt=(e,t)=>t,fp=(e,t,i)=>i;function rS(e){return e==null?void 0:e.id}function tj(e,t,i){var{chartData:n=[]}=t,{allowDuplicatedCategory:r,dataKey:s}=i,l=new Map;return e.forEach(d=>{var p,u=(p=d.data)!==null&&p!==void 0?p:n;if(!(u==null||u.length===0)){var g=rS(d);u.forEach((h,y)=>{var v=s==null||r?y:String(oi(h,s,null)),S=oi(h,d.dataKey,0),k;l.has(v)?k=l.get(v):k={},Object.assign(k,{[g]:S}),l.set(v,k)})}}),Array.from(l.values())}function sS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var fm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function S$(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return!1}var qi=e=>{var t=Tt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Oc=e=>e.tooltip.settings.axisId;function w$(e){if(e in nu)return nu[e]();var t="scale".concat(ck(e));if(t in nu)return nu[t]()}function $M(e){var t=e.ticks,i=e.bandwidth,n=e.range(),r=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(s){var l=r[0],d=r[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:i?()=>i.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var p=e.bandwidth();switch(l.position){case"middle":d+=p/2;break;case"end":d+=p;break}}return d}}}}function YM(e,t,i){if(typeof e=="function")return $M(e.copy().domain(t).range(i));if(e!=null){var n=w$(e);if(n!=null)return n.domain(t).range(i),$M(n)}}var ij=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Hr(t)){for(var i,n,r=0;r<t.length;r++){var s=t[r];ht(s)&&((i===void 0||s<i)&&(i=s),(n===void 0||s>n)&&(n=s))}return i!==void 0&&n!==void 0?[i,n]:void 0}return t}default:return t}};function QM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ch(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(i),!0).forEach(function(n){C$(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):QM(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function C$(e,t,i){return(t=T$(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function T$(e){var t=A$(e,"string");return typeof t=="symbol"?t:t+""}function A$(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e0=[0,"auto"],Ri={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nj=(e,t)=>e.cartesianAxis.xAxis[t],ts=(e,t)=>{var i=nj(e,t);return i??Ri},Di={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:e0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ip},aj=(e,t)=>e.cartesianAxis.yAxis[t],is=(e,t)=>{var i=aj(e,t);return i??Di},E$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oS=(e,t)=>{var i=e.cartesianAxis.zAxis[t];return i??E$},ai=(e,t,i)=>{switch(t){case"xAxis":return ts(e,i);case"yAxis":return is(e,i);case"zAxis":return oS(e,i);case"angleAxis":return Pc(e,i);case"radiusAxis":return pp(e,i);default:throw new Error("Unexpected axis type: ".concat(t))}},N$=(e,t,i)=>{switch(t){case"xAxis":return ts(e,i);case"yAxis":return is(e,i);default:throw new Error("Unexpected axis type: ".concat(t))}},$o=(e,t,i)=>{switch(t){case"xAxis":return ts(e,i);case"yAxis":return is(e,i);case"angleAxis":return Pc(e,i);case"radiusAxis":return pp(e,i);default:throw new Error("Unexpected axis type: ".concat(t))}},rj=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lS(e,t){return i=>{switch(e){case"xAxis":return"xAxisId"in i&&i.xAxisId===t;case"yAxis":return"yAxisId"in i&&i.yAxisId===t;case"zAxis":return"zAxisId"in i&&i.zAxisId===t;case"angleAxis":return"angleAxisId"in i&&i.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in i&&i.radiusAxisId===t;default:return!1}}}var sj=e=>e.graphicalItems.cartesianItems,M$=te([Bt,fp],lS),cS=(e,t,i)=>e.filter(i).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),gp=te([sj,ai,M$],cS,{memoizeOptions:{resultEqualityCheck:gm}}),oj=te([gp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(sS)),lj=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),P$=te([gp],lj),dS=e=>e.map(t=>t.data).filter(Boolean).flat(1),I$=te([gp],dS,{memoizeOptions:{resultEqualityCheck:gm}}),uS=(e,t)=>{var{chartData:i=[],dataStartIndex:n,dataEndIndex:r}=t;return e.length>0?e:i.slice(n,r+1)},pS=te([I$,jD],uS),fS=(e,t,i)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:oi(n,t.dataKey)})):i.length>0?i.map(n=>n.dataKey).flatMap(n=>e.map(r=>({value:oi(r,n)}))):e.map(n=>({value:n})),hm=te([pS,ai,gp],fS);function cj(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vg(e){if(sr(e)||e instanceof Date){var t=Number(e);if(ht(t))return t}}function XM(e){if(Array.isArray(e)){var t=[vg(e[0]),vg(e[1])];return Hr(t)?t:void 0}var i=vg(e);if(i!=null)return[i,i]}function Gr(e){return e.map(vg).filter(Pn)}function O$(e,t,i){return!i||typeof t!="number"||rr(t)?[]:i.length?Gr(i.flatMap(n=>{var r=oi(e,n.dataKey),s,l;if(Array.isArray(r)?[s,l]=r:s=l=r,!(!ht(s)||!ht(l)))return[t-s,t+l]})):[]}var Ii=e=>{var t=qi(e),i=Oc(e);return $o(e,t,i)},hp=te([Ii],e=>e==null?void 0:e.dataKey),L$=te([oj,jD,Ii],tj),dj=(e,t,i,n)=>{var r={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var p=l[d.stackId];return p==null&&(p=[]),p.push(d),l[d.stackId]=p,l},r);return Object.fromEntries(Object.entries(s).map(l=>{var[d,p]=l,u=n?[...p].reverse():p,g=u.map(rS);return[d,{stackedData:l9(e,g,i),graphicalItems:u}]}))},uj=te([L$,oj,up,YD],dj),pj=(e,t,i,n)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(n==null&&i!=="zAxis"){var l=p9(e,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},R$=te([ai],e=>e.allowDataOverflow),gS=e=>{var t;if(e==null||!("domain"in e))return e0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var i=Gr(e.ticks);return[Math.min(...i),Math.max(...i)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:e0},hS=te([ai],gS),mS=te([hS,R$],KD),D$=te([uj,es,Bt,mS],pj,{memoizeOptions:{resultEqualityCheck:fm}}),mm=e=>e.errorBars,j$=(e,t,i)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>cj(i,n)),dh=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=i.filter(Boolean);if(r.length!==0){var s=r.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},yS=(e,t,i,n,r)=>{var s,l;if(i.length>0&&e.forEach(d=>{i.forEach(p=>{var u,g,h=(u=n[p.id])===null||u===void 0?void 0:u.filter(T=>cj(r,T)),y=oi(d,(g=t.dataKey)!==null&&g!==void 0?g:p.dataKey),v=O$(d,y,h);if(v.length>=2){var S=Math.min(...v),k=Math.max(...v);(s==null||S<s)&&(s=S),(l==null||k>l)&&(l=k)}var C=XM(y);C!=null&&(s=s==null?C[0]:Math.min(s,C[0]),l=l==null?C[1]:Math.max(l,C[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var p=XM(oi(d,t.dataKey));p!=null&&(s=s==null?p[0]:Math.min(s,p[0]),l=l==null?p[1]:Math.max(l,p[1]))}),ht(s)&&ht(l))return[s,l]},K$=te([pS,ai,P$,mm,Bt],yS,{memoizeOptions:{resultEqualityCheck:fm}});function F$(e){var{value:t}=e;if(sr(t)||t instanceof Date)return t}var B$=(e,t,i)=>{var n=e.map(F$).filter(r=>r!=null);return i&&(t.dataKey==null||t.allowDuplicatedCategory&&BR(n))?nD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},fj=e=>e.referenceElements.dots,Lc=(e,t,i)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===i:n.yAxisId===i),U$=te([fj,Bt,fp],Lc),gj=e=>e.referenceElements.areas,q$=te([gj,Bt,fp],Lc),hj=e=>e.referenceElements.lines,z$=te([hj,Bt,fp],Lc),mj=(e,t)=>{if(e!=null){var i=Gr(e.map(n=>t==="xAxis"?n.x:n.y));if(i.length!==0)return[Math.min(...i),Math.max(...i)]}},W$=te(U$,Bt,mj),yj=(e,t)=>{if(e!=null){var i=Gr(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(i.length!==0)return[Math.min(...i),Math.max(...i)]}},V$=te([q$,Bt],yj);function H$(e){var t;if(e.x!=null)return Gr([e.x]);var i=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return i==null||i.length===0?[]:Gr(i)}function G$(e){var t;if(e.y!=null)return Gr([e.y]);var i=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return i==null||i.length===0?[]:Gr(i)}var _j=(e,t)=>{if(e!=null){var i=e.flatMap(n=>t==="xAxis"?H$(n):G$(n));if(i.length!==0)return[Math.min(...i),Math.max(...i)]}},$$=te([z$,Bt],_j),Y$=te(W$,$$,V$,(e,t,i)=>dh(e,i,t)),_S=(e,t,i,n,r,s,l,d)=>{if(i!=null)return i;var p=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",u=p?dh(n,s,r):dh(s,r);return s$(t,u,e.allowDataOverflow)},Q$=te([ai,hS,mS,D$,K$,Y$,Tt,Bt],_S,{memoizeOptions:{resultEqualityCheck:fm}}),X$=[0,1],vS=(e,t,i,n,r,s,l)=>{if(!((e==null||i==null||i.length===0)&&l===void 0)){var{dataKey:d,type:p}=e,u=Fa(t,s);if(u&&d==null){var g;return nD(0,(g=i==null?void 0:i.length)!==null&&g!==void 0?g:0)}return p==="category"?B$(n,e,u):r==="expand"?X$:l}},bS=te([ai,Tt,pS,hm,up,Bt,Q$],vS);function J$(e){return e in nu}var vj=(e,t,i)=>{if(e!=null){var{scale:n,type:r}=e;if(n==="auto")return r==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":r==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(ck(n));return J$(s)?s:"point"}}},ur=te([ai,rj,tS],vj);function ym(e,t,i,n){if(!(i==null||n==null))return typeof e.scale=="function"?YM(e.scale,i,n):YM(t,i,n)}var xS=(e,t,i)=>{var n=gS(t);if(!(i!=="auto"&&i!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Hr(e))return u$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hr(e))return p$(e,t.tickCount,t.allowDecimals)}},kS=te([bS,$o,ur],xS),SS=(e,t,i,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Hr(t)&&Array.isArray(i)&&i.length>0){var r,s,l=t[0],d=(r=i[0])!==null&&r!==void 0?r:0,p=t[1],u=(s=i[i.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(p,u)]}return t},Z$=te([ai,bS,kS,Bt],SS),eY=te(hm,ai,(e,t)=>{if(!(!t||t.type!=="number")){var i=1/0,n=Array.from(Gr(e.map(h=>h.value))).sort((h,y)=>h-y),r=n[0],s=n[n.length-1];if(r==null||s==null)return 1/0;var l=s-r;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var p=n[d],u=n[d+1];if(!(p==null||u==null)){var g=u-p;i=Math.min(i,g)}}return i/l}}),bj=te(eY,Tt,f$,en,(e,t,i,n,r)=>r,(e,t,i,n,r)=>{if(!ht(e))return 0;var s=t==="vertical"?n.height:n.width;if(r==="gap")return e*s/2;if(r==="no-gap"){var l=Us(i,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),tY=(e,t,i)=>{var n=ts(e,t);return n==null||typeof n.padding!="string"?0:bj(e,"xAxis",t,i,n.padding)},iY=(e,t,i)=>{var n=is(e,t);return n==null||typeof n.padding!="string"?0:bj(e,"yAxis",t,i,n.padding)},nY=te(ts,tY,(e,t)=>{var i,n;if(e==null)return{left:0,right:0};var{padding:r}=e;return typeof r=="string"?{left:t,right:t}:{left:((i=r.left)!==null&&i!==void 0?i:0)+t,right:((n=r.right)!==null&&n!==void 0?n:0)+t}}),aY=te(is,iY,(e,t)=>{var i,n;if(e==null)return{top:0,bottom:0};var{padding:r}=e;return typeof r=="string"?{top:t,bottom:t}:{top:((i=r.top)!==null&&i!==void 0?i:0)+t,bottom:((n=r.bottom)!==null&&n!==void 0?n:0)+t}}),rY=te([en,nY,Zh,Jh,(e,t,i)=>i],(e,t,i,n,r)=>{var{padding:s}=n;return r?[s.left,i.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),sY=te([en,Tt,aY,Zh,Jh,(e,t,i)=>i],(e,t,i,n,r,s)=>{var{padding:l}=r;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-i.bottom,e.top+i.top]:[e.top+i.top,e.top+e.height-i.bottom]}),mp=(e,t,i,n)=>{var r;switch(t){case"xAxis":return rY(e,i,n);case"yAxis":return sY(e,i,n);case"zAxis":return(r=oS(e,i))===null||r===void 0?void 0:r.range;case"angleAxis":return ZD(e);case"radiusAxis":return ej(e,i);default:return}},xj=te([ai,mp],um),oY=te([ur,Z$],ij),_m=te([ai,ur,oY,xj],ym);te([gp,mm,Bt],j$);function kj(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var vm=(e,t)=>t,bm=(e,t,i)=>i,lY=te(Qh,vm,bm,(e,t,i)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===i).sort(kj)),cY=te(Xh,vm,bm,(e,t,i)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===i).sort(kj)),Sj=(e,t)=>({width:e.width,height:t.height}),dY=(e,t)=>{var i=typeof t.width=="number"?t.width:ip;return{width:i,height:e.height}},uY=te(en,ts,Sj),pY=(e,t,i)=>{switch(t){case"top":return e.top;case"bottom":return i-e.bottom;default:return 0}},fY=(e,t,i)=>{switch(t){case"left":return e.left;case"right":return i-e.right;default:return 0}},gY=te(Jr,en,lY,vm,bm,(e,t,i,n,r)=>{var s={},l;return i.forEach(d=>{var p=Sj(t,d);l==null&&(l=pY(t,n,e));var u=n==="top"&&!r||n==="bottom"&&r;s[d.id]=l-Number(u)*p.height,l+=(u?-1:1)*p.height}),s}),hY=te(Xr,en,cY,vm,bm,(e,t,i,n,r)=>{var s={},l;return i.forEach(d=>{var p=dY(t,d);l==null&&(l=fY(t,n,e));var u=n==="left"&&!r||n==="right"&&r;s[d.id]=l-Number(u)*p.width,l+=(u?-1:1)*p.width}),s}),mY=(e,t)=>{var i=ts(e,t);if(i!=null)return gY(e,i.orientation,i.mirror)},yY=te([en,ts,mY,(e,t)=>t],(e,t,i,n)=>{if(t!=null){var r=i==null?void 0:i[n];return r==null?{x:e.left,y:0}:{x:e.left,y:r}}}),_Y=(e,t)=>{var i=is(e,t);if(i!=null)return hY(e,i.orientation,i.mirror)},vY=te([en,is,_Y,(e,t)=>t],(e,t,i,n)=>{if(t!=null){var r=i==null?void 0:i[n];return r==null?{x:0,y:e.top}:{x:r,y:e.top}}}),bY=te(en,is,(e,t)=>{var i=typeof t.width=="number"?t.width:ip;return{width:i,height:e.height}}),wj=(e,t,i,n)=>{if(i!=null){var{allowDuplicatedCategory:r,type:s,dataKey:l}=i,d=Fa(e,n),p=t.map(u=>u.value);if(l&&d&&s==="category"&&r&&BR(p))return p}},yp=te([Tt,hm,ai,Bt],wj),wS=(e,t,i,n)=>{if(!(i==null||i.dataKey==null)){var{type:r,scale:s}=i,l=Fa(e,n);if(l&&(r==="number"||s!=="auto"))return t.map(d=>d.value)}},CS=te([Tt,hm,$o,Bt],wS),JM=te([Tt,N$,ur,_m,yp,CS,mp,kS,Bt],(e,t,i,n,r,s,l,d,p)=>{if(t!=null){var u=Fa(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:s,duplicateDomain:r,isCategorical:u,niceTicks:d,range:l,realScaleType:i,scale:n}}}),Cj=(e,t,i,n,r,s,l,d,p)=>{if(!(t==null||n==null)){var u=Fa(e,p),{type:g,ticks:h,tickCount:y}=t,v=i==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=g==="category"&&n.bandwidth?n.bandwidth()/v:0;S=p==="angleAxis"&&s!=null&&s.length>=2?ga(s[0]-s[1])*2*S:S;var k=h||r;return k?k.map((C,T)=>{var N=l?l.indexOf(C):C,E=n.map(N);return ht(E)?{index:T,coordinate:E+S,value:C,offset:S}:null}).filter(Pn):u&&d?d.map((C,T)=>{var N=n.map(C);return ht(N)?{coordinate:N+S,value:C,index:T,offset:S}:null}).filter(Pn):n.ticks?n.ticks(y).map((C,T)=>{var N=n.map(C);return ht(N)?{coordinate:N+S,value:C,index:T,offset:S}:null}).filter(Pn):n.domain().map((C,T)=>{var N=n.map(C);return ht(N)?{coordinate:N+S,value:l?l[C]:C,index:T,offset:S}:null}).filter(Pn)}},Tj=te([Tt,$o,ur,_m,kS,mp,yp,CS,Bt],Cj),Aj=(e,t,i,n,r,s,l)=>{if(!(t==null||i==null||n==null||n[0]===n[1])){var d=Fa(e,l),{tickCount:p}=t,u=0;return u=l==="angleAxis"&&(n==null?void 0:n.length)>=2?ga(n[0]-n[1])*2*u:u,d&&s?s.map((g,h)=>{var y=i.map(g);return ht(y)?{coordinate:y+u,value:g,index:h,offset:u}:null}).filter(Pn):i.ticks?i.ticks(p).map((g,h)=>{var y=i.map(g);return ht(y)?{coordinate:y+u,value:g,index:h,offset:u}:null}).filter(Pn):i.domain().map((g,h)=>{var y=i.map(g);return ht(y)?{coordinate:y+u,value:r?r[g]:g,index:h,offset:u}:null}).filter(Pn)}},Ej=te([Tt,$o,_m,mp,yp,CS,Bt],Aj),Nj=te(ai,_m,(e,t)=>{if(!(e==null||t==null))return ch(ch({},e),{},{scale:t})}),xY=te([ai,ur,bS,xj],ym);te((e,t,i)=>oS(e,i),xY,(e,t)=>{if(!(e==null||t==null))return ch(ch({},e),{},{scale:t})});var kY=te([Tt,Qh,Xh],(e,t,i)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return i.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Mj=e=>e.options.defaultTooltipEventType,Pj=e=>e.options.validateTooltipEventTypes;function Ij(e,t,i){if(e==null)return t;var n=e?"axis":"item";return i==null?t:i.includes(n)?n:t}function TS(e,t){var i=Mj(e),n=Pj(e);return Ij(t,i,n)}function SY(e){return We(t=>TS(t,e))}var Oj=(e,t)=>{var i,n=Number(t);if(!(rr(n)||t==null))return n>=0?e==null||(i=e[n])===null||i===void 0?void 0:i.value:void 0},wY=e=>e.tooltip.settings,Rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},CY={itemInteraction:{click:Rs,hover:Rs},axisInteraction:{click:Rs,hover:Rs},keyboardInteraction:Rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Lj=Dn({name:"tooltip",initialState:CY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Vt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:i,next:n}=t.payload,r=Oa(e).tooltipItemPayloads.indexOf(i);r>-1&&(e.tooltipItemPayloads[r]=n)},prepare:Vt()},removeTooltipEntrySettings:{reducer(e,t){var i=Oa(e).tooltipItemPayloads.indexOf(t.payload);i>-1&&e.tooltipItemPayloads.splice(i,1)},prepare:Vt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:TY,replaceTooltipEntrySettings:AY,removeTooltipEntrySettings:EY,setTooltipSettingsState:NY,setActiveMouseOverItemIndex:MY,mouseLeaveItem:lke,mouseLeaveChart:Rj,setActiveClickItemIndex:cke,setMouseOverAxisIndex:Dj,setMouseClickAxisIndex:PY,setSyncInteraction:t0,setKeyboardInteraction:i0}=Lj.actions,IY=Lj.reducer;function ZM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Zf(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(i),!0).forEach(function(n){OY(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ZM(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function OY(e,t,i){return(t=LY(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function LY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DY(e,t,i){return t==="axis"?i==="click"?e.axisInteraction.click:e.axisInteraction.hover:i==="click"?e.itemInteraction.click:e.itemInteraction.hover}function jY(e){return e.index!=null}var jj=(e,t,i,n)=>{if(t==null)return Rs;var r=DY(e,t,i);if(r==null)return Rs;if(r.active)return r;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(jY(r)){if(s)return Zf(Zf({},r),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Zf(Zf({},Rs),{},{coordinate:r.coordinate})};function KY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var i=Number(e);return Number.isFinite(i)?i:void 0}function FY(e,t){var i=KY(e),n=t[0],r=t[1];if(i===void 0)return!1;var s=Math.min(n,r),l=Math.max(n,r);return i>=s&&i<=l}function BY(e,t,i){if(i==null||t==null)return!0;var n=oi(e,t);return n==null||!Hr(i)?!0:FY(n,i)}var AS=(e,t,i,n)=>{var r=e==null?void 0:e.index;if(r==null)return null;var s=Number(r);if(!ht(s))return r;var l=0,d=1/0;t.length>0&&(d=t.length-1);var p=Math.max(l,Math.min(s,d)),u=t[p];return u==null||BY(u,i,n)?String(p):null},Kj=(e,t,i,n,r,s,l)=>{if(s!=null){var d=l[0],p=d==null?void 0:d.getPosition(s);if(p!=null)return p;var u=r==null?void 0:r[Number(s)];if(u)switch(i){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Fj=(e,t,i,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var r;if(i==="hover"?r=e.itemInteraction.hover.graphicalItemId:r=e.itemInteraction.click.graphicalItemId,r==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===r})},Bj=e=>e.options.tooltipPayloadSearcher,Rc=e=>e.tooltip;function eP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function tP(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(i),!0).forEach(function(n){UY(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function UY(e,t,i){return(t=qY(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function qY(e){var t=zY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WY(e,t){return e??t}var Uj=(e,t,i,n,r,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:p,dataStartIndex:u,dataEndIndex:g}=i,h=[];return e.reduce((y,v)=>{var S,{dataDefinedOnItem:k,settings:C}=v,T=WY(k,d),N=Array.isArray(T)?N2(T,u,g):T,E=(S=C==null?void 0:C.dataKey)!==null&&S!==void 0?S:n,O=C==null?void 0:C.nameKey,P;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?P=UR(N,n,r):P=s(N,t,p,O),Array.isArray(P))P.forEach(D=>{var B=tP(tP({},C),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(iN({tooltipEntrySettings:B,dataKey:D.dataKey,payload:D.payload,value:oi(D.payload,D.dataKey),name:D.name}))});else{var I;y.push(iN({tooltipEntrySettings:C,dataKey:E,payload:P,value:oi(P,E),name:(I=oi(P,O))!==null&&I!==void 0?I:C==null?void 0:C.name}))}return y},h)}},ES=te([Ii,rj,tS],vj),VY=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HY=te([qi,Oc],lS),Dc=te([VY,Ii,HY],cS,{memoizeOptions:{resultEqualityCheck:gm}}),GY=te([Dc],e=>e.filter(sS)),$Y=te([Dc],dS,{memoizeOptions:{resultEqualityCheck:gm}}),jc=te([$Y,es],uS),YY=te([GY,es,Ii],tj),NS=te([jc,Ii,Dc],fS),qj=te([Ii],gS),QY=te([Ii],e=>e.allowDataOverflow),zj=te([qj,QY],KD),XY=te([Dc],e=>e.filter(sS)),JY=te([YY,XY,up,YD],dj),ZY=te([JY,es,qi,zj],pj),eQ=te([Dc],lj),tQ=te([jc,Ii,eQ,mm,qi],yS,{memoizeOptions:{resultEqualityCheck:fm}}),iQ=te([fj,qi,Oc],Lc),nQ=te([iQ,qi],mj),aQ=te([gj,qi,Oc],Lc),rQ=te([aQ,qi],yj),sQ=te([hj,qi,Oc],Lc),oQ=te([sQ,qi],_j),lQ=te([nQ,oQ,rQ],dh),cQ=te([Ii,qj,zj,ZY,tQ,lQ,Tt,qi],_S),_p=te([Ii,Tt,jc,NS,up,qi,cQ],vS),dQ=te([_p,Ii,ES],xS),uQ=te([Ii,_p,dQ,qi],SS),Wj=e=>{var t=qi(e),i=Oc(e),n=!1;return mp(e,t,i,n)},Vj=te([Ii,Wj],um),Hj=te([Ii,ES,uQ,Vj],ym),pQ=te([Tt,NS,Ii,qi],wj),fQ=te([Tt,NS,Ii,qi],wS),gQ=(e,t,i,n,r,s,l,d)=>{if(t){var{type:p}=t,u=Fa(e,d);if(n){var g=i==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=p==="category"&&n.bandwidth?n.bandwidth()/g:0;return h=d==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?ga(r[0]-r[1])*2*h:h,u&&l?l.map((y,v)=>{var S=n.map(y);return ht(S)?{coordinate:S+h,value:y,index:v,offset:h}:null}).filter(Pn):n.domain().map((y,v)=>{var S=n.map(y);return ht(S)?{coordinate:S+h,value:s?s[y]:y,index:v,offset:h}:null}).filter(Pn)}}},ns=te([Tt,Ii,ES,Hj,Wj,pQ,fQ,qi],gQ),MS=te([Mj,Pj,wY],(e,t,i)=>Ij(i.shared,e,t)),Gj=e=>e.tooltip.settings.trigger,PS=e=>e.tooltip.settings.defaultIndex,vp=te([Rc,MS,Gj,PS],jj),Fu=te([vp,jc,hp,_p],AS),$j=te([ns,Fu],Oj),hQ=te([vp],e=>{if(e)return e.dataKey});te([vp],e=>{if(e)return e.graphicalItemId});var Yj=te([Rc,MS,Gj,PS],Fj),mQ=te([Xr,Jr,Tt,en,ns,PS,Yj],Kj),yQ=te([vp,mQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_Q=te([vp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),vQ=te([Yj,Fu,es,hp,$j,Bj,MS],Uj),bQ=te([vQ],e=>{if(e!=null){var t=e.map(i=>i.payload).filter(i=>i!=null);return Array.from(new Set(t))}});function iP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function nP(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(i),!0).forEach(function(n){xQ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):iP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function xQ(e,t,i){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function kQ(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wQ=()=>We(Ii),CQ=()=>{var e=wQ(),t=We(ns),i=We(Hj);return gc(!e||!i?void 0:nP(nP({},e),{},{scale:i}),t)};function aP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Kl(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(i),!0).forEach(function(n){TQ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):aP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function TQ(e,t,i){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function AQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NQ=(e,t,i,n)=>{var r=t.find(s=>s&&s.index===i);if(r){if(e==="horizontal")return{x:r.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:r.coordinate}}return{x:0,y:0}},MQ=(e,t,i,n)=>{var r=t.find(u=>u&&u.index===i);if(r){if(e==="centric"){var s=r.coordinate,{radius:l}=n;return Kl(Kl(Kl({},n),Rt(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=r.coordinate,{angle:p}=n;return Kl(Kl(Kl({},n),Rt(n.cx,n.cy,d,p)),{},{angle:p,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function PQ(e,t){var{chartX:i,chartY:n}=e;return i>=t.left&&i<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Qj=(e,t,i,n,r)=>{var s,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var d=0;d<l;d++){var p,u,g,h,y,v=d>0?(p=i[d-1])===null||p===void 0?void 0:p.coordinate:(u=i[l-1])===null||u===void 0?void 0:u.coordinate,S=(g=i[d])===null||g===void 0?void 0:g.coordinate,k=d>=l-1?(h=i[0])===null||h===void 0?void 0:h.coordinate:(y=i[d+1])===null||y===void 0?void 0:y.coordinate,C=void 0;if(!(v==null||S==null||k==null))if(ga(S-v)!==ga(k-S)){var T=[];if(ga(k-S)===ga(r[1]-r[0])){C=k;var N=S+r[1]-r[0];T[0]=Math.min(N,(N+v)/2),T[1]=Math.max(N,(N+v)/2)}else{C=v;var E=k+r[1]-r[0];T[0]=Math.min(S,(E+S)/2),T[1]=Math.max(S,(E+S)/2)}var O=[Math.min(S,(C+S)/2),Math.max(S,(C+S)/2)];if(e>O[0]&&e<=O[1]||e>=T[0]&&e<=T[1]){var P;return(P=i[d])===null||P===void 0?void 0:P.index}}else{var I=Math.min(v,k),D=Math.max(v,k);if(e>(I+S)/2&&e<=(D+S)/2){var B;return(B=i[d])===null||B===void 0?void 0:B.index}}}else if(t)for(var V=0;V<l;V++){var U=t[V];if(U!=null){var W=t[V+1],q=t[V-1];if(V===0&&W!=null&&e<=(U.coordinate+W.coordinate)/2||V===l-1&&q!=null&&e>(U.coordinate+q.coordinate)/2||V>0&&V<l-1&&q!=null&&W!=null&&e>(U.coordinate+q.coordinate)/2&&e<=(U.coordinate+W.coordinate)/2)return U.index}}return-1},Xj=()=>We(tS),IS=(e,t)=>t,Jj=(e,t,i)=>i,OS=(e,t,i,n)=>n,IQ=te(ns,e=>Fh(e,t=>t.coordinate)),LS=te([Rc,IS,Jj,OS],jj),RS=te([LS,jc,hp,_p],AS),OQ=(e,t,i)=>{if(t!=null){var n=Rc(e);return t==="axis"?i==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:i==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Zj=te([Rc,IS,Jj,OS],Fj),uh=te([Xr,Jr,Tt,en,ns,OS,Zj],Kj),LQ=te([LS,uh],(e,t)=>{var i;return(i=e.coordinate)!==null&&i!==void 0?i:t}),e3=te([ns,RS],Oj),RQ=te([Zj,RS,es,hp,e3,Bj,IS],Uj),DQ=te([LS,RS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),jQ=(e,t,i,n,r,s,l)=>{if(!(!e||!i||!n||!r)&&PQ(e,l)){var d=f9(e,t),p=Qj(d,s,r,i,n),u=NQ(t,r,p,e);return{activeIndex:String(p),activeCoordinate:u}}},KQ=(e,t,i,n,r,s,l)=>{if(!(!e||!n||!r||!s||!i)){var d=bV(e,i);if(d){var p=g9(d,t),u=Qj(p,l,s,n,r),g=MQ(t,s,u,d);return{activeIndex:String(u),activeCoordinate:g}}}},FQ=(e,t,i,n,r,s,l,d)=>{if(!(!e||!t||!n||!r||!s))return t==="horizontal"||t==="vertical"?jQ(e,t,n,r,s,l,d):KQ(e,t,i,n,r,s,l)},BQ=te(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,i)=>i,(e,t,i)=>{if(t!=null){var n=e[t];if(n!=null)return i?n.panoramaElement:n.element}}),UQ=te(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ni)),i=Array.from(new Set(t));return i.sort((n,r)=>n-r)},{memoizeOptions:{resultEqualityCheck:S$}});function rP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function sP(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(i),!0).forEach(function(n){qQ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function qQ(e,t,i){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function zQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VQ={},HQ={zIndexMap:Object.values(Ni).reduce((e,t)=>sP(sP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),VQ)},GQ=new Set(Object.values(Ni));function $Q(e){return GQ.has(e)}var t3=Dn({name:"zIndex",initialState:HQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:i}=t.payload;e.zIndexMap[i]?e.zIndexMap[i].consumers+=1:e.zIndexMap[i]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Vt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:i}=t.payload;e.zIndexMap[i]&&(e.zIndexMap[i].consumers-=1,e.zIndexMap[i].consumers<=0&&!$Q(i)&&delete e.zIndexMap[i])},prepare:Vt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:i,element:n,isPanorama:r}=t.payload;e.zIndexMap[i]?r?e.zIndexMap[i].panoramaElement=n:e.zIndexMap[i].element=n:e.zIndexMap[i]={consumers:0,element:r?void 0:n,panoramaElement:r?n:void 0}},prepare:Vt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:i}=t.payload;e.zIndexMap[i]&&(t.payload.isPanorama?e.zIndexMap[i].panoramaElement=void 0:e.zIndexMap[i].element=void 0)},prepare:Vt()}}}),{registerZIndexPortal:YQ,unregisterZIndexPortal:QQ,registerZIndexPortalElement:XQ,unregisterZIndexPortalElement:JQ}=t3.actions,ZQ=t3.reducer;function Zn(e){var{zIndex:t,children:i}=e,n=H9(),r=n&&t!==void 0&&t!==0,s=dn(),l=$t();A.useLayoutEffect(()=>r?(l(YQ({zIndex:t})),()=>{l(QQ({zIndex:t}))}):Qr,[l,t,r]);var d=We(p=>BQ(p,t,s));return r?d?wR.createPortal(i,d):null:i}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n0.apply(null,arguments)}function oP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function eg(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(i),!0).forEach(function(n){eX(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function eX(e,t,i){return(t=tX(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function tX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nX(e){var{cursor:t,cursorComp:i,cursorProps:n}=e;return A.isValidElement(t)?A.cloneElement(t,n):A.createElement(i,n)}function aX(e){var t,{coordinate:i,payload:n,index:r,offset:s,tooltipAxisBandSize:l,layout:d,cursor:p,tooltipEventType:u,chartName:g}=e,h=i,y=n,v=r;if(!p||!h||g!=="ScatterChart"&&u!=="axis")return null;var S,k,C;if(g==="ScatterChart")S=h,k=P8,C=Ni.cursorLine;else if(g==="BarChart")S=I8(d,h,s,l),k=dV,C=Ni.cursorRectangle;else if(d==="radial"&&qR(h)){var{cx:T,cy:N,radius:E,startAngle:O,endAngle:P}=tD(h);S={cx:T,cy:N,startAngle:O,endAngle:P,innerRadius:E,outerRadius:E},k=wV,C=Ni.cursorLine}else S={points:CV(d,h,s)},k=_g,C=Ni.cursorLine;var I=typeof p=="object"&&"className"in p?p.className:void 0,D=eg(eg(eg(eg({stroke:"#ccc",pointerEvents:"none"},s),S),Cc(p)),{},{payload:y,payloadIndex:v,className:yt("recharts-tooltip-cursor",I)});return A.createElement(Zn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:C},A.createElement(nX,{cursor:p,cursorComp:k,cursorProps:D}))}function rX(e){var t=CQ(),i=j2(),n=Tc(),r=Xj();return t==null||i==null||n==null||r==null?null:A.createElement(aX,n0({},e,{offset:i,layout:n,tooltipAxisBandSize:t,chartName:r}))}var i3=A.createContext(null),sX=()=>A.useContext(i3),yb={exports:{}},lP;function oX(){return lP||(lP=1,(function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function r(p,u,g){this.fn=p,this.context=u,this.once=g||!1}function s(p,u,g,h,y){if(typeof g!="function")throw new TypeError("The listener must be a function");var v=new r(g,h||p,y),S=i?i+u:u;return p._events[S]?p._events[S].fn?p._events[S]=[p._events[S],v]:p._events[S].push(v):(p._events[S]=v,p._eventsCount++),p}function l(p,u){--p._eventsCount===0?p._events=new n:delete p._events[u]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var u=[],g,h;if(this._eventsCount===0)return u;for(h in g=this._events)t.call(g,h)&&u.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(g)):u},d.prototype.listeners=function(u){var g=i?i+u:u,h=this._events[g];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,v=h.length,S=new Array(v);y<v;y++)S[y]=h[y].fn;return S},d.prototype.listenerCount=function(u){var g=i?i+u:u,h=this._events[g];return h?h.fn?1:h.length:0},d.prototype.emit=function(u,g,h,y,v,S){var k=i?i+u:u;if(!this._events[k])return!1;var C=this._events[k],T=arguments.length,N,E;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),T){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,h),!0;case 4:return C.fn.call(C.context,g,h,y),!0;case 5:return C.fn.call(C.context,g,h,y,v),!0;case 6:return C.fn.call(C.context,g,h,y,v,S),!0}for(E=1,N=new Array(T-1);E<T;E++)N[E-1]=arguments[E];C.fn.apply(C.context,N)}else{var O=C.length,P;for(E=0;E<O;E++)switch(C[E].once&&this.removeListener(u,C[E].fn,void 0,!0),T){case 1:C[E].fn.call(C[E].context);break;case 2:C[E].fn.call(C[E].context,g);break;case 3:C[E].fn.call(C[E].context,g,h);break;case 4:C[E].fn.call(C[E].context,g,h,y);break;default:if(!N)for(P=1,N=new Array(T-1);P<T;P++)N[P-1]=arguments[P];C[E].fn.apply(C[E].context,N)}}return!0},d.prototype.on=function(u,g,h){return s(this,u,g,h,!1)},d.prototype.once=function(u,g,h){return s(this,u,g,h,!0)},d.prototype.removeListener=function(u,g,h,y){var v=i?i+u:u;if(!this._events[v])return this;if(!g)return l(this,v),this;var S=this._events[v];if(S.fn)S.fn===g&&(!y||S.once)&&(!h||S.context===h)&&l(this,v);else{for(var k=0,C=[],T=S.length;k<T;k++)(S[k].fn!==g||y&&!S[k].once||h&&S[k].context!==h)&&C.push(S[k]);C.length?this._events[v]=C.length===1?C[0]:C:l(this,v)}return this},d.prototype.removeAllListeners=function(u){var g;return u?(g=i?i+u:u,this._events[g]&&l(this,g)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=i,d.EventEmitter=d,e.exports=d})(yb)),yb.exports}var lX=oX();const cX=Jn(lX);var Bu=new cX,a0="recharts.syncEvent.tooltip",cP="recharts.syncEvent.brush",n3=(e,t)=>{if(t&&Array.isArray(e)){var i=Number.parseInt(t,10);if(!rr(i))return e[i]}},dX={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},a3=Dn({name:"options",initialState:dX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uX=a3.reducer,{createEventEmitter:pX}=a3.actions;function fX(e){return e.tooltip.syncInteraction}var gX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},r3=Dn({name:"chartData",initialState:gX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:i,endIndex:n}=t.payload;i!=null&&(e.dataStartIndex=i),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:dP,setDataStartEndIndexes:hX,setComputedData:dke}=r3.actions,mX=r3.reducer,yX=["x","y"];function uP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Fl(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(i),!0).forEach(function(n){_X(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):uP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function _X(e,t,i){return(t=vX(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xX(e,t){if(e==null)return{};var i,n,r=kX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function kX(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function SX(){var e=We(iS),t=We(nS),i=$t(),n=We(QD),r=We(ns),s=Tc(),l=em(),d=We(p=>p.rootProps.className);A.useEffect(()=>{if(e==null)return Qr;var p=(u,g,h)=>{if(t!==h&&e===u){if(n==="index"){var y;if(l&&g!==null&&g!==void 0&&(y=g.payload)!==null&&y!==void 0&&y.coordinate&&g.payload.sourceViewBox){var v=g.payload.coordinate,{x:S,y:k}=v,C=xX(v,yX),{x:T,y:N,width:E,height:O}=g.payload.sourceViewBox,P=Fl(Fl({},C),{},{x:l.x+(E?(S-T)/E:0)*l.width,y:l.y+(O?(k-N)/O:0)*l.height});i(Fl(Fl({},g),{},{payload:Fl(Fl({},g.payload),{},{coordinate:P})}))}else i(g);return}if(r!=null){var I;if(typeof n=="function"){var D={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},B=n(r,D);I=r[B]}else n==="value"&&(I=r.find(K=>String(K.value)===g.payload.label));var{coordinate:V}=g.payload;if(I==null||g.payload.active===!1||V==null||l==null){i(t0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:W}=V,q=Math.min(U,l.x+l.width),pe=Math.min(W,l.y+l.height),X={x:s==="horizontal"?I.coordinate:q,y:s==="horizontal"?pe:I.coordinate},se=t0({active:g.payload.active,coordinate:X,dataKey:g.payload.dataKey,index:String(I.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox,graphicalItemId:g.payload.graphicalItemId});i(se)}}};return Bu.on(a0,p),()=>{Bu.off(a0,p)}},[d,i,t,e,n,r,s,l])}function wX(){var e=We(iS),t=We(nS),i=$t();A.useEffect(()=>{if(e==null)return Qr;var n=(r,s,l)=>{t!==l&&e===r&&i(hX(s))};return Bu.on(cP,n),()=>{Bu.off(cP,n)}},[i,t,e])}function CX(){var e=$t();A.useEffect(()=>{e(pX())},[e]),SX(),wX()}function TX(e,t,i,n,r,s){var l=We(v=>OQ(v,e,t)),d=We(nS),p=We(iS),u=We(QD),g=We(fX),h=g==null?void 0:g.active,y=em();A.useEffect(()=>{if(!h&&p!=null&&d!=null){var v=t0({active:s,coordinate:i,dataKey:l,index:r,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});Bu.emit(a0,p,v,d)}},[h,i,l,r,n,d,p,u,s,y])}function pP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function fP(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(i),!0).forEach(function(n){AX(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function AX(e,t,i){return(t=EX(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function EX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MX(e){return e.dataKey}function PX(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(d8,t)}var gP=[],IX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function s3(e){var t,i,n=Mi(e,IX),{active:r,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:p,filterNull:u,isAnimationActive:g,offset:h,payloadUniqBy:y,position:v,reverseDirection:S,useTranslate3d:k,wrapperStyle:C,cursor:T,shared:N,trigger:E,defaultIndex:O,portal:P,axisId:I}=n,D=$t(),B=typeof O=="number"?String(O):O;A.useEffect(()=>{D(NY({shared:N,trigger:E,axisId:I,active:r,defaultIndex:B}))},[D,N,E,I,r,B]);var V=em(),U=X2(),W=SY(N),{activeIndex:q,isActive:pe}=(t=We(ae=>DQ(ae,W,E,B)))!==null&&t!==void 0?t:{},X=We(ae=>RQ(ae,W,E,B)),se=We(ae=>e3(ae,W,E,B)),K=We(ae=>LQ(ae,W,E,B)),z=X,Q=sX(),de=(i=r??pe)!==null&&i!==void 0?i:!1,[F,j]=e7([z,de]),Z=W==="axis"?se:void 0;TX(W,E,K,Z,q,de);var R=P??Q;if(R==null||V==null||W==null)return null;var fe=z??gP;de||(fe=gP),u&&fe.length&&(fe=TW(fe.filter(ae=>ae.value!=null&&(ae.hide!==!0||n.includeHidden)),y,MX));var je=fe.length>0,le=A.createElement(y8,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:g,active:de,coordinate:K,hasPayload:je,offset:h,position:v,reverseDirection:S,useTranslate3d:k,viewBox:V,wrapperStyle:C,lastBoundingBox:F,innerRef:j,hasPortalFromProps:!!P},PX(p,fP(fP({},n),{},{payload:fe,label:Z,active:de,activeIndex:q,coordinate:K,accessibilityLayer:U})));return A.createElement(A.Fragment,null,wR.createPortal(le,R),de&&A.createElement(rX,{cursor:T,tooltipEventType:W,coordinate:K,payload:fe,index:q}))}function OX(e,t,i){return(t=LX(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function LX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DX{constructor(t){OX(this,"cache",new Map),this.maxSize=t}get(t){var i=this.cache.get(t);return i!==void 0&&(this.cache.delete(t),this.cache.set(t,i)),i}set(t,i){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,i)}clear(){this.cache.clear()}size(){return this.cache.size}}function hP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function jX(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(i),!0).forEach(function(n){KX(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function KX(e,t,i){return(t=FX(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function FX(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UX={cacheSize:2e3,enableCache:!0},o3=jX({},UX),mP=new DX(o3.cacheSize),qX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yP="recharts_measurement_span";function zX(e,t){var i=t.fontSize||"",n=t.fontFamily||"",r=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(i,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(d)}var _P=(e,t)=>{try{var i=document.getElementById(yP);i||(i=document.createElement("span"),i.setAttribute("id",yP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i)),Object.assign(i.style,qX,t),i.textContent="".concat(e);var n=i.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},hu=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sp.isSsr)return{width:0,height:0};if(!o3.enableCache)return _P(t,i);var n=zX(t,i),r=mP.get(n);if(r)return r;var s=_P(t,i);return mP.set(n,s),s},l3;function WX(e,t,i){return(t=VX(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function VX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$X=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QX=["cm","mm","pt","pc","in","Q","px"];function XX(e){return QX.includes(e)}var Xl="NaN";function JX(e,t){return e*YX[t]}class Xi{static parse(t){var i,[,n,r]=(i=$X.exec(t))!==null&&i!==void 0?i:[];return n==null?Xi.NaN:new Xi(parseFloat(n),r??"")}constructor(t,i){this.num=t,this.unit=i,this.num=t,this.unit=i,rr(t)&&(this.unit=""),i!==""&&!GX.test(i)&&(this.num=NaN,this.unit=""),XX(i)&&(this.num=JX(t,i),this.unit="px")}add(t){return this.unit!==t.unit?new Xi(NaN,""):new Xi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xi(NaN,""):new Xi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xi(NaN,""):new Xi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xi(NaN,""):new Xi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return rr(this.num)}}l3=Xi;WX(Xi,"NaN",new l3(NaN,""));function c3(e){if(e==null||e.includes(Xl))return Xl;for(var t=e;t.includes("*")||t.includes("/");){var i,[,n,r,s]=(i=vP.exec(t))!==null&&i!==void 0?i:[],l=Xi.parse(n??""),d=Xi.parse(s??""),p=r==="*"?l.multiply(d):l.divide(d);if(p.isNaN())return Xl;t=t.replace(vP,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,g,h,y]=(u=bP.exec(t))!==null&&u!==void 0?u:[],v=Xi.parse(g??""),S=Xi.parse(y??""),k=h==="+"?v.add(S):v.subtract(S);if(k.isNaN())return Xl;t=t.replace(bP,k.toString())}return t}var xP=/\(([^()]*)\)/;function ZX(e){for(var t=e,i;(i=xP.exec(t))!=null;){var[,n]=i;t=t.replace(xP,c3(n))}return t}function eJ(e){var t=e.replace(/\s+/g,"");return t=ZX(t),t=c3(t),t}function tJ(e){try{return eJ(e)}catch{return Xl}}function _b(e){var t=tJ(e.slice(5,-1));return t===Xl?"":t}var iJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nJ=["dx","dy","angle","className","breakAll"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r0.apply(null,arguments)}function kP(e,t){if(e==null)return{};var i,n,r=aJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function aJ(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var d3=/[ \f\n\r\t\v\u2028\u2029]+/,u3=e=>{var{children:t,breakAll:i,style:n}=e;try{var r=[];Bi(t)||(i?r=t.toString().split(""):r=t.toString().split(d3));var s=r.map(d=>({word:d,width:hu(d,n).width})),l=i?0:hu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function rJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var p3=(e,t,i,n)=>e.reduce((r,s)=>{var{word:l,width:d}=s,p=r[r.length-1];if(p&&d!=null&&(t==null||n||p.width+d+i<Number(t)))p.words.push(l),p.width+=d+i;else{var u={words:[l],width:d};r.push(u)}return r},[]),f3=e=>e.reduce((t,i)=>t.width>i.width?t:i),sJ="",SP=(e,t,i,n,r,s,l,d)=>{var p=e.slice(0,t),u=u3({breakAll:i,style:n,children:p+sJ});if(!u)return[!1,[]];var g=p3(u.wordsWithComputedWidth,s,l,d),h=g.length>r||f3(g).width>Number(s);return[h,g]},oJ=(e,t,i,n,r)=>{var{maxLines:s,children:l,style:d,breakAll:p}=e,u=$e(s),g=String(l),h=p3(t,n,i,r);if(!u||r)return h;var y=h.length>s||f3(h).width>Number(n);if(!y)return h;for(var v=0,S=g.length-1,k=0,C;v<=S&&k<=g.length-1;){var T=Math.floor((v+S)/2),N=T-1,[E,O]=SP(g,N,p,d,s,n,i,r),[P]=SP(g,T,p,d,s,n,i,r);if(!E&&!P&&(v=T+1),E&&P&&(S=T-1),!E&&P){C=O;break}k++}return C||h},wP=e=>{var t=Bi(e)?[]:e.toString().split(d3);return[{words:t,width:void 0}]},lJ=e=>{var{width:t,scaleToFit:i,children:n,style:r,breakAll:s,maxLines:l}=e;if((t||i)&&!sp.isSsr){var d,p,u=u3({breakAll:s,children:n,style:r});if(u){var{wordsWithComputedWidth:g,spaceWidth:h}=u;d=g,p=h}else return wP(n);return oJ({breakAll:s,children:n,maxLines:l,style:r},d,p,t,!!i)}return wP(n)},g3="#808080",cJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:g3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},bp=A.forwardRef((e,t)=>{var i=Mi(e,cJ),{x:n,y:r,lineHeight:s,capHeight:l,fill:d,scaleToFit:p,textAnchor:u,verticalAnchor:g}=i,h=kP(i,iJ),y=A.useMemo(()=>lJ({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:p,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,p,h.style,h.width]),{dx:v,dy:S,angle:k,className:C,breakAll:T}=h,N=kP(h,nJ);if(!sr(n)||!sr(r)||y.length===0)return null;var E=Number(n)+($e(v)?v:0),O=Number(r)+($e(S)?S:0);if(!ht(E)||!ht(O))return null;var P;switch(g){case"start":P=_b("calc(".concat(l,")"));break;case"middle":P=_b("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=_b("calc(".concat(y.length-1," * -").concat(s,")"));break}var I=[],D=y[0];if(p&&D!=null){var B=D.width,{width:V}=h;I.push("scale(".concat($e(V)&&$e(B)?V/B:1,")"))}return k&&I.push("rotate(".concat(k,", ").concat(E,", ").concat(O,")")),I.length&&(N.transform=I.join(" ")),A.createElement("text",r0({},Ji(N),{ref:t,x:E,y:O,className:yt("recharts-text",C),textAnchor:u,fill:d.includes("url")?g3:d}),y.map((U,W)=>{var q=U.words.join(T?"":" ");return A.createElement("tspan",{x:E,dy:W===0?P:s,key:"".concat(q,"-").concat(W)},q)}))});bp.displayName="Text";function CP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function $a(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(i),!0).forEach(function(n){dJ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function dJ(e,t,i){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function uJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fJ=e=>{var{viewBox:t,position:i,offset:n=0,parentViewBox:r}=e,{x:s,y:l,height:d,upperWidth:p,lowerWidth:u}=Sk(t),g=s,h=s+(p-u)/2,y=(g+h)/2,v=(p+u)/2,S=g+p/2,k=d>=0?1:-1,C=k*n,T=k>0?"end":"start",N=k>0?"start":"end",E=p>=0?1:-1,O=E*n,P=E>0?"end":"start",I=E>0?"start":"end",D=r;if(i==="top"){var B={x:g+p/2,y:l-C,horizontalAnchor:"middle",verticalAnchor:T};return D&&(B.height=Math.max(l-D.y,0),B.width=p),B}if(i==="bottom"){var V={x:h+u/2,y:l+d+C,horizontalAnchor:"middle",verticalAnchor:N};return D&&(V.height=Math.max(D.y+D.height-(l+d),0),V.width=u),V}if(i==="left"){var U={x:y-O,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"};return D&&(U.width=Math.max(U.x-D.x,0),U.height=d),U}if(i==="right"){var W={x:y+v+O,y:l+d/2,horizontalAnchor:I,verticalAnchor:"middle"};return D&&(W.width=Math.max(D.x+D.width-W.x,0),W.height=d),W}var q=D?{width:v,height:d}:{};return i==="insideLeft"?$a({x:y+O,y:l+d/2,horizontalAnchor:I,verticalAnchor:"middle"},q):i==="insideRight"?$a({x:y+v-O,y:l+d/2,horizontalAnchor:P,verticalAnchor:"middle"},q):i==="insideTop"?$a({x:g+p/2,y:l+C,horizontalAnchor:"middle",verticalAnchor:N},q):i==="insideBottom"?$a({x:h+u/2,y:l+d-C,horizontalAnchor:"middle",verticalAnchor:T},q):i==="insideTopLeft"?$a({x:g+O,y:l+C,horizontalAnchor:I,verticalAnchor:N},q):i==="insideTopRight"?$a({x:g+p-O,y:l+C,horizontalAnchor:P,verticalAnchor:N},q):i==="insideBottomLeft"?$a({x:h+O,y:l+d-C,horizontalAnchor:I,verticalAnchor:T},q):i==="insideBottomRight"?$a({x:h+u-O,y:l+d-C,horizontalAnchor:P,verticalAnchor:T},q):i&&typeof i=="object"&&($e(i.x)||Ko(i.x))&&($e(i.y)||Ko(i.y))?$a({x:s+Us(i.x,v),y:l+Us(i.y,d),horizontalAnchor:"end",verticalAnchor:"end"},q):$a({x:S,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},q)},gJ=["labelRef"],hJ=["content"];function TP(e,t){if(e==null)return{};var i,n,r=mJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function mJ(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function AP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function au(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(i),!0).forEach(function(n){yJ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function yJ(e,t,i){return(t=_J(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _J(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pr.apply(null,arguments)}var h3=A.createContext(null),bJ=e=>{var{x:t,y:i,upperWidth:n,lowerWidth:r,width:s,height:l,children:d}=e,p=A.useMemo(()=>({x:t,y:i,upperWidth:n,lowerWidth:r,width:s,height:l}),[t,i,n,r,s,l]);return A.createElement(h3.Provider,{value:p},d)},m3=()=>{var e=A.useContext(h3),t=em();return e||(t?Sk(t):void 0)},y3=A.createContext(null),xJ=e=>{var{cx:t,cy:i,innerRadius:n,outerRadius:r,startAngle:s,endAngle:l,clockWise:d,children:p}=e,u=A.useMemo(()=>({cx:t,cy:i,innerRadius:n,outerRadius:r,startAngle:s,endAngle:l,clockWise:d}),[t,i,n,r,s,l,d]);return A.createElement(y3.Provider,{value:u},p)},_3=()=>{var e=A.useContext(y3),t=We(Ic);return e||t},kJ=e=>{var{value:t,formatter:i}=e,n=Bi(e.children)?t:e.children;return typeof i=="function"?i(n):n},DS=e=>e!=null&&typeof e=="function",SJ=(e,t)=>{var i=ga(t-e),n=Math.min(Math.abs(t-e),360);return i*n},wJ=(e,t,i,n,r)=>{var{offset:s,className:l}=e,{cx:d,cy:p,innerRadius:u,outerRadius:g,startAngle:h,endAngle:y,clockWise:v}=r,S=(u+g)/2,k=SJ(h,y),C=k>=0?1:-1,T,N;switch(t){case"insideStart":T=h+C*s,N=v;break;case"insideEnd":T=y-C*s,N=!v;break;case"end":T=y+C*s,N=v;break;default:throw new Error("Unsupported position ".concat(t))}N=k<=0?N:!N;var E=Rt(d,p,S,T),O=Rt(d,p,S,T+(N?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),I=Bi(e.id)?Tu("recharts-radial-line-"):e.id;return A.createElement("text",Pr({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:I,d:P})),A.createElement("textPath",{xlinkHref:"#".concat(I)},i))},CJ=(e,t,i)=>{var{cx:n,cy:r,innerRadius:s,outerRadius:l,startAngle:d,endAngle:p}=e,u=(d+p)/2;if(i==="outside"){var{x:g,y:h}=Rt(n,r,l+t,u);return{x:g,y:h,textAnchor:g>=n?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:n,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:n,y:r,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:n,y:r,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:v,y:S}=Rt(n,r,y,u);return{x:v,y:S,textAnchor:"middle",verticalAnchor:"middle"}},bg=e=>e!=null&&"cx"in e&&$e(e.cx),TJ={angle:0,offset:5,zIndex:Ni.label,position:"middle",textBreakAll:!1};function AJ(e){if(!bg(e))return e;var{cx:t,cy:i,outerRadius:n}=e,r=n*2;return{x:t-n,y:i-n,width:r,upperWidth:r,lowerWidth:r,height:r}}function Ls(e){var t=Mi(e,TJ),{viewBox:i,parentViewBox:n,position:r,value:s,children:l,content:d,className:p="",textBreakAll:u,labelRef:g}=t,h=_3(),y=m3(),v=r==="center"?y:h??y,S,k,C;i==null?S=v:bg(i)?S=i:S=Sk(i);var T=AJ(S);if(!S||Bi(s)&&Bi(l)&&!A.isValidElement(d)&&typeof d!="function")return null;var N=au(au({},t),{},{viewBox:S});if(A.isValidElement(d)){var{labelRef:E}=N,O=TP(N,gJ);return A.cloneElement(d,O)}if(typeof d=="function"){var{content:P}=N,I=TP(N,hJ);if(k=A.createElement(d,I),A.isValidElement(k))return k}else k=kJ(t);var D=Ji(t);if(bg(S)){if(r==="insideStart"||r==="insideEnd"||r==="end")return wJ(t,r,k,D,S);C=CJ(S,t.offset,t.position)}else{if(!T)return null;var B=fJ({viewBox:T,position:r,offset:t.offset,parentViewBox:bg(n)?void 0:n});C=au(au({x:B.x,y:B.y,textAnchor:B.horizontalAnchor,verticalAnchor:B.verticalAnchor},B.width!==void 0?{width:B.width}:{}),B.height!==void 0?{height:B.height}:{})}return A.createElement(Zn,{zIndex:t.zIndex},A.createElement(bp,Pr({ref:g,className:yt("recharts-label",p)},D,C,{textAnchor:rJ(D.textAnchor)?D.textAnchor:C.textAnchor,breakAll:u}),k))}Ls.displayName="Label";var v3=(e,t,i)=>{if(!e)return null;var n={viewBox:t,labelRef:i};return e===!0?A.createElement(Ls,Pr({key:"label-implicit"},n)):sr(e)?A.createElement(Ls,Pr({key:"label-implicit",value:e},n)):A.isValidElement(e)?e.type===Ls?A.cloneElement(e,au({key:"label-implicit"},n)):A.createElement(Ls,Pr({key:"label-implicit",content:e},n)):DS(e)?A.createElement(Ls,Pr({key:"label-implicit",content:e},n)):e&&typeof e=="object"?A.createElement(Ls,Pr({},e,{key:"label-implicit"},n)):null};function EJ(e){var{label:t,labelRef:i}=e,n=m3();return v3(t,n,i)||null}function NJ(e){var{label:t}=e,i=_3();return v3(t,i)||null}var vb={},bb={},EP;function MJ(){return EP||(EP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return i[i.length-1]}e.last=t})(bb)),bb}var xb={},NP;function PJ(){return NP||(NP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return Array.isArray(i)?i:Array.from(i)}e.toArray=t})(xb)),xb}var MP;function IJ(){return MP||(MP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MJ(),i=PJ(),n=pk();function r(s){if(n.isArrayLike(s))return t.last(i.toArray(s))}e.last=r})(vb)),vb}var kb,PP;function OJ(){return PP||(PP=1,kb=IJ().last),kb}var LJ=OJ();const b3=Jn(LJ);var RJ=["valueAccessor"],DJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ph.apply(null,arguments)}function IP(e,t){if(e==null)return{};var i,n,r=jJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function jJ(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var KJ=e=>Array.isArray(e.value)?b3(e.value):e.value,x3=A.createContext(void 0),k3=x3.Provider,S3=A.createContext(void 0);S3.Provider;function FJ(){return A.useContext(x3)}function BJ(){return A.useContext(S3)}function xg(e){var{valueAccessor:t=KJ}=e,i=IP(e,RJ),{dataKey:n,clockWise:r,id:s,textBreakAll:l,zIndex:d}=i,p=IP(i,DJ),u=FJ(),g=BJ(),h=u||g;return!h||!h.length?null:A.createElement(Zn,{zIndex:d??Ni.label},A.createElement(Fi,{className:"recharts-label-list"},h.map((y,v)=>{var S,k=Bi(n)?t(y,v):oi(y.payload,n),C=Bi(s)?{}:{id:"".concat(s,"-").concat(v)};return A.createElement(Ls,ph({key:"label-".concat(v)},Ji(y),p,C,{fill:(S=i.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:k,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}xg.displayName="LabelList";function w3(e){var{label:t}=e;return t?t===!0?A.createElement(xg,{key:"labelList-implicit"}):A.isValidElement(t)||DS(t)?A.createElement(xg,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(xg,ph({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var UJ=["points","className","baseLinePoints","connectNulls"],OP;function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jl.apply(null,arguments)}function qJ(e,t){if(e==null)return{};var i,n,r=zJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function zJ(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function WJ(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LP=e=>e!=null&&e.x===+e.x&&e.y===+e.y,VJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=[[]];t.forEach(l=>{var d=i[i.length-1];LP(l)?d&&d.push(l):d&&d.length>0&&i.push([])});var n=t[0],r=i[i.length-1];LP(n)&&r&&r.push(n);var s=i[i.length-1];return s&&s.length<=0&&(i=i.slice(0,-1)),i},mu=(e,t)=>{var i=VJ(e);t&&(i=[i.reduce((r,s)=>[...r,...s],[])]);var n=i.map(r=>r.reduce((s,l,d)=>ji(OP||(OP=WJ(["","","",",",""])),s,d===0?"M":"L",l.x,l.y),"")).join("");return i.length===1?"".concat(n,"Z"):n},HJ=(e,t,i)=>{var n=mu(e,i);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(mu(Array.from(t).reverse(),i).slice(1))},C3=e=>{var{points:t,className:i,baseLinePoints:n,connectNulls:r}=e,s=qJ(e,UJ);if(!t||!t.length)return null;var l=yt("recharts-polygon",i);if(n&&n.length){var d=s.stroke&&s.stroke!=="none",p=HJ(t,n,r);return A.createElement("g",{className:l},A.createElement("path",Jl({},Ji(s),{fill:p.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:p})),d?A.createElement("path",Jl({},Ji(s),{fill:"none",d:mu(t,r)})):null,d?A.createElement("path",Jl({},Ji(s),{fill:"none",d:mu(n,r)})):null)}var u=mu(t,r);return A.createElement("path",Jl({},Ji(s),{fill:u.slice(-1)==="Z"?s.fill:"none",className:l,d:u}))};function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s0.apply(null,arguments)}var jS=e=>{var{cx:t,cy:i,r:n,className:r}=e,s=yt("recharts-dot",r);return $e(t)&&$e(i)&&$e(n)?A.createElement("circle",s0({},ni(e),dk(e),{className:s,cx:t,cy:i,r:n})):null},T3=e=>e.graphicalItems.polarItems,GJ=te([Bt,fp],lS),xm=te([T3,ai,GJ],cS),$J=te([xm],dS),km=te([$J,dm],uS),A3=te([km,ai,xm],fS);te([km,ai,xm],(e,t,i)=>i.length>0?e.flatMap(n=>i.flatMap(r=>{var s,l=oi(n,(s=t.dataKey)!==null&&s!==void 0?s:r.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:oi(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var RP=()=>{},YJ=te([km,ai,xm,mm,Bt],yS),QJ=te([ai,hS,mS,RP,YJ,RP,Tt,Bt],_S),E3=te([ai,Tt,km,A3,up,Bt,QJ],vS),N3=te([E3,$o,ur],xS),XJ=te([ai,E3,N3,Bt],SS),JJ=te([ur,XJ],ij),KS=(e,t,i)=>{switch(t){case"angleAxis":return Pc(e,i);case"radiusAxis":return pp(e,i);default:throw new Error("Unexpected axis type: ".concat(t))}},FS=(e,t,i)=>{switch(t){case"angleAxis":return x$(e,i);case"radiusAxis":return k$(e,i);default:throw new Error("Unexpected axis type: ".concat(t))}},Kc=te([KS,ur,JJ,FS],ym),M3=te([Tt,A3,$o,Bt],wS),Fc=te([Tt,KS,ur,Kc,N3,FS,yp,M3,Bt],Cj),ZJ=te([Fc],e=>{if(e){var t=new Map;return e.forEach(i=>{var n=(i.coordinate+360)%360;t.has(n)||t.set(n,i)}),Array.from(t.values())}});te([Tt,KS,Kc,FS,yp,M3,Bt],Aj);var eZ=(e,t)=>Fc(e,"angleAxis",t,!1),tZ=te([eZ],e=>{if(e)return e.map(t=>t.coordinate)}),iZ=(e,t)=>Fc(e,"radiusAxis",t,!1),nZ=te([iZ],e=>{if(e)return e.map(t=>t.coordinate)}),aZ=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function rZ(e,t){if(e==null)return{};var i,n,r=sZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function sZ(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pa.apply(null,arguments)}function DP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Sm(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(i),!0).forEach(function(n){oZ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):DP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function oZ(e,t,i){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function lZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dZ=(e,t,i,n)=>{var r="";return n.forEach((s,l)=>{var d=Rt(t,i,e,s);l?r+="L ".concat(d.x,",").concat(d.y):r+="M ".concat(d.x,",").concat(d.y)}),r+="Z",r},uZ=e=>{var{cx:t,cy:i,innerRadius:n,outerRadius:r,polarAngles:s,radialLines:l}=e;if(!s||!s.length||!l)return null;var d=Sm({stroke:"#ccc"},ni(e));return A.createElement("g",{className:"recharts-polar-grid-angle"},s.map(p=>{var u=Rt(t,i,n,p),g=Rt(t,i,r,p);return A.createElement("line",Pa({key:"line-".concat(p)},d,{x1:u.x,y1:u.y,x2:g.x,y2:g.y}))}))},jP=e=>{var{cx:t,cy:i,radius:n}=e,r=Sm({stroke:"#ccc",fill:"none"},ni(e));return A.createElement("circle",Pa({},r,{className:yt("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:i,r:n}))},KP=e=>{var{radius:t}=e,i=Sm({stroke:"#ccc",fill:"none"},ni(e));return A.createElement("path",Pa({},i,{className:yt("recharts-polar-grid-concentric-polygon",e.className),d:dZ(t,e.cx,e.cy,e.polarAngles)}))},pZ=e=>{var{polarRadius:t,gridType:i}=e;if(!t||!t.length)return null;var n=Math.max(...t),r=e.fill&&e.fill!=="none";return A.createElement("g",{className:"recharts-polar-grid-concentric"},r&&i==="circle"&&A.createElement(jP,Pa({},e,{radius:n})),r&&i!=="circle"&&A.createElement(KP,Pa({},e,{radius:n})),t.map((s,l)=>{var d=l;return i==="circle"?A.createElement(jP,Pa({key:d},e,{fill:"none",radius:s})):A.createElement(KP,Pa({key:d},e,{fill:"none",radius:s}))}))},fZ={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:Ni.grid},xp=e=>{var t,i,n,r,s,l,d,p,u=Mi(e,fZ),{gridType:g,radialLines:h,angleAxisId:y,radiusAxisId:v,cx:S,cy:k,innerRadius:C,outerRadius:T,polarAngles:N,polarRadius:E,zIndex:O}=u,P=rZ(u,aZ),I=We(Ic),D=We(pe=>tZ(pe,y)),B=We(pe=>nZ(pe,v)),V=Array.isArray(N)?N:D,U=Array.isArray(E)?E:B;if(V==null||U==null)return null;var W=Sm({cx:(t=(i=I==null?void 0:I.cx)!==null&&i!==void 0?i:S)!==null&&t!==void 0?t:0,cy:(n=(r=I==null?void 0:I.cy)!==null&&r!==void 0?r:k)!==null&&n!==void 0?n:0,innerRadius:(s=(l=I==null?void 0:I.innerRadius)!==null&&l!==void 0?l:C)!==null&&s!==void 0?s:0,outerRadius:(d=(p=I==null?void 0:I.outerRadius)!==null&&p!==void 0?p:T)!==null&&d!==void 0?d:0,polarAngles:V,polarRadius:U,zIndex:O},P),{outerRadius:q}=W;return q<=0?null:A.createElement(Zn,{zIndex:W.zIndex},A.createElement("g",{className:"recharts-polar-grid"},A.createElement(pZ,Pa({gridType:g,radialLines:h},W,{polarAngles:V,polarRadius:U})),A.createElement(uZ,Pa({gridType:g,radialLines:h},W,{polarAngles:V,polarRadius:U}))))};xp.displayName="PolarGrid";var Sb={},wb={},FP;function gZ(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,n){if(i.length===0)return;let r=i[0],s=n(r,0,i);for(let l=1;l<i.length;l++){const d=i[l],p=n(d,l,i);p>s&&(s=p,r=d)}return r}e.maxBy=t})(wb)),wb}var BP;function hZ(){return BP||(BP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gZ(),i=Kh(),n=gk();function r(s,l){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(l??i.identity))}e.maxBy=r})(Sb)),Sb}var Cb,UP;function mZ(){return UP||(UP=1,Cb=hZ().maxBy),Cb}var yZ=mZ();const _Z=Jn(yZ);var Tb={},Ab={},qP;function vZ(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i,n){if(i.length===0)return;let r=i[0],s=n(r,0,i);for(let l=1;l<i.length;l++){const d=i[l],p=n(d,l,i);p<s&&(s=p,r=d)}return r}e.minBy=t})(Ab)),Ab}var zP;function bZ(){return zP||(zP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vZ(),i=Kh(),n=gk();function r(s,l){if(s!=null)return t.minBy(Array.from(s),n.iteratee(l??i.identity))}e.minBy=r})(Tb)),Tb}var Eb,WP;function xZ(){return WP||(WP=1,Eb=bZ().minBy),Eb}var kZ=xZ();const SZ=Jn(kZ);var wZ={radiusAxis:{},angleAxis:{}},P3=Dn({name:"polarAxis",initialState:wZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:CZ,removeRadiusAxis:TZ,addAngleAxis:AZ,removeAngleAxis:EZ}=P3.actions,NZ=P3.reducer;function BS(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var MZ=["type"],PZ=["cx","cy","angle","axisLine"],IZ=["angle","tickFormatter","stroke","tick"];function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Uu.apply(null,arguments)}function VP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Ia(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(i),!0).forEach(function(n){OZ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):VP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function OZ(e,t,i){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function LZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function US(e,t){if(e==null)return{};var i,n,r=DZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function DZ(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var jZ="radiusAxis";function KZ(e){var t=$t(),i=B2(),n=A.useMemo(()=>{var{type:r}=e,s=US(e,MZ),l=Mc(i,"radiusAxis",r);if(l!=null)return Ia(Ia({},s),{},{type:l})},[e,i]);return A.useEffect(()=>n==null?Qr:(t(CZ(n)),()=>{t(TZ(n))}),[t,n]),null}var FZ=(e,t,i,n)=>{var{coordinate:r}=e;return Rt(i,n,r,t)},BZ=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},UZ=(e,t,i,n)=>{var r=_Z(n,l=>l.coordinate||0),s=SZ(n,l=>l.coordinate||0);return{cx:t,cy:i,startAngle:e,endAngle:e,innerRadius:(s==null?void 0:s.coordinate)||0,outerRadius:(r==null?void 0:r.coordinate)||0,clockWise:!1}},qZ=(e,t)=>{var{cx:i,cy:n,angle:r,axisLine:s}=e,l=US(e,PZ),d=t.reduce((h,y)=>[Math.min(h[0],y.coordinate),Math.max(h[1],y.coordinate)],[1/0,-1/0]),p=Rt(i,n,d[0],r),u=Rt(i,n,d[1],r),g=Ia(Ia(Ia({},ni(l)),{},{fill:"none"},ni(s)),{},{x1:p.x,y1:p.y,x2:u.x,y2:u.y});return A.createElement("line",Uu({className:"recharts-polar-radius-axis-line"},g))},zZ=(e,t,i)=>{var n;return A.isValidElement(e)?n=A.cloneElement(e,t):typeof e=="function"?n=e(t):n=A.createElement(bp,Uu({},t,{className:"recharts-polar-radius-axis-tick-value"}),i),n},WZ=(e,t)=>{var{angle:i,tickFormatter:n,stroke:r,tick:s}=e,l=US(e,IZ),d=BZ(e.orientation),p=ni(l),u=Cc(s),g=t.map((h,y)=>{var v=FZ(h,e.angle,e.cx,e.cy),S=Ia(Ia(Ia(Ia({textAnchor:d,transform:"rotate(".concat(90-i,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:r},u),{},{index:y},v),{},{payload:h});return A.createElement(Fi,Uu({className:yt("recharts-polar-radius-axis-tick",BS(s)),key:"tick-".concat(h.coordinate)},uk(e,h,y)),zZ(s,S,n?n(h.value,y):h.value))});return A.createElement(Fi,{className:"recharts-polar-radius-axis-ticks"},g)},VZ=e=>{var{radiusAxisId:t}=e,i=We(Ic),n=We(p=>Kc(p,"radiusAxis",t)),r=We(p=>Fc(p,"radiusAxis",t,!1));if(i==null||!r||!r.length||n==null)return null;var s=Ia(Ia({},e),{},{scale:n},i),{tick:l,axisLine:d}=s;return A.createElement(Zn,{zIndex:s.zIndex},A.createElement(Fi,{className:yt("recharts-polar-radius-axis",jZ,s.className)},d&&qZ(s,r),l&&WZ(s,r),A.createElement(xJ,UZ(s.angle,s.cx,s.cy,r),A.createElement(NJ,{label:s.label}),s.children)))};function kp(e){var t=Mi(e,Ta);return A.createElement(A.Fragment,null,A.createElement(KZ,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),A.createElement(VZ,t))}kp.displayName="PolarRadiusAxis";var HZ=["children","type"];function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zo.apply(null,arguments)}function HP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function fa(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(i),!0).forEach(function(n){GZ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):HP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function GZ(e,t,i){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $Z(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZ(e,t){if(e==null)return{};var i,n,r=XZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function XZ(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var GP=1e-5,JZ=Math.cos(Qg(45)),ZZ="angleAxis";function eee(e){var t=$t(),i=B2(),n=A.useMemo(()=>{var{children:l,type:d}=e,p=QZ(e,HZ),u=Mc(i,"angleAxis",d);if(u!=null)return fa(fa({},p),{},{type:u})},[e,i]),r=We(l=>Pc(l,n==null?void 0:n.id)),s=n===r;return A.useEffect(()=>n==null?Qr:(t(AZ(n)),()=>{t(EZ(n))}),[t,n]),s?e.children:null}var tee=(e,t)=>{var{cx:i,cy:n,radius:r,orientation:s,tickSize:l}=t,d=l||8,p=Rt(i,n,r,e.coordinate),u=Rt(i,n,r+(s==="inner"?-1:1)*d,e.coordinate);return{x1:p.x,y1:p.y,x2:u.x,y2:u.y}},iee=(e,t)=>{var i=Math.cos(Qg(-e.coordinate));return i>GP?t==="outer"?"start":"end":i<-GP?t==="outer"?"end":"start":"middle"},nee=e=>{var t=Math.cos(Qg(-e.coordinate)),i=Math.sin(Qg(-e.coordinate));return Math.abs(t)<=JZ?i>0?"start":"end":"middle"},aee=e=>{var{cx:t,cy:i,radius:n,axisLineType:r,axisLine:s,ticks:l}=e;if(!s)return null;var d=fa(fa({},ni(e)),{},{fill:"none"},ni(s));if(r==="circle")return A.createElement(jS,zo({className:"recharts-polar-angle-axis-line"},d,{cx:t,cy:i,r:n}));var p=l.map(u=>Rt(t,i,n,u.coordinate));return A.createElement(C3,zo({className:"recharts-polar-angle-axis-line"},d,{points:p}))},ree=e=>{var{tick:t,tickProps:i,value:n}=e;return t?A.isValidElement(t)?A.cloneElement(t,i):typeof t=="function"?t(i):A.createElement(bp,zo({},i,{className:"recharts-polar-angle-axis-tick-value"}),n):null},see=e=>{var{tick:t,tickLine:i,tickFormatter:n,stroke:r,ticks:s}=e,l=ni(e),d=Cc(t),p=fa(fa({},l),{},{fill:"none"},ni(i)),u=s.map((g,h)=>{var y=tee(g,e),v=iee(g,e.orientation),S=nee(g),k=fa(fa(fa({},l),{},{textAnchor:v,verticalAnchor:S,stroke:"none",fill:r},d),{},{index:h,payload:g,x:y.x2,y:y.y2});return A.createElement(Fi,zo({className:yt("recharts-polar-angle-axis-tick",BS(t)),key:"tick-".concat(g.coordinate)},uk(e,g,h)),i&&A.createElement("line",zo({className:"recharts-polar-angle-axis-tick-line"},p,y)),A.createElement(ree,{tick:t,tickProps:k,value:n?n(g.value,h):g.value}))});return A.createElement(Fi,{className:"recharts-polar-angle-axis-ticks"},u)},oee=e=>{var{angleAxisId:t}=e,i=We(Ic),n=We(d=>Kc(d,"angleAxis",t)),r=dn(),s=We(d=>ZJ(d,"angleAxis",t,r));if(i==null||!s||!s.length||n==null)return null;var l=fa(fa(fa({},e),{},{scale:n},i),{},{radius:i.outerRadius,ticks:s});return A.createElement(Zn,{zIndex:l.zIndex},A.createElement(Fi,{className:yt("recharts-polar-angle-axis",ZZ,l.className)},A.createElement(aee,l),A.createElement(see,l)))};function Sp(e){var t=Mi(e,Is);return A.createElement(eee,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},A.createElement(oee,t))}Sp.displayName="PolarAngleAxis";var I3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function O3(e){var{tooltipEntrySettings:t}=e,i=$t(),n=dn(),r=A.useRef(null);return A.useLayoutEffect(()=>{n||(r.current===null?i(TY(t)):r.current!==t&&i(AY({prev:r.current,next:t})),r.current=t)},[t,i,n]),A.useLayoutEffect(()=>()=>{r.current&&(i(EY(r.current)),r.current=null)},[i]),null}function lee(e){var{legendPayload:t}=e,i=$t(),n=dn(),r=A.useRef(null);return A.useLayoutEffect(()=>{n||(r.current===null?i($2(t)):r.current!==t&&i(Y2({prev:r.current,next:t})),r.current=t)},[i,n,t]),A.useLayoutEffect(()=>()=>{r.current&&(i(Q2(r.current)),r.current=null)},[i]),null}function cee(e){var{legendPayload:t}=e,i=$t(),n=We(Tt),r=A.useRef(null);return A.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(r.current===null?i($2(t)):r.current!==t&&i(Y2({prev:r.current,next:t})),r.current=t)},[i,n,t]),A.useLayoutEffect(()=>()=>{r.current&&(i(Q2(r.current)),r.current=null)},[i]),null}var Nb,dee=()=>{var[e]=A.useState(()=>Tu("uid-"));return e},uee=(Nb=VB.useId)!==null&&Nb!==void 0?Nb:dee;function pee(e,t){var i=uee();return t||(e?"".concat(e,"-").concat(i):i)}var fee=A.createContext(void 0),L3=e=>{var{id:t,type:i,children:n}=e,r=pee("recharts-".concat(i),t);return A.createElement(fee.Provider,{value:r},n(r))},gee={cartesianItems:[],polarItems:[]},R3=Dn({name:"graphicalItems",initialState:gee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Vt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:i,next:n}=t.payload,r=Oa(e).cartesianItems.indexOf(i);r>-1&&(e.cartesianItems[r]=n)},prepare:Vt()},removeCartesianGraphicalItem:{reducer(e,t){var i=Oa(e).cartesianItems.indexOf(t.payload);i>-1&&e.cartesianItems.splice(i,1)},prepare:Vt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Vt()},removePolarGraphicalItem:{reducer(e,t){var i=Oa(e).polarItems.indexOf(t.payload);i>-1&&e.polarItems.splice(i,1)},prepare:Vt()}}}),{addCartesianGraphicalItem:hee,replaceCartesianGraphicalItem:mee,removeCartesianGraphicalItem:yee,addPolarGraphicalItem:_ee,removePolarGraphicalItem:vee}=R3.actions,bee=R3.reducer,xee=e=>{var t=$t(),i=A.useRef(null);return A.useLayoutEffect(()=>{i.current===null?t(hee(e)):i.current!==e&&t(mee({prev:i.current,next:e})),i.current=e},[t,e]),A.useLayoutEffect(()=>()=>{i.current&&(t(yee(i.current)),i.current=null)},[t]),null},kee=A.memo(xee);function See(e){var t=$t();return A.useLayoutEffect(()=>(t(_ee(e)),()=>{t(vee(e))}),[t,e]),null}var wee=["points"];function $P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Mb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(i),!0).forEach(function(n){Cee(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$P(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Cee(e,t,i){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Tee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fh.apply(null,arguments)}function Eee(e,t){if(e==null)return{};var i,n,r=Nee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Nee(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function Mee(e){var{option:t,dotProps:i,className:n}=e;if(A.isValidElement(t))return A.cloneElement(t,i);if(typeof t=="function")return t(i);var r=yt(n,typeof t!="boolean"?t.className:""),s=i??{},{points:l}=s,d=Eee(s,wee);return A.createElement(jS,fh({},d,{className:r}))}function Pee(e,t){return e==null?!1:t?!0:e.length===1}function D3(e){var{points:t,dot:i,className:n,dotClassName:r,dataKey:s,baseProps:l,needClip:d,clipPathId:p,zIndex:u=Ni.scatter}=e;if(!Pee(t,i))return null;var g=I3(i),h=x6(i),y=t.map((S,k)=>{var C,T,N=Mb(Mb(Mb({r:3},l),h),{},{index:k,cx:(C=S.x)!==null&&C!==void 0?C:void 0,cy:(T=S.y)!==null&&T!==void 0?T:void 0,dataKey:s,value:S.value,payload:S.payload,points:t});return A.createElement(Mee,{key:"dot-".concat(k),option:i,dotProps:N,className:r})}),v={};return d&&p!=null&&(v.clipPath="url(#clipPath-".concat(g?"":"dots-").concat(p,")")),A.createElement(Zn,{zIndex:u},A.createElement(Fi,fh({className:n},v),y))}function YP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function QP(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(i),!0).forEach(function(n){Iee(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):YP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Iee(e,t,i){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Oee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j3=0,Ree={xAxis:{},yAxis:{},zAxis:{}},K3=Dn({name:"cartesianAxis",initialState:Ree,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Vt()},replaceXAxis:{reducer(e,t){var{prev:i,next:n}=t.payload;e.xAxis[i.id]!==void 0&&(i.id!==n.id&&delete e.xAxis[i.id],e.xAxis[n.id]=n)},prepare:Vt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Vt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Vt()},replaceYAxis:{reducer(e,t){var{prev:i,next:n}=t.payload;e.yAxis[i.id]!==void 0&&(i.id!==n.id&&delete e.yAxis[i.id],e.yAxis[n.id]=n)},prepare:Vt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Vt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Vt()},replaceZAxis:{reducer(e,t){var{prev:i,next:n}=t.payload;e.zAxis[i.id]!==void 0&&(i.id!==n.id&&delete e.zAxis[i.id],e.zAxis[n.id]=n)},prepare:Vt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Vt()},updateYAxisWidth(e,t){var{id:i,width:n}=t.payload,r=e.yAxis[i];if(r){var s,l=r.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==r.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[i]=QP(QP({},r),{},{width:n,widthHistory:d})}}}}),{addXAxis:Dee,replaceXAxis:jee,removeXAxis:Kee,addYAxis:Fee,replaceYAxis:Bee,removeYAxis:Uee,addZAxis:uke,replaceZAxis:pke,removeZAxis:fke,updateYAxisWidth:qee}=K3.actions,zee=K3.reducer,Wee=te([en],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Vee=te([Wee,Xr,Jr],(e,t,i)=>{if(!(!e||t==null||i==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,i-e.top-e.bottom)}}),qS=()=>We(Vee),Hee=()=>We(bQ);function XP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Pb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(i),!0).forEach(function(n){Gee(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):XP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Gee(e,t,i){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $ee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=e=>{var{point:t,childIndex:i,mainColor:n,activeDot:r,dataKey:s,clipPath:l}=e;if(r===!1||t.x==null||t.y==null)return null;var d={index:i,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},p=Pb(Pb(Pb({},d),Cc(r)),dk(r)),u;return A.isValidElement(r)?u=A.cloneElement(r,p):typeof r=="function"?u=r(p):u=A.createElement(jS,p),A.createElement(Fi,{className:"recharts-active-dot",clipPath:l},u)};function o0(e){var{points:t,mainColor:i,activeDot:n,itemDataKey:r,clipPath:s,zIndex:l=Ni.activeDot}=e,d=We(Fu),p=Hee();if(t==null||p==null)return null;var u=t.find(g=>p.includes(g.payload));return Bi(u)?null:A.createElement(Zn,{zIndex:l},A.createElement(Qee,{point:u,childIndex:Number(d),mainColor:i,dataKey:r,activeDot:n,clipPath:s}))}function JP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function gh(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(i),!0).forEach(function(n){Xee(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):JP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Xee(e,t,i){return(t=Jee(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Jee(e){var t=Zee(e,"string");return typeof t=="symbol"?t:t+""}function Zee(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F3=(e,t)=>Kc(e,"radiusAxis",t),ete=te([F3],e=>{if(e!=null)return{scale:e}}),tte=te([pp,F3],(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})}),ite=(e,t,i,n)=>Fc(e,"radiusAxis",t,n),B3=(e,t,i)=>Pc(e,i),U3=(e,t,i)=>Kc(e,"angleAxis",i),nte=te([B3,U3],(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})}),ate=(e,t,i,n)=>Fc(e,"angleAxis",i,n),rte=te([B3,U3,Ic],(e,t,i)=>{if(!(i==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:i.cx,cy:i.cy}}),ste=(e,t,i,n,r)=>r,ote=te([Tt,tte,ite,nte,ate],(e,t,i,n,r)=>Fa(e,"radiusAxis")?gc(t,i,!1):gc(n,r,!1)),lte=te([T3,ste],(e,t)=>{if(e!=null){var i=e.find(n=>n.type==="radar"&&t===n.id);return i==null?void 0:i.dataKey}}),cte=te([ete,rte,dm,lte,ote],(e,t,i,n,r)=>{var{chartData:s,dataStartIndex:l,dataEndIndex:d}=i;if(!(e==null||t==null||s==null||r==null||n==null)){var p=s.slice(l,d+1);return vte({radiusAxis:e,angleAxis:t,displayedData:p,dataKey:n,bandSize:r})}}),dte=["id"];function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qu.apply(null,arguments)}function ZP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function On(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(i),!0).forEach(function(n){ute(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ZP(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function ute(e,t,i){return(t=pte(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pte(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t){if(e==null)return{};var i,n,r=hte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function hte(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function zS(e,t){return e&&e!=="none"?e:t}var mte=e=>{var{dataKey:t,name:i,stroke:n,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:zS(n,r),value:Yh(i,t),payload:e}]},yte=A.memo(e=>{var{dataKey:t,stroke:i,strokeWidth:n,fill:r,name:s,hide:l,tooltipType:d,id:p}=e,u={dataDefinedOnItem:void 0,getPosition:Qr,settings:{stroke:i,strokeWidth:n,fill:r,nameKey:void 0,dataKey:t,name:Yh(s,t),hide:l,type:d,color:zS(i,r),unit:"",graphicalItemId:p}};return A.createElement(O3,{tooltipEntrySettings:u})});function _te(e){var{points:t,props:i}=e,{dot:n,dataKey:r}=i,{id:s}=i,l=gte(i,dte),d=ni(l);return A.createElement(D3,{points:t,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:r,baseProps:d})}function vte(e){var{radiusAxis:t,angleAxis:i,displayedData:n,dataKey:r,bandSize:s}=e,{cx:l,cy:d}=i,p=!1,u=[],g=i.type!=="number"?s??0:0;n.forEach((y,v)=>{var S,k,C=oi(y,i.dataKey,v),T=oi(y,r),N=((S=i.scale.map(C))!==null&&S!==void 0?S:0)+g,E=Array.isArray(T)?b3(T):T,O=Bi(E)?0:(k=t.scale.map(E))!==null&&k!==void 0?k:0;Array.isArray(T)&&T.length>=2&&(p=!0),u.push(On(On({},Rt(l,d,O,N)),{},{name:C,value:T,cx:l,cy:d,radius:O,angle:N,payload:y}))});var h=[];return p&&u.forEach(y=>{if(Array.isArray(y.value)){var v,S=y.value[0],k=Bi(S)?0:(v=t.scale.map(S))!==null&&v!==void 0?v:0;h.push(On(On({},y),{},{radius:k},Rt(l,d,k,y.angle)))}else h.push(y)}),{points:u,isRange:p,baseLinePoints:h}}function bte(e){var{showLabels:t,points:i,children:n}=e,r=i.map(s=>{var l,d={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return On(On({},d),{},{value:(l=s.value)!==null&&l!==void 0?l:"",payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return A.createElement(k3,{value:t?r:void 0},n)}function xte(e){var{points:t,baseLinePoints:i,props:n}=e;if(t==null)return null;var{shape:r,isRange:s,connectNulls:l}=n,d=g=>{var{onMouseEnter:h}=n;h&&h(n,g)},p=g=>{var{onMouseLeave:h}=n;h&&h(n,g)},u;return A.isValidElement(r)?u=A.cloneElement(r,On(On({},n),{},{points:t})):typeof r=="function"?u=r(On(On({},n),{},{points:t})):u=A.createElement(C3,qu({},Ji(n),{onMouseEnter:d,onMouseLeave:p,points:t,baseLinePoints:s?i:void 0,connectNulls:l})),A.createElement(Fi,{className:"recharts-radar-polygon"},u,A.createElement(_te,{props:n,points:t}))}var eI=(e,t,i)=>(n,r)=>{var s=e&&e[Math.floor(r*t)];return s?On(On({},n),{},{x:Mn(s.x,n.x,i),y:Mn(s.y,n.y,i)}):On(On({},n),{},{x:Mn(n.cx,n.x,i),y:Mn(n.cy,n.y,i)})};function kte(e){var{props:t,previousPointsRef:i,previousBaseLinePointsRef:n}=e,{points:r,baseLinePoints:s,isAnimationActive:l,animationBegin:d,animationDuration:p,animationEasing:u,onAnimationEnd:g,onAnimationStart:h}=t,y=i.current,v=n.current,S=y?y.length/r.length:1,k=v?v.length/s.length:1,C=Nk(t,"recharts-radar-"),[T,N]=A.useState(!1),E=!T,O=A.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),P=A.useCallback(()=>{typeof h=="function"&&h(),N(!0)},[h]);return A.createElement(bte,{showLabels:E,points:r},A.createElement(Ek,{animationId:C,begin:d,duration:p,isActive:l,easing:u,key:"radar-".concat(C),onAnimationEnd:O,onAnimationStart:P},I=>{var D=I===1?r:r.map(eI(y,S,I)),B=I===1?s:s==null?void 0:s.map(eI(v,k,I));return I>0&&(i.current=D,n.current=B),A.createElement(xte,{points:D,baseLinePoints:B,props:t})}),A.createElement(w3,{label:t.label}),t.children)}function Ste(e){var t=A.useRef(void 0),i=A.useRef(void 0);return A.createElement(kte,{props:e,previousPointsRef:t,previousBaseLinePointsRef:i})}var wte={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Ni.area};function Cte(e){var{hide:t,className:i,points:n}=e;if(t)return null;var r=yt("recharts-radar",i);return A.createElement(Zn,{zIndex:e.zIndex},A.createElement(Fi,{className:r},A.createElement(Ste,e)),A.createElement(o0,{points:n,mainColor:zS(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function Tte(e){var t=dn(),i=We(n=>cte(n,e.radiusAxisId,e.angleAxisId,t,e.id));return(i==null?void 0:i.points)==null?null:A.createElement(Cte,qu({},e,{points:i==null?void 0:i.points,baseLinePoints:i==null?void 0:i.baseLinePoints,isRange:i==null?void 0:i.isRange}))}function vc(e){var t=Mi(e,wte);return A.createElement(L3,{id:t.id,type:"radar"},i=>A.createElement(A.Fragment,null,A.createElement(See,{type:"radar",id:i,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),A.createElement(cee,{legendPayload:mte(t)}),A.createElement(yte,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:i}),A.createElement(Tte,qu({},t,{id:i}))))}vc.displayName="Radar";var q3=e=>{var{chartData:t}=e,i=$t(),n=dn();return A.useEffect(()=>n?()=>{}:(i(dP(t)),()=>{i(dP(void 0))}),[t,i,n]),null},tI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},z3=Dn({name:"brush",initialState:tI,reducers:{setBrushSettings(e,t){return t.payload==null?tI:t.payload}}}),{setBrushSettings:gke}=z3.actions,Ate=z3.reducer;function Ete(e){return(e%180+180)%180}var Nte=function(t){var{width:i,height:n}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ete(r),l=s*Math.PI/180,d=Math.atan(n/i),p=l>d&&l<Math.PI-d?n/Math.sin(l):i/Math.cos(l);return Math.abs(p)},Mte={dots:[],areas:[],lines:[]},W3=Dn({name:"referenceElements",initialState:Mte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var i=Oa(e).dots.findIndex(n=>n===t.payload);i!==-1&&e.dots.splice(i,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var i=Oa(e).areas.findIndex(n=>n===t.payload);i!==-1&&e.areas.splice(i,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var i=Oa(e).lines.findIndex(n=>n===t.payload);i!==-1&&e.lines.splice(i,1)}}}),{addDot:hke,removeDot:mke,addArea:yke,removeArea:_ke,addLine:vke,removeLine:bke}=W3.actions,Pte=W3.reducer,Ite=A.createContext(void 0),Ote=e=>{var{children:t}=e,[i]=A.useState("".concat(Tu("recharts"),"-clip")),n=qS();if(n==null)return null;var{x:r,y:s,width:l,height:d}=n;return A.createElement(Ite.Provider,{value:i},A.createElement("defs",null,A.createElement("clipPath",{id:i},A.createElement("rect",{x:r,y:s,height:d,width:l}))),t)};function V3(e,t){if(t<1)return[];if(t===1)return e;for(var i=[],n=0;n<e.length;n+=t){var r=e[n];r!==void 0&&i.push(r)}return i}function Lte(e,t,i){var n={width:e.width+t.width,height:e.height+t.height};return Nte(n,i)}function Rte(e,t,i){var n=i==="width",{x:r,y:s,width:l,height:d}=e;return t===1?{start:n?r:s,end:n?r+l:s+d}:{start:n?r+l:s+d,end:n?r:s}}function zu(e,t,i,n,r){if(e*t<e*n||e*t>e*r)return!1;var s=i();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-r)<=0}function Dte(e,t){return V3(e,t+1)}function jte(e,t,i,n,r){for(var s=(n||[]).slice(),{start:l,end:d}=t,p=0,u=1,g=l,h=function(){var S=n==null?void 0:n[p];if(S===void 0)return{v:V3(n,u)};var k=p,C,T=()=>(C===void 0&&(C=i(S,k)),C),N=S.coordinate,E=p===0||zu(e,N,T,g,d);E||(p=0,g=l,u+=1),E&&(g=N+e*(T()/2+r),p+=u)},y;u<=s.length;)if(y=h(),y)return y.v;return[]}function Kte(e,t,i,n,r){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:p}=t,u=1;u<=l;u++){for(var g=(l-1)%u,h=d,y=!0,v=function(){var O=n[k];if(O==null)return 0;var P=k,I,D=()=>(I===void 0&&(I=i(O,P)),I),B=O.coordinate,V=k===g||zu(e,B,D,h,p);if(!V)return y=!1,1;V&&(h=B+e*(D()/2+r))},S,k=g;k<l&&(S=v(),!(S!==0&&S===1));k+=u);if(y){for(var C=[],T=g;T<l;T+=u){var N=n[T];N!=null&&C.push(N)}return C}}return[]}function iI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function an(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(i),!0).forEach(function(n){Fte(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):iI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Fte(e,t,i){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Bte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qte(e,t,i,n,r){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:p}=t,u=function(y){var v=s[y];if(v==null)return 1;var S=v,k,C=()=>(k===void 0&&(k=i(v,y)),k);if(y===l-1){var T=e*(S.coordinate+e*C()/2-p);s[y]=S=an(an({},S),{},{tickCoord:T>0?S.coordinate-T*e:S.coordinate})}else s[y]=S=an(an({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var N=zu(e,S.tickCoord,C,d,p);N&&(p=S.tickCoord-e*(C()/2+r),s[y]=an(an({},S),{},{isShow:!0}))}},g=l-1;g>=0;g--)u(g);return s}function zte(e,t,i,n,r,s){var l=(n||[]).slice(),d=l.length,{start:p,end:u}=t;if(s){var g=n[d-1];if(g!=null){var h=i(g,d-1),y=e*(g.coordinate+e*h/2-u);if(l[d-1]=g=an(an({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate}),g.tickCoord!=null){var v=zu(e,g.tickCoord,()=>h,p,u);v&&(u=g.tickCoord-e*(h/2+r),l[d-1]=an(an({},g),{},{isShow:!0}))}}}for(var S=s?d-1:d,k=function(N){var E=l[N];if(E==null)return 1;var O=E,P,I=()=>(P===void 0&&(P=i(E,N)),P);if(N===0){var D=e*(O.coordinate-e*I()/2-p);l[N]=O=an(an({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else l[N]=O=an(an({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var B=zu(e,O.tickCoord,I,p,u);B&&(p=O.tickCoord+e*(I()/2+r),l[N]=an(an({},O),{},{isShow:!0}))}},C=0;C<S;C++)k(C);return l}function WS(e,t,i){var{tick:n,ticks:r,viewBox:s,minTickGap:l,orientation:d,interval:p,tickFormatter:u,unit:g,angle:h}=e;if(!r||!r.length||!n)return[];if($e(p)||sp.isSsr){var y;return(y=Dte(r,$e(p)?p:0))!==null&&y!==void 0?y:[]}var v=[],S=d==="top"||d==="bottom"?"width":"height",k=g&&S==="width"?hu(g,{fontSize:t,letterSpacing:i}):{width:0,height:0},C=(P,I)=>{var D=typeof u=="function"?u(P.value,I):P.value;return S==="width"?Lte(hu(D,{fontSize:t,letterSpacing:i}),k,h):hu(D,{fontSize:t,letterSpacing:i})[S]},T=r[0],N=r[1],E=r.length>=2&&T!=null&&N!=null?ga(N.coordinate-T.coordinate):1,O=Rte(s,E,S);return p==="equidistantPreserveStart"?jte(E,O,C,r,l):p==="equidistantPreserveEnd"?Kte(E,O,C,r,l):(p==="preserveStart"||p==="preserveStartEnd"?v=zte(E,O,C,r,l,p==="preserveStartEnd"):v=qte(E,O,C,r,l),v.filter(P=>P.isShow))}var Wte=e=>{var{ticks:t,label:i,labelGapWithTick:n=5,tickSize:r=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(g=>{if(g){var h=g.getBoundingClientRect();h.width>l&&(l=h.width)}});var d=i?i.getBoundingClientRect().width:0,p=r+s,u=l+p+d+(i?n:0);return Math.round(u)}return 0},Vte=["axisLine","width","height","className","hide","ticks","axisType"];function Hte(e,t){if(e==null)return{};var i,n,r=Gte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Gte(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wo.apply(null,arguments)}function nI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ti(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(i),!0).forEach(function(n){$te(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function $te(e,t,i){return(t=Yte(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Yte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ni.axis};function Xte(e){var{x:t,y:i,width:n,height:r,orientation:s,mirror:l,axisLine:d,otherSvgProps:p}=e;if(!d)return null;var u=ti(ti(ti({},p),ni(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var g=+(s==="top"&&!l||s==="bottom"&&l);u=ti(ti({},u),{},{x1:t,y1:i+g*r,x2:t+n,y2:i+g*r})}else{var h=+(s==="left"&&!l||s==="right"&&l);u=ti(ti({},u),{},{x1:t+h*n,y1:i,x2:t+h*n,y2:i+r})}return A.createElement("line",Wo({},u,{className:yt("recharts-cartesian-axis-line",jh(d,"className"))}))}function Jte(e,t,i,n,r,s,l,d,p){var u,g,h,y,v,S,k=d?-1:1,C=e.tickSize||l,T=$e(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=g=e.coordinate,y=i+ +!d*r,h=y-k*C,S=h-k*p,v=T;break;case"left":h=y=e.coordinate,g=t+ +!d*n,u=g-k*C,v=u-k*p,S=T;break;case"right":h=y=e.coordinate,g=t+ +d*n,u=g+k*C,v=u+k*p,S=T;break;default:u=g=e.coordinate,y=i+ +d*r,h=y+k*C,S=h+k*p,v=T;break}return{line:{x1:u,y1:h,x2:g,y2:y},tick:{x:v,y:S}}}function Zte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function eie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function tie(e){var{option:t,tickProps:i,value:n}=e,r,s=yt(i.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))r=A.cloneElement(t,ti(ti({},i),{},{className:s}));else if(typeof t=="function")r=t(ti(ti({},i),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=yt(l,BS(t))),r=A.createElement(bp,Wo({},i,{className:l}),n)}return r}var iie=A.forwardRef((e,t)=>{var{ticks:i=[],tick:n,tickLine:r,stroke:s,tickFormatter:l,unit:d,padding:p,tickTextProps:u,orientation:g,mirror:h,x:y,y:v,width:S,height:k,tickSize:C,tickMargin:T,fontSize:N,letterSpacing:E,getTicksConfig:O,events:P,axisType:I}=e,D=WS(ti(ti({},O),{},{ticks:i}),N,E),B=Zte(g,h),V=eie(g,h),U=ni(O),W=Cc(n),q={};typeof r=="object"&&(q=r);var pe=ti(ti({},U),{},{fill:"none"},q),X=D.map(z=>ti({entry:z},Jte(z,y,v,S,k,g,C,h,T))),se=X.map(z=>{var{entry:Q,line:de}=z;return A.createElement(Fi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},r&&A.createElement("line",Wo({},pe,de,{className:yt("recharts-cartesian-axis-tick-line",jh(r,"className"))})))}),K=X.map((z,Q)=>{var de,F,{entry:j,tick:Z}=z,R=ti(ti(ti(ti({verticalAnchor:V},U),{},{textAnchor:B,stroke:"none",fill:s},Z),{},{index:Q,payload:j,visibleTicksCount:D.length,tickFormatter:l,padding:p},u),{},{angle:(de=(F=u==null?void 0:u.angle)!==null&&F!==void 0?F:U.angle)!==null&&de!==void 0?de:0}),fe=ti(ti({},R),W);return A.createElement(Fi,Wo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},uk(P,j,Q)),n&&A.createElement(tie,{option:n,tickProps:fe,value:"".concat(typeof l=="function"?l(j.value,Q):j.value).concat(d||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},K.length>0&&A.createElement(Zn,{zIndex:Ni.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},K)),se.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},se))}),nie=A.forwardRef((e,t)=>{var{axisLine:i,width:n,height:r,className:s,hide:l,ticks:d,axisType:p}=e,u=Hte(e,Vte),[g,h]=A.useState(""),[y,v]=A.useState(""),S=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var C;return Wte({ticks:S.current,label:(C=e.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=A.useCallback(C=>{if(C){var T=C.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=T;var N=T[0];if(N){var E=window.getComputedStyle(N),O=E.fontSize,P=E.letterSpacing;(O!==g||P!==y)&&(h(O),v(P))}}},[g,y]);return l||n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(Zn,{zIndex:e.zIndex},A.createElement(Fi,{className:yt("recharts-cartesian-axis",s)},A.createElement(Xte,{x:e.x,y:e.y,width:n,height:r,orientation:e.orientation,mirror:e.mirror,axisLine:i,otherSvgProps:ni(e)}),A.createElement(iie,{ref:k,axisType:p,events:u,fontSize:g,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(bJ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(EJ,{label:e.label,labelRef:e.labelRef}),e.children)))}),VS=A.forwardRef((e,t)=>{var i=Mi(e,Kr);return A.createElement(nie,Wo({},i,{ref:t}))});VS.displayName="CartesianAxis";var aie=["x1","y1","x2","y2","key"],rie=["offset"],sie=["xAxisId","yAxisId"],oie=["xAxisId","yAxisId"];function aI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function rn(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(i),!0).forEach(function(n){lie(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):aI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function lie(e,t,i){return(t=cie(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function cie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mo.apply(null,arguments)}function hh(e,t){if(e==null)return{};var i,n,r=uie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function uie(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var pie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:i,x:n,y:r,width:s,height:l,ry:d}=e;return A.createElement("rect",{x:n,y:r,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function H3(e){var{option:t,lineItemProps:i}=e,n;if(A.isValidElement(t))n=A.cloneElement(t,i);else if(typeof t=="function")n=t(i);else{var r,{x1:s,y1:l,x2:d,y2:p,key:u}=i,g=hh(i,aie),h=(r=ni(g))!==null&&r!==void 0?r:{},{offset:y}=h,v=hh(h,rie);n=A.createElement("line",Mo({},v,{x1:s,y1:l,x2:d,y2:p,fill:"none",key:u}))}return n}function fie(e){var{x:t,width:i,horizontal:n=!0,horizontalPoints:r}=e;if(!n||!r||!r.length)return null;var{xAxisId:s,yAxisId:l}=e,d=hh(e,sie),p=r.map((u,g)=>{var h=rn(rn({},d),{},{x1:t,y1:u,x2:t+i,y2:u,key:"line-".concat(g),index:g});return A.createElement(H3,{key:"line-".concat(g),option:n,lineItemProps:h})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function gie(e){var{y:t,height:i,vertical:n=!0,verticalPoints:r}=e;if(!n||!r||!r.length)return null;var{xAxisId:s,yAxisId:l}=e,d=hh(e,oie),p=r.map((u,g)=>{var h=rn(rn({},d),{},{x1:u,y1:t,x2:u,y2:t+i,key:"line-".concat(g),index:g});return A.createElement(H3,{option:n,lineItemProps:h,key:"line-".concat(g)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function hie(e){var{horizontalFill:t,fillOpacity:i,x:n,y:r,width:s,height:l,horizontalPoints:d,horizontal:p=!0}=e;if(!p||!t||!t.length||d==null)return null;var u=d.map(h=>Math.round(h+r-r)).sort((h,y)=>h-y);r!==u[0]&&u.unshift(0);var g=u.map((h,y)=>{var v=u[y+1],S=v==null,k=S?r+l-h:v-h;if(k<=0)return null;var C=y%t.length;return A.createElement("rect",{key:"react-".concat(y),y:h,x:n,height:k,width:s,stroke:"none",fill:t[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function mie(e){var{vertical:t=!0,verticalFill:i,fillOpacity:n,x:r,y:s,width:l,height:d,verticalPoints:p}=e;if(!t||!i||!i.length)return null;var u=p.map(h=>Math.round(h+r-r)).sort((h,y)=>h-y);r!==u[0]&&u.unshift(0);var g=u.map((h,y)=>{var v=u[y+1],S=v==null,k=S?r+l-h:v-h;if(k<=0)return null;var C=y%i.length;return A.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:k,height:d,stroke:"none",fill:i[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var yie=(e,t)=>{var{xAxis:i,width:n,height:r,offset:s}=e;return M2(WS(rn(rn(rn({},Kr),i),{},{ticks:P2(i),viewBox:{x:0,y:0,width:n,height:r}})),s.left,s.left+s.width,t)},_ie=(e,t)=>{var{yAxis:i,width:n,height:r,offset:s}=e;return M2(WS(rn(rn(rn({},Kr),i),{},{ticks:P2(i),viewBox:{x:0,y:0,width:n,height:r}})),s.top,s.top+s.height,t)},vie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ni.grid};function G3(e){var t=K2(),i=F2(),n=j2(),r=rn(rn({},Mi(e,vie)),{},{x:$e(e.x)?e.x:n.left,y:$e(e.y)?e.y:n.top,width:$e(e.width)?e.width:n.width,height:$e(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:p,width:u,height:g,syncWithTicks:h,horizontalValues:y,verticalValues:v}=r,S=dn(),k=We(V=>JM(V,"xAxis",s,S)),C=We(V=>JM(V,"yAxis",l,S));if(!or(u)||!or(g)||!$e(d)||!$e(p))return null;var T=r.verticalCoordinatesGenerator||yie,N=r.horizontalCoordinatesGenerator||_ie,{horizontalPoints:E,verticalPoints:O}=r;if((!E||!E.length)&&typeof N=="function"){var P=y&&y.length,I=N({yAxis:C?rn(rn({},C),{},{ticks:P?y:C.ticks}):void 0,width:t??u,height:i??g,offset:n},P?!0:h);Ug(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(E=I)}if((!O||!O.length)&&typeof T=="function"){var D=v&&v.length,B=T({xAxis:k?rn(rn({},k),{},{ticks:D?v:k.ticks}):void 0,width:t??u,height:i??g,offset:n},D?!0:h);Ug(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(O=B)}return A.createElement(Zn,{zIndex:r.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(pie,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),A.createElement(hie,Mo({},r,{horizontalPoints:E})),A.createElement(mie,Mo({},r,{verticalPoints:O})),A.createElement(fie,Mo({},r,{offset:n,horizontalPoints:E,xAxis:k,yAxis:C})),A.createElement(gie,Mo({},r,{offset:n,verticalPoints:O,xAxis:k,yAxis:C}))))}G3.displayName="CartesianGrid";var bie={},$3=Dn({name:"errorBars",initialState:bie,reducers:{addErrorBar:(e,t)=>{var{itemId:i,errorBar:n}=t.payload;e[i]||(e[i]=[]),e[i].push(n)},replaceErrorBar:(e,t)=>{var{itemId:i,prev:n,next:r}=t.payload;e[i]&&(e[i]=e[i].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?r:s))},removeErrorBar:(e,t)=>{var{itemId:i,errorBar:n}=t.payload;e[i]&&(e[i]=e[i].filter(r=>r.dataKey!==n.dataKey||r.direction!==n.direction))}}}),{addErrorBar:xke,replaceErrorBar:kke,removeErrorBar:Ske}=$3.actions,xie=$3.reducer;function Y3(e,t){var i,n,r=We(u=>ts(u,e)),s=We(u=>is(u,t)),l=(i=r==null?void 0:r.allowDataOverflow)!==null&&i!==void 0?i:Ri.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Di.allowDataOverflow,p=l||d;return{needClip:p,needClipX:l,needClipY:d}}function kie(e){var{xAxisId:t,yAxisId:i,clipPathId:n}=e,r=qS(),{needClipX:s,needClipY:l,needClip:d}=Y3(t,i);if(!d||!r)return null;var{x:p,y:u,width:g,height:h}=r;return A.createElement("clipPath",{id:"clipPath-".concat(n)},A.createElement("rect",{x:s?p:p-g/2,y:l?u:u-h/2,width:s?g:g*2,height:l?h:h*2}))}function Sie(e){var t=Cc(e),i=3,n=2;if(t!=null){var{r,strokeWidth:s}=t,l=Number(r),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=i),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r:i,strokeWidth:n}}var Ib={exports:{}},Ob={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function wie(){if(rI)return Ob;rI=1;var e=xc();function t(p,u){return p===u&&(p!==0||1/p===1/u)||p!==p&&u!==u}var i=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,r=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Ob.useSyncExternalStoreWithSelector=function(p,u,g,h,y){var v=r(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=l(function(){function C(P){if(!T){if(T=!0,N=P,P=h(P),y!==void 0&&S.hasValue){var I=S.value;if(y(I,P))return E=I}return E=P}if(I=E,i(N,P))return I;var D=h(P);return y!==void 0&&y(I,D)?(N=P,I):(N=P,E=D)}var T=!1,N,E,O=g===void 0?null:g;return[function(){return C(u())},O===null?void 0:function(){return C(O())}]},[u,g,h,y]);var k=n(p,v[0],v[1]);return s(function(){S.hasValue=!0,S.value=k},[k]),d(k),k},Ob}var sI;function Cie(){return sI||(sI=1,Ib.exports=wie()),Ib.exports}Cie();function Tie(e){e()}function Aie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Tie(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let n=e;for(;n;)i.push(n),n=n.next;return i},subscribe(i){let n=!0;const r=t={callback:i,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!n||e===null||(n=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var oI={notify(){},get:()=>[]};function Eie(e,t){let i,n=oI,r=0,s=!1;function l(k){g();const C=n.subscribe(k);let T=!1;return()=>{T||(T=!0,C(),h())}}function d(){n.notify()}function p(){S.onStateChange&&S.onStateChange()}function u(){return s}function g(){r++,i||(i=e.subscribe(p),n=Aie())}function h(){r--,i&&r===0&&(i(),i=void 0,n.clear(),n=oI)}function y(){s||(s=!0,g())}function v(){s&&(s=!1,h())}const S={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:u,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return S}var Nie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mie=Nie(),Pie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Iie=Pie(),Oie=()=>Mie||Iie?A.useLayoutEffect:A.useEffect,Lie=Oie();function lI(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Rie(e,t){if(lI(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(t,i[r])||!lI(e[i[r]],t[i[r]]))return!1;return!0}var Lb=Symbol.for("react-redux-context"),Rb=typeof globalThis<"u"?globalThis:{};function Die(){if(!A.createContext)return{};const e=Rb[Lb]??(Rb[Lb]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var jie=Die();function Kie(e){const{children:t,context:i,serverState:n,store:r}=e,s=A.useMemo(()=>{const p=Eie(r);return{store:r,subscription:p,getServerState:n?()=>n:void 0}},[r,n]),l=A.useMemo(()=>r.getState(),[r]);Lie(()=>{const{subscription:p}=s;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),l!==r.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[s,l]);const d=i||jie;return A.createElement(d.Provider,{value:s},t)}var Fie=Kie,Bie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Uie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function HS(e,t){var i=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of i)if(Bie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Rie(e[n],t[n]))return!1}else if(!Uie(e[n],t[n]))return!1;return!0}function GS(e,t){var i,n;return(i=(n=e.graphicalItems.cartesianItems.find(r=>r.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&i!==void 0?i:j3}function $S(e,t){var i,n;return(i=(n=e.graphicalItems.cartesianItems.find(r=>r.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&i!==void 0?i:j3}var Q3=(e,t,i)=>Nj(e,"xAxis",GS(e,t),i),X3=(e,t,i)=>Ej(e,"xAxis",GS(e,t),i),J3=(e,t,i)=>Nj(e,"yAxis",$S(e,t),i),Z3=(e,t,i)=>Ej(e,"yAxis",$S(e,t),i),qie=te([Tt,Q3,J3,X3,Z3],(e,t,i,n,r)=>Fa(e,"xAxis")?gc(t,n,!1):gc(i,r,!1)),zie=(e,t)=>t,eK=te([sj,zie],(e,t)=>e.filter(i=>i.type==="area").find(i=>i.id===t)),tK=e=>{var t=Tt(e),i=Fa(t,"xAxis");return i?"yAxis":"xAxis"},Wie=(e,t)=>{var i=tK(e);return i==="yAxis"?$S(e,t):GS(e,t)},Vie=(e,t,i)=>uj(e,tK(e),Wie(e,t),i),Hie=te([eK,Vie],(e,t)=>{var i;if(!(e==null||t==null)){var{stackId:n}=e,r=rS(e);if(!(n==null||r==null)){var s=(i=t[n])===null||i===void 0?void 0:i.stackedData,l=s==null?void 0:s.find(d=>d.key===r);if(l!=null)return l.map(d=>[d[0],d[1]])}}}),Gie=te([Tt,Q3,J3,X3,Z3,Hie,r$,qie,eK,g$],(e,t,i,n,r,s,l,d,p,u)=>{var{chartData:g,dataStartIndex:h,dataEndIndex:y}=l;if(!(p==null||e!=="horizontal"&&e!=="vertical"||t==null||i==null||n==null||r==null||n.length===0||r.length===0||d==null)){var{data:v}=p,S;if(v&&v.length>0?S=v:S=g==null?void 0:g.slice(h,y+1),S!=null)return pne({layout:e,xAxis:t,yAxis:i,xAxisTicks:n,yAxisTicks:r,dataStartIndex:h,areaSettings:p,stackedData:s,displayedData:S,chartBaseValue:u,bandSize:d})}}),$ie=["id"],Yie=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ro.apply(null,arguments)}function iK(e,t){if(e==null)return{};var i,n,r=Qie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Qie(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function cI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Zl(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(i),!0).forEach(function(n){Xie(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):cI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Xie(e,t,i){return(t=Jie(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Jie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(e,t){return e&&e!=="none"?e:t}var ene=e=>{var{dataKey:t,name:i,stroke:n,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:mh(n,r),value:Yh(i,t),payload:e}]},tne=A.memo(e=>{var{dataKey:t,data:i,stroke:n,strokeWidth:r,fill:s,name:l,hide:d,unit:p,tooltipType:u,id:g}=e,h={dataDefinedOnItem:i,getPosition:Qr,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:Yh(l,t),hide:d,type:u,color:mh(n,s),unit:p,graphicalItemId:g}};return A.createElement(O3,{tooltipEntrySettings:h})});function ine(e){var{clipPathId:t,points:i,props:n}=e,{needClip:r,dot:s,dataKey:l}=n,d=ni(n);return A.createElement(D3,{points:i,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:d,needClip:r,clipPathId:t})}function nne(e){var{showLabels:t,children:i,points:n}=e,r=n.map(s=>{var l,d,p={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Zl(Zl({},p),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:p,fill:void 0})});return A.createElement(k3,{value:t?r:void 0},i)}function dI(e){var{points:t,baseLine:i,needClip:n,clipPathId:r,props:s}=e,{layout:l,type:d,stroke:p,connectNulls:u,isRange:g}=s,{id:h}=s,y=iK(s,$ie),v=ni(y),S=Ji(y);return A.createElement(A.Fragment,null,(t==null?void 0:t.length)>1&&A.createElement(Fi,{clipPath:n?"url(#clipPath-".concat(r,")"):void 0},A.createElement(_g,Ro({},S,{id:h,points:t,connectNulls:u,type:d,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),p!=="none"&&A.createElement(_g,Ro({},v,{className:"recharts-area-curve",layout:l,type:d,connectNulls:u,fill:"none",points:t})),p!=="none"&&g&&A.createElement(_g,Ro({},v,{className:"recharts-area-curve",layout:l,type:d,connectNulls:u,fill:"none",points:i}))),A.createElement(ine,{points:t,props:y,clipPathId:r}))}function ane(e){var t,i,{alpha:n,baseLine:r,points:s,strokeWidth:l}=e,d=(t=s[0])===null||t===void 0?void 0:t.y,p=(i=s[s.length-1])===null||i===void 0?void 0:i.y;if(!ht(d)||!ht(p))return null;var u=n*Math.abs(d-p),g=Math.max(...s.map(h=>h.x||0));return $e(r)?g=Math.max(r,g):r&&Array.isArray(r)&&r.length&&(g=Math.max(...r.map(h=>h.x||0),g)),$e(g)?A.createElement("rect",{x:0,y:d<p?d:d-u,width:g+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}function rne(e){var t,i,{alpha:n,baseLine:r,points:s,strokeWidth:l}=e,d=(t=s[0])===null||t===void 0?void 0:t.x,p=(i=s[s.length-1])===null||i===void 0?void 0:i.x;if(!ht(d)||!ht(p))return null;var u=n*Math.abs(d-p),g=Math.max(...s.map(h=>h.y||0));return $e(r)?g=Math.max(r,g):r&&Array.isArray(r)&&r.length&&(g=Math.max(...r.map(h=>h.y||0),g)),$e(g)?A.createElement("rect",{x:d<p?d:d-u,y:0,width:u,height:Math.floor(g+(l?parseInt("".concat(l),10):1))}):null}function sne(e){var{alpha:t,layout:i,points:n,baseLine:r,strokeWidth:s}=e;return i==="vertical"?A.createElement(ane,{alpha:t,points:n,baseLine:r,strokeWidth:s}):A.createElement(rne,{alpha:t,points:n,baseLine:r,strokeWidth:s})}function one(e){var{needClip:t,clipPathId:i,props:n,previousPointsRef:r,previousBaselineRef:s}=e,{points:l,baseLine:d,isAnimationActive:p,animationBegin:u,animationDuration:g,animationEasing:h,onAnimationStart:y,onAnimationEnd:v}=n,S=A.useMemo(()=>({points:l,baseLine:d}),[l,d]),k=Nk(S,"recharts-area-"),C=wk(),[T,N]=A.useState(!1),E=!T,O=A.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),P=A.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]);if(C==null)return null;var I=r.current,D=s.current;return A.createElement(nne,{showLabels:E,points:l},n.children,A.createElement(Ek,{animationId:k,begin:u,duration:g,isActive:p,easing:h,onAnimationEnd:O,onAnimationStart:P,key:k},B=>{if(I){var V=I.length/l.length,U=B===1?l:l.map((q,pe)=>{var X=Math.floor(pe*V);if(I[X]){var se=I[X];return Zl(Zl({},q),{},{x:Mn(se.x,q.x,B),y:Mn(se.y,q.y,B)})}return q}),W;return $e(d)?W=Mn(D,d,B):Bi(d)||rr(d)?W=Mn(D,0,B):W=d.map((q,pe)=>{var X=Math.floor(pe*V);if(Array.isArray(D)&&D[X]){var se=D[X];return Zl(Zl({},q),{},{x:Mn(se.x,q.x,B),y:Mn(se.y,q.y,B)})}return q}),B>0&&(r.current=U,s.current=W),A.createElement(dI,{points:U,baseLine:W,needClip:t,clipPathId:i,props:n})}return B>0&&(r.current=l,s.current=d),A.createElement(Fi,null,p&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(i)},A.createElement(sne,{alpha:B,points:l,baseLine:d,layout:C,strokeWidth:n.strokeWidth}))),A.createElement(Fi,{clipPath:"url(#animationClipPath-".concat(i,")")},A.createElement(dI,{points:l,baseLine:d,needClip:t,clipPathId:i,props:n})))}),A.createElement(w3,{label:n.label}))}function lne(e){var{needClip:t,clipPathId:i,props:n}=e,r=A.useRef(null),s=A.useRef();return A.createElement(one,{needClip:t,clipPathId:i,props:n,previousPointsRef:r,previousBaselineRef:s})}class cne extends A.PureComponent{render(){var{hide:t,dot:i,points:n,className:r,top:s,left:l,needClip:d,xAxisId:p,yAxisId:u,width:g,height:h,id:y,baseLine:v,zIndex:S}=this.props;if(t)return null;var k=yt("recharts-area",r),C=y,{r:T,strokeWidth:N}=Sie(i),E=I3(i),O=T*2+N,P=d?"url(#clipPath-".concat(E?"":"dots-").concat(C,")"):void 0;return A.createElement(Zn,{zIndex:S},A.createElement(Fi,{className:k},d&&A.createElement("defs",null,A.createElement(kie,{clipPathId:C,xAxisId:p,yAxisId:u}),!E&&A.createElement("clipPath",{id:"clipPath-dots-".concat(C)},A.createElement("rect",{x:l-O/2,y:s-O/2,width:g+O,height:h+O}))),A.createElement(lne,{needClip:d,clipPathId:C,props:this.props})),A.createElement(o0,{points:n,mainColor:mh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(v)&&A.createElement(o0,{points:v,mainColor:mh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var nK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ni.area};function dne(e){var t,i=Mi(e,nK),{activeDot:n,animationBegin:r,animationDuration:s,animationEasing:l,connectNulls:d,dot:p,fill:u,fillOpacity:g,hide:h,isAnimationActive:y,legendType:v,stroke:S,xAxisId:k,yAxisId:C}=i,T=iK(i,Yie),N=Tc(),E=Xj(),{needClip:O}=Y3(k,C),P=dn(),{points:I,isRange:D,baseLine:B}=(t=We(X=>Gie(X,e.id,P)))!==null&&t!==void 0?t:{},V=qS();if(N!=="horizontal"&&N!=="vertical"||V==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:U,width:W,x:q,y:pe}=V;return!I||!I.length?null:A.createElement(cne,Ro({},T,{activeDot:n,animationBegin:r,animationDuration:s,animationEasing:l,baseLine:B,connectNulls:d,dot:p,fill:u,fillOpacity:g,height:U,hide:h,layout:N,isAnimationActive:y==="auto"?!sp.isSsr:y,isRange:D,legendType:v,needClip:O,points:I,stroke:S,width:W,left:q,top:pe,xAxisId:k,yAxisId:C}))}var une=(e,t,i,n,r)=>{var s=i??t;if($e(s))return s;var l=e==="horizontal"?r:n,d=l.scale.domain();if(l.type==="number"){var p=Math.max(d[0],d[1]),u=Math.min(d[0],d[1]);return s==="dataMin"?u:s==="dataMax"||p<0?p:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function pne(e){var{areaSettings:{connectNulls:t,baseValue:i,dataKey:n},stackedData:r,layout:s,chartBaseValue:l,xAxis:d,yAxis:p,displayedData:u,dataStartIndex:g,xAxisTicks:h,yAxisTicks:y,bandSize:v}=e,S=r&&r.length,k=une(s,l,i,d,p),C=s==="horizontal",T=!1,N=u.map((O,P)=>{var I,D,B,V;if(S)V=r[g+P];else{var U=oi(O,n);Array.isArray(U)?(V=U,T=!0):V=[k,U]}var W=(I=(D=V)===null||D===void 0?void 0:D[1])!==null&&I!==void 0?I:null,q=W==null||S&&!t&&oi(O,n)==null;if(C){var pe;return{x:ZE({axis:d,ticks:h,bandSize:v,entry:O,index:P}),y:q?null:(pe=p.scale.map(W))!==null&&pe!==void 0?pe:null,value:V,payload:O}}return{x:q?null:(B=d.scale.map(W))!==null&&B!==void 0?B:null,y:ZE({axis:p,ticks:y,bandSize:v,entry:O,index:P}),value:V,payload:O}}),E;return S||T?E=N.map(O=>{var P,I=Array.isArray(O.value)?O.value[0]:null;if(C){var D;return{x:O.x,y:I!=null&&O.y!=null&&(D=p.scale.map(I))!==null&&D!==void 0?D:null,payload:O.payload}}return{x:I!=null&&(P=d.scale.map(I))!==null&&P!==void 0?P:null,y:O.y,payload:O.payload}}):E=C?p.scale.map(k):d.scale.map(k),{points:N,baseLine:E??0,isRange:T}}function fne(e){var t=Mi(e,nK),i=dn();return A.createElement(L3,{id:t.id,type:"area"},n=>A.createElement(A.Fragment,null,A.createElement(lee,{legendPayload:ene(t)}),A.createElement(tne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),A.createElement(kee,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:c9(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:i,connectNulls:t.connectNulls}),A.createElement(dne,Ro({},t,{id:n}))))}var aK=A.memo(fne,HS);aK.displayName="Area";var gne=["domain","range"],hne=["domain","range"];function uI(e,t){if(e==null)return{};var i,n,r=mne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function mne(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function pI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function rK(e,t){if(e===t)return!0;var{domain:i,range:n}=e,r=uI(e,gne),{domain:s,range:l}=t,d=uI(t,hne);return!pI(i,s)||!pI(n,l)?!1:HS(r,d)}var yne=["type"],_ne=["dangerouslySetInnerHTML","ticks","scale"],vne=["id","scale"];function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l0.apply(null,arguments)}function fI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function gI(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(i),!0).forEach(function(n){bne(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function bne(e,t,i){return(t=xne(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c0(e,t){if(e==null)return{};var i,n,r=Sne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Sne(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function wne(e){var t=$t(),i=A.useRef(null),n=wk(),{type:r}=e,s=c0(e,yne),l=Mc(n,"xAxis",r),d=A.useMemo(()=>{if(l!=null)return gI(gI({},s),{},{type:l})},[s,l]);return A.useLayoutEffect(()=>{d!=null&&(i.current===null?t(Dee(d)):i.current!==d&&t(jee({prev:i.current,next:d})),i.current=d)},[d,t]),A.useLayoutEffect(()=>()=>{i.current&&(t(Kee(i.current)),i.current=null)},[t]),null}var Cne=e=>{var{xAxisId:t,className:i}=e,n=We(O2),r=dn(),s="xAxis",l=We(T=>Tj(T,s,t,r)),d=We(T=>uY(T,t)),p=We(T=>yY(T,t)),u=We(T=>nj(T,t));if(d==null||p==null||u==null)return null;var{dangerouslySetInnerHTML:g,ticks:h,scale:y}=e,v=c0(e,_ne),{id:S,scale:k}=u,C=c0(u,vne);return A.createElement(VS,l0({},v,C,{x:p.x,y:p.y,width:d.width,height:d.height,className:yt("recharts-".concat(s," ").concat(s),i),viewBox:n,ticks:l,axisType:s}))},Tne={allowDataOverflow:Ri.allowDataOverflow,allowDecimals:Ri.allowDecimals,allowDuplicatedCategory:Ri.allowDuplicatedCategory,angle:Ri.angle,axisLine:Kr.axisLine,height:Ri.height,hide:!1,includeHidden:Ri.includeHidden,interval:Ri.interval,label:!1,minTickGap:Ri.minTickGap,mirror:Ri.mirror,orientation:Ri.orientation,padding:Ri.padding,reversed:Ri.reversed,scale:Ri.scale,tick:Ri.tick,tickCount:Ri.tickCount,tickLine:Kr.tickLine,tickSize:Kr.tickSize,type:Ri.type,xAxisId:0},Ane=e=>{var t=Mi(e,Tne);return A.createElement(A.Fragment,null,A.createElement(wne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(Cne,t))},sK=A.memo(Ane,rK);sK.displayName="XAxis";var Ene=["type"],Nne=["dangerouslySetInnerHTML","ticks","scale"],Mne=["id","scale"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d0.apply(null,arguments)}function hI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function mI(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(i),!0).forEach(function(n){Pne(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Pne(e,t,i){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ine(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0(e,t){if(e==null)return{};var i,n,r=Lne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Lne(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function Rne(e){var t=$t(),i=A.useRef(null),n=wk(),{type:r}=e,s=u0(e,Ene),l=Mc(n,"yAxis",r),d=A.useMemo(()=>{if(l!=null)return mI(mI({},s),{},{type:l})},[l,s]);return A.useLayoutEffect(()=>{d!=null&&(i.current===null?t(Fee(d)):i.current!==d&&t(Bee({prev:i.current,next:d})),i.current=d)},[d,t]),A.useLayoutEffect(()=>()=>{i.current&&(t(Uee(i.current)),i.current=null)},[t]),null}function Dne(e){var{yAxisId:t,className:i,width:n,label:r}=e,s=A.useRef(null),l=A.useRef(null),d=We(O2),p=dn(),u=$t(),g="yAxis",h=We(I=>bY(I,t)),y=We(I=>vY(I,t)),v=We(I=>Tj(I,g,t,p)),S=We(I=>aj(I,t));if(A.useLayoutEffect(()=>{if(!(n!=="auto"||!h||DS(r)||A.isValidElement(r)||S==null)){var I=s.current;if(I){var D=I.getCalculatedWidth();Math.round(h.width)!==Math.round(D)&&u(qee({id:t,width:D}))}}},[v,h,u,r,t,n,S]),h==null||y==null||S==null)return null;var{dangerouslySetInnerHTML:k,ticks:C,scale:T}=e,N=u0(e,Nne),{id:E,scale:O}=S,P=u0(S,Mne);return A.createElement(VS,d0({},N,P,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:yt("recharts-".concat(g," ").concat(g),i),viewBox:d,ticks:v,axisType:g}))}var jne={allowDataOverflow:Di.allowDataOverflow,allowDecimals:Di.allowDecimals,allowDuplicatedCategory:Di.allowDuplicatedCategory,angle:Di.angle,axisLine:Kr.axisLine,hide:!1,includeHidden:Di.includeHidden,interval:Di.interval,label:!1,minTickGap:Di.minTickGap,mirror:Di.mirror,orientation:Di.orientation,padding:Di.padding,reversed:Di.reversed,scale:Di.scale,tick:Di.tick,tickCount:Di.tickCount,tickLine:Kr.tickLine,tickSize:Kr.tickSize,type:Di.type,width:Di.width,yAxisId:0},Kne=e=>{var t=Mi(e,jne);return A.createElement(A.Fragment,null,A.createElement(Rne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(Dne,t))},oK=A.memo(Kne,rK);oK.displayName="YAxis";var Fne=(e,t)=>t,YS=te([Fne,Tt,Ic,qi,Vj,ns,IQ,en],FQ),QS=e=>{var t=e.currentTarget.getBoundingClientRect(),i=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/i),chartY:Math.round((e.clientY-t.top)/n)}},lK=_a("mouseClick"),cK=tp();cK.startListening({actionCreator:lK,effect:(e,t)=>{var i=e.payload,n=YS(t.getState(),QS(i));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(PY({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var p0=_a("mouseMove"),dK=tp(),tg=null;dK.startListening({actionCreator:p0,effect:(e,t)=>{var i=e.payload;tg!==null&&cancelAnimationFrame(tg);var n=QS(i);tg=requestAnimationFrame(()=>{var r=t.getState(),s=TS(r,r.tooltip.settings.shared);if(s==="axis"){var l=YS(r,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(Dj({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(Rj())}tg=null})}});function Bne(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var yI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},uK=Dn({name:"rootProps",initialState:yI,reducers:{updateOptions:(e,t)=>{var i;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(i=t.payload.barGap)!==null&&i!==void 0?i:yI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Une=uK.reducer,{updateOptions:qne}=uK.actions,zne=null,Wne={updatePolarOptions:(e,t)=>t.payload},pK=Dn({name:"polarOptions",initialState:zne,reducers:Wne}),{updatePolarOptions:Vne}=pK.actions,Hne=pK.reducer,fK=_a("keyDown"),gK=_a("focus"),XS=tp();XS.startListening({actionCreator:fK,effect:(e,t)=>{var i=t.getState(),n=i.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:r}=i.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=AS(r,jc(i),hp(i),_p(i)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var p=ns(i);if(s==="Enter"){var u=uh(i,"axis","hover",String(r.index));t.dispatch(i0({active:!r.active,activeIndex:r.index,activeCoordinate:u}));return}var g=kY(i),h=g==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=d+y*h;if(!(p==null||v>=p.length||v<0)){var S=uh(i,"axis","hover",String(v));t.dispatch(i0({active:!0,activeIndex:v.toString(),activeCoordinate:S}))}}}}}});XS.startListening({actionCreator:gK,effect:(e,t)=>{var i=t.getState(),n=i.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:r}=i.tooltip;if(!r.active&&r.index==null){var s="0",l=uh(i,"axis","hover",String(s));t.dispatch(i0({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var ua=_a("externalEvent"),hK=tp(),Db=new Map;hK.startListening({actionCreator:ua,effect:(e,t)=>{var{handler:i,reactEvent:n}=e.payload;if(i!=null){n.persist();var r=n.type,s=Db.get(r);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),p={activeCoordinate:yQ(d),activeDataKey:hQ(d),activeIndex:Fu(d),activeLabel:$j(d),activeTooltipIndex:Fu(d),isTooltipActive:_Q(d)};i(p,n)}finally{Db.delete(r)}});Db.set(r,l)}}});var Gne=te([Rc],e=>e.tooltipItemPayloads),$ne=te([Gne,(e,t)=>t,(e,t,i)=>i],(e,t,i)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===i);if(n!=null){var{getPosition:r}=n;if(r!=null)return r(t)}}}),mK=_a("touchMove"),yK=tp();yK.startListening({actionCreator:mK,effect:(e,t)=>{var i=e.payload;if(!(i.touches==null||i.touches.length===0)){var n=t.getState(),r=TS(n,n.tooltip.settings.shared);if(r==="axis"){var s=i.touches[0];if(s==null)return;var l=YS(n,QS({clientX:s.clientX,clientY:s.clientY,currentTarget:i.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(Dj({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var d,p=i.touches[0];if(document.elementFromPoint==null||p==null)return;var u=document.elementFromPoint(p.clientX,p.clientY);if(!u||!u.getAttribute)return;var g=u.getAttribute(m9),h=(d=u.getAttribute(y9))!==null&&d!==void 0?d:void 0,y=Dc(n).find(k=>k.id===h);if(g==null||y==null||h==null)return;var{dataKey:v}=y,S=$ne(n,g,h);t.dispatch(MY({activeDataKey:v,activeIndex:g,activeCoordinate:S,activeGraphicalItemId:h}))}}}});var Yne=t2({brush:Ate,cartesianAxis:zee,chartData:mX,errorBars:xie,graphicalItems:bee,layout:e9,legend:r8,options:uX,polarAxis:NZ,polarOptions:Hne,referenceElements:Pte,rootProps:Une,tooltip:IY,zIndex:ZQ}),Qne=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return C7({reducer:Yne,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([cK.middleware,dK.middleware,XS.middleware,hK.middleware,yK.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(m2({type:"raf"}))},devTools:{serialize:{replacer:Bne},name:"recharts-".concat(i)}})};function _K(e){var{preloadedState:t,children:i,reduxStoreName:n}=e,r=dn(),s=A.useRef(null);if(r)return i;s.current==null&&(s.current=Qne(t,n));var l=hk;return A.createElement(Fie,{context:l,store:s.current},i)}function Xne(e){var{layout:t,margin:i}=e,n=$t(),r=dn();return A.useEffect(()=>{r||(n(X7(t)),n(Q7(i)))},[n,r,t,i]),null}var vK=A.memo(Xne,HS);function bK(e){var t=$t();return A.useEffect(()=>{t(qne(e))},[t,e]),null}function _I(e){var{zIndex:t,isPanorama:i}=e,n=A.useRef(null),r=$t();return A.useLayoutEffect(()=>(n.current&&r(XQ({zIndex:t,element:n.current,isPanorama:i})),()=>{r(JQ({zIndex:t,isPanorama:i}))}),[r,t,i]),A.createElement("g",{tabIndex:-1,ref:n})}function vI(e){var{children:t,isPanorama:i}=e,n=We(UQ);if(!n||n.length===0)return t;var r=n.filter(l=>l<0),s=n.filter(l=>l>0);return A.createElement(A.Fragment,null,r.map(l=>A.createElement(_I,{key:l,zIndex:l,isPanorama:i})),t,s.map(l=>A.createElement(_I,{key:l,zIndex:l,isPanorama:i})))}var Jne=["children"];function Zne(e,t){if(e==null)return{};var i,n,r=eae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function eae(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yh.apply(null,arguments)}var tae={width:"100%",height:"100%",display:"block"},iae=A.forwardRef((e,t)=>{var i=K2(),n=F2(),r=X2();if(!or(i)||!or(n))return null;var{children:s,otherAttributes:l,title:d,desc:p}=e,u,g;return l!=null&&(typeof l.tabIndex=="number"?u=l.tabIndex:u=r?0:void 0,typeof l.role=="string"?g=l.role:g=r?"application":void 0),A.createElement(SR,yh({},l,{title:d,desc:p,role:g,tabIndex:u,width:i,height:n,style:tae,ref:t}),s)}),nae=e=>{var{children:t}=e,i=We(Zh);if(!i)return null;var{width:n,height:r,y:s,x:l}=i;return A.createElement(SR,{width:n,height:r,x:l,y:s},t)},bI=A.forwardRef((e,t)=>{var{children:i}=e,n=Zne(e,Jne),r=dn();return r?A.createElement(nae,null,A.createElement(vI,{isPanorama:!0},i)):A.createElement(iae,yh({ref:t},n),A.createElement(vI,{isPanorama:!1},i))});function aae(){var e=$t(),[t,i]=A.useState(null),n=We(h9);return A.useEffect(()=>{if(t!=null){var r=t.getBoundingClientRect(),s=r.width/t.offsetWidth;ht(s)&&s!==n&&e(Z7(s))}},[t,e,n]),i}function xI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function rae(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(i),!0).forEach(function(n){sae(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function sae(e,t,i){return(t=oae(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bs.apply(null,arguments)}var cae=()=>(CX(),null);function _h(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var dae=A.forwardRef((e,t)=>{var i,n,r=A.useRef(null),[s,l]=A.useState({containerWidth:_h((i=e.style)===null||i===void 0?void 0:i.width),containerHeight:_h((n=e.style)===null||n===void 0?void 0:n.height)}),d=A.useCallback((u,g)=>{l(h=>{var y=Math.round(u),v=Math.round(g);return h.containerWidth===y&&h.containerHeight===v?h:{containerWidth:y,containerHeight:v}})},[]),p=A.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:g,height:h}=u.getBoundingClientRect();d(g,h);var y=S=>{var k=S[0];if(k!=null){var{width:C,height:T}=k.contentRect;d(C,T)}},v=new ResizeObserver(y);v.observe(u),r.current=v}},[t,d]);return A.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[d]),A.createElement(A.Fragment,null,A.createElement(ap,{width:s.containerWidth,height:s.containerHeight}),A.createElement("div",Bs({ref:p},e)))}),uae=A.forwardRef((e,t)=>{var{width:i,height:n}=e,[r,s]=A.useState({containerWidth:_h(i),containerHeight:_h(n)}),l=A.useCallback((p,u)=>{s(g=>{var h=Math.round(p),y=Math.round(u);return g.containerWidth===h&&g.containerHeight===y?g:{containerWidth:h,containerHeight:y}})},[]),d=A.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:u,height:g}=p.getBoundingClientRect();l(u,g)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(ap,{width:r.containerWidth,height:r.containerHeight}),A.createElement("div",Bs({ref:d},e)))}),pae=A.forwardRef((e,t)=>{var{width:i,height:n}=e;return A.createElement(A.Fragment,null,A.createElement(ap,{width:i,height:n}),A.createElement("div",Bs({ref:t},e)))}),fae=A.forwardRef((e,t)=>{var{width:i,height:n}=e;return typeof i=="string"||typeof n=="string"?A.createElement(uae,Bs({},e,{ref:t})):typeof i=="number"&&typeof n=="number"?A.createElement(pae,Bs({},e,{width:i,height:n,ref:t})):A.createElement(A.Fragment,null,A.createElement(ap,{width:i,height:n}),A.createElement("div",Bs({ref:t},e)))});function gae(e){return e?dae:fae}var hae=A.forwardRef((e,t)=>{var{children:i,className:n,height:r,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:p,onMouseEnter:u,onMouseLeave:g,onMouseMove:h,onMouseUp:y,onTouchEnd:v,onTouchMove:S,onTouchStart:k,style:C,width:T,responsive:N,dispatchTouchEvents:E=!0}=e,O=A.useRef(null),P=$t(),[I,D]=A.useState(null),[B,V]=A.useState(null),U=aae(),W=kk(),q=(W==null?void 0:W.width)>0?W.width:T,pe=(W==null?void 0:W.height)>0?W.height:r,X=A.useCallback($=>{U($),typeof t=="function"&&t($),D($),V($),$!=null&&(O.current=$)},[U,t,D,V]),se=A.useCallback($=>{P(lK($)),P(ua({handler:s,reactEvent:$}))},[P,s]),K=A.useCallback($=>{P(p0($)),P(ua({handler:u,reactEvent:$}))},[P,u]),z=A.useCallback($=>{P(Rj()),P(ua({handler:g,reactEvent:$}))},[P,g]),Q=A.useCallback($=>{P(p0($)),P(ua({handler:h,reactEvent:$}))},[P,h]),de=A.useCallback(()=>{P(gK())},[P]),F=A.useCallback($=>{P(fK($.key))},[P]),j=A.useCallback($=>{P(ua({handler:l,reactEvent:$}))},[P,l]),Z=A.useCallback($=>{P(ua({handler:d,reactEvent:$}))},[P,d]),R=A.useCallback($=>{P(ua({handler:p,reactEvent:$}))},[P,p]),fe=A.useCallback($=>{P(ua({handler:y,reactEvent:$}))},[P,y]),je=A.useCallback($=>{P(ua({handler:k,reactEvent:$}))},[P,k]),le=A.useCallback($=>{E&&P(mK($)),P(ua({handler:S,reactEvent:$}))},[P,E,S]),ae=A.useCallback($=>{P(ua({handler:v,reactEvent:$}))},[P,v]),ee=gae(N);return A.createElement(i3.Provider,{value:I},A.createElement(E6.Provider,{value:B},A.createElement(ee,{width:q??(C==null?void 0:C.width),height:pe??(C==null?void 0:C.height),className:yt("recharts-wrapper",n),style:rae({position:"relative",cursor:"default",width:q,height:pe},C),onClick:se,onContextMenu:j,onDoubleClick:Z,onFocus:de,onKeyDown:F,onMouseDown:R,onMouseEnter:K,onMouseLeave:z,onMouseMove:Q,onMouseUp:fe,onTouchEnd:ae,onTouchMove:le,onTouchStart:je,ref:X},A.createElement(cae,null),i)))}),mae=["width","height","responsive","children","className","style","compact","title","desc"];function yae(e,t){if(e==null)return{};var i,n,r=_ae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function _ae(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var xK=A.forwardRef((e,t)=>{var{width:i,height:n,responsive:r,children:s,className:l,style:d,compact:p,title:u,desc:g}=e,h=yae(e,mae),y=ni(h);return p?A.createElement(A.Fragment,null,A.createElement(ap,{width:i,height:n}),A.createElement(bI,{otherAttributes:y,title:u,desc:g},s)):A.createElement(hae,{className:l,style:d,width:i,height:n,responsive:r??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(bI,{otherAttributes:y,title:u,desc:g,ref:t},A.createElement(Ote,null,s)))});function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f0.apply(null,arguments)}var vae={top:5,right:5,bottom:5,left:5},bae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},xae=A.forwardRef(function(t,i){var n,r=Mi(t.categoricalChartProps,bae),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:u}=t,g={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return A.createElement(_K,{preloadedState:{options:g},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},A.createElement(q3,{chartData:u.data}),A.createElement(vK,{layout:r.layout,margin:r.margin}),A.createElement(bK,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),A.createElement(xK,f0({},r,{ref:i})))});function kae(e){var t=$t();return A.useEffect(()=>{t(Vne(e))},[t,e]),null}var Sae=["layout"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},g0.apply(null,arguments)}function wae(e,t){if(e==null)return{};var i,n,r=Cae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Cae(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var Tae={top:5,right:5,bottom:5,left:5},kK={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Tae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Aae=A.forwardRef(function(t,i){var n,r=Mi(t.categoricalChartProps,kK),{layout:s}=r,l=wae(r,Sae),{chartName:d,defaultTooltipEventType:p,validateTooltipEventTypes:u,tooltipPayloadSearcher:g}=t,h={chartName:d,defaultTooltipEventType:p,validateTooltipEventTypes:u,tooltipPayloadSearcher:g,eventEmitter:void 0};return A.createElement(_K,{preloadedState:{options:h},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:d},A.createElement(q3,{chartData:r.data}),A.createElement(vK,{layout:s,margin:r.margin}),A.createElement(bK,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),A.createElement(kae,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),A.createElement(xK,g0({},l,{ref:i})))});function kI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function SI(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(i),!0).forEach(function(n){Eae(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):kI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Eae(e,t,i){return(t=Nae(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Nae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pae=["axis"],Iae=SI(SI({},kK),{},{layout:"centric",startAngle:90,endAngle:-270}),wm=A.forwardRef((e,t)=>{var i=Mi(e,Iae);return A.createElement(Aae,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pae,tooltipPayloadSearcher:n3,categoricalChartProps:i,ref:t})}),Oae=["axis"],Lae=A.forwardRef((e,t)=>A.createElement(xae,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oae,tooltipPayloadSearcher:n3,categoricalChartProps:e,ref:t})),Rae={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dae,jae;function Kae(){return{geminiUrl:Dae,vertexUrl:jae}}function Fae(e,t,i,n){var r,s;if(!(e!=null&&e.baseUrl)){const l=Kae();return t?(r=l.vertexUrl)!==null&&r!==void 0?r:i:(s=l.geminiUrl)!==null&&s!==void 0?s:n}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class as{}function Ue(e,t){const i=/\{([^}]+)\}/g;return e.replace(i,(n,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const s=t[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function b(e,t,i){for(let s=0;s<t.length-1;s++){const l=t[s];if(l.endsWith("[]")){const d=l.slice(0,-2);if(!(d in e))if(Array.isArray(i))e[d]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[d])){const p=e[d];if(Array.isArray(i))for(let u=0;u<p.length;u++){const g=p[u];b(g,t.slice(s+1),i[u])}else for(const u of p)b(u,t.slice(s+1),i)}return}else if(l.endsWith("[0]")){const d=l.slice(0,-3);d in e||(e[d]=[{}]);const p=e[d];b(p[0],t.slice(s+1),i);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const n=t[t.length-1],r=e[n];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(e,i):e[n]=i}function _(e,t,i=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return i;const r=t[n];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in e){const l=e[s];return Array.isArray(l)?l.map(d=>_(d,t.slice(n+1),i)):i}else return i}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return i;throw n}}function Bae(e,t){for(const[i,n]of Object.entries(t)){const r=i.split("."),s=n.split("."),l=new Set;let d=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){d=p;break}if(d!==-1&&s.length>d)for(let p=d;p<s.length;p++){const u=s[p];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&l.add(u)}h0(e,r,s,0,l)}}function h0(e,t,i,n,r){if(n>=t.length||typeof e!="object"||e===null)return;const s=t[n];if(s.endsWith("[]")){const l=s.slice(0,-2),d=e;if(l in d&&Array.isArray(d[l]))for(const p of d[l])h0(p,t,i,n+1,r)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,d=Object.keys(l).filter(u=>!u.startsWith("_")&&!r.has(u)),p={};for(const u of d)p[u]=l[u];for(const[u,g]of Object.entries(p)){const h=[];for(const y of i.slice(n))y==="*"?h.push(u):h.push(y);b(l,h,g)}for(const u of d)delete l[u]}}else{const l=e;s in l&&h0(l[s],t,i,n+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uae(e){const t={},i=_(e,["operationName"]);i!=null&&b(t,["operationName"],i);const n=_(e,["resourceName"]);return n!=null&&b(t,["_url","resourceName"],n),t}function qae(e){const t={},i=_(e,["name"]);i!=null&&b(t,["name"],i);const n=_(e,["metadata"]);n!=null&&b(t,["metadata"],n);const r=_(e,["done"]);r!=null&&b(t,["done"],r);const s=_(e,["error"]);s!=null&&b(t,["error"],s);const l=_(e,["response","generateVideoResponse"]);return l!=null&&b(t,["response"],Wae(l)),t}function zae(e){const t={},i=_(e,["name"]);i!=null&&b(t,["name"],i);const n=_(e,["metadata"]);n!=null&&b(t,["metadata"],n);const r=_(e,["done"]);r!=null&&b(t,["done"],r);const s=_(e,["error"]);s!=null&&b(t,["error"],s);const l=_(e,["response"]);return l!=null&&b(t,["response"],Vae(l)),t}function Wae(e){const t={},i=_(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Hae(l))),b(t,["generatedVideos"],s)}const n=_(e,["raiMediaFilteredCount"]);n!=null&&b(t,["raiMediaFilteredCount"],n);const r=_(e,["raiMediaFilteredReasons"]);return r!=null&&b(t,["raiMediaFilteredReasons"],r),t}function Vae(e){const t={},i=_(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Gae(l))),b(t,["generatedVideos"],s)}const n=_(e,["raiMediaFilteredCount"]);n!=null&&b(t,["raiMediaFilteredCount"],n);const r=_(e,["raiMediaFilteredReasons"]);return r!=null&&b(t,["raiMediaFilteredReasons"],r),t}function Hae(e){const t={},i=_(e,["video"]);return i!=null&&b(t,["video"],Zae(i)),t}function Gae(e){const t={},i=_(e,["_self"]);return i!=null&&b(t,["video"],ere(i)),t}function $ae(e){const t={},i=_(e,["operationName"]);return i!=null&&b(t,["_url","operationName"],i),t}function Yae(e){const t={},i=_(e,["operationName"]);return i!=null&&b(t,["_url","operationName"],i),t}function Qae(e){const t={},i=_(e,["name"]);i!=null&&b(t,["name"],i);const n=_(e,["metadata"]);n!=null&&b(t,["metadata"],n);const r=_(e,["done"]);r!=null&&b(t,["done"],r);const s=_(e,["error"]);s!=null&&b(t,["error"],s);const l=_(e,["response"]);return l!=null&&b(t,["response"],Xae(l)),t}function Xae(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["parent"]);n!=null&&b(t,["parent"],n);const r=_(e,["documentName"]);return r!=null&&b(t,["documentName"],r),t}function SK(e){const t={},i=_(e,["name"]);i!=null&&b(t,["name"],i);const n=_(e,["metadata"]);n!=null&&b(t,["metadata"],n);const r=_(e,["done"]);r!=null&&b(t,["done"],r);const s=_(e,["error"]);s!=null&&b(t,["error"],s);const l=_(e,["response"]);return l!=null&&b(t,["response"],Jae(l)),t}function Jae(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["parent"]);n!=null&&b(t,["parent"],n);const r=_(e,["documentName"]);return r!=null&&b(t,["documentName"],r),t}function Zae(e){const t={},i=_(e,["uri"]);i!=null&&b(t,["uri"],i);const n=_(e,["encodedVideo"]);n!=null&&b(t,["videoBytes"],JS(n));const r=_(e,["encoding"]);return r!=null&&b(t,["mimeType"],r),t}function ere(e){const t={},i=_(e,["gcsUri"]);i!=null&&b(t,["uri"],i);const n=_(e,["bytesBase64Encoded"]);n!=null&&b(t,["videoBytes"],JS(n));const r=_(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wI;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wI||(wI={}));var CI;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(CI||(CI={}));var TI;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(TI||(TI={}));var De;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(De||(De={}));var AI;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(AI||(AI={}));var EI;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(EI||(EI={}));var NI;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(NI||(NI={}));var MI;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(MI||(MI={}));var PI;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(PI||(PI={}));var II;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(II||(II={}));var OI;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(OI||(OI={}));var LI;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(LI||(LI={}));var RI;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(RI||(RI={}));var DI;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(DI||(DI={}));var jI;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(jI||(jI={}));var KI;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(KI||(KI={}));var FI;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(FI||(FI={}));var BI;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(BI||(BI={}));var UI;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UI||(UI={}));var qI;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(qI||(qI={}));var zI;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(zI||(zI={}));var vh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(vh||(vh={}));var WI;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(WI||(WI={}));var VI;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(VI||(VI={}));var HI;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(HI||(HI={}));var m0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(m0||(m0={}));var GI;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(GI||(GI={}));var $I;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})($I||($I={}));var y0;(function(e){e.COLLECTION="COLLECTION"})(y0||(y0={}));var YI;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(YI||(YI={}));var QI;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(QI||(QI={}));var XI;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(XI||(XI={}));var JI;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(JI||(JI={}));var ZI;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ZI||(ZI={}));var eO;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(eO||(eO={}));var tO;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(tO||(tO={}));var iO;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(iO||(iO={}));var nO;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nO||(nO={}));var aO;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(aO||(aO={}));var rO;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(rO||(rO={}));var sO;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(sO||(sO={}));var oO;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(oO||(oO={}));var lO;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(lO||(lO={}));var cO;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(cO||(cO={}));var dO;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(dO||(dO={}));var uO;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(uO||(uO={}));var pO;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(pO||(pO={}));var fO;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(fO||(fO={}));var gO;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(gO||(gO={}));var hO;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(hO||(hO={}));var mO;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mO||(mO={}));var yO;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yO||(yO={}));var _O;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(_O||(_O={}));var vO;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vO||(vO={}));var bO;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(bO||(bO={}));var xO;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(xO||(xO={}));var ec;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ec||(ec={}));class _0{constructor(t){const i={};for(const n of t.headers.entries())i[n[0]]=n[1];this.headers=i,this.responseInternal=t}json(){return this.responseInternal.json()}}class Wd{get text(){var t,i,n,r,s,l,d,p;if(((r=(n=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",g=!1;const h=[];for(const y of(p=(d=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[v,S]of Object.entries(y))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(S!==null||S!==void 0)&&h.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;g=!0,u+=y.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?u:void 0}get data(){var t,i,n,r,s,l,d,p;if(((r=(n=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const g=[];for(const h of(p=(d=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[y,v]of Object.entries(h))y!=="inlineData"&&(v!==null||v!==void 0)&&g.push(y);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,i,n,r,s,l,d,p;if(((r=(n=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(p=(d=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,i,n,r,s,l,d,p,u;if(((r=(n=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(d=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((g==null?void 0:g.length)!==0)return(u=g==null?void 0:g[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,i,n,r,s,l,d,p,u;if(((r=(n=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(d=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((g==null?void 0:g.length)!==0)return(u=g==null?void 0:g[0])===null||u===void 0?void 0:u.output}}class kO{}class SO{}class tre{}class ire{}class nre{}class are{}class wO{}class CO{}class TO{}class rre{}class bh{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const n=new bh;let r;const s=t;return i?r=zae(s):r=qae(s),Object.assign(n,r),n}}class AO{}class EO{}class NO{}class MO{}class sre{}class ore{}class lre{}class ZS{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const n=new ZS,s=Qae(t);return Object.assign(n,s),n}}class cre{}class dre{}class ure{}class pre{}class PO{}class fre{get text(){var t,i,n;let r="",s=!1;const l=[];for(const d of(n=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&n!==void 0?n:[]){for(const[p,u]of Object.entries(d))p!=="text"&&p!=="thought"&&u!==null&&l.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;s=!0,r+=d.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var t,i,n;let r="";const s=[];for(const l of(n=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&n!==void 0?n:[]){for(const[d,p]of Object.entries(l))d!=="inlineData"&&p!==null&&s.push(d);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class gre{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ew{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const n=new ew,s=SK(t);return Object.assign(n,s),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function St(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const i=t.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function wK(e,t){const i=St(e,t);return i?i.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}`:i.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${i}`:i:""}function CK(e){return Array.isArray(e)?e.map(t=>xh(t)):[xh(e)]}function xh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function TK(e){const t=xh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function AK(e){const t=xh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function IO(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function EK(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>IO(t)):[IO(e)]}function v0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function OO(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function LO(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function sn(e){if(e==null)throw new Error("ContentUnion is required");return v0(e)?e:{role:"user",parts:EK(e)}}function tw(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(i=>{const n=sn(i);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const i=sn(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(t)?t.map(i=>sn(i)):[sn(t)]}function ma(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(OO(e)||LO(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(e)]}const t=[],i=[],n=v0(e[0]);for(const r of e){const s=v0(r);if(s!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(r);else{if(OO(r)||LO(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return n||t.push({role:"user",parts:EK(i)}),t}function hre(e,t){e.includes("null")&&(t.nullable=!0);const i=e.filter(n=>n!=="null");if(i.length===1)t.type=Object.values(De).includes(i[0].toUpperCase())?i[0].toUpperCase():De.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of i)t.anyOf.push({type:Object.values(De).includes(n.toUpperCase())?n.toUpperCase():De.TYPE_UNSPECIFIED})}}function sc(e){const t={},i=["items"],n=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&hre(e.type,t);for(const[l,d]of Object.entries(e))if(d!=null)if(l=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;t.type=Object.values(De).includes(d.toUpperCase())?d.toUpperCase():De.TYPE_UNSPECIFIED}else if(i.includes(l))t[l]=sc(d);else if(n.includes(l)){const p=[];for(const u of d){if(u.type=="null"){t.nullable=!0;continue}p.push(sc(u))}t[l]=p}else if(r.includes(l)){const p={};for(const[u,g]of Object.entries(d))p[u]=sc(g);t[l]=p}else{if(l==="additionalProperties")continue;t[l]=d}return t}function iw(e){return sc(e)}function nw(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function aw(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Bc(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=sc(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=sc(t.response));return e}function Uc(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function mre(e,t,i,n=1){const r=!t.startsWith(`${i}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${i}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}/${t}`:t:r?`${i}/${t}`:t}function rs(e,t){if(typeof t!="string")throw new Error("name must be a string");return mre(e,t,"cachedContents")}function NK(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ws(e){return JS(e)}function yre(e){return e!=null&&typeof e=="object"&&"name"in e}function _re(e){return e!=null&&typeof e=="object"&&"video"in e}function vre(e){return e!=null&&typeof e=="object"&&"uri"in e}function MK(e){var t;let i;if(yre(e)&&(i=e.name),!(vre(e)&&(i=e.uri,i===void 0))&&!(_re(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function PK(e,t){let i;return e.isVertexAI()?i=t?"publishers/google/models":"models":i=t?"models":"tunedModels",i}function IK(e){for(const t of["models","tunedModels","publisherModels"])if(bre(e,t))return e[t];return[]}function bre(e,t){return e!==null&&typeof e=="object"&&t in e}function xre(e,t={}){const i=e,n={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(n.responseJsonSchema=i.outputSchema),t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function kre(e,t={}){const i=[],n=new Set;for(const r of e){const s=r.name;if(n.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);n.add(s);const l=xre(r,t);l.functionDeclarations&&i.push(...l.functionDeclarations)}return{functionDeclarations:i}}function OK(e,t){let i;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))i={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))i={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))i={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:t}}else i=t;const n=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function Sre(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function LK(e){if(typeof e!="object"||e===null)return{};const t=e,i=t.inlinedResponses;if(typeof i!="object"||i===null)return e;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let s=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const p=l.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function qc(e,t){const i=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function RK(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wre(e){const t={},i=_(e,["responsesFile"]);i!=null&&b(t,["fileName"],i);const n=_(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>ase(l))),b(t,["inlinedResponses"],s)}const r=_(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(t,["inlinedEmbedContentResponses"],s)}return t}function Cre(e){const t={},i=_(e,["predictionsFormat"]);i!=null&&b(t,["format"],i);const n=_(e,["gcsDestination","outputUriPrefix"]);n!=null&&b(t,["gcsUri"],n);const r=_(e,["bigqueryDestination","outputUri"]);return r!=null&&b(t,["bigqueryUri"],r),t}function Tre(e){const t={},i=_(e,["format"]);i!=null&&b(t,["predictionsFormat"],i);const n=_(e,["gcsUri"]);n!=null&&b(t,["gcsDestination","outputUriPrefix"],n);const r=_(e,["bigqueryUri"]);if(r!=null&&b(t,["bigqueryDestination","outputUri"],r),_(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(_(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function kg(e){const t={},i=_(e,["name"]);i!=null&&b(t,["name"],i);const n=_(e,["metadata","displayName"]);n!=null&&b(t,["displayName"],n);const r=_(e,["metadata","state"]);r!=null&&b(t,["state"],RK(r));const s=_(e,["metadata","createTime"]);s!=null&&b(t,["createTime"],s);const l=_(e,["metadata","endTime"]);l!=null&&b(t,["endTime"],l);const d=_(e,["metadata","updateTime"]);d!=null&&b(t,["updateTime"],d);const p=_(e,["metadata","model"]);p!=null&&b(t,["model"],p);const u=_(e,["metadata","output"]);return u!=null&&b(t,["dest"],wre(LK(u))),t}function b0(e){const t={},i=_(e,["name"]);i!=null&&b(t,["name"],i);const n=_(e,["displayName"]);n!=null&&b(t,["displayName"],n);const r=_(e,["state"]);r!=null&&b(t,["state"],RK(r));const s=_(e,["error"]);s!=null&&b(t,["error"],s);const l=_(e,["createTime"]);l!=null&&b(t,["createTime"],l);const d=_(e,["startTime"]);d!=null&&b(t,["startTime"],d);const p=_(e,["endTime"]);p!=null&&b(t,["endTime"],p);const u=_(e,["updateTime"]);u!=null&&b(t,["updateTime"],u);const g=_(e,["model"]);g!=null&&b(t,["model"],g);const h=_(e,["inputConfig"]);h!=null&&b(t,["src"],Are(h));const y=_(e,["outputConfig"]);y!=null&&b(t,["dest"],Cre(LK(y)));const v=_(e,["completionStats"]);return v!=null&&b(t,["completionStats"],v),t}function Are(e){const t={},i=_(e,["instancesFormat"]);i!=null&&b(t,["format"],i);const n=_(e,["gcsSource","uris"]);n!=null&&b(t,["gcsUri"],n);const r=_(e,["bigquerySource","inputUri"]);return r!=null&&b(t,["bigqueryUri"],r),t}function Ere(e,t){const i={};if(_(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(_(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=_(t,["fileName"]);n!=null&&b(i,["fileName"],n);const r=_(t,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>nse(e,l))),b(i,["requests","requests"],s)}return i}function Nre(e){const t={},i=_(e,["format"]);i!=null&&b(t,["instancesFormat"],i);const n=_(e,["gcsUri"]);n!=null&&b(t,["gcsSource","uris"],n);const r=_(e,["bigqueryUri"]);if(r!=null&&b(t,["bigquerySource","inputUri"],r),_(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Mre(e){const t={},i=_(e,["data"]);if(i!=null&&b(t,["data"],i),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function Pre(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],qc(e,n)),i}function Ire(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],qc(e,n)),i}function Ore(e){const t={},i=_(e,["content"]);i!=null&&b(t,["content"],i);const n=_(e,["citationMetadata"]);n!=null&&b(t,["citationMetadata"],Lre(n));const r=_(e,["tokenCount"]);r!=null&&b(t,["tokenCount"],r);const s=_(e,["finishReason"]);s!=null&&b(t,["finishReason"],s);const l=_(e,["avgLogprobs"]);l!=null&&b(t,["avgLogprobs"],l);const d=_(e,["groundingMetadata"]);d!=null&&b(t,["groundingMetadata"],d);const p=_(e,["index"]);p!=null&&b(t,["index"],p);const u=_(e,["logprobsResult"]);u!=null&&b(t,["logprobsResult"],u);const g=_(e,["safetyRatings"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(v=>v)),b(t,["safetyRatings"],y)}const h=_(e,["urlContextMetadata"]);return h!=null&&b(t,["urlContextMetadata"],h),t}function Lre(e){const t={},i=_(e,["citationSources"]);if(i!=null){let n=i;Array.isArray(n)&&(n=n.map(r=>r)),b(t,["citations"],n)}return t}function DK(e){const t={},i=_(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>use(s))),b(t,["parts"],r)}const n=_(e,["role"]);return n!=null&&b(t,["role"],n),t}function Rre(e,t){const i={},n=_(e,["displayName"]);if(t!==void 0&&n!=null&&b(t,["batch","displayName"],n),_(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Dre(e,t){const i={},n=_(e,["displayName"]);t!==void 0&&n!=null&&b(t,["displayName"],n);const r=_(e,["dest"]);return t!==void 0&&r!=null&&b(t,["outputConfig"],Tre(Sre(r))),i}function RO(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["_url","model"],St(e,n));const r=_(t,["src"]);r!=null&&b(i,["batch","inputConfig"],Ere(e,OK(e,r)));const s=_(t,["config"]);return s!=null&&Rre(s,i),i}function jre(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["model"],St(e,n));const r=_(t,["src"]);r!=null&&b(i,["inputConfig"],Nre(OK(e,r)));const s=_(t,["config"]);return s!=null&&Dre(s,i),i}function Kre(e,t){const i={},n=_(e,["displayName"]);return t!==void 0&&n!=null&&b(t,["batch","displayName"],n),i}function Fre(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["_url","model"],St(e,n));const r=_(t,["src"]);r!=null&&b(i,["batch","inputConfig"],Hre(e,r));const s=_(t,["config"]);return s!=null&&Kre(s,i),i}function Bre(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],qc(e,n)),i}function Ure(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],qc(e,n)),i}function qre(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["name"]);n!=null&&b(t,["name"],n);const r=_(e,["done"]);r!=null&&b(t,["done"],r);const s=_(e,["error"]);return s!=null&&b(t,["error"],s),t}function zre(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["name"]);n!=null&&b(t,["name"],n);const r=_(e,["done"]);r!=null&&b(t,["done"],r);const s=_(e,["error"]);return s!=null&&b(t,["error"],s),t}function Wre(e,t){const i={},n=_(t,["contents"]);if(n!=null){let s=tw(e,n);Array.isArray(s)&&(s=s.map(l=>l)),b(i,["requests[]","request","content"],s)}const r=_(t,["config"]);return r!=null&&(b(i,["_self"],Vre(r,i)),Bae(i,{"requests[].*":"requests[].request.*"})),i}function Vre(e,t){const i={},n=_(e,["taskType"]);t!==void 0&&n!=null&&b(t,["requests[]","taskType"],n);const r=_(e,["title"]);t!==void 0&&r!=null&&b(t,["requests[]","title"],r);const s=_(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&b(t,["requests[]","outputDimensionality"],s),_(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Hre(e,t){const i={},n=_(t,["fileName"]);n!=null&&b(i,["file_name"],n);const r=_(t,["inlinedRequests"]);return r!=null&&b(i,["requests"],Wre(e,r)),i}function Gre(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=_(e,["fileUri"]);i!=null&&b(t,["fileUri"],i);const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function $re(e){const t={},i=_(e,["id"]);i!=null&&b(t,["id"],i);const n=_(e,["args"]);n!=null&&b(t,["args"],n);const r=_(e,["name"]);if(r!=null&&b(t,["name"],r),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Yre(e){const t={},i=_(e,["allowedFunctionNames"]);i!=null&&b(t,["allowedFunctionNames"],i);const n=_(e,["mode"]);if(n!=null&&b(t,["mode"],n),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Qre(e,t,i){const n={},r=_(t,["systemInstruction"]);i!==void 0&&r!=null&&b(i,["systemInstruction"],DK(sn(r)));const s=_(t,["temperature"]);s!=null&&b(n,["temperature"],s);const l=_(t,["topP"]);l!=null&&b(n,["topP"],l);const d=_(t,["topK"]);d!=null&&b(n,["topK"],d);const p=_(t,["candidateCount"]);p!=null&&b(n,["candidateCount"],p);const u=_(t,["maxOutputTokens"]);u!=null&&b(n,["maxOutputTokens"],u);const g=_(t,["stopSequences"]);g!=null&&b(n,["stopSequences"],g);const h=_(t,["responseLogprobs"]);h!=null&&b(n,["responseLogprobs"],h);const y=_(t,["logprobs"]);y!=null&&b(n,["logprobs"],y);const v=_(t,["presencePenalty"]);v!=null&&b(n,["presencePenalty"],v);const S=_(t,["frequencyPenalty"]);S!=null&&b(n,["frequencyPenalty"],S);const k=_(t,["seed"]);k!=null&&b(n,["seed"],k);const C=_(t,["responseMimeType"]);C!=null&&b(n,["responseMimeType"],C);const T=_(t,["responseSchema"]);T!=null&&b(n,["responseSchema"],iw(T));const N=_(t,["responseJsonSchema"]);if(N!=null&&b(n,["responseJsonSchema"],N),_(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=_(t,["safetySettings"]);if(i!==void 0&&E!=null){let pe=E;Array.isArray(pe)&&(pe=pe.map(X=>pse(X))),b(i,["safetySettings"],pe)}const O=_(t,["tools"]);if(i!==void 0&&O!=null){let pe=Uc(O);Array.isArray(pe)&&(pe=pe.map(X=>gse(Bc(X)))),b(i,["tools"],pe)}const P=_(t,["toolConfig"]);if(i!==void 0&&P!=null&&b(i,["toolConfig"],fse(P)),_(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=_(t,["cachedContent"]);i!==void 0&&I!=null&&b(i,["cachedContent"],rs(e,I));const D=_(t,["responseModalities"]);D!=null&&b(n,["responseModalities"],D);const B=_(t,["mediaResolution"]);B!=null&&b(n,["mediaResolution"],B);const V=_(t,["speechConfig"]);if(V!=null&&b(n,["speechConfig"],nw(V)),_(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=_(t,["thinkingConfig"]);U!=null&&b(n,["thinkingConfig"],U);const W=_(t,["imageConfig"]);W!=null&&b(n,["imageConfig"],ise(W));const q=_(t,["enableEnhancedCivicAnswers"]);if(q!=null&&b(n,["enableEnhancedCivicAnswers"],q),_(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function Xre(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(u=>Ore(u))),b(t,["candidates"],p)}const r=_(e,["modelVersion"]);r!=null&&b(t,["modelVersion"],r);const s=_(e,["promptFeedback"]);s!=null&&b(t,["promptFeedback"],s);const l=_(e,["responseId"]);l!=null&&b(t,["responseId"],l);const d=_(e,["usageMetadata"]);return d!=null&&b(t,["usageMetadata"],d),t}function Jre(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],qc(e,n)),i}function Zre(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],qc(e,n)),i}function ese(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=_(e,["enableWidget"]);return i!=null&&b(t,["enableWidget"],i),t}function tse(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=_(e,["timeRangeFilter"]);return i!=null&&b(t,["timeRangeFilter"],i),t}function ise(e){const t={},i=_(e,["aspectRatio"]);i!=null&&b(t,["aspectRatio"],i);const n=_(e,["imageSize"]);if(n!=null&&b(t,["imageSize"],n),_(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(_(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function nse(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["request","model"],St(e,n));const r=_(t,["contents"]);if(r!=null){let d=ma(r);Array.isArray(d)&&(d=d.map(p=>DK(p))),b(i,["request","contents"],d)}const s=_(t,["metadata"]);s!=null&&b(i,["metadata"],s);const l=_(t,["config"]);return l!=null&&b(i,["request","generationConfig"],Qre(e,l,_(i,["request"],{}))),i}function ase(e){const t={},i=_(e,["response"]);i!=null&&b(t,["response"],Xre(i));const n=_(e,["metadata"]);n!=null&&b(t,["metadata"],n);const r=_(e,["error"]);return r!=null&&b(t,["error"],r),t}function rse(e,t){const i={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&b(t,["_query","pageSize"],n);const r=_(e,["pageToken"]);if(t!==void 0&&r!=null&&b(t,["_query","pageToken"],r),_(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function sse(e,t){const i={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&b(t,["_query","pageSize"],n);const r=_(e,["pageToken"]);t!==void 0&&r!=null&&b(t,["_query","pageToken"],r);const s=_(e,["filter"]);return t!==void 0&&s!=null&&b(t,["_query","filter"],s),i}function ose(e){const t={},i=_(e,["config"]);return i!=null&&rse(i,t),t}function lse(e){const t={},i=_(e,["config"]);return i!=null&&sse(i,t),t}function cse(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["nextPageToken"]);n!=null&&b(t,["nextPageToken"],n);const r=_(e,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>kg(l))),b(t,["batchJobs"],s)}return t}function dse(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["nextPageToken"]);n!=null&&b(t,["nextPageToken"],n);const r=_(e,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>b0(l))),b(t,["batchJobs"],s)}return t}function use(e){const t={},i=_(e,["mediaResolution"]);i!=null&&b(t,["mediaResolution"],i);const n=_(e,["codeExecutionResult"]);n!=null&&b(t,["codeExecutionResult"],n);const r=_(e,["executableCode"]);r!=null&&b(t,["executableCode"],r);const s=_(e,["fileData"]);s!=null&&b(t,["fileData"],Gre(s));const l=_(e,["functionCall"]);l!=null&&b(t,["functionCall"],$re(l));const d=_(e,["functionResponse"]);d!=null&&b(t,["functionResponse"],d);const p=_(e,["inlineData"]);p!=null&&b(t,["inlineData"],Mre(p));const u=_(e,["text"]);u!=null&&b(t,["text"],u);const g=_(e,["thought"]);g!=null&&b(t,["thought"],g);const h=_(e,["thoughtSignature"]);h!=null&&b(t,["thoughtSignature"],h);const y=_(e,["videoMetadata"]);return y!=null&&b(t,["videoMetadata"],y),t}function pse(e){const t={},i=_(e,["category"]);if(i!=null&&b(t,["category"],i),_(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=_(e,["threshold"]);return n!=null&&b(t,["threshold"],n),t}function fse(e){const t={},i=_(e,["retrievalConfig"]);i!=null&&b(t,["retrievalConfig"],i);const n=_(e,["functionCallingConfig"]);return n!=null&&b(t,["functionCallingConfig"],Yre(n)),t}function gse(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=_(e,["computerUse"]);i!=null&&b(t,["computerUse"],i);const n=_(e,["fileSearch"]);n!=null&&b(t,["fileSearch"],n);const r=_(e,["codeExecution"]);if(r!=null&&b(t,["codeExecution"],r),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=_(e,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(h=>h)),b(t,["functionDeclarations"],g)}const l=_(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],ese(l));const d=_(e,["googleSearch"]);d!=null&&b(t,["googleSearch"],tse(d));const p=_(e,["googleSearchRetrieval"]);p!=null&&b(t,["googleSearchRetrieval"],p);const u=_(e,["urlContext"]);return u!=null&&b(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $r;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})($r||($r={}));class Yo{constructor(t,i,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(t,n,r)}init(t,i,n){var r,s;this.nameInternal=t,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!n||Object.keys(n).length===0?l={config:{}}:typeof n=="object"?l=Object.assign({},n):l=n,l.config&&(l.config.pageToken=i.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hse extends as{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Yo($r.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(t){const i=RO(this.apiClient,t),n=i._url,r=Ue("{model}:batchGenerateContent",n),d=i.batch.inputConfig.requests,p=d.requests,u=[];for(const g of p){const h=Object.assign({},g);if(h.systemInstruction){const y=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=y,h.request=v}u.push(h)}return d.requests=u,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,i){const n=i?Object.assign({},i):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),n.dest===void 0){const s=this.getGcsUri(t),l=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?n.dest=`${s.slice(0,-6)}/dest`:n.dest=`${s}_dest_${r}`;else if(l)n.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=jre(this.apiClient,t);return d=Ue("batchPredictionJobs",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>b0(g))}else{const u=RO(this.apiClient,t);return d=Ue("{model}:batchGenerateContent",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>kg(g))}}async createEmbeddingsInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Fre(this.apiClient,t);return s=Ue("{model}:asyncBatchEmbedContent",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>kg(p))}}async get(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Zre(this.apiClient,t);return d=Ue("batchPredictionJobs/{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>b0(g))}else{const u=Jre(this.apiClient,t);return d=Ue("batches/{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>kg(g))}}async cancel(t){var i,n,r,s;let l="",d={};if(this.apiClient.isVertexAI()){const p=Ire(this.apiClient,t);l=Ue("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const p=Pre(this.apiClient,t);l=Ue("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=lse(t);return d=Ue("batchPredictionJobs",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=dse(g),y=new PO;return Object.assign(y,h),y})}else{const u=ose(t);return d=Ue("batches",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=cse(g),y=new PO;return Object.assign(y,h),y})}}async delete(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Ure(this.apiClient,t);return d=Ue("batchPredictionJobs/{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>zre(g))}else{const u=Bre(this.apiClient,t);return d=Ue("batches/{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>qre(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mse(e){const t={},i=_(e,["data"]);if(i!=null&&b(t,["data"],i),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function DO(e){const t={},i=_(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Fse(s))),b(t,["parts"],r)}const n=_(e,["role"]);return n!=null&&b(t,["role"],n),t}function yse(e,t){const i={},n=_(e,["ttl"]);t!==void 0&&n!=null&&b(t,["ttl"],n);const r=_(e,["expireTime"]);t!==void 0&&r!=null&&b(t,["expireTime"],r);const s=_(e,["displayName"]);t!==void 0&&s!=null&&b(t,["displayName"],s);const l=_(e,["contents"]);if(t!==void 0&&l!=null){let g=ma(l);Array.isArray(g)&&(g=g.map(h=>DO(h))),b(t,["contents"],g)}const d=_(e,["systemInstruction"]);t!==void 0&&d!=null&&b(t,["systemInstruction"],DO(sn(d)));const p=_(e,["tools"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(h=>Use(h))),b(t,["tools"],g)}const u=_(e,["toolConfig"]);if(t!==void 0&&u!=null&&b(t,["toolConfig"],Bse(u)),_(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function _se(e,t){const i={},n=_(e,["ttl"]);t!==void 0&&n!=null&&b(t,["ttl"],n);const r=_(e,["expireTime"]);t!==void 0&&r!=null&&b(t,["expireTime"],r);const s=_(e,["displayName"]);t!==void 0&&s!=null&&b(t,["displayName"],s);const l=_(e,["contents"]);if(t!==void 0&&l!=null){let h=ma(l);Array.isArray(h)&&(h=h.map(y=>y)),b(t,["contents"],h)}const d=_(e,["systemInstruction"]);t!==void 0&&d!=null&&b(t,["systemInstruction"],sn(d));const p=_(e,["tools"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(y=>qse(y))),b(t,["tools"],h)}const u=_(e,["toolConfig"]);t!==void 0&&u!=null&&b(t,["toolConfig"],u);const g=_(e,["kmsKeyName"]);return t!==void 0&&g!=null&&b(t,["encryption_spec","kmsKeyName"],g),i}function vse(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["model"],wK(e,n));const r=_(t,["config"]);return r!=null&&yse(r,i),i}function bse(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["model"],wK(e,n));const r=_(t,["config"]);return r!=null&&_se(r,i),i}function xse(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],rs(e,n)),i}function kse(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],rs(e,n)),i}function Sse(e){const t={},i=_(e,["sdkHttpResponse"]);return i!=null&&b(t,["sdkHttpResponse"],i),t}function wse(e){const t={},i=_(e,["sdkHttpResponse"]);return i!=null&&b(t,["sdkHttpResponse"],i),t}function Cse(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=_(e,["fileUri"]);i!=null&&b(t,["fileUri"],i);const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function Tse(e){const t={},i=_(e,["id"]);i!=null&&b(t,["id"],i);const n=_(e,["args"]);n!=null&&b(t,["args"],n);const r=_(e,["name"]);if(r!=null&&b(t,["name"],r),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ase(e){const t={},i=_(e,["allowedFunctionNames"]);i!=null&&b(t,["allowedFunctionNames"],i);const n=_(e,["mode"]);if(n!=null&&b(t,["mode"],n),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Ese(e){const t={},i=_(e,["description"]);i!=null&&b(t,["description"],i);const n=_(e,["name"]);n!=null&&b(t,["name"],n);const r=_(e,["parameters"]);r!=null&&b(t,["parameters"],r);const s=_(e,["parametersJsonSchema"]);s!=null&&b(t,["parametersJsonSchema"],s);const l=_(e,["response"]);l!=null&&b(t,["response"],l);const d=_(e,["responseJsonSchema"]);if(d!=null&&b(t,["responseJsonSchema"],d),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Nse(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],rs(e,n)),i}function Mse(e,t){const i={},n=_(t,["name"]);return n!=null&&b(i,["_url","name"],rs(e,n)),i}function Pse(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=_(e,["enableWidget"]);return i!=null&&b(t,["enableWidget"],i),t}function Ise(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=_(e,["timeRangeFilter"]);return i!=null&&b(t,["timeRangeFilter"],i),t}function Ose(e,t){const i={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&b(t,["_query","pageSize"],n);const r=_(e,["pageToken"]);return t!==void 0&&r!=null&&b(t,["_query","pageToken"],r),i}function Lse(e,t){const i={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&b(t,["_query","pageSize"],n);const r=_(e,["pageToken"]);return t!==void 0&&r!=null&&b(t,["_query","pageToken"],r),i}function Rse(e){const t={},i=_(e,["config"]);return i!=null&&Ose(i,t),t}function Dse(e){const t={},i=_(e,["config"]);return i!=null&&Lse(i,t),t}function jse(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["nextPageToken"]);n!=null&&b(t,["nextPageToken"],n);const r=_(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(t,["cachedContents"],s)}return t}function Kse(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["nextPageToken"]);n!=null&&b(t,["nextPageToken"],n);const r=_(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(t,["cachedContents"],s)}return t}function Fse(e){const t={},i=_(e,["mediaResolution"]);i!=null&&b(t,["mediaResolution"],i);const n=_(e,["codeExecutionResult"]);n!=null&&b(t,["codeExecutionResult"],n);const r=_(e,["executableCode"]);r!=null&&b(t,["executableCode"],r);const s=_(e,["fileData"]);s!=null&&b(t,["fileData"],Cse(s));const l=_(e,["functionCall"]);l!=null&&b(t,["functionCall"],Tse(l));const d=_(e,["functionResponse"]);d!=null&&b(t,["functionResponse"],d);const p=_(e,["inlineData"]);p!=null&&b(t,["inlineData"],mse(p));const u=_(e,["text"]);u!=null&&b(t,["text"],u);const g=_(e,["thought"]);g!=null&&b(t,["thought"],g);const h=_(e,["thoughtSignature"]);h!=null&&b(t,["thoughtSignature"],h);const y=_(e,["videoMetadata"]);return y!=null&&b(t,["videoMetadata"],y),t}function Bse(e){const t={},i=_(e,["retrievalConfig"]);i!=null&&b(t,["retrievalConfig"],i);const n=_(e,["functionCallingConfig"]);return n!=null&&b(t,["functionCallingConfig"],Ase(n)),t}function Use(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=_(e,["computerUse"]);i!=null&&b(t,["computerUse"],i);const n=_(e,["fileSearch"]);n!=null&&b(t,["fileSearch"],n);const r=_(e,["codeExecution"]);if(r!=null&&b(t,["codeExecution"],r),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=_(e,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(h=>h)),b(t,["functionDeclarations"],g)}const l=_(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],Pse(l));const d=_(e,["googleSearch"]);d!=null&&b(t,["googleSearch"],Ise(d));const p=_(e,["googleSearchRetrieval"]);p!=null&&b(t,["googleSearchRetrieval"],p);const u=_(e,["urlContext"]);return u!=null&&b(t,["urlContext"],u),t}function qse(e){const t={},i=_(e,["retrieval"]);i!=null&&b(t,["retrieval"],i);const n=_(e,["computerUse"]);if(n!=null&&b(t,["computerUse"],n),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=_(e,["codeExecution"]);r!=null&&b(t,["codeExecution"],r);const s=_(e,["enterpriseWebSearch"]);s!=null&&b(t,["enterpriseWebSearch"],s);const l=_(e,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>Ese(y))),b(t,["functionDeclarations"],h)}const d=_(e,["googleMaps"]);d!=null&&b(t,["googleMaps"],d);const p=_(e,["googleSearch"]);p!=null&&b(t,["googleSearch"],p);const u=_(e,["googleSearchRetrieval"]);u!=null&&b(t,["googleSearchRetrieval"],u);const g=_(e,["urlContext"]);return g!=null&&b(t,["urlContext"],g),t}function zse(e,t){const i={},n=_(e,["ttl"]);t!==void 0&&n!=null&&b(t,["ttl"],n);const r=_(e,["expireTime"]);return t!==void 0&&r!=null&&b(t,["expireTime"],r),i}function Wse(e,t){const i={},n=_(e,["ttl"]);t!==void 0&&n!=null&&b(t,["ttl"],n);const r=_(e,["expireTime"]);return t!==void 0&&r!=null&&b(t,["expireTime"],r),i}function Vse(e,t){const i={},n=_(t,["name"]);n!=null&&b(i,["_url","name"],rs(e,n));const r=_(t,["config"]);return r!=null&&zse(r,i),i}function Hse(e,t){const i={},n=_(t,["name"]);n!=null&&b(i,["_url","name"],rs(e,n));const r=_(t,["config"]);return r!=null&&Wse(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gse extends as{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Yo($r.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(i),i)}async create(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=bse(this.apiClient,t);return d=Ue("cachedContents",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>g)}else{const u=vse(this.apiClient,t);return d=Ue("cachedContents",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async get(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Mse(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>g)}else{const u=Nse(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=kse(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=wse(g),y=new NO;return Object.assign(y,h),y})}else{const u=xse(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=Sse(g),y=new NO;return Object.assign(y,h),y})}}async update(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Hse(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>g)}else{const u=Vse(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async listInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Dse(t);return d=Ue("cachedContents",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=Kse(g),y=new MO;return Object.assign(y,h),y})}else{const u=Rse(t);return d=Ue("cachedContents",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=jse(g),y=new MO;return Object.assign(y,h),y})}}}function kh(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function jO(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(e){return this instanceof rt?(this.v=e,this):new rt(e)}function La(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(v){return function(S){return Promise.resolve(S).then(v,h)}}function d(v,S){n[v]&&(r[v]=function(k){return new Promise(function(C,T){s.push([v,k,C,T])>1||p(v,k)})},S&&(r[v]=S(r[v])))}function p(v,S){try{u(n[v](S))}catch(k){y(s[0][3],k)}}function u(v){v.value instanceof rt?Promise.resolve(v.value.v).then(g,h):y(s[0][2],v)}function g(v){p("next",v)}function h(v){p("throw",v)}function y(v,S){v(S),s.shift(),s.length&&p(s[0][0],s[0][1])}}function Ra(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof jO=="function"?jO(e):e[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=e[s]&&function(l){return new Promise(function(d,p){l=e[s](l),r(d,p,l.done,l.value)})}}function r(s,l,d,p){Promise.resolve(p).then(function(u){s({value:u,done:d})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $se(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const i=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return i===void 0?!1:jK(i)}function jK(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Yse(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function KO(e){if(e===void 0||e.length===0)return[];const t=[],i=e.length;let n=0;for(;n<i;)if(e[n].role==="user")t.push(e[n]),n++;else{const r=[];let s=!0;for(;n<i&&e[n].role==="model";)r.push(e[n]),s&&!jK(e[n])&&(s=!1),n++;s?t.push(...r):t.pop()}return t}class Qse{constructor(t,i){this.modelsModule=t,this.apiClient=i}create(t){return new Xse(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Xse{constructor(t,i,n,r={},s=[]){this.apiClient=t,this.modelsModule=i,this.model=n,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),Yse(s)}async sendMessage(t){var i;await this.sendPromise;const n=sn(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(i=t.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var s,l,d;const p=await r,u=(l=(s=p.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,g=p.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let y=[];g!=null&&(y=(d=g.slice(h))!==null&&d!==void 0?d:[]);const v=u?[u]:[];this.recordHistory(n,v,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var i;await this.sendPromise;const n=sn(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(i=t.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,n)}getHistory(t=!1){const i=t?KO(this.history):this.history;return structuredClone(i)}processStreamResponse(t,i){return La(this,arguments,function*(){var r,s,l,d,p,u;const g=[];try{for(var h=!0,y=Ra(t),v;v=yield rt(y.next()),r=v.done,!r;h=!0){d=v.value,h=!1;const S=d;if($se(S)){const k=(u=(p=S.candidates)===null||p===void 0?void 0:p[0])===null||u===void 0?void 0:u.content;k!==void 0&&g.push(k)}yield yield rt(S)}}catch(S){s={error:S}}finally{try{!h&&!r&&(l=y.return)&&(yield rt(l.call(y)))}finally{if(s)throw s.error}}this.recordHistory(i,g)})}recordHistory(t,i,n){let r=[];i.length>0&&i.every(s=>s.role!==void 0)?r=i:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...KO(n)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wu extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Wu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jse(e){const t={},i=_(e,["file"]);return i!=null&&b(t,["file"],i),t}function Zse(e){const t={},i=_(e,["sdkHttpResponse"]);return i!=null&&b(t,["sdkHttpResponse"],i),t}function eoe(e){const t={},i=_(e,["name"]);return i!=null&&b(t,["_url","file"],MK(i)),t}function toe(e){const t={},i=_(e,["sdkHttpResponse"]);return i!=null&&b(t,["sdkHttpResponse"],i),t}function ioe(e){const t={},i=_(e,["name"]);return i!=null&&b(t,["_url","file"],MK(i)),t}function noe(e){const t={},i=_(e,["uris"]);return i!=null&&b(t,["uris"],i),t}function aoe(e,t){const i={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&b(t,["_query","pageSize"],n);const r=_(e,["pageToken"]);return t!==void 0&&r!=null&&b(t,["_query","pageToken"],r),i}function roe(e){const t={},i=_(e,["config"]);return i!=null&&aoe(i,t),t}function soe(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["nextPageToken"]);n!=null&&b(t,["nextPageToken"],n);const r=_(e,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(t,["files"],s)}return t}function ooe(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["files"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),b(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class loe extends as{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Yo($r.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(i),i)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(i=>i)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=roe(t);return s=Ue("files",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json().then(u=>{const g=u;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const u=soe(p),g=new cre;return Object.assign(g,u),g})}}async createInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Jse(t);return s=Ue("upload/v1beta/files",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=Zse(p),g=new dre;return Object.assign(g,u),g})}}async get(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ioe(t);return s=Ue("files/{file}",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=eoe(t);return s=Ue("files/{file}",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json().then(u=>{const g=u;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const u=toe(p),g=new ure;return Object.assign(g,u),g})}}async registerFilesInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=noe(t);return s=Ue("files:register",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=ooe(p),g=new pre;return Object.assign(g,u),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sg(e){const t={},i=_(e,["data"]);if(i!=null&&b(t,["data"],i),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function coe(e){const t={},i=_(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Coe(s))),b(t,["parts"],r)}const n=_(e,["role"]);return n!=null&&b(t,["role"],n),t}function doe(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=_(e,["fileUri"]);i!=null&&b(t,["fileUri"],i);const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function uoe(e){const t={},i=_(e,["id"]);i!=null&&b(t,["id"],i);const n=_(e,["args"]);n!=null&&b(t,["args"],n);const r=_(e,["name"]);if(r!=null&&b(t,["name"],r),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function poe(e){const t={},i=_(e,["description"]);i!=null&&b(t,["description"],i);const n=_(e,["name"]);n!=null&&b(t,["name"],n);const r=_(e,["parameters"]);r!=null&&b(t,["parameters"],r);const s=_(e,["parametersJsonSchema"]);s!=null&&b(t,["parametersJsonSchema"],s);const l=_(e,["response"]);l!=null&&b(t,["response"],l);const d=_(e,["responseJsonSchema"]);if(d!=null&&b(t,["responseJsonSchema"],d),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function foe(e){const t={},i=_(e,["modelSelectionConfig"]);i!=null&&b(t,["modelConfig"],i);const n=_(e,["responseJsonSchema"]);n!=null&&b(t,["responseJsonSchema"],n);const r=_(e,["audioTimestamp"]);r!=null&&b(t,["audioTimestamp"],r);const s=_(e,["candidateCount"]);s!=null&&b(t,["candidateCount"],s);const l=_(e,["enableAffectiveDialog"]);l!=null&&b(t,["enableAffectiveDialog"],l);const d=_(e,["frequencyPenalty"]);d!=null&&b(t,["frequencyPenalty"],d);const p=_(e,["logprobs"]);p!=null&&b(t,["logprobs"],p);const u=_(e,["maxOutputTokens"]);u!=null&&b(t,["maxOutputTokens"],u);const g=_(e,["mediaResolution"]);g!=null&&b(t,["mediaResolution"],g);const h=_(e,["presencePenalty"]);h!=null&&b(t,["presencePenalty"],h);const y=_(e,["responseLogprobs"]);y!=null&&b(t,["responseLogprobs"],y);const v=_(e,["responseMimeType"]);v!=null&&b(t,["responseMimeType"],v);const S=_(e,["responseModalities"]);S!=null&&b(t,["responseModalities"],S);const k=_(e,["responseSchema"]);k!=null&&b(t,["responseSchema"],k);const C=_(e,["routingConfig"]);C!=null&&b(t,["routingConfig"],C);const T=_(e,["seed"]);T!=null&&b(t,["seed"],T);const N=_(e,["speechConfig"]);N!=null&&b(t,["speechConfig"],N);const E=_(e,["stopSequences"]);E!=null&&b(t,["stopSequences"],E);const O=_(e,["temperature"]);O!=null&&b(t,["temperature"],O);const P=_(e,["thinkingConfig"]);P!=null&&b(t,["thinkingConfig"],P);const I=_(e,["topK"]);I!=null&&b(t,["topK"],I);const D=_(e,["topP"]);if(D!=null&&b(t,["topP"],D),_(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function goe(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=_(e,["enableWidget"]);return i!=null&&b(t,["enableWidget"],i),t}function hoe(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=_(e,["timeRangeFilter"]);return i!=null&&b(t,["timeRangeFilter"],i),t}function moe(e,t){const i={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&b(t,["setup","generationConfig"],n);const r=_(e,["responseModalities"]);t!==void 0&&r!=null&&b(t,["setup","generationConfig","responseModalities"],r);const s=_(e,["temperature"]);t!==void 0&&s!=null&&b(t,["setup","generationConfig","temperature"],s);const l=_(e,["topP"]);t!==void 0&&l!=null&&b(t,["setup","generationConfig","topP"],l);const d=_(e,["topK"]);t!==void 0&&d!=null&&b(t,["setup","generationConfig","topK"],d);const p=_(e,["maxOutputTokens"]);t!==void 0&&p!=null&&b(t,["setup","generationConfig","maxOutputTokens"],p);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&b(t,["setup","generationConfig","mediaResolution"],u);const g=_(e,["seed"]);t!==void 0&&g!=null&&b(t,["setup","generationConfig","seed"],g);const h=_(e,["speechConfig"]);t!==void 0&&h!=null&&b(t,["setup","generationConfig","speechConfig"],aw(h));const y=_(e,["thinkingConfig"]);t!==void 0&&y!=null&&b(t,["setup","generationConfig","thinkingConfig"],y);const v=_(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&b(t,["setup","generationConfig","enableAffectiveDialog"],v);const S=_(e,["systemInstruction"]);t!==void 0&&S!=null&&b(t,["setup","systemInstruction"],coe(sn(S)));const k=_(e,["tools"]);if(t!==void 0&&k!=null){let I=Uc(k);Array.isArray(I)&&(I=I.map(D=>Aoe(Bc(D)))),b(t,["setup","tools"],I)}const C=_(e,["sessionResumption"]);t!==void 0&&C!=null&&b(t,["setup","sessionResumption"],Toe(C));const T=_(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&b(t,["setup","inputAudioTranscription"],T);const N=_(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&b(t,["setup","outputAudioTranscription"],N);const E=_(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&b(t,["setup","realtimeInputConfig"],E);const O=_(e,["contextWindowCompression"]);t!==void 0&&O!=null&&b(t,["setup","contextWindowCompression"],O);const P=_(e,["proactivity"]);if(t!==void 0&&P!=null&&b(t,["setup","proactivity"],P),_(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function yoe(e,t){const i={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&b(t,["setup","generationConfig"],foe(n));const r=_(e,["responseModalities"]);t!==void 0&&r!=null&&b(t,["setup","generationConfig","responseModalities"],r);const s=_(e,["temperature"]);t!==void 0&&s!=null&&b(t,["setup","generationConfig","temperature"],s);const l=_(e,["topP"]);t!==void 0&&l!=null&&b(t,["setup","generationConfig","topP"],l);const d=_(e,["topK"]);t!==void 0&&d!=null&&b(t,["setup","generationConfig","topK"],d);const p=_(e,["maxOutputTokens"]);t!==void 0&&p!=null&&b(t,["setup","generationConfig","maxOutputTokens"],p);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&b(t,["setup","generationConfig","mediaResolution"],u);const g=_(e,["seed"]);t!==void 0&&g!=null&&b(t,["setup","generationConfig","seed"],g);const h=_(e,["speechConfig"]);t!==void 0&&h!=null&&b(t,["setup","generationConfig","speechConfig"],aw(h));const y=_(e,["thinkingConfig"]);t!==void 0&&y!=null&&b(t,["setup","generationConfig","thinkingConfig"],y);const v=_(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&b(t,["setup","generationConfig","enableAffectiveDialog"],v);const S=_(e,["systemInstruction"]);t!==void 0&&S!=null&&b(t,["setup","systemInstruction"],sn(S));const k=_(e,["tools"]);if(t!==void 0&&k!=null){let D=Uc(k);Array.isArray(D)&&(D=D.map(B=>Eoe(Bc(B)))),b(t,["setup","tools"],D)}const C=_(e,["sessionResumption"]);t!==void 0&&C!=null&&b(t,["setup","sessionResumption"],C);const T=_(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&b(t,["setup","inputAudioTranscription"],T);const N=_(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&b(t,["setup","outputAudioTranscription"],N);const E=_(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&b(t,["setup","realtimeInputConfig"],E);const O=_(e,["contextWindowCompression"]);t!==void 0&&O!=null&&b(t,["setup","contextWindowCompression"],O);const P=_(e,["proactivity"]);t!==void 0&&P!=null&&b(t,["setup","proactivity"],P);const I=_(e,["explicitVadSignal"]);return t!==void 0&&I!=null&&b(t,["setup","explicitVadSignal"],I),i}function _oe(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["setup","model"],St(e,n));const r=_(t,["config"]);return r!=null&&b(i,["config"],moe(r,i)),i}function voe(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["setup","model"],St(e,n));const r=_(t,["config"]);return r!=null&&b(i,["config"],yoe(r,i)),i}function boe(e){const t={},i=_(e,["musicGenerationConfig"]);return i!=null&&b(t,["musicGenerationConfig"],i),t}function xoe(e){const t={},i=_(e,["weightedPrompts"]);if(i!=null){let n=i;Array.isArray(n)&&(n=n.map(r=>r)),b(t,["weightedPrompts"],n)}return t}function koe(e){const t={},i=_(e,["media"]);if(i!=null){let u=CK(i);Array.isArray(u)&&(u=u.map(g=>Sg(g))),b(t,["mediaChunks"],u)}const n=_(e,["audio"]);n!=null&&b(t,["audio"],Sg(AK(n)));const r=_(e,["audioStreamEnd"]);r!=null&&b(t,["audioStreamEnd"],r);const s=_(e,["video"]);s!=null&&b(t,["video"],Sg(TK(s)));const l=_(e,["text"]);l!=null&&b(t,["text"],l);const d=_(e,["activityStart"]);d!=null&&b(t,["activityStart"],d);const p=_(e,["activityEnd"]);return p!=null&&b(t,["activityEnd"],p),t}function Soe(e){const t={},i=_(e,["media"]);if(i!=null){let u=CK(i);Array.isArray(u)&&(u=u.map(g=>g)),b(t,["mediaChunks"],u)}const n=_(e,["audio"]);n!=null&&b(t,["audio"],AK(n));const r=_(e,["audioStreamEnd"]);r!=null&&b(t,["audioStreamEnd"],r);const s=_(e,["video"]);s!=null&&b(t,["video"],TK(s));const l=_(e,["text"]);l!=null&&b(t,["text"],l);const d=_(e,["activityStart"]);d!=null&&b(t,["activityStart"],d);const p=_(e,["activityEnd"]);return p!=null&&b(t,["activityEnd"],p),t}function woe(e){const t={},i=_(e,["setupComplete"]);i!=null&&b(t,["setupComplete"],i);const n=_(e,["serverContent"]);n!=null&&b(t,["serverContent"],n);const r=_(e,["toolCall"]);r!=null&&b(t,["toolCall"],r);const s=_(e,["toolCallCancellation"]);s!=null&&b(t,["toolCallCancellation"],s);const l=_(e,["usageMetadata"]);l!=null&&b(t,["usageMetadata"],Noe(l));const d=_(e,["goAway"]);d!=null&&b(t,["goAway"],d);const p=_(e,["sessionResumptionUpdate"]);p!=null&&b(t,["sessionResumptionUpdate"],p);const u=_(e,["voiceActivityDetectionSignal"]);u!=null&&b(t,["voiceActivityDetectionSignal"],u);const g=_(e,["voiceActivity"]);return g!=null&&b(t,["voiceActivity"],Moe(g)),t}function Coe(e){const t={},i=_(e,["mediaResolution"]);i!=null&&b(t,["mediaResolution"],i);const n=_(e,["codeExecutionResult"]);n!=null&&b(t,["codeExecutionResult"],n);const r=_(e,["executableCode"]);r!=null&&b(t,["executableCode"],r);const s=_(e,["fileData"]);s!=null&&b(t,["fileData"],doe(s));const l=_(e,["functionCall"]);l!=null&&b(t,["functionCall"],uoe(l));const d=_(e,["functionResponse"]);d!=null&&b(t,["functionResponse"],d);const p=_(e,["inlineData"]);p!=null&&b(t,["inlineData"],Sg(p));const u=_(e,["text"]);u!=null&&b(t,["text"],u);const g=_(e,["thought"]);g!=null&&b(t,["thought"],g);const h=_(e,["thoughtSignature"]);h!=null&&b(t,["thoughtSignature"],h);const y=_(e,["videoMetadata"]);return y!=null&&b(t,["videoMetadata"],y),t}function Toe(e){const t={},i=_(e,["handle"]);if(i!=null&&b(t,["handle"],i),_(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Aoe(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=_(e,["computerUse"]);i!=null&&b(t,["computerUse"],i);const n=_(e,["fileSearch"]);n!=null&&b(t,["fileSearch"],n);const r=_(e,["codeExecution"]);if(r!=null&&b(t,["codeExecution"],r),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=_(e,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(h=>h)),b(t,["functionDeclarations"],g)}const l=_(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],goe(l));const d=_(e,["googleSearch"]);d!=null&&b(t,["googleSearch"],hoe(d));const p=_(e,["googleSearchRetrieval"]);p!=null&&b(t,["googleSearchRetrieval"],p);const u=_(e,["urlContext"]);return u!=null&&b(t,["urlContext"],u),t}function Eoe(e){const t={},i=_(e,["retrieval"]);i!=null&&b(t,["retrieval"],i);const n=_(e,["computerUse"]);if(n!=null&&b(t,["computerUse"],n),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=_(e,["codeExecution"]);r!=null&&b(t,["codeExecution"],r);const s=_(e,["enterpriseWebSearch"]);s!=null&&b(t,["enterpriseWebSearch"],s);const l=_(e,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>poe(y))),b(t,["functionDeclarations"],h)}const d=_(e,["googleMaps"]);d!=null&&b(t,["googleMaps"],d);const p=_(e,["googleSearch"]);p!=null&&b(t,["googleSearch"],p);const u=_(e,["googleSearchRetrieval"]);u!=null&&b(t,["googleSearchRetrieval"],u);const g=_(e,["urlContext"]);return g!=null&&b(t,["urlContext"],g),t}function Noe(e){const t={},i=_(e,["promptTokenCount"]);i!=null&&b(t,["promptTokenCount"],i);const n=_(e,["cachedContentTokenCount"]);n!=null&&b(t,["cachedContentTokenCount"],n);const r=_(e,["candidatesTokenCount"]);r!=null&&b(t,["responseTokenCount"],r);const s=_(e,["toolUsePromptTokenCount"]);s!=null&&b(t,["toolUsePromptTokenCount"],s);const l=_(e,["thoughtsTokenCount"]);l!=null&&b(t,["thoughtsTokenCount"],l);const d=_(e,["totalTokenCount"]);d!=null&&b(t,["totalTokenCount"],d);const p=_(e,["promptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(S=>S)),b(t,["promptTokensDetails"],v)}const u=_(e,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),b(t,["cacheTokensDetails"],v)}const g=_(e,["candidatesTokensDetails"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(S=>S)),b(t,["responseTokensDetails"],v)}const h=_(e,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(S=>S)),b(t,["toolUsePromptTokensDetails"],v)}const y=_(e,["trafficType"]);return y!=null&&b(t,["trafficType"],y),t}function Moe(e){const t={},i=_(e,["type"]);return i!=null&&b(t,["voiceActivityType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Poe(e,t){const i={},n=_(e,["data"]);if(n!=null&&b(i,["data"],n),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["mimeType"]);return r!=null&&b(i,["mimeType"],r),i}function Ioe(e,t){const i={},n=_(e,["content"]);n!=null&&b(i,["content"],n);const r=_(e,["citationMetadata"]);r!=null&&b(i,["citationMetadata"],Ooe(r));const s=_(e,["tokenCount"]);s!=null&&b(i,["tokenCount"],s);const l=_(e,["finishReason"]);l!=null&&b(i,["finishReason"],l);const d=_(e,["avgLogprobs"]);d!=null&&b(i,["avgLogprobs"],d);const p=_(e,["groundingMetadata"]);p!=null&&b(i,["groundingMetadata"],p);const u=_(e,["index"]);u!=null&&b(i,["index"],u);const g=_(e,["logprobsResult"]);g!=null&&b(i,["logprobsResult"],g);const h=_(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(S=>S)),b(i,["safetyRatings"],v)}const y=_(e,["urlContextMetadata"]);return y!=null&&b(i,["urlContextMetadata"],y),i}function Ooe(e,t){const i={},n=_(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),b(i,["citations"],r)}return i}function Loe(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["contents"]);if(s!=null){let l=ma(s);Array.isArray(l)&&(l=l.map(d=>d)),b(n,["contents"],l)}return n}function Roe(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(i,["tokensInfo"],s)}return i}function Doe(e,t){const i={},n=_(e,["values"]);n!=null&&b(i,["values"],n);const r=_(e,["statistics"]);return r!=null&&b(i,["statistics"],joe(r)),i}function joe(e,t){const i={},n=_(e,["truncated"]);n!=null&&b(i,["truncated"],n);const r=_(e,["token_count"]);return r!=null&&b(i,["tokenCount"],r),i}function Cm(e,t){const i={},n=_(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Hle(l))),b(i,["parts"],s)}const r=_(e,["role"]);return r!=null&&b(i,["role"],r),i}function Koe(e,t){const i={},n=_(e,["controlType"]);n!=null&&b(i,["controlType"],n);const r=_(e,["enableControlImageComputation"]);return r!=null&&b(i,["computeControl"],r),i}function Foe(e,t){const i={};if(_(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(_(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(_(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function Boe(e,t,i){const n={},r=_(e,["systemInstruction"]);t!==void 0&&r!=null&&b(t,["systemInstruction"],sn(r));const s=_(e,["tools"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>UK(p))),b(t,["tools"],d)}const l=_(e,["generationConfig"]);return t!==void 0&&l!=null&&b(t,["generationConfig"],Ple(l)),n}function Uoe(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["contents"]);if(s!=null){let d=ma(s);Array.isArray(d)&&(d=d.map(p=>Cm(p))),b(n,["contents"],d)}const l=_(t,["config"]);return l!=null&&Foe(l),n}function qoe(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["contents"]);if(s!=null){let d=ma(s);Array.isArray(d)&&(d=d.map(p=>p)),b(n,["contents"],d)}const l=_(t,["config"]);return l!=null&&Boe(l,n),n}function zoe(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["totalTokens"]);r!=null&&b(i,["totalTokens"],r);const s=_(e,["cachedContentTokenCount"]);return s!=null&&b(i,["cachedContentTokenCount"],s),i}function Woe(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["totalTokens"]);return r!=null&&b(i,["totalTokens"],r),i}function Voe(e,t,i){const n={},r=_(t,["model"]);return r!=null&&b(n,["_url","name"],St(e,r)),n}function Hoe(e,t,i){const n={},r=_(t,["model"]);return r!=null&&b(n,["_url","name"],St(e,r)),n}function Goe(e,t){const i={},n=_(e,["sdkHttpResponse"]);return n!=null&&b(i,["sdkHttpResponse"],n),i}function $oe(e,t){const i={},n=_(e,["sdkHttpResponse"]);return n!=null&&b(i,["sdkHttpResponse"],n),i}function Yoe(e,t,i){const n={},r=_(e,["outputGcsUri"]);t!==void 0&&r!=null&&b(t,["parameters","storageUri"],r);const s=_(e,["negativePrompt"]);t!==void 0&&s!=null&&b(t,["parameters","negativePrompt"],s);const l=_(e,["numberOfImages"]);t!==void 0&&l!=null&&b(t,["parameters","sampleCount"],l);const d=_(e,["aspectRatio"]);t!==void 0&&d!=null&&b(t,["parameters","aspectRatio"],d);const p=_(e,["guidanceScale"]);t!==void 0&&p!=null&&b(t,["parameters","guidanceScale"],p);const u=_(e,["seed"]);t!==void 0&&u!=null&&b(t,["parameters","seed"],u);const g=_(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&b(t,["parameters","safetySetting"],g);const h=_(e,["personGeneration"]);t!==void 0&&h!=null&&b(t,["parameters","personGeneration"],h);const y=_(e,["includeSafetyAttributes"]);t!==void 0&&y!=null&&b(t,["parameters","includeSafetyAttributes"],y);const v=_(e,["includeRaiReason"]);t!==void 0&&v!=null&&b(t,["parameters","includeRaiReason"],v);const S=_(e,["language"]);t!==void 0&&S!=null&&b(t,["parameters","language"],S);const k=_(e,["outputMimeType"]);t!==void 0&&k!=null&&b(t,["parameters","outputOptions","mimeType"],k);const C=_(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&b(t,["parameters","outputOptions","compressionQuality"],C);const T=_(e,["addWatermark"]);t!==void 0&&T!=null&&b(t,["parameters","addWatermark"],T);const N=_(e,["labels"]);t!==void 0&&N!=null&&b(t,["labels"],N);const E=_(e,["editMode"]);t!==void 0&&E!=null&&b(t,["parameters","editMode"],E);const O=_(e,["baseSteps"]);return t!==void 0&&O!=null&&b(t,["parameters","editConfig","baseSteps"],O),n}function Qoe(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const l=_(t,["referenceImages"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(u=>Jle(u))),b(n,["instances[0]","referenceImages"],p)}const d=_(t,["config"]);return d!=null&&Yoe(d,n),n}function Xoe(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Tm(l))),b(i,["generatedImages"],s)}return i}function Joe(e,t,i){const n={},r=_(e,["taskType"]);t!==void 0&&r!=null&&b(t,["requests[]","taskType"],r);const s=_(e,["title"]);t!==void 0&&s!=null&&b(t,["requests[]","title"],s);const l=_(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&b(t,["requests[]","outputDimensionality"],l),_(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Zoe(e,t,i){const n={},r=_(e,["taskType"]);t!==void 0&&r!=null&&b(t,["instances[]","task_type"],r);const s=_(e,["title"]);t!==void 0&&s!=null&&b(t,["instances[]","title"],s);const l=_(e,["outputDimensionality"]);t!==void 0&&l!=null&&b(t,["parameters","outputDimensionality"],l);const d=_(e,["mimeType"]);t!==void 0&&d!=null&&b(t,["instances[]","mimeType"],d);const p=_(e,["autoTruncate"]);return t!==void 0&&p!=null&&b(t,["parameters","autoTruncate"],p),n}function ele(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["contents"]);if(s!=null){let p=tw(e,s);Array.isArray(p)&&(p=p.map(u=>u)),b(n,["requests[]","content"],p)}const l=_(t,["config"]);l!=null&&Joe(l,n);const d=_(t,["model"]);return d!==void 0&&b(n,["requests[]","model"],St(e,d)),n}function tle(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["contents"]);if(s!=null){let d=tw(e,s);Array.isArray(d)&&(d=d.map(p=>p)),b(n,["instances[]","content"],d)}const l=_(t,["config"]);return l!=null&&Zoe(l,n),n}function ile(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(d=>d)),b(i,["embeddings"],l)}const s=_(e,["metadata"]);return s!=null&&b(i,["metadata"],s),i}function nle(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(d=>Doe(d))),b(i,["embeddings"],l)}const s=_(e,["metadata"]);return s!=null&&b(i,["metadata"],s),i}function ale(e,t){const i={},n=_(e,["endpoint"]);n!=null&&b(i,["name"],n);const r=_(e,["deployedModelId"]);return r!=null&&b(i,["deployedModelId"],r),i}function rle(e,t){const i={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["fileUri"]);n!=null&&b(i,["fileUri"],n);const r=_(e,["mimeType"]);return r!=null&&b(i,["mimeType"],r),i}function sle(e,t){const i={},n=_(e,["id"]);n!=null&&b(i,["id"],n);const r=_(e,["args"]);r!=null&&b(i,["args"],r);const s=_(e,["name"]);if(s!=null&&b(i,["name"],s),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function ole(e,t){const i={},n=_(e,["allowedFunctionNames"]);n!=null&&b(i,["allowedFunctionNames"],n);const r=_(e,["mode"]);if(r!=null&&b(i,["mode"],r),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function lle(e,t){const i={},n=_(e,["description"]);n!=null&&b(i,["description"],n);const r=_(e,["name"]);r!=null&&b(i,["name"],r);const s=_(e,["parameters"]);s!=null&&b(i,["parameters"],s);const l=_(e,["parametersJsonSchema"]);l!=null&&b(i,["parametersJsonSchema"],l);const d=_(e,["response"]);d!=null&&b(i,["response"],d);const p=_(e,["responseJsonSchema"]);if(p!=null&&b(i,["responseJsonSchema"],p),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function cle(e,t,i,n){const r={},s=_(t,["systemInstruction"]);i!==void 0&&s!=null&&b(i,["systemInstruction"],Cm(sn(s)));const l=_(t,["temperature"]);l!=null&&b(r,["temperature"],l);const d=_(t,["topP"]);d!=null&&b(r,["topP"],d);const p=_(t,["topK"]);p!=null&&b(r,["topK"],p);const u=_(t,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const g=_(t,["maxOutputTokens"]);g!=null&&b(r,["maxOutputTokens"],g);const h=_(t,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const y=_(t,["responseLogprobs"]);y!=null&&b(r,["responseLogprobs"],y);const v=_(t,["logprobs"]);v!=null&&b(r,["logprobs"],v);const S=_(t,["presencePenalty"]);S!=null&&b(r,["presencePenalty"],S);const k=_(t,["frequencyPenalty"]);k!=null&&b(r,["frequencyPenalty"],k);const C=_(t,["seed"]);C!=null&&b(r,["seed"],C);const T=_(t,["responseMimeType"]);T!=null&&b(r,["responseMimeType"],T);const N=_(t,["responseSchema"]);N!=null&&b(r,["responseSchema"],iw(N));const E=_(t,["responseJsonSchema"]);if(E!=null&&b(r,["responseJsonSchema"],E),_(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=_(t,["safetySettings"]);if(i!==void 0&&O!=null){let X=O;Array.isArray(X)&&(X=X.map(se=>Zle(se))),b(i,["safetySettings"],X)}const P=_(t,["tools"]);if(i!==void 0&&P!=null){let X=Uc(P);Array.isArray(X)&&(X=X.map(se=>sce(Bc(se)))),b(i,["tools"],X)}const I=_(t,["toolConfig"]);if(i!==void 0&&I!=null&&b(i,["toolConfig"],rce(I)),_(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=_(t,["cachedContent"]);i!==void 0&&D!=null&&b(i,["cachedContent"],rs(e,D));const B=_(t,["responseModalities"]);B!=null&&b(r,["responseModalities"],B);const V=_(t,["mediaResolution"]);V!=null&&b(r,["mediaResolution"],V);const U=_(t,["speechConfig"]);if(U!=null&&b(r,["speechConfig"],nw(U)),_(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=_(t,["thinkingConfig"]);W!=null&&b(r,["thinkingConfig"],W);const q=_(t,["imageConfig"]);q!=null&&b(r,["imageConfig"],Dle(q));const pe=_(t,["enableEnhancedCivicAnswers"]);if(pe!=null&&b(r,["enableEnhancedCivicAnswers"],pe),_(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function dle(e,t,i,n){const r={},s=_(t,["systemInstruction"]);i!==void 0&&s!=null&&b(i,["systemInstruction"],sn(s));const l=_(t,["temperature"]);l!=null&&b(r,["temperature"],l);const d=_(t,["topP"]);d!=null&&b(r,["topP"],d);const p=_(t,["topK"]);p!=null&&b(r,["topK"],p);const u=_(t,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const g=_(t,["maxOutputTokens"]);g!=null&&b(r,["maxOutputTokens"],g);const h=_(t,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const y=_(t,["responseLogprobs"]);y!=null&&b(r,["responseLogprobs"],y);const v=_(t,["logprobs"]);v!=null&&b(r,["logprobs"],v);const S=_(t,["presencePenalty"]);S!=null&&b(r,["presencePenalty"],S);const k=_(t,["frequencyPenalty"]);k!=null&&b(r,["frequencyPenalty"],k);const C=_(t,["seed"]);C!=null&&b(r,["seed"],C);const T=_(t,["responseMimeType"]);T!=null&&b(r,["responseMimeType"],T);const N=_(t,["responseSchema"]);N!=null&&b(r,["responseSchema"],iw(N));const E=_(t,["responseJsonSchema"]);E!=null&&b(r,["responseJsonSchema"],E);const O=_(t,["routingConfig"]);O!=null&&b(r,["routingConfig"],O);const P=_(t,["modelSelectionConfig"]);P!=null&&b(r,["modelConfig"],P);const I=_(t,["safetySettings"]);if(i!==void 0&&I!=null){let Q=I;Array.isArray(Q)&&(Q=Q.map(de=>de)),b(i,["safetySettings"],Q)}const D=_(t,["tools"]);if(i!==void 0&&D!=null){let Q=Uc(D);Array.isArray(Q)&&(Q=Q.map(de=>UK(Bc(de)))),b(i,["tools"],Q)}const B=_(t,["toolConfig"]);i!==void 0&&B!=null&&b(i,["toolConfig"],B);const V=_(t,["labels"]);i!==void 0&&V!=null&&b(i,["labels"],V);const U=_(t,["cachedContent"]);i!==void 0&&U!=null&&b(i,["cachedContent"],rs(e,U));const W=_(t,["responseModalities"]);W!=null&&b(r,["responseModalities"],W);const q=_(t,["mediaResolution"]);q!=null&&b(r,["mediaResolution"],q);const pe=_(t,["speechConfig"]);pe!=null&&b(r,["speechConfig"],nw(pe));const X=_(t,["audioTimestamp"]);X!=null&&b(r,["audioTimestamp"],X);const se=_(t,["thinkingConfig"]);se!=null&&b(r,["thinkingConfig"],se);const K=_(t,["imageConfig"]);if(K!=null&&b(r,["imageConfig"],jle(K)),_(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=_(t,["modelArmorConfig"]);return i!==void 0&&z!=null&&b(i,["modelArmorConfig"],z),r}function FO(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["contents"]);if(s!=null){let d=ma(s);Array.isArray(d)&&(d=d.map(p=>Cm(p))),b(n,["contents"],d)}const l=_(t,["config"]);return l!=null&&b(n,["generationConfig"],cle(e,l,n)),n}function BO(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["contents"]);if(s!=null){let d=ma(s);Array.isArray(d)&&(d=d.map(p=>p)),b(n,["contents"],d)}const l=_(t,["config"]);return l!=null&&b(n,["generationConfig"],dle(e,l,n)),n}function UO(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(g=>Ioe(g))),b(i,["candidates"],u)}const s=_(e,["modelVersion"]);s!=null&&b(i,["modelVersion"],s);const l=_(e,["promptFeedback"]);l!=null&&b(i,["promptFeedback"],l);const d=_(e,["responseId"]);d!=null&&b(i,["responseId"],d);const p=_(e,["usageMetadata"]);return p!=null&&b(i,["usageMetadata"],p),i}function qO(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(h=>h)),b(i,["candidates"],g)}const s=_(e,["createTime"]);s!=null&&b(i,["createTime"],s);const l=_(e,["modelVersion"]);l!=null&&b(i,["modelVersion"],l);const d=_(e,["promptFeedback"]);d!=null&&b(i,["promptFeedback"],d);const p=_(e,["responseId"]);p!=null&&b(i,["responseId"],p);const u=_(e,["usageMetadata"]);return u!=null&&b(i,["usageMetadata"],u),i}function ule(e,t,i){const n={};if(_(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=_(e,["numberOfImages"]);t!==void 0&&r!=null&&b(t,["parameters","sampleCount"],r);const s=_(e,["aspectRatio"]);t!==void 0&&s!=null&&b(t,["parameters","aspectRatio"],s);const l=_(e,["guidanceScale"]);if(t!==void 0&&l!=null&&b(t,["parameters","guidanceScale"],l),_(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=_(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&b(t,["parameters","safetySetting"],d);const p=_(e,["personGeneration"]);t!==void 0&&p!=null&&b(t,["parameters","personGeneration"],p);const u=_(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&b(t,["parameters","includeSafetyAttributes"],u);const g=_(e,["includeRaiReason"]);t!==void 0&&g!=null&&b(t,["parameters","includeRaiReason"],g);const h=_(e,["language"]);t!==void 0&&h!=null&&b(t,["parameters","language"],h);const y=_(e,["outputMimeType"]);t!==void 0&&y!=null&&b(t,["parameters","outputOptions","mimeType"],y);const v=_(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&b(t,["parameters","outputOptions","compressionQuality"],v),_(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=_(e,["imageSize"]);if(t!==void 0&&S!=null&&b(t,["parameters","sampleImageSize"],S),_(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ple(e,t,i){const n={},r=_(e,["outputGcsUri"]);t!==void 0&&r!=null&&b(t,["parameters","storageUri"],r);const s=_(e,["negativePrompt"]);t!==void 0&&s!=null&&b(t,["parameters","negativePrompt"],s);const l=_(e,["numberOfImages"]);t!==void 0&&l!=null&&b(t,["parameters","sampleCount"],l);const d=_(e,["aspectRatio"]);t!==void 0&&d!=null&&b(t,["parameters","aspectRatio"],d);const p=_(e,["guidanceScale"]);t!==void 0&&p!=null&&b(t,["parameters","guidanceScale"],p);const u=_(e,["seed"]);t!==void 0&&u!=null&&b(t,["parameters","seed"],u);const g=_(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&b(t,["parameters","safetySetting"],g);const h=_(e,["personGeneration"]);t!==void 0&&h!=null&&b(t,["parameters","personGeneration"],h);const y=_(e,["includeSafetyAttributes"]);t!==void 0&&y!=null&&b(t,["parameters","includeSafetyAttributes"],y);const v=_(e,["includeRaiReason"]);t!==void 0&&v!=null&&b(t,["parameters","includeRaiReason"],v);const S=_(e,["language"]);t!==void 0&&S!=null&&b(t,["parameters","language"],S);const k=_(e,["outputMimeType"]);t!==void 0&&k!=null&&b(t,["parameters","outputOptions","mimeType"],k);const C=_(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&b(t,["parameters","outputOptions","compressionQuality"],C);const T=_(e,["addWatermark"]);t!==void 0&&T!=null&&b(t,["parameters","addWatermark"],T);const N=_(e,["labels"]);t!==void 0&&N!=null&&b(t,["labels"],N);const E=_(e,["imageSize"]);t!==void 0&&E!=null&&b(t,["parameters","sampleImageSize"],E);const O=_(e,["enhancePrompt"]);return t!==void 0&&O!=null&&b(t,["parameters","enhancePrompt"],O),n}function fle(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const l=_(t,["config"]);return l!=null&&ule(l,n),n}function gle(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const l=_(t,["config"]);return l!=null&&ple(l,n),n}function hle(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(d=>Ale(d))),b(i,["generatedImages"],l)}const s=_(e,["positivePromptSafetyAttributes"]);return s!=null&&b(i,["positivePromptSafetyAttributes"],FK(s)),i}function mle(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(d=>Tm(d))),b(i,["generatedImages"],l)}const s=_(e,["positivePromptSafetyAttributes"]);return s!=null&&b(i,["positivePromptSafetyAttributes"],BK(s)),i}function yle(e,t,i){const n={},r=_(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&b(t,["parameters","sampleCount"],r),_(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=_(e,["durationSeconds"]);if(t!==void 0&&s!=null&&b(t,["parameters","durationSeconds"],s),_(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=_(e,["aspectRatio"]);t!==void 0&&l!=null&&b(t,["parameters","aspectRatio"],l);const d=_(e,["resolution"]);t!==void 0&&d!=null&&b(t,["parameters","resolution"],d);const p=_(e,["personGeneration"]);if(t!==void 0&&p!=null&&b(t,["parameters","personGeneration"],p),_(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=_(e,["negativePrompt"]);t!==void 0&&u!=null&&b(t,["parameters","negativePrompt"],u);const g=_(e,["enhancePrompt"]);if(t!==void 0&&g!=null&&b(t,["parameters","enhancePrompt"],g),_(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=_(e,["lastFrame"]);t!==void 0&&h!=null&&b(t,["instances[0]","lastFrame"],Am(h));const y=_(e,["referenceImages"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>vce(S))),b(t,["instances[0]","referenceImages"],v)}if(_(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(_(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function _le(e,t,i){const n={},r=_(e,["numberOfVideos"]);t!==void 0&&r!=null&&b(t,["parameters","sampleCount"],r);const s=_(e,["outputGcsUri"]);t!==void 0&&s!=null&&b(t,["parameters","storageUri"],s);const l=_(e,["fps"]);t!==void 0&&l!=null&&b(t,["parameters","fps"],l);const d=_(e,["durationSeconds"]);t!==void 0&&d!=null&&b(t,["parameters","durationSeconds"],d);const p=_(e,["seed"]);t!==void 0&&p!=null&&b(t,["parameters","seed"],p);const u=_(e,["aspectRatio"]);t!==void 0&&u!=null&&b(t,["parameters","aspectRatio"],u);const g=_(e,["resolution"]);t!==void 0&&g!=null&&b(t,["parameters","resolution"],g);const h=_(e,["personGeneration"]);t!==void 0&&h!=null&&b(t,["parameters","personGeneration"],h);const y=_(e,["pubsubTopic"]);t!==void 0&&y!=null&&b(t,["parameters","pubsubTopic"],y);const v=_(e,["negativePrompt"]);t!==void 0&&v!=null&&b(t,["parameters","negativePrompt"],v);const S=_(e,["enhancePrompt"]);t!==void 0&&S!=null&&b(t,["parameters","enhancePrompt"],S);const k=_(e,["generateAudio"]);t!==void 0&&k!=null&&b(t,["parameters","generateAudio"],k);const C=_(e,["lastFrame"]);t!==void 0&&C!=null&&b(t,["instances[0]","lastFrame"],Ba(C));const T=_(e,["referenceImages"]);if(t!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(P=>bce(P))),b(t,["instances[0]","referenceImages"],O)}const N=_(e,["mask"]);t!==void 0&&N!=null&&b(t,["instances[0]","mask"],_ce(N));const E=_(e,["compressionQuality"]);return t!==void 0&&E!=null&&b(t,["parameters","compressionQuality"],E),n}function vle(e,t){const i={},n=_(e,["name"]);n!=null&&b(i,["name"],n);const r=_(e,["metadata"]);r!=null&&b(i,["metadata"],r);const s=_(e,["done"]);s!=null&&b(i,["done"],s);const l=_(e,["error"]);l!=null&&b(i,["error"],l);const d=_(e,["response","generateVideoResponse"]);return d!=null&&b(i,["response"],Sle(d)),i}function ble(e,t){const i={},n=_(e,["name"]);n!=null&&b(i,["name"],n);const r=_(e,["metadata"]);r!=null&&b(i,["metadata"],r);const s=_(e,["done"]);s!=null&&b(i,["done"],s);const l=_(e,["error"]);l!=null&&b(i,["error"],l);const d=_(e,["response"]);return d!=null&&b(i,["response"],wle(d)),i}function xle(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const l=_(t,["image"]);l!=null&&b(n,["instances[0]","image"],Am(l));const d=_(t,["video"]);d!=null&&b(n,["instances[0]","video"],qK(d));const p=_(t,["source"]);p!=null&&Cle(p,n);const u=_(t,["config"]);return u!=null&&yle(u,n),n}function kle(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const l=_(t,["image"]);l!=null&&b(n,["instances[0]","image"],Ba(l));const d=_(t,["video"]);d!=null&&b(n,["instances[0]","video"],zK(d));const p=_(t,["source"]);p!=null&&Tle(p,n);const u=_(t,["config"]);return u!=null&&_le(u,n),n}function Sle(e,t){const i={},n=_(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(d=>Nle(d))),b(i,["generatedVideos"],l)}const r=_(e,["raiMediaFilteredCount"]);r!=null&&b(i,["raiMediaFilteredCount"],r);const s=_(e,["raiMediaFilteredReasons"]);return s!=null&&b(i,["raiMediaFilteredReasons"],s),i}function wle(e,t){const i={},n=_(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(d=>Mle(d))),b(i,["generatedVideos"],l)}const r=_(e,["raiMediaFilteredCount"]);r!=null&&b(i,["raiMediaFilteredCount"],r);const s=_(e,["raiMediaFilteredReasons"]);return s!=null&&b(i,["raiMediaFilteredReasons"],s),i}function Cle(e,t,i){const n={},r=_(e,["prompt"]);t!==void 0&&r!=null&&b(t,["instances[0]","prompt"],r);const s=_(e,["image"]);t!==void 0&&s!=null&&b(t,["instances[0]","image"],Am(s));const l=_(e,["video"]);return t!==void 0&&l!=null&&b(t,["instances[0]","video"],qK(l)),n}function Tle(e,t,i){const n={},r=_(e,["prompt"]);t!==void 0&&r!=null&&b(t,["instances[0]","prompt"],r);const s=_(e,["image"]);t!==void 0&&s!=null&&b(t,["instances[0]","image"],Ba(s));const l=_(e,["video"]);return t!==void 0&&l!=null&&b(t,["instances[0]","video"],zK(l)),n}function Ale(e,t){const i={},n=_(e,["_self"]);n!=null&&b(i,["image"],Kle(n));const r=_(e,["raiFilteredReason"]);r!=null&&b(i,["raiFilteredReason"],r);const s=_(e,["_self"]);return s!=null&&b(i,["safetyAttributes"],FK(s)),i}function Tm(e,t){const i={},n=_(e,["_self"]);n!=null&&b(i,["image"],KK(n));const r=_(e,["raiFilteredReason"]);r!=null&&b(i,["raiFilteredReason"],r);const s=_(e,["_self"]);s!=null&&b(i,["safetyAttributes"],BK(s));const l=_(e,["prompt"]);return l!=null&&b(i,["enhancedPrompt"],l),i}function Ele(e,t){const i={},n=_(e,["_self"]);n!=null&&b(i,["mask"],KK(n));const r=_(e,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(i,["labels"],s)}return i}function Nle(e,t){const i={},n=_(e,["video"]);return n!=null&&b(i,["video"],mce(n)),i}function Mle(e,t){const i={},n=_(e,["_self"]);return n!=null&&b(i,["video"],yce(n)),i}function Ple(e,t){const i={},n=_(e,["modelSelectionConfig"]);n!=null&&b(i,["modelConfig"],n);const r=_(e,["responseJsonSchema"]);r!=null&&b(i,["responseJsonSchema"],r);const s=_(e,["audioTimestamp"]);s!=null&&b(i,["audioTimestamp"],s);const l=_(e,["candidateCount"]);l!=null&&b(i,["candidateCount"],l);const d=_(e,["enableAffectiveDialog"]);d!=null&&b(i,["enableAffectiveDialog"],d);const p=_(e,["frequencyPenalty"]);p!=null&&b(i,["frequencyPenalty"],p);const u=_(e,["logprobs"]);u!=null&&b(i,["logprobs"],u);const g=_(e,["maxOutputTokens"]);g!=null&&b(i,["maxOutputTokens"],g);const h=_(e,["mediaResolution"]);h!=null&&b(i,["mediaResolution"],h);const y=_(e,["presencePenalty"]);y!=null&&b(i,["presencePenalty"],y);const v=_(e,["responseLogprobs"]);v!=null&&b(i,["responseLogprobs"],v);const S=_(e,["responseMimeType"]);S!=null&&b(i,["responseMimeType"],S);const k=_(e,["responseModalities"]);k!=null&&b(i,["responseModalities"],k);const C=_(e,["responseSchema"]);C!=null&&b(i,["responseSchema"],C);const T=_(e,["routingConfig"]);T!=null&&b(i,["routingConfig"],T);const N=_(e,["seed"]);N!=null&&b(i,["seed"],N);const E=_(e,["speechConfig"]);E!=null&&b(i,["speechConfig"],E);const O=_(e,["stopSequences"]);O!=null&&b(i,["stopSequences"],O);const P=_(e,["temperature"]);P!=null&&b(i,["temperature"],P);const I=_(e,["thinkingConfig"]);I!=null&&b(i,["thinkingConfig"],I);const D=_(e,["topK"]);D!=null&&b(i,["topK"],D);const B=_(e,["topP"]);if(B!=null&&b(i,["topP"],B),_(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Ile(e,t,i){const n={},r=_(t,["model"]);return r!=null&&b(n,["_url","name"],St(e,r)),n}function Ole(e,t,i){const n={},r=_(t,["model"]);return r!=null&&b(n,["_url","name"],St(e,r)),n}function Lle(e,t){const i={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(e,["enableWidget"]);return n!=null&&b(i,["enableWidget"],n),i}function Rle(e,t){const i={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(e,["timeRangeFilter"]);return n!=null&&b(i,["timeRangeFilter"],n),i}function Dle(e,t){const i={},n=_(e,["aspectRatio"]);n!=null&&b(i,["aspectRatio"],n);const r=_(e,["imageSize"]);if(r!=null&&b(i,["imageSize"],r),_(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(_(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function jle(e,t){const i={},n=_(e,["aspectRatio"]);n!=null&&b(i,["aspectRatio"],n);const r=_(e,["imageSize"]);r!=null&&b(i,["imageSize"],r);const s=_(e,["personGeneration"]);s!=null&&b(i,["personGeneration"],s);const l=_(e,["outputMimeType"]);l!=null&&b(i,["imageOutputOptions","mimeType"],l);const d=_(e,["outputCompressionQuality"]);return d!=null&&b(i,["imageOutputOptions","compressionQuality"],d),i}function Kle(e,t){const i={},n=_(e,["bytesBase64Encoded"]);n!=null&&b(i,["imageBytes"],Ws(n));const r=_(e,["mimeType"]);return r!=null&&b(i,["mimeType"],r),i}function KK(e,t){const i={},n=_(e,["gcsUri"]);n!=null&&b(i,["gcsUri"],n);const r=_(e,["bytesBase64Encoded"]);r!=null&&b(i,["imageBytes"],Ws(r));const s=_(e,["mimeType"]);return s!=null&&b(i,["mimeType"],s),i}function Am(e,t){const i={};if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=_(e,["imageBytes"]);n!=null&&b(i,["bytesBase64Encoded"],Ws(n));const r=_(e,["mimeType"]);return r!=null&&b(i,["mimeType"],r),i}function Ba(e,t){const i={},n=_(e,["gcsUri"]);n!=null&&b(i,["gcsUri"],n);const r=_(e,["imageBytes"]);r!=null&&b(i,["bytesBase64Encoded"],Ws(r));const s=_(e,["mimeType"]);return s!=null&&b(i,["mimeType"],s),i}function Fle(e,t,i,n){const r={},s=_(t,["pageSize"]);i!==void 0&&s!=null&&b(i,["_query","pageSize"],s);const l=_(t,["pageToken"]);i!==void 0&&l!=null&&b(i,["_query","pageToken"],l);const d=_(t,["filter"]);i!==void 0&&d!=null&&b(i,["_query","filter"],d);const p=_(t,["queryBase"]);return i!==void 0&&p!=null&&b(i,["_url","models_url"],PK(e,p)),r}function Ble(e,t,i,n){const r={},s=_(t,["pageSize"]);i!==void 0&&s!=null&&b(i,["_query","pageSize"],s);const l=_(t,["pageToken"]);i!==void 0&&l!=null&&b(i,["_query","pageToken"],l);const d=_(t,["filter"]);i!==void 0&&d!=null&&b(i,["_query","filter"],d);const p=_(t,["queryBase"]);return i!==void 0&&p!=null&&b(i,["_url","models_url"],PK(e,p)),r}function Ule(e,t,i){const n={},r=_(t,["config"]);return r!=null&&Fle(e,r,n),n}function qle(e,t,i){const n={},r=_(t,["config"]);return r!=null&&Ble(e,r,n),n}function zle(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["nextPageToken"]);r!=null&&b(i,["nextPageToken"],r);const s=_(e,["_self"]);if(s!=null){let l=IK(s);Array.isArray(l)&&(l=l.map(d=>x0(d))),b(i,["models"],l)}return i}function Wle(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["nextPageToken"]);r!=null&&b(i,["nextPageToken"],r);const s=_(e,["_self"]);if(s!=null){let l=IK(s);Array.isArray(l)&&(l=l.map(d=>k0(d))),b(i,["models"],l)}return i}function Vle(e,t){const i={},n=_(e,["maskMode"]);n!=null&&b(i,["maskMode"],n);const r=_(e,["segmentationClasses"]);r!=null&&b(i,["maskClasses"],r);const s=_(e,["maskDilation"]);return s!=null&&b(i,["dilation"],s),i}function x0(e,t){const i={},n=_(e,["name"]);n!=null&&b(i,["name"],n);const r=_(e,["displayName"]);r!=null&&b(i,["displayName"],r);const s=_(e,["description"]);s!=null&&b(i,["description"],s);const l=_(e,["version"]);l!=null&&b(i,["version"],l);const d=_(e,["_self"]);d!=null&&b(i,["tunedModelInfo"],oce(d));const p=_(e,["inputTokenLimit"]);p!=null&&b(i,["inputTokenLimit"],p);const u=_(e,["outputTokenLimit"]);u!=null&&b(i,["outputTokenLimit"],u);const g=_(e,["supportedGenerationMethods"]);g!=null&&b(i,["supportedActions"],g);const h=_(e,["temperature"]);h!=null&&b(i,["temperature"],h);const y=_(e,["maxTemperature"]);y!=null&&b(i,["maxTemperature"],y);const v=_(e,["topP"]);v!=null&&b(i,["topP"],v);const S=_(e,["topK"]);S!=null&&b(i,["topK"],S);const k=_(e,["thinking"]);return k!=null&&b(i,["thinking"],k),i}function k0(e,t){const i={},n=_(e,["name"]);n!=null&&b(i,["name"],n);const r=_(e,["displayName"]);r!=null&&b(i,["displayName"],r);const s=_(e,["description"]);s!=null&&b(i,["description"],s);const l=_(e,["versionId"]);l!=null&&b(i,["version"],l);const d=_(e,["deployedModels"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>ale(v))),b(i,["endpoints"],y)}const p=_(e,["labels"]);p!=null&&b(i,["labels"],p);const u=_(e,["_self"]);u!=null&&b(i,["tunedModelInfo"],lce(u));const g=_(e,["defaultCheckpointId"]);g!=null&&b(i,["defaultCheckpointId"],g);const h=_(e,["checkpoints"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(v=>v)),b(i,["checkpoints"],y)}return i}function Hle(e,t){const i={},n=_(e,["mediaResolution"]);n!=null&&b(i,["mediaResolution"],n);const r=_(e,["codeExecutionResult"]);r!=null&&b(i,["codeExecutionResult"],r);const s=_(e,["executableCode"]);s!=null&&b(i,["executableCode"],s);const l=_(e,["fileData"]);l!=null&&b(i,["fileData"],rle(l));const d=_(e,["functionCall"]);d!=null&&b(i,["functionCall"],sle(d));const p=_(e,["functionResponse"]);p!=null&&b(i,["functionResponse"],p);const u=_(e,["inlineData"]);u!=null&&b(i,["inlineData"],Poe(u));const g=_(e,["text"]);g!=null&&b(i,["text"],g);const h=_(e,["thought"]);h!=null&&b(i,["thought"],h);const y=_(e,["thoughtSignature"]);y!=null&&b(i,["thoughtSignature"],y);const v=_(e,["videoMetadata"]);return v!=null&&b(i,["videoMetadata"],v),i}function Gle(e,t){const i={},n=_(e,["productImage"]);return n!=null&&b(i,["image"],Ba(n)),i}function $le(e,t,i){const n={},r=_(e,["numberOfImages"]);t!==void 0&&r!=null&&b(t,["parameters","sampleCount"],r);const s=_(e,["baseSteps"]);t!==void 0&&s!=null&&b(t,["parameters","baseSteps"],s);const l=_(e,["outputGcsUri"]);t!==void 0&&l!=null&&b(t,["parameters","storageUri"],l);const d=_(e,["seed"]);t!==void 0&&d!=null&&b(t,["parameters","seed"],d);const p=_(e,["safetyFilterLevel"]);t!==void 0&&p!=null&&b(t,["parameters","safetySetting"],p);const u=_(e,["personGeneration"]);t!==void 0&&u!=null&&b(t,["parameters","personGeneration"],u);const g=_(e,["addWatermark"]);t!==void 0&&g!=null&&b(t,["parameters","addWatermark"],g);const h=_(e,["outputMimeType"]);t!==void 0&&h!=null&&b(t,["parameters","outputOptions","mimeType"],h);const y=_(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&b(t,["parameters","outputOptions","compressionQuality"],y);const v=_(e,["enhancePrompt"]);t!==void 0&&v!=null&&b(t,["parameters","enhancePrompt"],v);const S=_(e,["labels"]);return t!==void 0&&S!=null&&b(t,["labels"],S),n}function Yle(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["source"]);s!=null&&Xle(s,n);const l=_(t,["config"]);return l!=null&&$le(l,n),n}function Qle(e,t){const i={},n=_(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Tm(s))),b(i,["generatedImages"],r)}return i}function Xle(e,t,i){const n={},r=_(e,["prompt"]);t!==void 0&&r!=null&&b(t,["instances[0]","prompt"],r);const s=_(e,["personImage"]);t!==void 0&&s!=null&&b(t,["instances[0]","personImage","image"],Ba(s));const l=_(e,["productImages"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>Gle(p))),b(t,["instances[0]","productImages"],d)}return n}function Jle(e,t){const i={},n=_(e,["referenceImage"]);n!=null&&b(i,["referenceImage"],Ba(n));const r=_(e,["referenceId"]);r!=null&&b(i,["referenceId"],r);const s=_(e,["referenceType"]);s!=null&&b(i,["referenceType"],s);const l=_(e,["maskImageConfig"]);l!=null&&b(i,["maskImageConfig"],Vle(l));const d=_(e,["controlImageConfig"]);d!=null&&b(i,["controlImageConfig"],Koe(d));const p=_(e,["styleImageConfig"]);p!=null&&b(i,["styleImageConfig"],p);const u=_(e,["subjectImageConfig"]);return u!=null&&b(i,["subjectImageConfig"],u),i}function FK(e,t){const i={},n=_(e,["safetyAttributes","categories"]);n!=null&&b(i,["categories"],n);const r=_(e,["safetyAttributes","scores"]);r!=null&&b(i,["scores"],r);const s=_(e,["contentType"]);return s!=null&&b(i,["contentType"],s),i}function BK(e,t){const i={},n=_(e,["safetyAttributes","categories"]);n!=null&&b(i,["categories"],n);const r=_(e,["safetyAttributes","scores"]);r!=null&&b(i,["scores"],r);const s=_(e,["contentType"]);return s!=null&&b(i,["contentType"],s),i}function Zle(e,t){const i={},n=_(e,["category"]);if(n!=null&&b(i,["category"],n),_(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=_(e,["threshold"]);return r!=null&&b(i,["threshold"],r),i}function ece(e,t){const i={},n=_(e,["image"]);return n!=null&&b(i,["image"],Ba(n)),i}function tce(e,t,i){const n={},r=_(e,["mode"]);t!==void 0&&r!=null&&b(t,["parameters","mode"],r);const s=_(e,["maxPredictions"]);t!==void 0&&s!=null&&b(t,["parameters","maxPredictions"],s);const l=_(e,["confidenceThreshold"]);t!==void 0&&l!=null&&b(t,["parameters","confidenceThreshold"],l);const d=_(e,["maskDilation"]);t!==void 0&&d!=null&&b(t,["parameters","maskDilation"],d);const p=_(e,["binaryColorThreshold"]);t!==void 0&&p!=null&&b(t,["parameters","binaryColorThreshold"],p);const u=_(e,["labels"]);return t!==void 0&&u!=null&&b(t,["labels"],u),n}function ice(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["source"]);s!=null&&ace(s,n);const l=_(t,["config"]);return l!=null&&tce(l,n),n}function nce(e,t){const i={},n=_(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Ele(s))),b(i,["generatedMasks"],r)}return i}function ace(e,t,i){const n={},r=_(e,["prompt"]);t!==void 0&&r!=null&&b(t,["instances[0]","prompt"],r);const s=_(e,["image"]);t!==void 0&&s!=null&&b(t,["instances[0]","image"],Ba(s));const l=_(e,["scribbleImage"]);return t!==void 0&&l!=null&&b(t,["instances[0]","scribble"],ece(l)),n}function rce(e,t){const i={},n=_(e,["retrievalConfig"]);n!=null&&b(i,["retrievalConfig"],n);const r=_(e,["functionCallingConfig"]);return r!=null&&b(i,["functionCallingConfig"],ole(r)),i}function sce(e,t){const i={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(e,["computerUse"]);n!=null&&b(i,["computerUse"],n);const r=_(e,["fileSearch"]);r!=null&&b(i,["fileSearch"],r);const s=_(e,["codeExecution"]);if(s!=null&&b(i,["codeExecution"],s),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=_(e,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>y)),b(i,["functionDeclarations"],h)}const d=_(e,["googleMaps"]);d!=null&&b(i,["googleMaps"],Lle(d));const p=_(e,["googleSearch"]);p!=null&&b(i,["googleSearch"],Rle(p));const u=_(e,["googleSearchRetrieval"]);u!=null&&b(i,["googleSearchRetrieval"],u);const g=_(e,["urlContext"]);return g!=null&&b(i,["urlContext"],g),i}function UK(e,t){const i={},n=_(e,["retrieval"]);n!=null&&b(i,["retrieval"],n);const r=_(e,["computerUse"]);if(r!=null&&b(i,["computerUse"],r),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=_(e,["codeExecution"]);s!=null&&b(i,["codeExecution"],s);const l=_(e,["enterpriseWebSearch"]);l!=null&&b(i,["enterpriseWebSearch"],l);const d=_(e,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>lle(v))),b(i,["functionDeclarations"],y)}const p=_(e,["googleMaps"]);p!=null&&b(i,["googleMaps"],p);const u=_(e,["googleSearch"]);u!=null&&b(i,["googleSearch"],u);const g=_(e,["googleSearchRetrieval"]);g!=null&&b(i,["googleSearchRetrieval"],g);const h=_(e,["urlContext"]);return h!=null&&b(i,["urlContext"],h),i}function oce(e,t){const i={},n=_(e,["baseModel"]);n!=null&&b(i,["baseModel"],n);const r=_(e,["createTime"]);r!=null&&b(i,["createTime"],r);const s=_(e,["updateTime"]);return s!=null&&b(i,["updateTime"],s),i}function lce(e,t){const i={},n=_(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(i,["baseModel"],n);const r=_(e,["createTime"]);r!=null&&b(i,["createTime"],r);const s=_(e,["updateTime"]);return s!=null&&b(i,["updateTime"],s),i}function cce(e,t,i){const n={},r=_(e,["displayName"]);t!==void 0&&r!=null&&b(t,["displayName"],r);const s=_(e,["description"]);t!==void 0&&s!=null&&b(t,["description"],s);const l=_(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&b(t,["defaultCheckpointId"],l),n}function dce(e,t,i){const n={},r=_(e,["displayName"]);t!==void 0&&r!=null&&b(t,["displayName"],r);const s=_(e,["description"]);t!==void 0&&s!=null&&b(t,["description"],s);const l=_(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&b(t,["defaultCheckpointId"],l),n}function uce(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","name"],St(e,r));const s=_(t,["config"]);return s!=null&&cce(s,n),n}function pce(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["config"]);return s!=null&&dce(s,n),n}function fce(e,t,i){const n={},r=_(e,["outputGcsUri"]);t!==void 0&&r!=null&&b(t,["parameters","storageUri"],r);const s=_(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&b(t,["parameters","safetySetting"],s);const l=_(e,["personGeneration"]);t!==void 0&&l!=null&&b(t,["parameters","personGeneration"],l);const d=_(e,["includeRaiReason"]);t!==void 0&&d!=null&&b(t,["parameters","includeRaiReason"],d);const p=_(e,["outputMimeType"]);t!==void 0&&p!=null&&b(t,["parameters","outputOptions","mimeType"],p);const u=_(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&b(t,["parameters","outputOptions","compressionQuality"],u);const g=_(e,["enhanceInputImage"]);t!==void 0&&g!=null&&b(t,["parameters","upscaleConfig","enhanceInputImage"],g);const h=_(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&b(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const y=_(e,["labels"]);t!==void 0&&y!=null&&b(t,["labels"],y);const v=_(e,["numberOfImages"]);t!==void 0&&v!=null&&b(t,["parameters","sampleCount"],v);const S=_(e,["mode"]);return t!==void 0&&S!=null&&b(t,["parameters","mode"],S),n}function gce(e,t,i){const n={},r=_(t,["model"]);r!=null&&b(n,["_url","model"],St(e,r));const s=_(t,["image"]);s!=null&&b(n,["instances[0]","image"],Ba(s));const l=_(t,["upscaleFactor"]);l!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],l);const d=_(t,["config"]);return d!=null&&fce(d,n),n}function hce(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Tm(l))),b(i,["generatedImages"],s)}return i}function mce(e,t){const i={},n=_(e,["uri"]);n!=null&&b(i,["uri"],n);const r=_(e,["encodedVideo"]);r!=null&&b(i,["videoBytes"],Ws(r));const s=_(e,["encoding"]);return s!=null&&b(i,["mimeType"],s),i}function yce(e,t){const i={},n=_(e,["gcsUri"]);n!=null&&b(i,["uri"],n);const r=_(e,["bytesBase64Encoded"]);r!=null&&b(i,["videoBytes"],Ws(r));const s=_(e,["mimeType"]);return s!=null&&b(i,["mimeType"],s),i}function _ce(e,t){const i={},n=_(e,["image"]);n!=null&&b(i,["_self"],Ba(n));const r=_(e,["maskMode"]);return r!=null&&b(i,["maskMode"],r),i}function vce(e,t){const i={},n=_(e,["image"]);n!=null&&b(i,["image"],Am(n));const r=_(e,["referenceType"]);return r!=null&&b(i,["referenceType"],r),i}function bce(e,t){const i={},n=_(e,["image"]);n!=null&&b(i,["image"],Ba(n));const r=_(e,["referenceType"]);return r!=null&&b(i,["referenceType"],r),i}function qK(e,t){const i={},n=_(e,["uri"]);n!=null&&b(i,["uri"],n);const r=_(e,["videoBytes"]);r!=null&&b(i,["encodedVideo"],Ws(r));const s=_(e,["mimeType"]);return s!=null&&b(i,["encoding"],s),i}function zK(e,t){const i={},n=_(e,["uri"]);n!=null&&b(i,["gcsUri"],n);const r=_(e,["videoBytes"]);r!=null&&b(i,["bytesBase64Encoded"],Ws(r));const s=_(e,["mimeType"]);return s!=null&&b(i,["mimeType"],s),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xce(e,t){const i={},n=_(e,["displayName"]);return t!==void 0&&n!=null&&b(t,["displayName"],n),i}function kce(e){const t={},i=_(e,["config"]);return i!=null&&xce(i,t),t}function Sce(e,t){const i={},n=_(e,["force"]);return t!==void 0&&n!=null&&b(t,["_query","force"],n),i}function wce(e){const t={},i=_(e,["name"]);i!=null&&b(t,["_url","name"],i);const n=_(e,["config"]);return n!=null&&Sce(n,t),t}function Cce(e){const t={},i=_(e,["name"]);return i!=null&&b(t,["_url","name"],i),t}function Tce(e,t){const i={},n=_(e,["customMetadata"]);if(t!==void 0&&n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>l)),b(t,["customMetadata"],s)}const r=_(e,["chunkingConfig"]);return t!==void 0&&r!=null&&b(t,["chunkingConfig"],r),i}function Ace(e){const t={},i=_(e,["name"]);i!=null&&b(t,["name"],i);const n=_(e,["metadata"]);n!=null&&b(t,["metadata"],n);const r=_(e,["done"]);r!=null&&b(t,["done"],r);const s=_(e,["error"]);s!=null&&b(t,["error"],s);const l=_(e,["response"]);return l!=null&&b(t,["response"],Nce(l)),t}function Ece(e){const t={},i=_(e,["fileSearchStoreName"]);i!=null&&b(t,["_url","file_search_store_name"],i);const n=_(e,["fileName"]);n!=null&&b(t,["fileName"],n);const r=_(e,["config"]);return r!=null&&Tce(r,t),t}function Nce(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["parent"]);n!=null&&b(t,["parent"],n);const r=_(e,["documentName"]);return r!=null&&b(t,["documentName"],r),t}function Mce(e,t){const i={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&b(t,["_query","pageSize"],n);const r=_(e,["pageToken"]);return t!==void 0&&r!=null&&b(t,["_query","pageToken"],r),i}function Pce(e){const t={},i=_(e,["config"]);return i!=null&&Mce(i,t),t}function Ice(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["nextPageToken"]);n!=null&&b(t,["nextPageToken"],n);const r=_(e,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(t,["fileSearchStores"],s)}return t}function WK(e,t){const i={},n=_(e,["mimeType"]);t!==void 0&&n!=null&&b(t,["mimeType"],n);const r=_(e,["displayName"]);t!==void 0&&r!=null&&b(t,["displayName"],r);const s=_(e,["customMetadata"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),b(t,["customMetadata"],d)}const l=_(e,["chunkingConfig"]);return t!==void 0&&l!=null&&b(t,["chunkingConfig"],l),i}function Oce(e){const t={},i=_(e,["fileSearchStoreName"]);i!=null&&b(t,["_url","file_search_store_name"],i);const n=_(e,["config"]);return n!=null&&WK(n,t),t}function Lce(e){const t={},i=_(e,["sdkHttpResponse"]);return i!=null&&b(t,["sdkHttpResponse"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rce="Content-Type",Dce="X-Server-Timeout",jce="User-Agent",S0="x-goog-api-client",Kce="1.40.0",Fce=`google-genai-sdk/${Kce}`,Bce="v1beta1",Uce="v1beta";class qce{constructor(t){var i,n,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(i=t.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const d=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!d?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Bce}else{if(!this.clientOptions.apiKey)throw new Wu({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Uce,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),i=new URL(t);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,i,n){const r=[this.getRequestUrlInternal(i)];return n&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,i){return!(i.baseUrl&&i.baseUrlResourceScope===y0.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,i),r=this.constructUrl(t.path,i,n);if(t.queryParams)for(const[l,d]of Object.entries(t.queryParams))r.searchParams.append(l,String(d));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,i,r.toString(),t.abortSignal),this.unaryApiCall(r,s,t.httpMethod)}patchHttpOptions(t,i){const n=JSON.parse(JSON.stringify(t));for(const[r,s]of Object.entries(i))typeof s=="object"?n[r]=Object.assign(Object.assign({},n[r]),s):s!==void 0&&(n[r]=s);return n}async requestStream(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,i),r=this.constructUrl(t.path,i,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,i,r.toString(),t.abortSignal),this.streamApiCall(r,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,i,n,r){if(i&&i.timeout||r){const s=new AbortController,l=s.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const d=setTimeout(()=>s.abort(),i.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),t.signal=l}return i&&i.extraBody!==null&&zce(t,i.extraBody),t.headers=await this.getHeadersInternal(i,n),t}async unaryApiCall(t,i,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:n})).then(async r=>(await zO(r),new _0(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,i,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:n})).then(async r=>(await zO(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return La(this,arguments,function*(){var n;const r=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const d="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:g}=yield rt(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=s.decode(g,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const k=JSON.parse(JSON.stringify(S.error)),C=k.status,T=k.code,N=`got status: ${C}. ${JSON.stringify(S)}`;if(T>=400&&T<600)throw new Wu({message:N,status:T})}}catch(S){if(S.name==="ApiError")throw S}l+=h;let y=-1,v=0;for(;;){y=-1,v=0;for(const C of p){const T=l.indexOf(C);T!==-1&&(y===-1||T<y)&&(y=T,v=C.length)}if(y===-1)break;const S=l.substring(0,y);l=l.substring(y+v);const k=S.trim();if(k.startsWith(d)){const C=k.substring(d.length).trim();try{const T=new Response(C,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield rt(new _0(T))}catch(T){throw new Error(`exception parsing stream chunk ${C}. ${T}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,i){return fetch(t,i).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},i=Fce+" "+this.clientOptions.userAgentExtra;return t[jce]=i,t[S0]=i,t[Rce]="application/json",t}async getHeadersInternal(t,i){const n=new Headers;if(t&&t.headers){for(const[r,s]of Object.entries(t.headers))n.append(r,s);t.timeout&&t.timeout>0&&n.append(Dce,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,i),n}getFileName(t){var i;let n="";return typeof t=="string"&&(n=t.replace(/[/\\]+$/,""),n=(i=n.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),n}async uploadFile(t,i){var n;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,l=await s.stat(t);r.sizeBytes=String(l.size);const d=(n=i==null?void 0:i.mimeType)!==null&&n!==void 0?n:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const p={file:r},u=this.getFileName(t),g=Ue("upload/v1beta/files",p._url),h=await this.fetchUploadUrl(g,r.sizeBytes,r.mimeType,u,p,i==null?void 0:i.httpOptions);return s.upload(t,h,this)}async uploadFileToFileSearchStore(t,i,n){var r;const s=this.clientOptions.uploader,l=await s.stat(i),d=String(l.size),p=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,g=this.getFileName(i),h={};n!=null&&WK(n,h);const y=await this.fetchUploadUrl(u,d,p,g,h,n==null?void 0:n.httpOptions);return s.uploadToFileSearchStore(i,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,i,n,r,s,l){var d;let p={};l?p=l:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:p});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(d=u==null?void 0:u.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function zO(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const i=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(n);throw i>=400&&i<600?new Wu({message:r,status:i}):new Error(r)}}function zce(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))i=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(s,l){const d=Object.assign({},s);for(const p in l)if(Object.prototype.hasOwnProperty.call(l,p)){const u=l[p],g=d[p];u&&typeof u=="object"&&!Array.isArray(u)&&g&&typeof g=="object"&&!Array.isArray(g)?d[p]=n(g,u):(g&&u&&typeof g!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof u}. Overwriting.`),d[p]=u)}return d}const r=n(i,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wce="mcp_used/unknown";let Vce=!1;function VK(e){for(const t of e)if(Hce(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Vce}function HK(e){var t;const i=(t=e[S0])!==null&&t!==void 0?t:"";e[S0]=(i+` ${Wce}`).trimStart()}function Hce(e){return e!==null&&typeof e=="object"&&e instanceof rw}function Gce(e){return La(this,arguments,function*(i,n=100){let r,s=0;for(;s<n;){const l=yield rt(i.listTools({cursor:r}));for(const d of l.tools)yield yield rt(d),s++;if(!l.nextCursor)break;r=l.nextCursor}})}class rw{constructor(t=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=i}static create(t,i){return new rw(t,i)}async initialize(){var t,i,n,r;if(this.mcpTools.length>0)return;const s={},l=[];for(const g of this.mcpClients)try{for(var d=!0,p=(i=void 0,Ra(Gce(g))),u;u=await p.next(),t=u.done,!t;d=!0){r=u.value,d=!1;const h=r;l.push(h);const y=h.name;if(s[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);s[y]=g}}catch(h){i={error:h}}finally{try{!d&&!t&&(n=p.return)&&await n.call(p)}finally{if(i)throw i.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),kre(this.mcpTools,this.config)}async callTool(t){await this.initialize();const i=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[n.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await r.callTool({name:n.name,arguments:n.args},void 0,s);i.push({functionResponse:{name:n.name,response:l.isError?{error:l}:l}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $ce(e,t,i){const n=new gre;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(n,r),t(n)}class Yce{constructor(t,i,n){this.apiClient=t,this.auth=i,this.webSocketFactory=n}async connect(t){var i,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=Jce(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${d}`;let u=()=>{};const g=new Promise(E=>{u=E}),h=t.callbacks,y=function(){u({})},v=this.apiClient,S={onopen:y,onmessage:E=>{$ce(v,h.onmessage,E)},onerror:(i=h==null?void 0:h.onerror)!==null&&i!==void 0?i:function(E){},onclose:(n=h==null?void 0:h.onclose)!==null&&n!==void 0?n:function(E){}},k=this.webSocketFactory.create(p,Xce(l),S);k.connect(),await g;const N={setup:{model:St(this.apiClient,t.model)}};return k.send(JSON.stringify(N)),new Qce(k,this.apiClient)}}class Qce{constructor(t,i){this.conn=t,this.apiClient=i}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=xoe(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const i=boe(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const i={playbackControl:t};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(ec.PLAY)}pause(){this.sendPlaybackControl(ec.PAUSE)}stop(){this.sendPlaybackControl(ec.STOP)}resetContext(){this.sendPlaybackControl(ec.RESET_CONTEXT)}close(){this.conn.close()}}function Xce(e){const t={};return e.forEach((i,n)=>{t[n]=i}),t}function Jce(e){const t=new Headers;for(const[i,n]of Object.entries(e))t.append(i,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zce="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ede(e,t,i){const n=new fre;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const s=JSON.parse(r);if(e.isVertexAI()){const l=woe(s);Object.assign(n,l)}else Object.assign(n,s);t(n)}class tde{constructor(t,i,n){this.apiClient=t,this.auth=i,this.webSocketFactory=n,this.music=new Yce(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var i,n,r,s,l,d;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let g;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&VK(t.config.tools)&&HK(h);const y=rde(h);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),U=this.apiClient.getLocation(),W=this.apiClient.getApiKey(),q=!!V&&!!U||!!W;this.apiClient.getCustomBaseUrl()&&!q?g=p:(g=`${p}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,g))}else{const V=this.apiClient.getApiKey();let U="BidiGenerateContent",W="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",W="access_token"),g=`${p}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${W}=${V}`}let v=()=>{};const S=new Promise(V=>{v=V}),k=t.callbacks,C=function(){var V;(V=k==null?void 0:k.onopen)===null||V===void 0||V.call(k),v({})},T=this.apiClient,N={onopen:C,onmessage:V=>{ede(T,k.onmessage,V)},onerror:(i=k==null?void 0:k.onerror)!==null&&i!==void 0?i:function(V){},onclose:(n=k==null?void 0:k.onclose)!==null&&n!==void 0?n:function(V){}},E=this.webSocketFactory.create(g,ade(y),N);E.connect(),await S;let O=St(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const V=this.apiClient.getProject(),U=this.apiClient.getLocation();V&&U&&(O=`projects/${V}/locations/${U}/`+O)}let P={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[vh.AUDIO]}:t.config.responseModalities=[vh.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(d=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&d!==void 0?d:[],D=[];for(const V of I)if(this.isCallableTool(V)){const U=V;D.push(await U.tool())}else D.push(V);D.length>0&&(t.config.tools=D);const B={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?P=voe(this.apiClient,B):P=_oe(this.apiClient,B),delete P.config,E.send(JSON.stringify(P)),new nde(E,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ide={turnComplete:!0};class nde{constructor(t,i){this.conn=t,this.apiClient=i}tLiveClientContent(t,i){if(i.turns!==null&&i.turns!==void 0){let n=[];try{n=ma(i.turns),t.isVertexAI()||(n=n.map(r=>Cm(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:n,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(t,i){let n=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?n=i.functionResponses:n=[i.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(Zce)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},ide),t);const i=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendRealtimeInput(t){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Soe(t)}:i={realtimeInput:koe(t)},this.conn.send(JSON.stringify(i))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function ade(e){const t={};return e.forEach((i,n)=>{t[n]=i}),t}function rde(e){const t=new Headers;for(const[i,n]of Object.entries(e))t.append(i,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WO=10;function VO(e){var t,i,n;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const l of(i=e==null?void 0:e.tools)!==null&&i!==void 0?i:[])if(oc(l)){r=!0;break}if(!r)return!0;const s=(n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function oc(e){return"callTool"in e&&typeof e.callTool=="function"}function sde(e){var t,i,n;return(n=(i=(t=e.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(r=>oc(r)))!==null&&n!==void 0?n:!1}function HO(e){var t;const i=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((n,r)=>{if(oc(n))return;const s=n;s.functionDeclarations&&s.functionDeclarations.length>0&&i.push(r)}),i}function GO(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ode extends as{constructor(t){super(),this.apiClient=t,this.generateContent=async i=>{var n,r,s,l,d;const p=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!sde(i)||VO(i.config))return await this.generateContentInternal(p);const u=HO(i);if(u.length>0){const k=u.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let g,h;const y=ma(p.contents),v=(s=(r=(n=p.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:WO;let S=0;for(;S<v&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const k=g.candidates[0].content,C=[];for(const T of(d=(l=i.config)===null||l===void 0?void 0:l.tools)!==null&&d!==void 0?d:[])if(oc(T)){const E=await T.callTool(g.functionCalls);C.push(...E)}S++,h={role:"user",parts:C},p.contents=ma(p.contents),p.contents.push(k),p.contents.push(h),GO(p.config)&&(y.push(k),y.push(h))}return GO(p.config)&&(g.automaticFunctionCallingHistory=y),g},this.generateContentStream=async i=>{var n,r,s,l,d;if(this.maybeMoveToResponseJsonSchem(i),VO(i.config)){const h=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(h)}const p=HO(i);if(p.length>0){const h=p.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(r=(n=i==null?void 0:i.config)===null||n===void 0?void 0:n.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,g=(d=(l=i==null?void 0:i.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(u&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(n=>{var r;let s;const l=[];if(n!=null&&n.generatedImages)for(const p of n.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=p==null?void 0:p.safetyAttributes:l.push(p);let d;return s?d={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:n.sdkHttpResponse}:d={generatedImages:l,sdkHttpResponse:n.sdkHttpResponse},d}),this.list=async i=>{var n;const l={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((n=l.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Yo($r.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(l),l)},this.editImage=async i=>{const n={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(n.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async i=>{let n={numberOfImages:1,mode:"upscale"};i.config&&(n=Object.assign(Object.assign({},n),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:n};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var n,r,s,l,d,p;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=i.video)===null||n===void 0)&&n.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((l=(s=i.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((p=(d=i.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var i,n,r;const s=(i=t.config)===null||i===void 0?void 0:i.tools;if(!s)return t;const l=await Promise.all(s.map(async p=>oc(p)?await p.tool():p)),d={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(d.config.tools=l,t.config&&t.config.tools&&VK(t.config.tools)){const p=(r=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},p);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),HK(u),d.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return d}async initAfcToolsMap(t){var i,n,r;const s=new Map;for(const l of(n=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&n!==void 0?n:[])if(oc(l)){const d=l,p=await d.tool();for(const u of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,d)}}return s}async processAfcStream(t){var i,n,r;const s=(r=(n=(i=t.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&r!==void 0?r:WO;let l=!1,d=0;const p=await this.initAfcToolsMap(t);return(function(u,g,h){return La(this,arguments,function*(){for(var y,v,S,k,C,T;d<s;){l&&(d++,l=!1);const P=yield rt(u.processParamsMaybeAddMcpUsage(h)),I=yield rt(u.generateContentStreamInternal(P)),D=[],B=[];try{for(var N=!0,E=(v=void 0,Ra(I)),O;O=yield rt(E.next()),y=O.done,!y;N=!0){k=O.value,N=!1;const V=k;if(yield yield rt(V),V.candidates&&(!((C=V.candidates[0])===null||C===void 0)&&C.content)){B.push(V.candidates[0].content);for(const U of(T=V.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(d<s&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(U.functionCall.name)){const W=yield rt(g.get(U.functionCall.name).callTool([U.functionCall]));D.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(V){v={error:V}}finally{try{!N&&!y&&(S=E.return)&&(yield rt(S.call(E)))}finally{if(v)throw v.error}}if(D.length>0){l=!0;const V=new Wd;V.candidates=[{content:{role:"user",parts:D}}],yield yield rt(V);const U=[];U.push(...B),U.push({role:"user",parts:D});const W=ma(h.contents).concat(U);h.contents=W}else break}})})(this,p,t)}async generateContentInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=BO(this.apiClient,t);return d=Ue("{model}:generateContent",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=qO(g),y=new Wd;return Object.assign(y,h),y})}else{const u=FO(this.apiClient,t);return d=Ue("{model}:generateContent",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=UO(g),y=new Wd;return Object.assign(y,h),y})}}async generateContentStreamInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=BO(this.apiClient,t);return d=Ue("{model}:streamGenerateContent?alt=sse",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),l.then(function(h){return La(this,arguments,function*(){var y,v,S,k;try{for(var C=!0,T=Ra(h),N;N=yield rt(T.next()),y=N.done,!y;C=!0){k=N.value,C=!1;const E=k,O=qO(yield rt(E.json()),t);O.sdkHttpResponse={headers:E.headers};const P=new Wd;Object.assign(P,O),yield yield rt(P)}}catch(E){v={error:E}}finally{try{!C&&!y&&(S=T.return)&&(yield rt(S.call(T)))}finally{if(v)throw v.error}}})})}else{const u=FO(this.apiClient,t);return d=Ue("{model}:streamGenerateContent?alt=sse",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(h){return La(this,arguments,function*(){var y,v,S,k;try{for(var C=!0,T=Ra(h),N;N=yield rt(T.next()),y=N.done,!y;C=!0){k=N.value,C=!1;const E=k,O=UO(yield rt(E.json()),t);O.sdkHttpResponse={headers:E.headers};const P=new Wd;Object.assign(P,O),yield yield rt(P)}}catch(E){v={error:E}}finally{try{!C&&!y&&(S=T.return)&&(yield rt(S.call(T)))}finally{if(v)throw v.error}}})})}}async embedContent(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=tle(this.apiClient,t);return d=Ue("{model}:predict",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=nle(g),y=new kO;return Object.assign(y,h),y})}else{const u=ele(this.apiClient,t);return d=Ue("{model}:batchEmbedContents",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=ile(g),y=new kO;return Object.assign(y,h),y})}}async generateImagesInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=gle(this.apiClient,t);return d=Ue("{model}:predict",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=mle(g),y=new SO;return Object.assign(y,h),y})}else{const u=fle(this.apiClient,t);return d=Ue("{model}:predict",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=hle(g),y=new SO;return Object.assign(y,h),y})}}async editImageInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const d=Qoe(this.apiClient,t);return s=Ue("{model}:predict",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json().then(u=>{const g=u;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const u=Xoe(p),g=new tre;return Object.assign(g,u),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const d=gce(this.apiClient,t);return s=Ue("{model}:predict",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json().then(u=>{const g=u;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const u=hce(p),g=new ire;return Object.assign(g,u),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const d=Yle(this.apiClient,t);return s=Ue("{model}:predict",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=Qle(p),g=new nre;return Object.assign(g,u),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const d=ice(this.apiClient,t);return s=Ue("{model}:predict",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=nce(p),g=new are;return Object.assign(g,u),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Ole(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>k0(g))}else{const u=Ile(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>x0(g))}}async listInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=qle(this.apiClient,t);return d=Ue("{models_url}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=Wle(g),y=new wO;return Object.assign(y,h),y})}else{const u=Ule(this.apiClient,t);return d=Ue("{models_url}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=zle(g),y=new wO;return Object.assign(y,h),y})}}async update(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=pce(this.apiClient,t);return d=Ue("{model}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>k0(g))}else{const u=uce(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>x0(g))}}async delete(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Hoe(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=$oe(g),y=new CO;return Object.assign(y,h),y})}else{const u=Voe(this.apiClient,t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=Goe(g),y=new CO;return Object.assign(y,h),y})}}async countTokens(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=qoe(this.apiClient,t);return d=Ue("{model}:countTokens",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=Woe(g),y=new TO;return Object.assign(y,h),y})}else{const u=Uoe(this.apiClient,t);return d=Ue("{model}:countTokens",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=zoe(g),y=new TO;return Object.assign(y,h),y})}}async computeTokens(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const d=Loe(this.apiClient,t);return s=Ue("{model}:computeTokens",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json().then(u=>{const g=u;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const u=Roe(p),g=new rre;return Object.assign(g,u),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=kle(this.apiClient,t);return d=Ue("{model}:predictLongRunning",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l.then(g=>{const h=ble(g),y=new bh;return Object.assign(y,h),y})}else{const u=xle(this.apiClient,t);return d=Ue("{model}:predictLongRunning",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>{const h=vle(g),y=new bh;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lde extends as{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const i=t.operation,n=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:s}});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:n});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const i=t.operation,n=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:s}});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:n});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Yae(t);return d=Ue("{operationName}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),l}else{const u=$ae(t);return d=Ue("{operationName}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l}}async fetchPredictVideosOperationInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const d=Uae(t);return s=Ue("{resourceName}:fetchPredictOperation",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cde(e){const t={},i=_(e,["data"]);if(i!=null&&b(t,["data"],i),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function dde(e){const t={},i=_(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>vde(s))),b(t,["parts"],r)}const n=_(e,["role"]);return n!=null&&b(t,["role"],n),t}function ude(e,t,i){const n={},r=_(t,["expireTime"]);i!==void 0&&r!=null&&b(i,["expireTime"],r);const s=_(t,["newSessionExpireTime"]);i!==void 0&&s!=null&&b(i,["newSessionExpireTime"],s);const l=_(t,["uses"]);i!==void 0&&l!=null&&b(i,["uses"],l);const d=_(t,["liveConnectConstraints"]);i!==void 0&&d!=null&&b(i,["bidiGenerateContentSetup"],_de(e,d));const p=_(t,["lockAdditionalFields"]);return i!==void 0&&p!=null&&b(i,["fieldMask"],p),n}function pde(e,t){const i={},n=_(t,["config"]);return n!=null&&b(i,["config"],ude(e,n,i)),i}function fde(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=_(e,["fileUri"]);i!=null&&b(t,["fileUri"],i);const n=_(e,["mimeType"]);return n!=null&&b(t,["mimeType"],n),t}function gde(e){const t={},i=_(e,["id"]);i!=null&&b(t,["id"],i);const n=_(e,["args"]);n!=null&&b(t,["args"],n);const r=_(e,["name"]);if(r!=null&&b(t,["name"],r),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hde(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=_(e,["enableWidget"]);return i!=null&&b(t,["enableWidget"],i),t}function mde(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=_(e,["timeRangeFilter"]);return i!=null&&b(t,["timeRangeFilter"],i),t}function yde(e,t){const i={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&b(t,["setup","generationConfig"],n);const r=_(e,["responseModalities"]);t!==void 0&&r!=null&&b(t,["setup","generationConfig","responseModalities"],r);const s=_(e,["temperature"]);t!==void 0&&s!=null&&b(t,["setup","generationConfig","temperature"],s);const l=_(e,["topP"]);t!==void 0&&l!=null&&b(t,["setup","generationConfig","topP"],l);const d=_(e,["topK"]);t!==void 0&&d!=null&&b(t,["setup","generationConfig","topK"],d);const p=_(e,["maxOutputTokens"]);t!==void 0&&p!=null&&b(t,["setup","generationConfig","maxOutputTokens"],p);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&b(t,["setup","generationConfig","mediaResolution"],u);const g=_(e,["seed"]);t!==void 0&&g!=null&&b(t,["setup","generationConfig","seed"],g);const h=_(e,["speechConfig"]);t!==void 0&&h!=null&&b(t,["setup","generationConfig","speechConfig"],aw(h));const y=_(e,["thinkingConfig"]);t!==void 0&&y!=null&&b(t,["setup","generationConfig","thinkingConfig"],y);const v=_(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&b(t,["setup","generationConfig","enableAffectiveDialog"],v);const S=_(e,["systemInstruction"]);t!==void 0&&S!=null&&b(t,["setup","systemInstruction"],dde(sn(S)));const k=_(e,["tools"]);if(t!==void 0&&k!=null){let I=Uc(k);Array.isArray(I)&&(I=I.map(D=>xde(Bc(D)))),b(t,["setup","tools"],I)}const C=_(e,["sessionResumption"]);t!==void 0&&C!=null&&b(t,["setup","sessionResumption"],bde(C));const T=_(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&b(t,["setup","inputAudioTranscription"],T);const N=_(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&b(t,["setup","outputAudioTranscription"],N);const E=_(e,["realtimeInputConfig"]);t!==void 0&&E!=null&&b(t,["setup","realtimeInputConfig"],E);const O=_(e,["contextWindowCompression"]);t!==void 0&&O!=null&&b(t,["setup","contextWindowCompression"],O);const P=_(e,["proactivity"]);if(t!==void 0&&P!=null&&b(t,["setup","proactivity"],P),_(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function _de(e,t){const i={},n=_(t,["model"]);n!=null&&b(i,["setup","model"],St(e,n));const r=_(t,["config"]);return r!=null&&b(i,["config"],yde(r,i)),i}function vde(e){const t={},i=_(e,["mediaResolution"]);i!=null&&b(t,["mediaResolution"],i);const n=_(e,["codeExecutionResult"]);n!=null&&b(t,["codeExecutionResult"],n);const r=_(e,["executableCode"]);r!=null&&b(t,["executableCode"],r);const s=_(e,["fileData"]);s!=null&&b(t,["fileData"],fde(s));const l=_(e,["functionCall"]);l!=null&&b(t,["functionCall"],gde(l));const d=_(e,["functionResponse"]);d!=null&&b(t,["functionResponse"],d);const p=_(e,["inlineData"]);p!=null&&b(t,["inlineData"],cde(p));const u=_(e,["text"]);u!=null&&b(t,["text"],u);const g=_(e,["thought"]);g!=null&&b(t,["thought"],g);const h=_(e,["thoughtSignature"]);h!=null&&b(t,["thoughtSignature"],h);const y=_(e,["videoMetadata"]);return y!=null&&b(t,["videoMetadata"],y),t}function bde(e){const t={},i=_(e,["handle"]);if(i!=null&&b(t,["handle"],i),_(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xde(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=_(e,["computerUse"]);i!=null&&b(t,["computerUse"],i);const n=_(e,["fileSearch"]);n!=null&&b(t,["fileSearch"],n);const r=_(e,["codeExecution"]);if(r!=null&&b(t,["codeExecution"],r),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=_(e,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(h=>h)),b(t,["functionDeclarations"],g)}const l=_(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],hde(l));const d=_(e,["googleSearch"]);d!=null&&b(t,["googleSearch"],mde(d));const p=_(e,["googleSearchRetrieval"]);p!=null&&b(t,["googleSearchRetrieval"],p);const u=_(e,["urlContext"]);return u!=null&&b(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kde(e){const t=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const n=e[i];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const r=Object.keys(n).map(s=>`${i}.${s}`);t.push(...r)}else t.push(i)}return t.join(",")}function Sde(e,t){let i=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const s=n.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,i=s):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(i){const s=kde(i);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(u=>l.includes(u)?`generationConfig.${u}`:u));const p=[];s&&p.push(s),d.length>0&&p.push(...d),p.length>0?e.fieldMask=p.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class wde extends as{constructor(t){super(),this.apiClient=t}async create(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=pde(this.apiClient,t);s=Ue("auth_tokens",d._url),l=d._query,delete d.config,delete d._url,delete d._query;const p=Sde(d,t.config);return r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cde(e,t){const i={},n=_(e,["force"]);return t!==void 0&&n!=null&&b(t,["_query","force"],n),i}function Tde(e){const t={},i=_(e,["name"]);i!=null&&b(t,["_url","name"],i);const n=_(e,["config"]);return n!=null&&Cde(n,t),t}function Ade(e){const t={},i=_(e,["name"]);return i!=null&&b(t,["_url","name"],i),t}function Ede(e,t){const i={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&b(t,["_query","pageSize"],n);const r=_(e,["pageToken"]);return t!==void 0&&r!=null&&b(t,["_query","pageToken"],r),i}function Nde(e){const t={},i=_(e,["parent"]);i!=null&&b(t,["_url","parent"],i);const n=_(e,["config"]);return n!=null&&Ede(n,t),t}function Mde(e){const t={},i=_(e,["sdkHttpResponse"]);i!=null&&b(t,["sdkHttpResponse"],i);const n=_(e,["nextPageToken"]);n!=null&&b(t,["nextPageToken"],n);const r=_(e,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),b(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pde extends as{constructor(t){super(),this.apiClient=t,this.list=async i=>new Yo($r.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:i.parent,config:n.config}),await this.listInternal(i),i)}async get(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Ade(t);return s=Ue("{name}",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(t){var i,n;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Tde(t);r=Ue("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Nde(t);return s=Ue("{parent}/documents",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=Mde(p),g=new sre;return Object.assign(g,u),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ide extends as{constructor(t,i=new Pde(t)){super(),this.apiClient=t,this.documents=i,this.list=async(n={})=>new Yo($r.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(n),n)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=kce(t);return s=Ue("fileSearchStores",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Cce(t);return s=Ue("{name}",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(t){var i,n;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wce(t);r=Ue("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Pce(t);return s=Ue("fileSearchStores",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=Ice(p),g=new ore;return Object.assign(g,u),g})}}async uploadToFileSearchStoreInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Oce(t);return s=Ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=Lce(p),g=new lre;return Object.assign(g,u),g})}}async importFile(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Ece(t);return s=Ue("{file_search_store_name}:importFile",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json()),r.then(p=>{const u=Ace(p),g=new ZS;return Object.assign(g,u),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let GK=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return GK=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),i=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^i()&15>>+n/4).toString(16))};const Ode=()=>GK();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w0(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const C0=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ba extends Error{}class vn extends ba{constructor(t,i,n,r){super(`${vn.makeMessage(t,i,n)}`),this.status=t,this.headers=r,this.error=i}static makeMessage(t,i,n){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):n;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,i,n,r){if(!t||!r)return new Em({message:n,cause:C0(i)});const s=i;return t===400?new YK(t,s,n,r):t===401?new QK(t,s,n,r):t===403?new XK(t,s,n,r):t===404?new JK(t,s,n,r):t===409?new ZK(t,s,n,r):t===422?new e4(t,s,n,r):t===429?new t4(t,s,n,r):t>=500?new i4(t,s,n,r):new vn(t,s,n,r)}}class T0 extends vn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Em extends vn{constructor({message:t,cause:i}){super(void 0,void 0,t||"Connection error.",void 0),i&&(this.cause=i)}}class $K extends Em{constructor({message:t}={}){super({message:t??"Request timed out."})}}class YK extends vn{}class QK extends vn{}class XK extends vn{}class JK extends vn{}class ZK extends vn{}class e4 extends vn{}class t4 extends vn{}class i4 extends vn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lde=/^[a-z][a-z0-9+.-]*:/i,Rde=e=>Lde.test(e);let A0=e=>(A0=Array.isArray,A0(e));const Dde=A0;let jde=Dde;const $O=jde;function Kde(e){if(!e)return!0;for(const t in e)return!1;return!0}function Fde(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Bde=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ba(`${e} must be an integer`);if(t<0)throw new ba(`${e} must be a positive integer`);return t},Ude=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qde=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zde(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Wde=()=>{var e,t,i,n,r;const s=zde();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":QO(Deno.build.os),"X-Stainless-Arch":YO(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":QO((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":YO((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=Vde();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Vde(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:i}of e){const n=i.exec(navigator.userAgent);if(n){const r=n[1]||0,s=n[2]||0,l=n[3]||0;return{browser:t,version:`${r}.${s}.${l}`}}}return null}const YO=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",QO=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let ig;const Hde=()=>ig??(ig=Wde());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gde(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function n4(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function $de(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return n4({start(){},async pull(i){const{done:n,value:r}=await t.next();n?i.close():i.enqueue(r)},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}function a4(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const i=await t.read();return i!=null&&i.done&&t.releaseLock(),i}catch(i){throw t.releaseLock(),i}},async return(){const i=t.cancel();return t.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Yde(e){var t,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(t=e[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(t));return}const n=e.getReader(),r=n.cancel();n.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qde=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r4=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,i=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function jb(e,t,i){return r4(),new File(e,t??"unknown_file",i)}function Xde(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Jde=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s4=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Zde=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&s4(e),eue=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function tue(e,t,i){if(r4(),e=await e,Zde(e))return e instanceof File?e:jb([await e.arrayBuffer()],e.name);if(eue(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),jb(await E0(r),t,i)}const n=await E0(e);if(t||(t=Xde(e)),!(i!=null&&i.type)){const r=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return jb(n,t,i)}async function E0(e){var t,i,n,r,s;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(s4(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(Jde(e))try{for(var d=!0,p=Ra(e),u;u=await p.next(),t=u.done,!t;d=!0){r=u.value,d=!1;const g=r;l.push(...await E0(g))}}catch(g){i={error:g}}finally{try{!d&&!t&&(n=p.return)&&await n.call(p)}finally{if(i)throw i.error}}else{const g=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${g?`; constructor: ${g}`:""}${iue(e)}`)}return l}function iue(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o4{constructor(t){this._client=t}}o4._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l4(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const XO=Object.freeze(Object.create(null)),nue=(e=l4)=>(function(i,...n){if(i.length===1)return i[0];let r=!1;const s=[],l=i.reduce((g,h,y)=>{var v,S,k;/[?#]/.test(h)&&(r=!0);const C=n[y];let T=(r?encodeURIComponent:e)(""+C);return y!==n.length&&(C==null||typeof C=="object"&&C.toString===((k=Object.getPrototypeOf((S=Object.getPrototypeOf((v=C.hasOwnProperty)!==null&&v!==void 0?v:XO))!==null&&S!==void 0?S:XO))===null||k===void 0?void 0:k.toString))&&(T=C+"",s.push({start:g.length+h.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),g+h+(y===n.length?"":T)},""),d=l.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=p.exec(d))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((g,h)=>g.start-h.start),s.length>0){let g=0;const h=s.reduce((y,v)=>{const S=" ".repeat(v.start-g),k="^".repeat(v.length);return g=v.start+v.length,y+S+k},"");throw new ba(`Path parameters result in path with invalid segments:
${s.map(y=>y.error).join(`
`)}
${l}
${h}`)}return l}),ng=nue(l4);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c4 extends o4{create(t,i){var n;const{api_version:r=this._client.apiVersion}=t,s=kh(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new ba("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ba("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ng`/${r}/interactions`,Object.assign(Object.assign({body:s},i),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,i={},n){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(ng`/${r}/interactions/${t}`,n)}cancel(t,i={},n){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(ng`/${r}/interactions/${t}/cancel`,n)}get(t,i={},n){var r;const s=i??{},{api_version:l=this._client.apiVersion}=s,d=kh(s,["api_version"]);return this._client.get(ng`/${l}/interactions/${t}`,Object.assign(Object.assign({query:d},n),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}c4._key=Object.freeze(["interactions"]);class d4 extends c4{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aue(e){let t=0;for(const r of e)t+=r.length;const i=new Uint8Array(t);let n=0;for(const r of e)i.set(r,n),n+=r.length;return i}let ag;function sw(e){let t;return(ag??(t=new globalThis.TextEncoder,ag=t.encode.bind(t)))(e)}let rg;function JO(e){let t;return(rg??(t=new globalThis.TextDecoder,rg=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nm{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const i=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?sw(t):t;this.buffer=aue([this.buffer,i]);const n=[];let r;for(;(r=rue(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(JO(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=JO(this.buffer.subarray(0,s));n.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}Nm.NEWLINE_CHARS=new Set([`
`,"\r"]);Nm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rue(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function sue(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sh={off:0,error:200,warn:300,info:400,debug:500},ZO=(e,t,i)=>{if(e){if(Fde(Sh,e))return e;hn(i).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Sh))}`)}};function ru(){}function sg(e,t,i){return!t||Sh[e]>Sh[i]?ru:t[e].bind(t)}const oue={error:ru,warn:ru,info:ru,debug:ru};let eL=new WeakMap;function hn(e){var t;const i=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!i)return oue;const r=eL.get(i);if(r&&r[0]===n)return r[1];const s={error:sg("error",i,n),warn:sg("warn",i,n),info:sg("info",i,n),debug:sg("debug",i,n)};return eL.set(i,[n,s]),s}const To=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,i])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tc{constructor(t,i,n){this.iterator=t,this.controller=i,this.client=n}static fromSSEResponse(t,i,n){let r=!1;const s=n?hn(n):console;function l(){return La(this,arguments,function*(){var p,u,g,h;if(r)throw new ba("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let y=!1;try{try{for(var v=!0,S=Ra(lue(t,i)),k;k=yield rt(S.next()),p=k.done,!p;v=!0){h=k.value,v=!1;const C=h;if(!y)if(C.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield rt(JSON.parse(C.data))}catch(T){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),T}}}catch(C){u={error:C}}finally{try{!v&&!p&&(g=S.return)&&(yield rt(g.call(S)))}finally{if(u)throw u.error}}y=!0}catch(C){if(w0(C))return yield rt(void 0);throw C}finally{y||i.abort()}})}return new tc(l,i,n)}static fromReadableStream(t,i,n){let r=!1;function s(){return La(this,arguments,function*(){var p,u,g,h;const y=new Nm,v=a4(t);try{for(var S=!0,k=Ra(v),C;C=yield rt(k.next()),p=C.done,!p;S=!0){h=C.value,S=!1;const T=h;for(const N of y.decode(T))yield yield rt(N)}}catch(T){u={error:T}}finally{try{!S&&!p&&(g=k.return)&&(yield rt(g.call(k)))}finally{if(u)throw u.error}}for(const T of y.flush())yield yield rt(T)})}function l(){return La(this,arguments,function*(){var p,u,g,h;if(r)throw new ba("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let y=!1;try{try{for(var v=!0,S=Ra(s()),k;k=yield rt(S.next()),p=k.done,!p;v=!0){h=k.value,v=!1;const C=h;y||C&&(yield yield rt(JSON.parse(C)))}}catch(C){u={error:C}}finally{try{!v&&!p&&(g=S.return)&&(yield rt(g.call(S)))}finally{if(u)throw u.error}}y=!0}catch(C){if(w0(C))return yield rt(void 0);throw C}finally{y||i.abort()}})}return new tc(l,i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],i=[],n=this.iterator(),r=s=>({next:()=>{if(s.length===0){const l=n.next();t.push(l),i.push(l)}return s.shift()}});return[new tc(()=>r(t),this.controller,this.client),new tc(()=>r(i),this.controller,this.client)]}toReadableStream(){const t=this;let i;return n4({async start(){i=t[Symbol.asyncIterator]()},async pull(n){try{const{value:r,done:s}=await i.next();if(s)return n.close();const l=sw(JSON.stringify(r)+`
`);n.enqueue(l)}catch(r){n.error(r)}},async cancel(){var n;await((n=i.return)===null||n===void 0?void 0:n.call(i))}})}}function lue(e,t){return La(this,arguments,function*(){var n,r,s,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ba("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ba("Attempted to iterate over a response with no body");const d=new due,p=new Nm,u=a4(e.body);try{for(var g=!0,h=Ra(cue(u)),y;y=yield rt(h.next()),n=y.done,!n;g=!0){l=y.value,g=!1;const v=l;for(const S of p.decode(v)){const k=d.decode(S);k&&(yield yield rt(k))}}}catch(v){r={error:v}}finally{try{!g&&!n&&(s=h.return)&&(yield rt(s.call(h)))}finally{if(r)throw r.error}}for(const v of p.flush()){const S=d.decode(v);S&&(yield yield rt(S))}})}function cue(e){return La(this,arguments,function*(){var i,n,r,s;let l=new Uint8Array;try{for(var d=!0,p=Ra(e),u;u=yield rt(p.next()),i=u.done,!i;d=!0){s=u.value,d=!1;const g=s;if(g==null)continue;const h=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?sw(g):g;let y=new Uint8Array(l.length+h.length);y.set(l),y.set(h,l.length),l=y;let v;for(;(v=sue(l))!==-1;)yield yield rt(l.slice(0,v)),l=l.slice(v)}}catch(g){n={error:g}}finally{try{!d&&!i&&(r=p.return)&&(yield rt(r.call(p)))}finally{if(n)throw n.error}}l.length>0&&(yield yield rt(l))})}class due{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[i,n,r]=uue(t,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function uue(e,t){const i=e.indexOf(t);return i!==-1?[e.substring(0,i),t,e.substring(i+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pue(e,t){const{response:i,requestLogID:n,retryOfRequestLogID:r,startTime:s}=t,l=await(async()=>{var d;if(t.options.stream)return hn(e).debug("response",i.status,i.url,i.headers,i.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(i,t.controller,e):tc.fromSSEResponse(i,t.controller,e);if(i.status===204)return null;if(t.options.__binaryResponse)return i;const p=i.headers.get("content-type"),u=(d=p==null?void 0:p.split(";")[0])===null||d===void 0?void 0:d.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return hn(e).debug(`[${n}] response parsed`,To({retryOfRequestLogID:r,url:i.url,status:i.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ow extends Promise{constructor(t,i,n=pue){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new ow(this.client,this.responsePromise,async(i,n)=>t(await this.parseResponse(i,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,i){return this.parse().then(t,i)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u4=Symbol("brand.privateNullableHeaders");function*fue(e){if(!e)return;if(u4 in e){const{values:n,nulls:r}=e;yield*n.entries();for(const s of r)yield[s,null];return}let t=!1,i;e instanceof Headers?i=e.entries():$O(e)?i=e:(t=!0,i=Object.entries(e??{}));for(let n of i){const r=n[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const s=$O(n[1])?n[1]:[n[1]];let l=!1;for(const d of s)d!==void 0&&(t&&!l&&(l=!0,yield[r,null]),yield[r,d])}}const Vd=e=>{const t=new Headers,i=new Set;for(const n of e){const r=new Set;for(const[s,l]of fue(n)){const d=s.toLowerCase();r.has(d)||(t.delete(s),r.add(d)),l===null?(t.delete(s),i.add(d)):(t.append(s,l),i.delete(d))}}return{[u4]:!0,values:t,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kb=e=>{var t,i,n,r,s,l;if(typeof globalThis.process<"u")return(n=(i=(t=Rae)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||s===void 0?void 0:s.call(r,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var p4;class Mm{constructor(t){var i,n,r,s,l,d,p,{baseURL:u=Kb("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(i=Kb("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:h="v1beta"}=t,y=kh(t,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:g,apiVersion:h},y),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(n=v.timeout)!==null&&n!==void 0?n:Mm.DEFAULT_TIMEOUT,this.logger=(r=v.logger)!==null&&r!==void 0?r:console;const S="warn";this.logLevel=S,this.logLevel=(l=(s=ZO(v.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:ZO(Kb("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=v.fetchOptions,this.maxRetries=(d=v.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(p=v.fetch)!==null&&p!==void 0?p:Gde(),this.encoder=Qde,this._options=v,this.apiKey=g,this.apiVersion=h,this.clientAdapter=v.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:i}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const i=Vd([t.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Vd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Vd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([i,n])=>typeof n<"u").map(([i,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(i)}=`;throw new ba(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Yl}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ode()}`}makeStatusError(t,i,n,r){return vn.generate(t,i,n,r)}buildURL(t,i,n){const r=!this.baseURLOverridden()&&n||this.baseURL,s=Rde(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return Kde(l)||(i=Object.assign(Object.assign({},l),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(s.search=this.stringifyQuery(i)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const i=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(t,{url:i,options:n}){}get(t,i){return this.methodRequest("get",t,i)}post(t,i){return this.methodRequest("post",t,i)}patch(t,i){return this.methodRequest("patch",t,i)}put(t,i){return this.methodRequest("put",t,i)}delete(t,i){return this.methodRequest("delete",t,i)}methodRequest(t,i,n){return this.request(Promise.resolve(n).then(r=>Object.assign({method:t,path:i},r)))}request(t,i=null){return new ow(this,this.makeRequest(t,i,void 0))}async makeRequest(t,i,n){var r,s,l;const d=await t,p=(r=d.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=p),await this.prepareOptions(d);const{req:u,url:g,timeout:h}=await this.buildRequest(d,{retryCount:p-i});await this.prepareRequest(u,{url:g,options:d});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=n===void 0?"":`, retryOf: ${n}`,S=Date.now();if(hn(this).debug(`[${y}] sending request`,To({retryOfRequestLogID:n,method:d.method,url:g,options:d,headers:u.headers})),!((s=d.signal)===null||s===void 0)&&s.aborted)throw new T0;const k=new AbortController,C=await this.fetchWithTimeout(g,u,h,k).catch(C0),T=Date.now();if(C instanceof globalThis.Error){const E=`retrying, ${i} attempts remaining`;if(!((l=d.signal)===null||l===void 0)&&l.aborted)throw new T0;const O=w0(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(i)return hn(this).info(`[${y}] connection ${O?"timed out":"failed"} - ${E}`),hn(this).debug(`[${y}] connection ${O?"timed out":"failed"} (${E})`,To({retryOfRequestLogID:n,url:g,durationMs:T-S,message:C.message})),this.retryRequest(d,i,n??y);throw hn(this).info(`[${y}] connection ${O?"timed out":"failed"} - error; no more retries left`),hn(this).debug(`[${y}] connection ${O?"timed out":"failed"} (error; no more retries left)`,To({retryOfRequestLogID:n,url:g,durationMs:T-S,message:C.message})),O?new $K:new Em({cause:C})}const N=`[${y}${v}] ${u.method} ${g} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${T-S}ms`;if(!C.ok){const E=await this.shouldRetry(C);if(i&&E){const V=`retrying, ${i} attempts remaining`;return await Yde(C.body),hn(this).info(`${N} - ${V}`),hn(this).debug(`[${y}] response error (${V})`,To({retryOfRequestLogID:n,url:C.url,status:C.status,headers:C.headers,durationMs:T-S})),this.retryRequest(d,i,n??y,C.headers)}const O=E?"error; no more retries left":"error; not retryable";hn(this).info(`${N} - ${O}`);const P=await C.text().catch(V=>C0(V).message),I=Ude(P),D=I?void 0:P;throw hn(this).debug(`[${y}] response error (${O})`,To({retryOfRequestLogID:n,url:C.url,status:C.status,headers:C.headers,message:D,durationMs:Date.now()-S})),this.makeStatusError(C.status,I,D,C.headers)}return hn(this).info(N),hn(this).debug(`[${y}] response start`,To({retryOfRequestLogID:n,url:C.url,status:C.status,headers:C.headers,durationMs:T-S})),{response:C,options:d,controller:k,requestLogID:y,retryOfRequestLogID:n,startTime:S}}async fetchWithTimeout(t,i,n,r){const s=i||{},{signal:l,method:d}=s,p=kh(s,["signal","method"]),u=r.abort.bind(r);l&&l.addEventListener("abort",u,{once:!0});const g=setTimeout(u,n),h=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},h?{duplex:"half"}:{}),{method:"GET"}),p);d&&(y.method=d.toUpperCase());try{return await this.fetch.call(void 0,t,y)}finally{clearTimeout(g)}}async shouldRetry(t){const i=t.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,i,n,r){var s;let l;const d=r==null?void 0:r.get("retry-after-ms");if(d){const u=parseFloat(d);Number.isNaN(u)||(l=u)}const p=r==null?void 0:r.get("retry-after");if(p&&!l){const u=parseFloat(p);Number.isNaN(u)?l=Date.parse(p)-Date.now():l=u*1e3}if(!(l&&0<=l&&l<60*1e3)){const u=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(i,u)}return await qde(l),this.makeRequest(t,i-1,n)}calculateDefaultRetryTimeoutMillis(t,i){const s=i-t,l=Math.min(.5*Math.pow(2,s),8),d=1-Math.random()*.25;return l*d*1e3}async buildRequest(t,{retryCount:i=0}={}){var n,r,s;const l=Object.assign({},t),{method:d,path:p,query:u,defaultBaseURL:g}=l,h=this.buildURL(p,u,g);"timeout"in l&&Bde("timeout",l.timeout),l.timeout=(n=l.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:y,body:v}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:d,bodyHeaders:y,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"}),v&&{body:v}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:l.timeout}}async buildHeaders({options:t,method:i,bodyHeaders:n,retryCount:r}){let s={};this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let d=Vd([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Hde()),this._options.defaultHeaders,n,t.headers,l]);return this.validateHeaders(d),d.values}buildBody({options:{body:t,headers:i}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=Vd([i]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:$de(t)}:this.encoder({body:t,headers:n})}}Mm.DEFAULT_TIMEOUT=6e4;class zi extends Mm{constructor(){super(...arguments),this.interactions=new d4(this)}}p4=zi;zi.GeminiNextGenAPIClient=p4;zi.GeminiNextGenAPIClientError=ba;zi.APIError=vn;zi.APIConnectionError=Em;zi.APIConnectionTimeoutError=$K;zi.APIUserAbortError=T0;zi.NotFoundError=JK;zi.ConflictError=ZK;zi.RateLimitError=t4;zi.BadRequestError=YK;zi.AuthenticationError=QK;zi.InternalServerError=i4;zi.PermissionDeniedError=XK;zi.UnprocessableEntityError=e4;zi.toFile=tue;zi.Interactions=d4;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gue(e,t){const i={},n=_(e,["name"]);return n!=null&&b(i,["_url","name"],n),i}function hue(e,t){const i={},n=_(e,["name"]);return n!=null&&b(i,["_url","name"],n),i}function mue(e,t){const i={},n=_(e,["sdkHttpResponse"]);return n!=null&&b(i,["sdkHttpResponse"],n),i}function yue(e,t){const i={},n=_(e,["sdkHttpResponse"]);return n!=null&&b(i,["sdkHttpResponse"],n),i}function _ue(e,t,i){const n={};if(_(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=_(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&b(t,["displayName"],r),_(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=_(e,["epochCount"]);t!==void 0&&s!=null&&b(t,["tuningTask","hyperparameters","epochCount"],s);const l=_(e,["learningRateMultiplier"]);if(l!=null&&b(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),_(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(_(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(_(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(_(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(_(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const d=_(e,["batchSize"]);t!==void 0&&d!=null&&b(t,["tuningTask","hyperparameters","batchSize"],d);const p=_(e,["learningRate"]);if(t!==void 0&&p!=null&&b(t,["tuningTask","hyperparameters","learningRate"],p),_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(_(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(_(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(_(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(_(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(_(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return n}function vue(e,t,i){const n={};let r=_(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const P=_(e,["validationDataset"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec"],Fb(P))}else if(r==="PREFERENCE_TUNING"){const P=_(e,["validationDataset"]);t!==void 0&&P!=null&&b(t,["preferenceOptimizationSpec"],Fb(P))}else if(r==="DISTILLATION"){const P=_(e,["validationDataset"]);t!==void 0&&P!=null&&b(t,["distillationSpec"],Fb(P))}const s=_(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&b(t,["tunedModelDisplayName"],s);const l=_(e,["description"]);t!==void 0&&l!=null&&b(t,["description"],l);let d=_(i,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const P=_(e,["epochCount"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec","hyperParameters","epochCount"],P)}else if(d==="PREFERENCE_TUNING"){const P=_(e,["epochCount"]);t!==void 0&&P!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],P)}else if(d==="DISTILLATION"){const P=_(e,["epochCount"]);t!==void 0&&P!=null&&b(t,["distillationSpec","hyperParameters","epochCount"],P)}let p=_(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const P=_(e,["learningRateMultiplier"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],P)}else if(p==="PREFERENCE_TUNING"){const P=_(e,["learningRateMultiplier"]);t!==void 0&&P!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],P)}else if(p==="DISTILLATION"){const P=_(e,["learningRateMultiplier"]);t!==void 0&&P!=null&&b(t,["distillationSpec","hyperParameters","learningRateMultiplier"],P)}let u=_(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const P=_(e,["exportLastCheckpointOnly"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec","exportLastCheckpointOnly"],P)}else if(u==="PREFERENCE_TUNING"){const P=_(e,["exportLastCheckpointOnly"]);t!==void 0&&P!=null&&b(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],P)}else if(u==="DISTILLATION"){const P=_(e,["exportLastCheckpointOnly"]);t!==void 0&&P!=null&&b(t,["distillationSpec","exportLastCheckpointOnly"],P)}let g=_(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const P=_(e,["adapterSize"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec","hyperParameters","adapterSize"],P)}else if(g==="PREFERENCE_TUNING"){const P=_(e,["adapterSize"]);t!==void 0&&P!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],P)}else if(g==="DISTILLATION"){const P=_(e,["adapterSize"]);t!==void 0&&P!=null&&b(t,["distillationSpec","hyperParameters","adapterSize"],P)}let h=_(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const P=_(e,["tuningMode"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec","tuningMode"],P)}const y=_(e,["customBaseModel"]);t!==void 0&&y!=null&&b(t,["customBaseModel"],y);let v=_(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const P=_(e,["batchSize"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec","hyperParameters","batchSize"],P)}let S=_(i,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const P=_(e,["learningRate"]);t!==void 0&&P!=null&&b(t,["supervisedTuningSpec","hyperParameters","learningRate"],P)}const k=_(e,["labels"]);t!==void 0&&k!=null&&b(t,["labels"],k);const C=_(e,["beta"]);t!==void 0&&C!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","beta"],C);const T=_(e,["baseTeacherModel"]);t!==void 0&&T!=null&&b(t,["distillationSpec","baseTeacherModel"],T);const N=_(e,["tunedTeacherModelSource"]);t!==void 0&&N!=null&&b(t,["distillationSpec","tunedTeacherModelSource"],N);const E=_(e,["sftLossWeightMultiplier"]);t!==void 0&&E!=null&&b(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],E);const O=_(e,["outputUri"]);return t!==void 0&&O!=null&&b(t,["outputUri"],O),n}function bue(e,t){const i={},n=_(e,["baseModel"]);n!=null&&b(i,["baseModel"],n);const r=_(e,["preTunedModel"]);r!=null&&b(i,["preTunedModel"],r);const s=_(e,["trainingDataset"]);s!=null&&Pue(s);const l=_(e,["config"]);return l!=null&&_ue(l,i),i}function xue(e,t){const i={},n=_(e,["baseModel"]);n!=null&&b(i,["baseModel"],n);const r=_(e,["preTunedModel"]);r!=null&&b(i,["preTunedModel"],r);const s=_(e,["trainingDataset"]);s!=null&&Iue(s,i,t);const l=_(e,["config"]);return l!=null&&vue(l,i,t),i}function kue(e,t){const i={},n=_(e,["name"]);return n!=null&&b(i,["_url","name"],n),i}function Sue(e,t){const i={},n=_(e,["name"]);return n!=null&&b(i,["_url","name"],n),i}function wue(e,t,i){const n={},r=_(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const s=_(e,["pageToken"]);t!==void 0&&s!=null&&b(t,["_query","pageToken"],s);const l=_(e,["filter"]);return t!==void 0&&l!=null&&b(t,["_query","filter"],l),n}function Cue(e,t,i){const n={},r=_(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const s=_(e,["pageToken"]);t!==void 0&&s!=null&&b(t,["_query","pageToken"],s);const l=_(e,["filter"]);return t!==void 0&&l!=null&&b(t,["_query","filter"],l),n}function Tue(e,t){const i={},n=_(e,["config"]);return n!=null&&wue(n,i),i}function Aue(e,t){const i={},n=_(e,["config"]);return n!=null&&Cue(n,i),i}function Eue(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["nextPageToken"]);r!=null&&b(i,["nextPageToken"],r);const s=_(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>f4(d))),b(i,["tuningJobs"],l)}return i}function Nue(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["nextPageToken"]);r!=null&&b(i,["nextPageToken"],r);const s=_(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>N0(d))),b(i,["tuningJobs"],l)}return i}function Mue(e,t){const i={},n=_(e,["name"]);n!=null&&b(i,["model"],n);const r=_(e,["name"]);return r!=null&&b(i,["endpoint"],r),i}function Pue(e,t){const i={};if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=_(e,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),b(i,["examples","examples"],r)}return i}function Iue(e,t,i){const n={};let r=_(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=_(e,["gcsUri"]);t!==void 0&&l!=null&&b(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=_(e,["gcsUri"]);t!==void 0&&l!=null&&b(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(r==="DISTILLATION"){const l=_(e,["gcsUri"]);t!==void 0&&l!=null&&b(t,["distillationSpec","promptDatasetUri"],l)}let s=_(i,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=_(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&b(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=_(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&b(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=_(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&b(t,["distillationSpec","promptDatasetUri"],l)}if(_(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function f4(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["name"]);r!=null&&b(i,["name"],r);const s=_(e,["state"]);s!=null&&b(i,["state"],NK(s));const l=_(e,["createTime"]);l!=null&&b(i,["createTime"],l);const d=_(e,["tuningTask","startTime"]);d!=null&&b(i,["startTime"],d);const p=_(e,["tuningTask","completeTime"]);p!=null&&b(i,["endTime"],p);const u=_(e,["updateTime"]);u!=null&&b(i,["updateTime"],u);const g=_(e,["description"]);g!=null&&b(i,["description"],g);const h=_(e,["baseModel"]);h!=null&&b(i,["baseModel"],h);const y=_(e,["_self"]);return y!=null&&b(i,["tunedModel"],Mue(y)),i}function N0(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["name"]);r!=null&&b(i,["name"],r);const s=_(e,["state"]);s!=null&&b(i,["state"],NK(s));const l=_(e,["createTime"]);l!=null&&b(i,["createTime"],l);const d=_(e,["startTime"]);d!=null&&b(i,["startTime"],d);const p=_(e,["endTime"]);p!=null&&b(i,["endTime"],p);const u=_(e,["updateTime"]);u!=null&&b(i,["updateTime"],u);const g=_(e,["error"]);g!=null&&b(i,["error"],g);const h=_(e,["description"]);h!=null&&b(i,["description"],h);const y=_(e,["baseModel"]);y!=null&&b(i,["baseModel"],y);const v=_(e,["tunedModel"]);v!=null&&b(i,["tunedModel"],v);const S=_(e,["preTunedModel"]);S!=null&&b(i,["preTunedModel"],S);const k=_(e,["supervisedTuningSpec"]);k!=null&&b(i,["supervisedTuningSpec"],k);const C=_(e,["preferenceOptimizationSpec"]);C!=null&&b(i,["preferenceOptimizationSpec"],C);const T=_(e,["distillationSpec"]);T!=null&&b(i,["distillationSpec"],T);const N=_(e,["tuningDataStats"]);N!=null&&b(i,["tuningDataStats"],N);const E=_(e,["encryptionSpec"]);E!=null&&b(i,["encryptionSpec"],E);const O=_(e,["partnerModelTuningSpec"]);O!=null&&b(i,["partnerModelTuningSpec"],O);const P=_(e,["customBaseModel"]);P!=null&&b(i,["customBaseModel"],P);const I=_(e,["experiment"]);I!=null&&b(i,["experiment"],I);const D=_(e,["labels"]);D!=null&&b(i,["labels"],D);const B=_(e,["outputUri"]);B!=null&&b(i,["outputUri"],B);const V=_(e,["pipelineJob"]);V!=null&&b(i,["pipelineJob"],V);const U=_(e,["serviceAccount"]);U!=null&&b(i,["serviceAccount"],U);const W=_(e,["tunedModelDisplayName"]);W!=null&&b(i,["tunedModelDisplayName"],W);const q=_(e,["veoTuningSpec"]);return q!=null&&b(i,["veoTuningSpec"],q),i}function Oue(e,t){const i={},n=_(e,["sdkHttpResponse"]);n!=null&&b(i,["sdkHttpResponse"],n);const r=_(e,["name"]);r!=null&&b(i,["name"],r);const s=_(e,["metadata"]);s!=null&&b(i,["metadata"],s);const l=_(e,["done"]);l!=null&&b(i,["done"],l);const d=_(e,["error"]);return d!=null&&b(i,["error"],d),i}function Fb(e,t){const i={},n=_(e,["gcsUri"]);n!=null&&b(i,["validationDatasetUri"],n);const r=_(e,["vertexDatasetResource"]);return r!=null&&b(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lue extends as{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Yo($r.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var n;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((n=i.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},i),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),s=await this.tuneMldevInternal(r);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:m0.JOB_STATE_QUEUED}}}}async getInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Sue(t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>N0(g))}else{const u=kue(t);return d=Ue("{name}",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>f4(g))}}async listInternal(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=Aue(t);return d=Ue("tuningJobs",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=Nue(g),y=new AO;return Object.assign(y,h),y})}else{const u=Tue(t);return d=Ue("tunedModels",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=Eue(g),y=new AO;return Object.assign(y,h),y})}}async cancel(t){var i,n,r,s;let l,d="",p={};if(this.apiClient.isVertexAI()){const u=hue(t);return d=Ue("{name}:cancel",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=yue(g),y=new EO;return Object.assign(y,h),y})}else{const u=gue(t);return d=Ue("{name}:cancel",u._url),p=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const h=mue(g),y=new EO;return Object.assign(y,h),y})}}async tuneInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const d=xue(t,t);return s=Ue("tuningJobs",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json().then(u=>{const g=u;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>N0(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var i,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=bue(t);return s=Ue("tunedModels",d._url),l=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(p=>p.json().then(u=>{const g=u;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>Oue(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rue{async download(t,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Due=1024*1024*8,jue=3,Kue=1e3,Fue=2,wh="x-goog-upload-status";async function Bue(e,t,i){var n;const r=await g4(e,t,i),s=await(r==null?void 0:r.json());if(((n=r==null?void 0:r.headers)===null||n===void 0?void 0:n[wh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Uue(e,t,i){var n;const r=await g4(e,t,i),s=await(r==null?void 0:r.json());if(((n=r==null?void 0:r.headers)===null||n===void 0?void 0:n[wh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=SK(s),d=new ew;return Object.assign(d,l),d}async function g4(e,t,i){var n,r;let s=0,l=0,d=new _0(new Response),p="upload";for(s=e.size;l<s;){const u=Math.min(Due,s-l),g=e.slice(l,l+u);l+u>=s&&(p+=", finalize");let h=0,y=Kue;for(;h<jue&&(d=await i.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(!((n=d==null?void 0:d.headers)===null||n===void 0)&&n[wh]));)h++,await zue(y),y=y*Fue;if(l+=u,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[wh])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function que(e){return{size:e.size,type:e.type}}function zue(e){return new Promise(t=>setTimeout(t,e))}class Wue{async upload(t,i,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Bue(t,i,n)}async uploadToFileSearchStore(t,i,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Uue(t,i,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await que(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vue{create(t,i,n){return new Hue(t,i,n)}}class Hue{constructor(t,i,n){this.url=t,this.headers=i,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tL="x-goog-api-key";class Gue{constructor(t){this.apiKey=t}async addAuthHeaders(t,i){if(t.get(tL)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(tL,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $ue="gl-node/";class og{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new zi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=i.interactions,this._interactions}constructor(t){var i;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=t.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=t.apiKey;const n=Fae(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new Gue(this.apiKey);this.apiClient=new qce({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:$ue+"web",uploader:new Wue,downloader:new Rue}),this.models=new ode(this.apiClient),this.live=new tde(this.apiClient,r,new Vue),this.batches=new hse(this.apiClient),this.chats=new Qse(this.models,this.apiClient),this.caches=new Gse(this.apiClient),this.files=new loe(this.apiClient),this.operations=new lde(this.apiClient),this.authTokens=new wde(this.apiClient),this.tunings=new Lue(this.apiClient),this.fileSearchStores=new Ide(this.apiClient)}}var Bb={};const M0="gemini_api_key",h4=()=>{if(!(typeof process>"u"||!Bb))return Bb.GEMINI_API_KEY||Bb.API_KEY},m4=()=>typeof window>"u"?null:window.sessionStorage.getItem(M0)||window.localStorage.getItem(M0),Vs=async({promptForKey:e=!1}={})=>{const t=h4();if(t)return new og({apiKey:t});const i=m4();if(i)return new og({apiKey:i});if(typeof window<"u"){const n=window.aistudio;if(n!=null&&n.hasSelectedApiKey){let r=await n.hasSelectedApiKey();if(!r&&e&&n.openSelectKey&&(await n.openSelectKey(),r=await n.hasSelectedApiKey()),r)return new og({})}if(e&&typeof window.prompt=="function"){const r=window.prompt("Enter your Gemini API key. It will be stored for this browser session only.");if(r&&r.trim())return window.sessionStorage.setItem(M0,r.trim()),new og({apiKey:r.trim()})}}return null},Yue=async(e,t,i)=>{try{const n=await Vs();if(!n)return null;const r=`
      You are a senior management consultant writing an executive diagnostic memo.
      Tone requirements:
      - Direct, evidence-led, no hype language.
      - Use consultant phrasing: diagnosis, impact, and priority action.
      - Do not use motivational filler, buzzwords, or vague reassurance.
      - Keep each paragraph decision-oriented and commercially grounded.

      Analyze this business profile and diagnostic scores.
      
      Business: ${e.businessName||"Unnamed"}
      Industry: ${e.industry} (${e.subIndustry})
      Size: ${e.size}
      Archetype: ${i}
      
      Scores (0-100):
      ${JSON.stringify(t)}
      
      Generate a strategic analysis report in JSON format.
      1. Executive Summary: 3-4 sentences, executive tone, identifying the primary bottleneck and immediate decision priority.
      2. For each of the 7 pillars (Operations, Money, Market, Leadership, Innovation, Risk, People), provide:
         - quickScan: ~50-80 words in consultant tone with:
           (a) concise diagnosis,
           (b) likely business impact,
           (c) priority next move.
         - deepDive: An object containing detailed sections (approx 100-200 words each):
           - theory: What this pillar represents in their specific industry (${e.industry}).
           - diagnosis: Why they scored this way based on the score value.
           - psychology: The operating behavior or leadership pattern sustaining the issue.
           - financials: Estimated commercial impact (margin, cash, risk, or throughput).
           - prescription: A practical remediation path (7-day containment + 30-day control build).
    `,s=await n.models.generateContent({model:"gemini-3-flash-preview",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:De.OBJECT,properties:{executiveSummary:{type:De.STRING},pillars:{type:De.OBJECT,properties:{properties:{Operations:{type:De.OBJECT,properties:{quickScan:{type:De.STRING},deepDive:{type:De.OBJECT,properties:{theory:{type:De.STRING},diagnosis:{type:De.STRING},psychology:{type:De.STRING},financials:{type:De.STRING},prescription:{type:De.STRING}}}}},Money:{type:De.OBJECT,properties:{quickScan:{type:De.STRING},deepDive:{type:De.OBJECT,properties:{theory:{type:De.STRING},diagnosis:{type:De.STRING},psychology:{type:De.STRING},financials:{type:De.STRING},prescription:{type:De.STRING}}}}},Market:{type:De.OBJECT,properties:{quickScan:{type:De.STRING},deepDive:{type:De.OBJECT,properties:{theory:{type:De.STRING},diagnosis:{type:De.STRING},psychology:{type:De.STRING},financials:{type:De.STRING},prescription:{type:De.STRING}}}}},Leadership:{type:De.OBJECT,properties:{quickScan:{type:De.STRING},deepDive:{type:De.OBJECT,properties:{theory:{type:De.STRING},diagnosis:{type:De.STRING},psychology:{type:De.STRING},financials:{type:De.STRING},prescription:{type:De.STRING}}}}},Innovation:{type:De.OBJECT,properties:{quickScan:{type:De.STRING},deepDive:{type:De.OBJECT,properties:{theory:{type:De.STRING},diagnosis:{type:De.STRING},psychology:{type:De.STRING},financials:{type:De.STRING},prescription:{type:De.STRING}}}}},Risk:{type:De.OBJECT,properties:{quickScan:{type:De.STRING},deepDive:{type:De.OBJECT,properties:{theory:{type:De.STRING},diagnosis:{type:De.STRING},psychology:{type:De.STRING},financials:{type:De.STRING},prescription:{type:De.STRING}}}}},People:{type:De.OBJECT,properties:{quickScan:{type:De.STRING},deepDive:{type:De.OBJECT,properties:{theory:{type:De.STRING},diagnosis:{type:De.STRING},psychology:{type:De.STRING},financials:{type:De.STRING},prescription:{type:De.STRING}}}}}}}}}}}});return s.text?JSON.parse(s.text):null}catch(n){return console.error("AI Report Gen Error:",n),null}},Que=async(e,t="")=>{try{const i=await Vs({promptForKey:!0});if(!i)return null;const n=`
      You are an elite executive coach and operations architect. 
      Create a rigorous, high-level action plan for the following topic/goal: "${e}".
      Context: ${t}
      
      The plan must be execution-focused, not theory. 
      Create 5 distinct steps.
      For each step, specify the "requiredProofType" as either "text", "file", or "link" depending on what would best prove completion.
    `,r=await i.models.generateContent({model:"gemini-3-flash-preview",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:De.OBJECT,properties:{title:{type:De.STRING,description:"A catchy, professional title for the action plan"},steps:{type:De.ARRAY,items:{type:De.OBJECT,properties:{title:{type:De.STRING},description:{type:De.STRING},requiredProofType:{type:De.STRING,enum:["text","file","link"]}},required:["title","description","requiredProofType"]}}},required:["title","steps"]}}});if(r.text){const s=JSON.parse(r.text);return{id:crypto.randomUUID(),title:s.title,progress:0,steps:s.steps.map(d=>({id:crypto.randomUUID(),title:d.title,description:d.description,status:"pending",requiredProofType:d.requiredProofType}))}}return null}catch(i){return console.error("Failed to generate action plan:",i),null}},Xue=async e=>{try{const t=await Vs({promptForKey:!0});if(!t)return null;const i=`
      You are the "Second Brain" of an execution-focused learning platform.
      The user is asking: "${e}".
      
      1. Provide a direct, actionable answer (max 2 sentences).
      2. Invent a plausible title of a Masterclass video that would contain this answer.
      3. Invent a specific timestamp (e.g., "04:23") where this is discussed.
      4. List 3 specific "Do This Now" immediate actions.
    `,n=await t.models.generateContent({model:"gemini-3-flash-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:De.OBJECT,properties:{videoTitle:{type:De.STRING},timestamp:{type:De.STRING},answer:{type:De.STRING},actionItems:{type:De.ARRAY,items:{type:De.STRING}}}}}});return n.text?JSON.parse(n.text):null}catch(t){return console.error("Second Brain Error:",t),null}},Jue=async(e,t="photorealistic")=>{var i,n,r;try{const s=await Vs({promptForKey:!0});if(!s)return null;const l=await s.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:`Generate a high-quality professional advertisement image. 
          Style: ${t}. 
          Prompt: ${e}. 
          Ensure it looks like a premium stock photo or high-end illustration suitable for a business website.`}]}});if((r=(n=(i=l.candidates)==null?void 0:i[0])==null?void 0:n.content)!=null&&r.parts){for(const d of l.candidates[0].content.parts)if(d.inlineData)return`data:image/png;base64,${d.inlineData.data}`}return null}catch(s){return console.error("Ad Image Gen Error:",s),null}},Zue=async(e,t)=>{try{const i=await Vs({promptForKey:!0});if(!i)return null;const n=`
      Write 3 variations of ad copy for: "${e}".
      Goal: ${t}.
      Format: JSON with 'headline' (max 40 chars) and 'body' (max 90 chars).
    `,r=await i.models.generateContent({model:"gemini-3-flash-preview",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:De.ARRAY,items:{type:De.OBJECT,properties:{headline:{type:De.STRING},body:{type:De.STRING}}}}}});return r.text?JSON.parse(r.text):null}catch(i){return console.error("Ad Copy Gen Error:",i),null}},epe=async e=>{var t,i,n,r;try{const s=await Vs({promptForKey:!0});if(!s)return null;let l=await s.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:e,config:{numberOfVideos:1,resolution:"1080p",aspectRatio:"16:9"}});for(;!l.done;)await new Promise(p=>setTimeout(p,5e3)),l=await s.operations.getVideosOperation({operation:l});const d=(r=(n=(i=(t=l.response)==null?void 0:t.generatedVideos)==null?void 0:i[0])==null?void 0:n.video)==null?void 0:r.uri;if(d){const p=h4()||m4();if(p){const u=d.includes("?")?"&":"?";return`${d}${u}key=${encodeURIComponent(p)}`}return d}return null}catch(s){return console.error("Ad Video Gen Error:",s),null}},tpe=({isOpen:e,onClose:t,t:i,locale:n})=>e?a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in zoom-in-95",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:i("benchmark.modal.title")}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-black",children:a.jsx(yn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:i("benchmark.modal.cohortTitle")}),a.jsx("p",{children:i("benchmark.modal.cohortBody").replace("{countryName}",n.country).replace("{industryLabel}","SME").replace("{sizeBand}","1-100 Emp")})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:i("benchmark.modal.metricTitle")}),a.jsx("p",{children:i("benchmark.modal.metricBody")})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:i("benchmark.modal.confidenceTitle")}),a.jsx("p",{children:i("benchmark.modal.confidenceBody")})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:i("benchmark.modal.updateTitle")}),a.jsx("p",{children:i("benchmark.modal.updateBody")})]})]}),a.jsx("div",{className:"p-4 bg-gray-50 text-xs text-center text-gray-500 border-t border-gray-100 italic",children:i("benchmark.modal.footer")})]})}):null,Hd=({user:e,onViewCourse:t,onLaunchTribe:i,onViewHRReport:n})=>{const{t:r,price:s,locale:l,setCurrency:d,setLanguage:p}=wc(),u=e.planType==="basic",[g,h]=A.useState(!1),y=e.pillarScores||{operations:50,money:20,market:60,leadership:80,innovation:40,risk:30,people:0},v=Object.keys(y).map(le=>{const ae=le;return{subject:r(`pillar.${String(ae)}`.toLowerCase()),key:ae,A:y[ae],fullMark:100,tooltip:r(`tooltip.${String(ae)}.meaning`)}}),S=Object.entries(y).sort(([,le],[,ae])=>le-ae),k=S[0],C=S[S.length-1],T=450,N=(y.money*1.5+y.operations*1.2+y.market*1.2+y.leadership+y.innovation+y.risk+y.people)/7.9,E=Math.min(99,Math.round(N/100*100)),O=E>80,[P,I]=A.useState(1e5),[D,B]=A.useState(20),U={money:["costControl","price","retention"],operations:["efficiency","teamSpeed","costControl"],market:["conversion","retention","price"],innovation:["quality","conversion","retention"],risk:["riskReduction","costControl","teamSpeed"],leadership:["teamSpeed","efficiency","conversion"],people:["teamSpeed","efficiency","retention"]}[String(k[0]).toLowerCase()]||["price","conversion","retention"],[W,q]=A.useState({price:0,conversion:0,retention:0,efficiency:0,costControl:0,quality:0,riskReduction:0,teamSpeed:0}),X=(()=>{const le=1+(W.price||0)/100,ae=1+(W.conversion||0)/100,ee=1+(W.retention||0)/100,$=1+(W.quality||0)/200,Fe=1+(le*ae*ee*$-1)*.75,ce=P*Fe,H=(W.price||0)*.5,Ve=(W.costControl||0)*.8,Xe=(W.efficiency||0)*.4,_t=D+H+Ve+Xe,At=P*(D/100),Gt=ce*(_t/100);return{revenue:ce,profit:Gt,delta:Gt-At}})(),se=U.reduce((le,ae)=>W[le]>W[ae]?le:ae),K=r(`sim.slider.${se}`),[z,Q]=A.useState(""),[de,F]=A.useState(""),[j,Z]=A.useState(!1),R=async()=>{if(u){alert("Upgrade to Premium to unlock Boardroom AI.");return}if(z){Z(!0),F("");try{const le=await Vs({promptForKey:!0});if(!le){F("AI key not configured. Select a key to continue.");return}const ae=`You are a Pocket COO. User scores: ${JSON.stringify(y)}. Critical: ${String(k[0])}. Advice must be numeric and ruthless.`,ee=await le.models.generateContent({model:"gemini-3-flash-preview",contents:z,config:{systemInstruction:ae}});F(ee.text||"Analysis complete.")}catch(le){console.error(le),F("AI Connection failed.")}finally{Z(!1)}}},fe=()=>{alert(`Downloading 'Top ${100-E}% Industry Leader' Badge...`)},je=({active:le,payload:ae,label:ee})=>{if(le&&ae&&ae.length){const $=ae[0].payload;return a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-gray-200 max-w-xs",children:[a.jsxs("p",{className:"font-bold text-gray-900 mb-1",children:[$.subject,": ",$.A,"/100"]}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:$.tooltip}),a.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-100 mb-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-blue-800 uppercase mb-1",children:"If Weak (Leak)"}),a.jsx("p",{className:"text-xs text-blue-900 leading-tight",children:r(`tooltip.${$.key.toLowerCase()}.weakLeak`)})]}),a.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-100",children:[a.jsx("p",{className:"text-[10px] font-bold text-green-800 uppercase mb-1",children:"Quick Fix"}),a.jsx("p",{className:"text-xs text-green-900 leading-tight",children:r(`tooltip.${$.key.toLowerCase()}.weekFix`)})]})]})}return null};return a.jsxs("div",{className:"p-4 md:p-8 max-w-[1600px] mx-auto min-h-full font-sans text-slate-900",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8 bg-white p-4 rounded-2xl border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-black text-white rounded-xl flex items-center justify-center font-bold text-xl shadow-lg",children:e.company?e.company[0]:e.name[0]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-none mb-1",children:r("hud.title")}),a.jsx("p",{className:"text-xs font-medium text-gray-500",children:r("hud.subtitle").replace("{businessName}",e.company||"My Business").replace("{industryLabel}","Retail").replace("{countryName}",l.country)}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-1",children:[a.jsx(Zi,{className:"w-3 h-3"}),a.jsx("span",{children:r("hud.lastUpdated").replace("{date}",new Date().toLocaleDateString())}),a.jsxs("button",{className:"text-brand-600 hover:underline flex items-center gap-1 ml-2",children:[a.jsx(cz,{className:"w-3 h-3"})," ",r("hud.refresh")]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-1 rounded-lg border border-gray-200",children:[a.jsx(Br,{className:"w-4 h-4 text-gray-400 ml-2"}),a.jsxs("select",{className:"bg-transparent border-none text-xs font-bold text-gray-700 focus:ring-0 cursor-pointer",value:l.language,onChange:le=>p(le.target.value),children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"fr",children:"Franais"}),a.jsx("option",{value:"sw",children:"Swahili"})]}),a.jsx("div",{className:"w-px h-4 bg-gray-300"}),a.jsxs("select",{className:"bg-transparent border-none text-xs font-bold text-gray-700 focus:ring-0 cursor-pointer",value:l.currency,onChange:le=>d(le.target.value),children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"UGX",children:"UGX"}),a.jsx("option",{value:"KES",children:"KES"}),a.jsx("option",{value:"NGN",children:"NGN"})]})]}),a.jsxs("button",{onClick:()=>t==null?void 0:t("fix-critical"),className:"bg-red-600 text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-red-700 shadow-lg shadow-red-200 flex items-center gap-2 animate-pulse",title:r("hud.primaryCta_helper"),children:[a.jsx(ar,{className:"w-4 h-4"})," ",r("hud.primaryCta")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8",children:[a.jsxs("div",{className:"lg:col-span-8 bg-white p-6 md:p-8 rounded-3xl border border-gray-200 shadow-sm flex flex-col md:flex-row gap-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 via-yellow-500 to-green-500"}),a.jsxs("div",{className:"flex-1 min-h-[300px]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-xl text-gray-900 flex items-center gap-2",children:[a.jsx(ya,{className:"w-5 h-5 text-gray-400"})," ",r("radar.title")]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r("radar.subtitle")})]}),a.jsxs("div",{className:"flex gap-2 text-xs font-medium",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-black"})," You"]}),a.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"})," Goal"]})]})]}),a.jsx(np,{width:"100%",height:"100%",children:a.jsxs(wm,{cx:"50%",cy:"50%",outerRadius:"80%",data:v,children:[a.jsx(xp,{stroke:"#e5e7eb"}),a.jsx(Sp,{dataKey:"subject",tick:{fill:"#4b5563",fontSize:11,fontWeight:"bold"}}),a.jsx(kp,{angle:30,domain:[0,100],tick:!1}),a.jsx(vc,{name:"My Business",dataKey:"A",stroke:"#000000",fill:"#000000",fillOpacity:.1}),a.jsx(vc,{name:"Goal",dataKey:"fullMark",stroke:"transparent",fill:"#f3f4f6",fillOpacity:.3}),a.jsx(s3,{content:a.jsx(je,{})})]})})]}),a.jsxs("div",{className:"w-full md:w-64 flex flex-col justify-center space-y-6 border-t md:border-t-0 md:border-l border-gray-100 pt-6 md:pt-0 md:pl-8",children:[a.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:[a.jsxs("p",{className:"text-xs font-bold text-red-800 uppercase tracking-wide mb-1 flex items-center gap-1",children:[a.jsx(ar,{className:"w-3 h-3"})," ",r("radar.critical_label")]}),a.jsx("div",{className:"text-2xl font-black text-red-600 mb-1",children:r(`pillar.${String(k[0]).toLowerCase()}`)}),a.jsx("p",{className:"text-xs text-red-700 leading-tight mb-3",children:r("radar.critical_helper")}),a.jsxs("button",{className:"w-full bg-white border border-red-200 text-red-700 text-xs font-bold py-2 rounded-lg hover:bg-red-50 transition-colors",children:[r("radar.cta_focusPillar").replace("{pillarName}",String(k[0]))," "]})]}),a.jsxs("div",{className:"px-2",children:[a.jsxs("p",{className:"text-xs font-bold text-green-700 uppercase tracking-wide mb-1 flex items-center gap-1",children:[a.jsx(dr,{className:"w-3 h-3"})," ",r("radar.strength_label")]}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:r(`pillar.${String(C[0]).toLowerCase()}`)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Score: ",C[1],"/100. ",r("radar.strength_helper")]})]})]})]}),a.jsxs("div",{className:"lg:col-span-4 bg-gray-900 text-white p-8 rounded-3xl shadow-xl flex flex-col relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-500 rounded-full blur-3xl opacity-20 -mr-16 -mt-16 pointer-events-none"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-80",children:[a.jsx(yR,{className:"w-5 h-5 text-yellow-400"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Market Rank"})]}),a.jsx("h2",{className:"text-3xl font-extrabold mb-2",children:E>80?r("benchmark.headline_high").replace("{topPercent}",(100-E).toString()).replace("{industryLabel}","SME").replace("{countryName}",l.country):r("benchmark.headline_mid").replace("{percentAhead}",E.toString()).replace("{industryLabel}","SME").replace("{countryName}",l.country)}),a.jsx("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed",children:r("benchmark.subhead").replace("{cohortSize}",T.toString())}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[a.jsx("span",{children:"Your Index"}),a.jsx("span",{className:"text-white font-bold",children:N.toFixed(0)})]}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-400 h-2 rounded-full",style:{width:`${E}%`}})}),a.jsx("p",{className:"text-[10px] text-gray-500 text-right pt-1",children:r("benchmark.confidence_high")})]})]}),a.jsxs("div",{className:"mt-8 relative z-10 pt-6 border-t border-white/10",children:[O?a.jsxs("button",{onClick:fe,className:"w-full bg-white text-black font-bold py-3 rounded-xl flex items-center justify-center gap-2 hover:bg-gray-100 transition-all transform hover:scale-[1.02]",children:[a.jsx(wu,{className:"w-4 h-4"})," ",r("benchmark.downloadBadge")]}):a.jsx("button",{className:"w-full bg-white/10 text-white font-bold py-3 rounded-xl border border-white/20 hover:bg-white/20 flex items-center justify-center gap-2",children:"View Improvement Path"}),a.jsxs("button",{onClick:()=>h(!0),className:"w-full text-center text-gray-500 text-xs mt-3 hover:text-white flex items-center justify-center gap-1",children:[a.jsx(Cq,{className:"w-3 h-3"})," ",r("benchmark.howCalculated")]})]})]})]}),a.jsx(tpe,{isOpen:g,onClose:()=>h(!1),t:r,locale:l}),a.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-sm overflow-hidden mb-8",children:[a.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-200 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-extrabold text-gray-900 flex items-center gap-3",children:[a.jsx(ii,{className:"w-6 h-6 text-amber-500 fill-current"})," ",r("sim.title")]}),a.jsx("p",{className:"text-gray-500 mt-2 max-w-2xl",children:r("sim.subtitle")})]}),a.jsxs("div",{className:"flex items-center gap-8 text-right bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Current Profit"}),a.jsx("p",{className:"text-lg font-bold text-gray-600",children:s(P*(D/100))})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase tracking-wide animate-pulse",children:"Projected Gain"}),a.jsxs("p",{className:"text-3xl font-black text-green-600",children:["+",s(X.delta)]})]})]})]}),a.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-3 gap-12",children:[a.jsx("div",{className:"lg:col-span-2 space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[U.map(le=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("label",{className:"font-bold text-gray-900 flex items-center gap-2",children:[le==="price"?a.jsx(GU,{className:"w-4 h-4 text-gray-400"}):a.jsx(hR,{className:"w-4 h-4 text-gray-400"}),r(`sim.slider.${le}`)]}),a.jsxs("span",{className:"text-sm font-bold bg-gray-100 px-2 py-1 rounded",children:[W[le]||0,"%"]})]}),a.jsx("input",{type:"range",min:"0",max:"30",step:"1",value:W[le]||0,onChange:ae=>q({...W,[le]:parseInt(ae.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-black"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:r(`sim.slider.${le}_helper`)})]},le)),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-dashed border-gray-300 opacity-80 hover:opacity-100 transition-opacity",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:r("sim.baseline.revenue").split(":")[0]}),a.jsx("input",{type:"number",value:P,onChange:le=>I(parseInt(le.target.value)),className:"w-24 text-right text-xs font-bold bg-white border border-gray-300 rounded p-1"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:r("sim.baseline.margin").split(":")[0]}),a.jsx("input",{type:"number",value:D,onChange:le=>B(parseInt(le.target.value)),className:"w-24 text-right text-xs font-bold bg-white border border-gray-300 rounded p-1"})]}),a.jsx("p",{className:"text-[10px] text-center mt-3 text-gray-400 italic",children:r("trust.simulatorNote")})]})]})}),a.jsxs("div",{className:"lg:col-span-1 border-t lg:border-t-0 lg:border-l border-gray-100 pt-8 lg:pt-0 lg:pl-12 flex flex-col justify-center",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:r("sim.output.bestLever").replace("{leverName}",K)}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:r("sim.output.why").replace("{pillarName}",r(`pillar.${String(k[0]).toLowerCase()}`)).replace("{mechanism}",r(`sim.mechanism.${String(k[0]).toLowerCase()}`))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{className:"w-full bg-black text-white px-6 py-3 rounded-xl font-bold hover:bg-gray-800 transition-transform hover:scale-[1.02] shadow-lg",children:r("sim.cta.saveScenario")}),a.jsx("button",{className:"w-full bg-white text-gray-700 border border-gray-300 px-6 py-3 rounded-xl font-bold hover:bg-gray-50",children:r("sim.cta.generatePlan")})]})]})]})]}),a.jsx("div",{className:`bg-gradient-to-br from-indigo-50 to-purple-50 p-8 rounded-3xl border border-indigo-100 relative overflow-hidden transition-all ${u?"opacity-90":""}`,children:a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm text-indigo-600",children:a.jsx(dU,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-bold text-indigo-900",children:"Boardroom AI (Pocket COO)"})]}),a.jsxs("p",{className:"text-indigo-800/80 mb-6 max-w-xl text-sm leading-relaxed",children:["I have analyzed your ",String(k[0])," score (",k[1],'/100). It is significantly below the industry average of 65. Ask me specifically: "How do I fix my ',String(k[0]),' leak?"']}),a.jsxs("div",{className:"flex gap-2 max-w-lg",children:[a.jsx("input",{type:"text",className:"flex-1 border-0 shadow-sm rounded-xl p-4 text-sm focus:ring-2 focus:ring-indigo-500",placeholder:"Ask for a script, strategy, or fix...",value:z,onChange:le=>Q(le.target.value),onKeyDown:le=>le.key==="Enter"&&R(),disabled:u||j}),a.jsx("button",{onClick:R,disabled:j||u,className:"bg-indigo-600 text-white p-4 rounded-xl hover:bg-indigo-700 disabled:opacity-50 transition-all shadow-md hover:shadow-lg",children:j?a.jsx(Ma,{className:"w-5 h-5 animate-spin"}):a.jsx(on,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/50 shadow-sm min-h-[160px]",children:u?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[a.jsx(Rn,{className:"w-8 h-8 text-indigo-300 mb-2"}),a.jsx("p",{className:"text-sm font-bold text-indigo-900",children:"Premium Feature"}),a.jsx("p",{className:"text-xs text-indigo-600",children:"Upgrade to unlock AI analysis."})]}):de?a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed font-medium",children:de}):a.jsx("div",{className:"h-full flex items-center justify-center text-indigo-300 text-sm italic",children:"AI Waiting for input..."})})]})})]})},iL={Engine:{"Profit Leak":{controls:"Engine controls how work moves from {lead}  {order}  {delivery}  payment.",detected:"We detected manual dependency and owner/team bottlenecks.",costing:"This inefficiency acts as a 'Time Tax' on every dollar earned. Currently, approximately 15-20% of your payroll is likely being consumed by non-productive activities like reworking errors, chasing missing information, or waiting for approvals. This artificially compresses your margins and makes scaling impossible without linear hiring.",cliffhanger:"The Deep Scan will map your entire delivery workflow step-by-step to identify the exact 'Constraint Step'. You will see precisely where the bottleneck lies (e.g., The Review Stage) and get a specific protocol to widen that pipe immediately."},"Bottleneck Forming":{controls:"Engine controls how work moves from {lead}  {order}  {delivery}  payment.",detected:"Execution looks functional, but handoffs and consistency are slipping.",costing:"Small friction points are compounding into expensive delays. While you aren't bleeding cash yet, your 'Cost to Deliver' is rising faster than your revenue. This means as you grow, you will actually become less profitable due to the hidden costs of coordination chaos.",cliffhanger:"The Deep Scan will isolate the top 2 workflow choke points where information is getting stuck. We will reveal exactly which handoffs are failing and provide a lightweight 'Golden Path' playbook to smooth them out."},Controlled:{controls:"Engine controls how work moves from {lead}  {order}  {delivery}  payment.",detected:"Your operating rhythm is mostly stable; the biggest gain is tightening repeatability.",costing:"You are currently leaving 'Efficiency Dividends' on the table. While stable, manual steps in your process are preventing you from achieving the 30%+ net margins typical of optimized firms in your sector. You are paying for stability with speed.",cliffhanger:"The Deep Scan will identify the specific low-value administrative tasks that can be fully automated. We will reveal a plan to reclaim 10+ hours of leadership time per week by shifting from 'Controlled' to 'Automated'."},"Profit Lever":{controls:"Engine controls how work moves from {lead}  {order}  {delivery}  payment.",detected:"Your execution system is a strength; you can scale without chaos.",costing:"The primary cost here is Opportunity Cost. Your Engine is ready to handle 2x the volume, but if you don't feed it, that capacity is wasted overhead. You are effectively paying for a Ferrari engine but driving it in a school zone.",cliffhanger:"The Deep Scan will reveal how to decouple your time completely from delivery. We will show you the exact delegation limits required to turn this department into a self-managing asset that grows without you."}},Fuel:{"Profit Leak":{controls:"Fuel controls margin, cash collection, pricing discipline, and survival.",detected:"Signals of cash fog (profit unclear) and soft terms.",costing:"You are essentially financing your customers at 0% interest while absorbing all the risk. Weak collection terms and discounting 'to close' are eroding your bottom line by an estimated 10-15%. You are working harder for 'busy broke' outcomes.",cliffhanger:"The Deep Scan will audit your last 3 months of transactions to find the 'Phantom Expenses' and 'Margin Leaks' you don't see. We will reveal a 13-week cash flow forecast that predicts exactly when you might run out of money if changes aren't made."},"Bottleneck Forming":{controls:"Fuel controls margin, cash collection, pricing discipline, and survival.",detected:"Cash habits exist but lack consistent review rhythm.",costing:"You are suffering from 'Death by a Thousand Cuts'. Small subscriptions, unbilled scope creep, and slightly delayed payments are silently eating 5-8% of your net profit. This prevents you from building the war chest needed for safe growth.",cliffhanger:"The Deep Scan will categorize your expenses into 'Green' (Investments) and 'Red' (Waste). We will reveal the 3 highest ROI margin improvement levers you can pull immediately without hurting sales."},Controlled:{controls:"Fuel controls margin, cash collection, pricing discipline, and survival.",detected:"Fuel looks stable.",costing:"You are leaving money on the table through pricing stagnation. Inflation and value improvements haven't been captured in your current model, likely costing you 10% in pure bottom-line profit that requires no extra work to capture.",cliffhanger:"The Deep Scan will analyze your unit economics against industry benchmarks. We will reveal a specific pricing power strategy to increase your Life Time Value (LTV) without increasing customer churn."},"Profit Lever":{controls:"Fuel controls margin, cash collection, pricing discipline, and survival.",detected:"Cash discipline is strong.",costing:"The risk is 'Lazy Capital'. Your cash reserves are likely sitting idle rather than being deployed into high-ROI growth channels. You are losing ground to competitors who are reinvesting aggressively.",cliffhanger:"The Deep Scan will model different investment scenarios. We will reveal exactly where to deploy your capital surplus to generate the highest compounding return over the next 12 months."}},Voice:{"Profit Leak":{controls:"Voice controls how the market discovers you, trusts you, and pays you.",detected:"Signals of inconsistent lead flow and weak follow-up rhythm.",costing:"Inconsistency is the most expensive marketing strategy. By stopping and starting your outreach, you lose the 'compound interest' of visibility. Your Customer Acquisition Cost (CAC) is likely 2x higher than necessary because you are constantly restarting cold engines.",cliffhanger:"The Deep Scan will audit your entire funnel from 'Stranger' to 'Customer'. We will reveal the specific drop-off point where 80% of your leads are dying and provide a script to plug that hole."},"Bottleneck Forming":{controls:"Voice controls how the market discovers you, trusts you, and pays you.",detected:"Demand exists but conversion/retention is inconsistent.",costing:"You are burning leads. By generating interest but failing to follow up systematically, you are paying for attention but not capturing the value. This 'Lead Waste' is costing you potential revenue every single week.",cliffhanger:"The Deep Scan will analyze your lead response times and follow-up frequency. We will reveal a 'Velocity Gap' report showing how much revenue you are losing simply by being too slow or too passive."},Controlled:{controls:"Voice controls how the market discovers you, trusts you, and pays you.",detected:"Voice is stable.",costing:"You are relying on linear growth (adding more leads) instead of exponential growth (referrals and retention). It costs 5x more to get a new customer than to keep an existing one, yet your focus is heavily weighted on acquisition.",cliffhanger:"The Deep Scan will evaluate your customer lifecycle. We will reveal a specific 'Referral Loop' strategy to turn your existing happy clients into your most profitable marketing channel."},"Profit Lever":{controls:"Voice controls how the market discovers you, trusts you, and pays you.",detected:"Your pipeline is a strength.",costing:"The danger is 'Fulfillment Break'. If you turn up the volume on Voice without fortifying the Engine, you risk damaging your reputation by selling more than you can deliver excellently.",cliffhanger:"The Deep Scan will stress-test your capacity. We will reveal the safe 'Throttle Limit' for your marketing and how to align your sales velocity with your delivery capability."}},Brain:{"Profit Leak":{controls:"Brain controls priorities.",detected:"Priority chaos.",costing:"Focus switching cost is reducing team output by ~40%.",cliffhanger:"Deep Scan reveals the 'One Metric That Matters'."},"Bottleneck Forming":{controls:"Brain controls priorities.",detected:"Inconsistent rhythm.",costing:"Slow decision making stalls projects.",cliffhanger:"Deep Scan reveals decision bottlenecks."},Controlled:{controls:"Brain controls priorities.",detected:"Stable cadence.",costing:"Delegation limits are too tight.",cliffhanger:"Deep Scan reveals delegation opportunities."},"Profit Lever":{controls:"Brain controls priorities.",detected:"High clarity.",costing:"Risk of key-person dependency.",cliffhanger:"Deep Scan reveals succession gaps."}},Pulse:{"Profit Leak":{controls:"Pulse controls quality.",detected:"Reactive quality.",costing:"Churn is erasing your growth efforts.",cliffhanger:"Deep Scan reveals the #1 churn driver."},"Bottleneck Forming":{controls:"Pulse controls quality.",detected:"Inconsistent feedback.",costing:"You are guessing at what customers want.",cliffhanger:"Deep Scan reveals feature gaps."},Controlled:{controls:"Pulse controls quality.",detected:"Stable loop.",costing:"Innovation is slowing down.",cliffhanger:"Deep Scan reveals new market angles."},"Profit Lever":{controls:"Pulse controls quality.",detected:"High iteration.",costing:"Spreading resources too thin.",cliffhanger:"Deep Scan reveals focus areas."}},Shield:{"Profit Leak":{controls:"Shield controls risk.",detected:"High exposure.",costing:"One lawsuit or hack could end the business.",cliffhanger:"Deep Scan reveals critical vulnerabilities."},"Bottleneck Forming":{controls:"Shield controls risk.",detected:"Basic protection.",costing:"Growing faster than your controls.",cliffhanger:"Deep Scan reveals compliance gaps."},Controlled:{controls:"Shield controls risk.",detected:"Stable protection.",costing:"Over-compliance may slow speed.",cliffhanger:"Deep Scan reveals efficiency wins."},"Profit Lever":{controls:"Shield controls risk.",detected:"Fortress mode.",costing:"Cost of insurance/audit is high.",cliffhanger:"Deep Scan reveals optimization."}},Tribe:{"Profit Leak":{controls:"Tribe controls culture.",detected:"Toxic/Slow.",costing:"Politics is replacing productivity.",cliffhanger:"Deep Scan reveals culture rot."},"Bottleneck Forming":{controls:"Tribe controls culture.",detected:"Silos forming.",costing:"Communication lag is costly.",cliffhanger:"Deep Scan reveals silo bridges."},Controlled:{controls:"Tribe controls culture.",detected:"Stable team.",costing:"Comfort zone is setting in.",cliffhanger:"Deep Scan reveals performance edges."},"Profit Lever":{controls:"Tribe controls culture.",detected:"High performance.",costing:"Burnout risk is high.",cliffhanger:"Deep Scan reveals retention risks."}}},ipe={cash:["Inefficiency here acts as a leak on net margin.","Cash flow is being constrained by hidden friction.","You are effectively financing inefficiencies with your own capital."],time:["Manual work is consuming valuable leadership time.","Delays in this area slow down overall delivery.","Rework is a hidden tax on your team's capacity."],trust:["Inconsistency is eroding customer confidence.","Brand reputation is at risk due to variable quality.","Churn risk increases when expectations are missed."],risk:["Compliance gaps expose the business to shock.","Lack of controls creates blind spots in decision making.","Operational fragility puts business continuity at risk."]},Ub={agriculture:{Engine:{"Profit Leak":{controls:"In Crop Farming, the Engine is your field-to-storage workflow. A weak Engine means you work hard, but timing slips, harvest drags, and waste rises due to manual coordination.",detected:"We detected critical signals: Harvest starts before logistics are ready, and workers wait for instructions daily.",costing:"This inefficiency acts as a 'Yield Leech'. Every hour of delay or confusion during the season doesn't just cost payrollit costs crop quality and volume. You are paying for inputs but losing the output to poor execution.",cliffhanger:"The Deep Scan will map your field-to-storage flow to find the 'Constraint Step'. We will reveal exactly where value is rotting."},"Bottleneck Forming":{controls:"Engine controls field-to-storage workflow.",detected:"Operations are functional but rely heavily on you or a few key people.",costing:"You are seeing 'Friction Cost'. The farm runs, but it requires your constant presence to avoid mistakes. This limits how many acres or cycles you can manage before quality drops.",cliffhanger:"The Deep Scan will identify the manual bottlenecks that can be systemized. We will show you how to increase capacity without increasing your hours."},Controlled:{controls:"Engine controls field-to-storage workflow.",detected:"Field operations are stable and predictable.",costing:"You may be over-managing. The cost now is 'Administrator Tax'you are spending time maintaining systems that could be automated or delegated.",cliffhanger:"The Deep Scan will find opportunities to automate reporting and logistics. We will show you how to step back from daily ops."},"Profit Lever":{controls:"Engine controls field-to-storage workflow.",detected:"Your operation is a scalable machine.",costing:"The risk is 'Idle Capacity'. Your systems can handle more land or crops, but you aren't feeding the machine enough volume.",cliffhanger:"The Deep Scan will reveal expansion opportunities. We will show you how to scale acreage without breaking the system."}},Fuel:{"Profit Leak":{controls:"Fuel controls cash flow, input budget, and harvest margin.",detected:"Signals of cash stress: Selling quickly to cover urgent needs, and unclear net margins per acre.",costing:"You are suffering from 'Harvest Desperation'. by selling when you *have* to, not when you *should*, you accept the lowest prices of the season. This erodes 20-30% of your potential profit instantly.",cliffhanger:"The Deep Scan will audit your cash cycle. We will reveal a path to building a 'Cash Buffer' so you can hold produce for better pricing."},"Bottleneck Forming":{controls:"Fuel controls cash flow and margin.",detected:"Cash is managed, but visibility is low.",costing:"You have 'Leakage Blindness'. You track big costs (inputs) but miss the silent leaks (waste, theft, small inefficiencies) that eat margin.",cliffhanger:"The Deep Scan will expose hidden costs. We will clearly show you your true Cost of Goods Sold (COGS) vs your selling price."},Controlled:{controls:"Fuel controls cash flow and margin.",detected:"Financials are stable and tracked.",costing:"You are likely 'Cash Heavy'. You have stability, but you may be missing high-ROI investments in better inputs or technology.",cliffhanger:"The Deep Scan will model investment ROI. We will show you where to deploy capital for maximum yield increase."},"Profit Lever":{controls:"Fuel controls cash flow and margin.",detected:"Financial strength is a competitive advantage.",costing:"The risk is 'Conservatism'. You have the capital to dominate, but you are playing it safe instead of expanding aggressively.",cliffhanger:"The Deep Scan will outline aggressive growth financing. We will show you how to leverage your balance sheet for expansion."}}},tilapia:{Engine:{"Profit Leak":{controls:"Engine controls water-routine.",detected:"Routine drift detected.",costing:"Variable oxygen/feeding kills consistency.",cliffhanger:"Deep Scan pinpoints if leak is oxygen or feeding."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Fuel:{"Profit Leak":{controls:"Fuel controls conversion.",detected:"Margin gap detected.",costing:"FCR drift erases harvest profit.",cliffhanger:"Deep Scan calculates real cost/kg gain."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Voice:{"Profit Leak":{controls:"Voice controls price mix.",detected:"Grade leakage.",costing:"Mixed sizes handed over at low price.",cliffhanger:"Deep Scan builds grading strategy."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Brain:{"Profit Leak":{controls:"Brain controls timing.",detected:"Light batch planning.",costing:"Harvest driven by cash pressure.",cliffhanger:"Deep Scan builds harvest calendar."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Pulse:{"Profit Leak":{controls:"Pulse controls growth.",detected:"Uniformity drift.",costing:"Likely density/oxygen/feeding misalignment.",cliffhanger:"Deep Scan finds time-to-market lever."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Shield:{"Profit Leak":{controls:"Shield controls spread.",detected:"Biosecurity blind spot.",costing:"Batch mixing risks farm-wide spread.",cliffhanger:"Deep Scan creates contamination map."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Tribe:{"Profit Leak":{controls:"Tribe controls response.",detected:"Approval-first safety.",costing:"Delays in responding to water/health.",cliffhanger:"Deep Scan defines decision boundaries."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},catfish:{Engine:{"Profit Leak":{controls:"Engine controls grading.",detected:"Density pressure.",costing:"Size dominance kills smaller fish growth.",cliffhanger:"Deep Scan shows where growth is stolen."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Fuel:{"Profit Leak":{controls:"Fuel controls black hole.",detected:"Feed black hole risk.",costing:"Feeding not tied to biomass/conversion.",cliffhanger:"Deep Scan calculates wastage points."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Voice:{"Profit Leak":{controls:"Voice controls timing.",detected:"Market timing risk.",costing:"Selling without size planning forces discounts.",cliffhanger:"Deep Scan designs selling strategy."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Brain:{"Profit Leak":{controls:"Brain controls memory.",detected:"Memory operations.",costing:"Repeat losses hidden across cycles.",cliffhanger:"Deep Scan installs batch dashboard."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Pulse:{"Profit Leak":{controls:"Pulse controls conversion.",detected:"Growth curve signals.",costing:"System not turning feed into gain.",cliffhanger:"Deep Scan identifies ADG lever."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Shield:{"Profit Leak":{controls:"Shield controls tool hygiene.",detected:"Cross-batch spread.",costing:"Disease moves via tools/water.",cliffhanger:"Deep Scan builds hygiene workflow."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Tribe:{"Profit Leak":{controls:"Tribe controls consistency.",detected:"Standards vary.",costing:"Unpredictable conversion by staff member.",cliffhanger:"Deep Scan converts routines to checklists."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},shrimp:{Engine:{"Profit Leak":{controls:"Engine controls chemistry.",detected:"Water stability risk.",costing:"Stability wins; fluctuation kills.",cliffhanger:"Deep Scan finds hidden stress driver."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Fuel:{"Profit Leak":{controls:"Fuel controls survival.",detected:"Mortality margin gap.",costing:"Cost rises as survival drops unseen.",cliffhanger:"Deep Scan calculates survival-adjusted units."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Voice:{"Profit Leak":{controls:"Voice controls premiums.",detected:"Traceability gap.",costing:"Premiums available but missed.",cliffhanger:"Deep Scan builds buyer readiness."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Brain:{"Profit Leak":{controls:"Brain controls anticipation.",detected:"Reactive thresholds.",costing:"Catching problems too late.",cliffhanger:"Deep Scan installs action thresholds."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Pulse:{"Profit Leak":{controls:"Pulse controls compound.",detected:"Performance signal drift.",costing:"Small improvements compound heavily here.",cliffhanger:"Deep Scan identifies optimization lever."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Shield:{"Profit Leak":{controls:"Shield controls exclusion.",detected:"Biosecurity game.",costing:"One event erases season.",cliffhanger:"Deep Scan produces biosecurity map."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Tribe:{"Profit Leak":{controls:"Tribe controls reporting.",detected:"Signal hesitation.",costing:"Losing the 'early window'.",cliffhanger:"Deep Scan sets safe reporting roles."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},salmon_trout:{Engine:{"Profit Leak":{controls:"Engine controls flow.",detected:"Oxygen/flow discipline risk.",costing:"Intensive systems don't forgive drift.",cliffhanger:"Deep Scan identifies flow/DO break points."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Fuel:{"Profit Leak":{controls:"Fuel controls ROI.",detected:"Feed leverage risk.",costing:"Biggest lever must tie to temp/biomass.",cliffhanger:"Deep Scan calculates feed ROI."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Voice:{"Profit Leak":{controls:"Voice controls compliance.",detected:"Consistency demand.",costing:"Pricing power requires compliance.",cliffhanger:"Deep Scan builds compliance pack."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Brain:{"Profit Leak":{controls:"Brain controls dashboards.",detected:"Dashboards missing.",costing:"Scalable farms need control systems.",cliffhanger:"Deep Scan installs weekly control."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Pulse:{"Profit Leak":{controls:"Pulse controls cycle time.",detected:"Growth curve lag.",costing:"Slow cycle eats overhead.",cliffhanger:"Deep Scan selects speed lever."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Shield:{"Profit Leak":{controls:"Shield controls incident.",detected:"Response speed risk.",costing:"Incidents are expensive.",cliffhanger:"Deep Scan produces risk shield."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Tribe:{"Profit Leak":{controls:"Tribe controls execution.",detected:"Variation cost.",costing:"Execution gaps are immediate costs.",cliffhanger:"Deep Scan converts practice to checklist."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},agro_processing:{Engine:{"Profit Leak":{controls:"Engine controls processing flow, uptime, and throughput velocity.",detected:"We detected frequent downtime and undefined changeover protocols.",costing:"You are paying a 'Capacity Tax'. Every minute the line stops or runs slow reduces your total daily revenue potential, while your fixed costs (labor, rent, energy) stay the same. You are likely running at 60-70% of true capacity.",cliffhanger:"The Deep Scan will reveal your OEE (Overall Equipment Effectiveness) gap. We will pinpoint the exact 'micro-stops' killing your momentum."},"Bottleneck Forming":{controls:"Engine controls processing flow.",detected:"Production is steady but relies on manual intervention.",costing:"Your 'Cost to Produce' is higher than necessary due to reactive maintenance and manual bottlenecks. As you scale, these friction points will multiply.",cliffhanger:"The Deep Scan will identify the top 3 preventive maintenance levers to stabilize flow."},Controlled:{controls:"Engine controls processing flow.",detected:"Line runs smoothly.",costing:"You may be over-staffed to maintain stability.",cliffhanger:"The Deep Scan will show how to automate key checks to reduce labor cost per unit."},"Profit Lever":{controls:"Engine controls processing flow.",detected:"High-speed execution.",costing:"Idle capacity risk.",cliffhanger:"The Deep Scan will model volume expansion scenarios."}},Fuel:{"Profit Leak":{controls:"Fuel controls yield, unit cost, and raw material efficiency.",detected:"Signals of yield loss (shrinkage) and giveaway weight.",costing:"You are suffering from 'Invisible Bleed'. Buying by bulk and selling by unit creates a margin gap if yield isn't locked. A 2% yield loss often equals a 20% drop in net profit.",cliffhanger:"The Deep Scan will perform a 'Mass Balance' audit to find exactly where product is vanishing."},"Bottleneck Forming":{controls:"Fuel controls yield and cost.",detected:"Costs are tracked but not per-batch.",costing:"Averaging your costs hides the 'Loser Batches' that drain profit.",cliffhanger:"The Deep Scan will install a batch-level coating model."},Controlled:{controls:"Fuel controls yield and cost.",detected:"Good margin visibility.",costing:"Opportunity cost in procurement timing.",cliffhanger:"The Deep Scan will reveal strategic sourcing wins."},"Profit Lever":{controls:"Fuel controls yield and cost.",detected:"Strong unit economics.",costing:"Cash drag from slow inventory turns.",cliffhanger:"The Deep Scan will optimize inventory levels for cash flow."}},Shield:{"Profit Leak":{controls:"Shield controls safety.",detected:"Compliance risk.",costing:"One recall could end the brand.",cliffhanger:"Deep Scan installs the 'Compliance Lock'."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Voice:{"Profit Leak":{controls:"Voice controls usage.",detected:"Spec drift.",costing:"Buyers dictate terms due to variance.",cliffhanger:"Deep Scan builds the 'Spec Shield'."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Brain:{"Profit Leak":{controls:"Brain controls plan.",detected:"Reactive production.",costing:"Changeovers kill efficiency.",cliffhanger:"Deep Scan builds the 'Fixed Repeating Schedule'."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Pulse:{"Profit Leak":{controls:"Pulse controls growth.",detected:"Stagnant SKUs.",costing:"Old products clog the line.",cliffhanger:"Deep Scan identifies 'Tail SKUs' to cut."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}},Tribe:{"Profit Leak":{controls:"Tribe controls speed.",detected:"Hero reliance.",costing:"Factory stops when you leave.",cliffhanger:"Deep Scan builds 'Role Cards'."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},milling:{Fuel:{"Profit Leak":{controls:"In Milling, Fuel controls extraction rate and sieve loss.",detected:"We detected unchecked losses at the sieve/separation stage.",costing:"You are dusting your profit away. For every 1% of flour/grain lost to dust or spill, you lose pure margin. This 'Dust Tax' is likely costing you thousands per month.",cliffhanger:"The Deep Scan will measure your exact extraction efficiency against industry standards."},"Bottleneck Forming":{controls:"Fuel controls extraction.",detected:"Yield varies by operator.",costing:"Inconsistency prevents accurate pricing.",cliffhanger:"The Deep Scan will standardize machine settings."},Controlled:{controls:"Fuel controls extraction.",detected:"Stable yield.",costing:"Power consumption may be high.",cliffhanger:"The Deep Scan will look at energy-per-ton efficiency."},"Profit Lever":{controls:"Fuel controls extraction.",detected:"High efficiency.",costing:"By-product value low.",cliffhanger:"The Deep Scan will find value in the bran/offal."}}},drying:{Engine:{"Profit Leak":{controls:"In Drying, Engine controls moisture removal speed and uniformity.",detected:"Inconsistent drying causing wet pockets or over-drying.",costing:"Over-drying gives away weight (money) for free. Under-drying risks whole-silo spoilage. You are losing on both ends of the spectrum.",cliffhanger:"The Deep Scan will install a 'Moisture Lock' protocol."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},packaging:{Shield:{"Profit Leak":{controls:"In Packaging, Shield controls seal integrity and labeling accuracy.",detected:"High risk of label errors or seal failures.",costing:"A labeling error triggers a mandatory recall. This is a 'Company Killer' risk that is currently controlled only by human vigilance, not system blocks.",cliffhanger:"The Deep Scan will build a 'Label Verification' gate."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},juices:{Engine:{"Profit Leak":{controls:"In Beverages, Engine controls mixing consistency and Brix levels.",detected:"Taste and sweetness vary between batches.",costing:"Inconsistency kills brand loyalty. If today's bottle tastes different from yesterday's, customers leave. You are burning your marketing spend.",cliffhanger:"The Deep Scan will lock your formula with a 'Brix Control' system."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}},oils:{Fuel:{"Profit Leak":{controls:"In Oils, Fuel controls extraction %, leaving less oil in the cake.",detected:"Oil left in the byproduct (cake) is too high.",costing:"You are selling oil (premium price) as animal feed (low price). Every 1% of oil left in the cake is a direct transfer of wealth from you to the farmer buying the feed.",cliffhanger:"The Deep Scan will optimize your press settings for maximum extraction."},"Bottleneck Forming":{controls:"",detected:"",costing:"",cliffhanger:""},Controlled:{controls:"",detected:"",costing:"",cliffhanger:""},"Profit Lever":{controls:"",detected:"",costing:"",cliffhanger:""}}}},npe={agriculture:{cash:["Low quality/grading is reducing your selling price per kg.","Post-harvest loss is erasing yield gains.","Urgent selling is forcing you to accept lower market prices."],time:["Manual task assignment is consuming your morning routine.","Correcting field errors is slowing down harvest speed.","Waiting for instructions is wasting paid labor hours."],trust:["Inconsistent supply is making buyers look for other farmers.","Quality variances are damaging your reputation with premium buyers.","Reliability issues are blocking you from better contracts."],risk:["Lack of backup buyers leaves you exposed to price crashes.","Informal agreements open you to disputes and non-payment.","Weather/pest shocks have no contingency plan."]},livestock:{cash:["Mortality is directly deleting invested capital.","Poor feed conversion is wasting money every day.","Selling at low weight destroys margin."],time:["Correcting health issues is taking more time than prevention.","Manual supervision is locking you to the farm.","Firefighting outbreaks consumes the schedule."],trust:["Inconsistent supply is losing you steady buyers.","Quality/weight variance kills pricing power.","Disease history scares off premium contracts."],risk:["Disease outbreaks could wipe the entire asset.","Theft is a constant unmeasured drain.","Price crashes find you without a backup plan."]},aquaculture:{cash:["Feed is being consumed without converting to weight.","Sudden mortality events wipe out weeks of investment.","Selling without grading hands profit to the buyer."],time:["Firefighting water quality crises consumes your schedule.","Manual feeding eats hours that could be automated.","Correcting system failures takes longer than preventing them."],trust:["Inconsistent sizing forces buyers to discount your fish.","Supply gaps lose you the steady restaurant/trader contracts.","Quality issues (off-flavor/handling) damage your brand."],risk:["One oxygen failure can erase an entire cycle overnight.","Disease spreads faster in water than anywhere else.","Input price hikes trap you if cashflow is weak."]},agro_processing:{cash:["Yield loss is a silent tax on every batch.","Giveaway weight is erasing your net margin.","Downtime is paid for but produces nothing."],time:["Manual changeovers are eating production capacity.","Firefighting maintenance issues kills strategic planning.","Compliance paperwork is consuming leadership hours."],trust:["Inconsistent product specs damage buyer confidence.","Contaminants or defects risk your entire brand reputation.","Late deliveries force buyers to look for other suppliers."],risk:["One recall event could bankrupt the operation.","Regulatory non-compliance is a ticking bomb.","Price volatility exposes you without a yield buffer."]}},ape=e=>{if(!e)return"";const t=e.toLowerCase();return t.includes("tilapia")?"tilapia":t.includes("catfish")?"catfish":t.includes("shrimp")?"shrimp":t.includes("salmon")||t.includes("trout")?"salmon_trout":t.includes("mill")||t.includes("maize")||t.includes("wheat")||t.includes("rice")||t.includes("feed")?"milling":t.includes("dry")||t.includes("storage")||t.includes("grain")||t.includes("coffee")||t.includes("fruit")?"drying":t.includes("pack")||t.includes("consumer")?"packaging":t.includes("juice")||t.includes("beverage")?"juices":t.includes("oil")||t.includes("sunflower")||t.includes("palm")?"oils":t.includes("dairy")?"dairy":t.includes("beef")?"beef":t.includes("goat")||t.includes("sheep")?"goats_sheep":t.includes("pig")?"pigs":t.includes("broiler")?"broilers":t.includes("layer")?"layers":""},rpe=(e,t,i,n)=>{var p,u,g,h,y;const r=e,s=ape(n);if(s&&((u=(p=Ub[s])==null?void 0:p[t])!=null&&u[i]))return Ub[s][t][i];const l=(h=(g=Ub[r])==null?void 0:g[t])==null?void 0:h[i],d=(y=iL[t])==null?void 0:y[i];return l||d||iL.Engine.Controlled},spe=(e,t,i)=>{var l;const r=(l=npe[e])==null?void 0:l[t],s=ipe[t];return r||s},ope={Engine:["time"],Fuel:["cash"],Voice:["cash"],Brain:["time"],Pulse:["trust"],Shield:["risk"],Tribe:["time"]},P0={Engine:{focus:"Operations, systems, delegation, consistency, tools",profitLeak:"Rework + delays + founder bottleneck + inconsistent delivery",diagnosis:'If Engine is weak, profit leaks through time. You "work hard," but output doesnt scale.',whatItControls:"This is how work moves from request  delivery  payment. When Engine is weak, businesses feel busy, but delivery slows and mistakes rise.",deepInsight:"When work depends on peoples memory and constant approvals, you get hidden queue time. Queue time is invisible in meetings but shows up as late delivery, repeated questions, and inconsistent output. Over time, the owner becomes the emergency system  which feels heroic but becomes expensive because growth requires repeatability.",drivers:["Owner Bottleneck","SOP Gaps","Manual Invoicing","Handoff Confusion","Rework Loop"],evidenceSnapshots:[{observation:"Work often waits for approval before moving forward.",whyItMatters:"Creates invisible queues that slow cash cycle."},{observation:"New staff depend on shadowing rather than onboarding materials.",whyItMatters:"Scales inconsistency and slows ramp time."},{observation:"Quality varies by person rather than by checklist.",whyItMatters:"Damages brand trust and increases refund risk."}],fixLever:{action:"Install a Minimum Viable Operating Rhythm: 3 SOPs + approval limits + one task board.",metric:"Cycle Time",owner:"Ops Lead",effort:"M",timeline:"30 Days"},quickWins:[{title:'Draft the "Golden Path" SOP',desc:'Do not document everything. Pick the ONE process that fails most often (e.g., Client Onboarding). Write a simple 1-page checklist that defines "Done" and "Correct". This stops the bleeding on your most frequent error.',owner:"Ops Lead",effort:"M"},{title:"The 48-Hour Bottleneck Rule",desc:"Implement a rule: If a task sits for 48 hours, it must be escalated or unblocked. No task languishes in silence. This forces visibility on where work actually gets stuck.",owner:"Founder",effort:"S"},{title:'Define "Good" Quality',desc:'Create a visual standard or checklist for your final deliverable. If staff know exactly what "Good" looks like, they stop asking you for permission to ship.',owner:"Ops Lead",effort:"S"}],winCondition:"Work becomes repeatable. Quality becomes consistent.",system30:[{title:"Standardize service packages",desc:"Turn custom services into fixed-scope products. Define exactly what is included and what is not. This reduces scope creep and makes delivery predictable.",owner:"CEO/Ops",effort:"L"},{title:"Create onboarding mini-course",desc:"Record 5 short Loom videos explaining your core tools and values. This allows new hires to ramp up without consuming 20 hours of your direct time.",owner:"Ops/HR",effort:"M"},{title:"Install the Ops Dashboard",desc:'Replace "update meetings" with a live scoreboard tracking: On-Time Delivery %, Cash Collected, and Open Issues. Review this weekly for 15 minutes.',owner:"Ops",effort:"M"}],build60:["Upgrade tooling","Delivery scorecard"],institutionalize90:["Delegation ladder","Founder independence"],kpi:{name:"Cycle Time",def:"Average time to deliver main product/service"},traps:["Perfectionist tweaks","Hiring without SOPs","Using Inbox as the OS"]},Fuel:{focus:"Cash flow, margins, pricing, financial control",profitLeak:'Underpricing + late payments + zombie costs + "sales without profit"',diagnosis:"If Fuel is weak, the business can look busy and still be broke. Revenue is not the same as profit.",whatItControls:"Fuel is not just money in  its money retained, money collected, and money protected.",deepInsight:"Most businesses leak profit through soft terms and emotional pricing: discounts used to relieve tension, work delivered before payment, and no monthly visibility of margin. This creates stress even when sales look good.",drivers:["Pricing Discipline","Collections Speed","Margin Visibility","Expense Control","Cash Buffer"],evidenceSnapshots:[{observation:"Discounting appears used as a closing tool.",whyItMatters:"Trains customers to devalue your work and erodes margin."},{observation:"Overdue invoices are tolerated longer than ideal.",whyItMatters:"You become the bank for your clients, risking your own liquidity."},{observation:"Profit visibility is periodic, not monthly.",whyItMatters:"Delays reaction time to bleeding costs."}],fixLever:{action:"Install Cash Guardrails: terms + collections cadence + stop-work rule + simple forecast.",metric:"Cash Buffer Days",owner:"Finance Lead",effort:"M",timeline:"30 Days"},quickWins:[{title:'The "Money Map" Audit',desc:'List your top 5 revenue sources and top 5 costs. Calculate the true margin on each offer. You will likely find one "busy" offer that is actually losing money.',owner:"Finance",effort:"S"},{title:"Enforce the Stop-Work Rule",desc:"Implement a policy today: No new work starts for clients with invoices >7 days overdue. This single rule prevents bad debt from compounding.",owner:"Founder",effort:"S"},{title:"Kill Zombie Costs",desc:"Review your last 3 bank statements. Cancel or downgrade subscriptions and services that havent been used in 90 days. Aim to recover $500+ monthly.",owner:"Admin",effort:"S"}],winCondition:"You know which offer makes money and which one drains you.",system30:[{title:"Weekly Cash War Room",desc:"A 15-minute standing meeting every Monday to review: Cash on Hand, Accounts Receivable, and AP. No surprises allowed.",owner:"Finance",effort:"M"},{title:"Monthly P&L Review",desc:"Don't wait for tax time. Review a simple P&L monthly to catch margin erosion early. Assign action items to fix variances.",owner:"Finance",effort:"M"},{title:"Pricing Standardization",desc:"Create a standard rate card. Remove the ability for sales staff to offer discounts without manager approval.",owner:"Sales",effort:"M"}],build60:["Cash buffer target","Financial dashboards"],institutionalize90:["Separate business finances","Margin decision filter"],kpi:{name:"Cash Visibility",def:"Forecast accuracy or Overdue Invoices count"},traps:["Nice customers paying late","Discounts as strategy","Bank balance accounting"]},Voice:{focus:"Marketing, sales, conversion, retention",profitLeak:"Inconsistent leads + poor follow-up + weak conversion + churn",diagnosis:"If Voice is weak, revenue becomes luck-based. Your product may be good, but distribution is unstable.",whatItControls:"Voice is how the market hears you, trusts you, and pays you.",deepInsight:"Pipeline leaks are usually not about lack of demand  they are about inconsistency: inconsistent content, inconsistent follow-up, unclear positioning, or slow response time. Most lost sales happen after the first contact.",drivers:["Lead Consistency","Follow-up Speed","Message Clarity","Conversion Rate","Retention"],evidenceSnapshots:[{observation:"Lead tracking is inconsistent.",whyItMatters:"You can't optimize what you don't measure."},{observation:"Follow-up is not structured.",whyItMatters:"Money is left on the table from interested but busy prospects."},{observation:"Message may not be instantly clear.",whyItMatters:"Confused buyers don't buy; they bounce."}],fixLever:{action:"Install Pipeline Rhythm: response-time rule + follow-up sequence + tracking.",metric:"Lead Conversion %",owner:"Sales Lead",effort:"M",timeline:"30 Days"},quickWins:[{title:'Implement the "Lead Tracker"',desc:"Stop using inbox/memory. Create a simple sheet: Source, Contact, Stage, Next Action. Force every lead into this single view.",owner:"Sales",effort:"S"},{title:"The 10-Day Follow-Up Script",desc:"Write 3 pre-set messages for days 1, 3, and 7. Most sales are lost because follow-up stops too early. Automate or template this.",owner:"Sales",effort:"M"},{title:'Clarify the "One Liner"',desc:`Rewrite your bio/headline: "We help [Customer] solve [Pain] using [Mechanism]." If a stranger doesn't get it in 5 seconds, fix it.`,owner:"Marketing",effort:"S"}],winCondition:'You can answer: "How many leads came in this week? From where? How many converted?"',system30:[{title:"CRM Implementation",desc:"Move from sheets to a basic CRM. Automate the first response to ensure 0-minute lag time on new inquiries.",owner:"Sales",effort:"L"},{title:"Retention Dashboard",desc:'Track churn and repeat purchase rates. Identify the "at-risk" triggers for customers leaving.',owner:"Success",effort:"M"},{title:"Social Proof Pack",desc:"Gather your top 3 case studies into a single PDF/Link. Send this automatically before every sales call.",owner:"Marketing",effort:"S"}],build60:["Retention system","Conversion improvement"],institutionalize90:["Multi-channel stability","Sales hire"],kpi:{name:"Conversion Rate",def:"Leads  Paying Customers"},traps:["Posting without converting","Discounts as sales","No follow-up"]},Brain:{focus:"Leadership, people, clarity, accountability, strategy",profitLeak:"Priority chaos + inconsistent performance + slow decisions",diagnosis:"If Brain is weak, the business becomes a busy machine with no direction. People work hard but not on the highest-value work.",whatItControls:"Brain determines priorities, decision speed, accountability, and culture clarity.",deepInsight:"As teams grow, unclear KPIs and shifting priorities create busy confusion. People work hard but choose different definitions of success. This creates slow execution and politics.",drivers:["Priority Clarity","Role Definition","Feedback Loops","Decision Speed","Hiring Quality"],evidenceSnapshots:[{observation:"Success metrics feel unclear.",whyItMatters:"Employees guess at priorities, often choosing low-value work."},{observation:"Priorities shift quickly.",whyItMatters:"Creates whiplash and abandoned projects."},{observation:"Delegation is task-based rather than outcome-based.",whyItMatters:"Keeps the founder trapped in the weeds."}],fixLever:{action:"Install a Scoreboard + ownership: 3 priorities, 3 metrics, 3 owners.",metric:"Execution Predictability",owner:"Founder",effort:"M",timeline:"30 Days"},quickWins:[{title:'The "Power of 3" Sheet',desc:"List only the top 3 priorities for the next 30 days. Assign an Owner, a Deadline, and a Metric to each. Ignore everything else.",owner:"Founder",effort:"S"},{title:'Define "Winning" for Key Roles',desc:"For each key role, define 1-3 KPIs that constitute success. Stop judging effort; start judging outcome.",owner:"HR/Admin",effort:"M"},{title:"The Decision Matrix",desc:'Create a simple rule: "Decide / Decide+FYI / Escalate". Empower staff to make small decisions without you.',owner:"Founder",effort:"S"}],winCondition:'People stop asking "what should I do?" and start acting with clear direction.',system30:[{title:"Weekly Performance Rhythm",desc:"Install a Monday check-in on KPIs and Priorities. No long stories, just status updates: Red, Yellow, Green.",owner:"Founder",effort:"S"},{title:"Feedback & Consequences",desc:"Establish a feedback loop. If a standard is missed, what happens? If it is hit, what happens? Consistency builds culture.",owner:"HR",effort:"M"},{title:"Transparent Communication",desc:'Share the "Why" behind decisions. When the team understands the context, they make better micro-decisions.',owner:"Founder",effort:"S"}],build60:["Leadership OS","Manager coaching"],institutionalize90:["Manager performance","Written strategy"],kpi:{name:"Execution Predictability",def:"% of planned weekly priorities completed"},traps:["Changing priorities often","Confusing meetings","No scorecards"]},Pulse:{focus:"Product quality, innovation, market fit",profitLeak:"Obsolete offers + quality issues + slow iteration + churn",diagnosis:"If Pulse is weak, you slowly die even if marketing is strong. The market moves and you dont.",whatItControls:"Pulse is relevance. A business can be profitable today and obsolete tomorrow.",deepInsight:"Pulse leaks happen when product evolution slows, customer learning is inconsistent, and quality control becomes reactive. Then differentiation fades and price pressure rises.",drivers:["Customer Feedback","Product Iteration","Quality Control","Market Watch","Innovation Speed"],evidenceSnapshots:[{observation:"Iteration cycle appears slow.",whyItMatters:"Competitors will out-innovate you."},{observation:"Feedback isnt systematically captured.",whyItMatters:"You are flying blind on customer satisfaction."},{observation:"Quality control is triggered after issues.",whyItMatters:"Damage control is more expensive than prevention."}],fixLever:{action:"Install a learning loop: customer interviews + quarterly tests + QC checklist.",metric:"NPS / Churn",owner:"Product Lead",effort:"M",timeline:"30 Days"},quickWins:[{title:'The "Reality Check" Call',desc:"Call 10 recent customers. Ask 3 questions: What did you love? What frustrated you? What do you wish we did? Record the patterns.",owner:"Product",effort:"M"},{title:"Fix the #1 Complaint",desc:"Take the most common frustration found in your calls and fix it immediately. Send an email telling customers you fixed it.",owner:"Ops",effort:"M"},{title:"Pre-Flight Checklist",desc:"Create a simple checklist that must be passed before any product/service is delivered to the client.",owner:"Ops",effort:"S"}],winCondition:"You start improving based on customer signals, not internal opinions.",system30:[{title:"Innovation Roadmap",desc:"Split your roadmap: 80% Core Stability, 20% Experimental Features. Ensure you are protecting today while building for tomorrow.",owner:"Product",effort:"M"},{title:"Kill/Pivot Framework",desc:"Set criteria for stopping projects. If an initiative isn't hitting metrics after X weeks, kill it without emotion.",owner:"Founder",effort:"S"},{title:"Systematic QC",desc:'Move quality control from "random checks" to "every unit" or "statistical sample" depending on volume.',owner:"Ops",effort:"M"}],build60:["Diversify offers","Quarterly testing"],institutionalize90:["Innovation budget","Health metrics"],kpi:{name:"Customer Signal",def:"Complaint rate or NPS trend"},traps:["Building for ego","Ignoring feedback","Stagnation"]},Shield:{focus:"Legal, compliance, security, risk durability",profitLeak:"One shock wipes profit (lawsuit, hack, audit, dispute)",diagnosis:"If Shield is weak, you are building profit on a minefield.",whatItControls:"Shield protects wealth. One incident can erase years of profit.",deepInsight:"Businesses treat protection as optional because it doesnt feel urgent  until it becomes urgent. The goal is to reduce the probability and reduce the blast radius.",drivers:["Contracts","Cybersecurity","Compliance","Insurance","Access Control"],evidenceSnapshots:[{observation:"Contracts and scope controls may be inconsistent.",whyItMatters:"Opens you to scope creep and liability."},{observation:"2FA/password practices may be weak.",whyItMatters:"Low-effort hacks can lock you out of your business."},{observation:"Backups are not regularly verified.",whyItMatters:"Data loss is often permanent without testing."}],fixLever:{action:"Protection Pack: 2FA + contract minimum standard + verified backups.",metric:"Risk Score",owner:"Admin/IT",effort:"S",timeline:"7 Days"},quickWins:[{title:"Digital Lockdown (2FA)",desc:"Enable 2-Factor Authentication on Email, Bank, and CRM. Force all staff to do the same. This kills 99% of opportunistic hacks.",owner:"IT",effort:"S"},{title:"Standard Service Agreement",desc:"Never start work without a signed contract. Create a simple template covering Scope, Payment Terms, and Liability.",owner:"Legal",effort:"S"},{title:"Access Control Audit",desc:"List everyone with access to your bank and data. Remove anyone who doesn't need it today.",owner:"Admin",effort:"S"}],winCondition:"You stop gambling with predictable risks.",system30:[{title:"Compliance Baseline",desc:"Review all regulatory requirements (Tax, Labor, Licenses). Schedule their renewals in the calendar.",owner:"Admin",effort:"M"},{title:"Financial Controls",desc:"Require dual approval for large payments. Separate duties between who approves and who pays.",owner:"Finance",effort:"S"},{title:"Business Continuity Plan",desc:'Write a 1-page plan: "What do we do if the office burns down or the server crashes?"',owner:"Ops",effort:"M"}],build60:["Insurance review","Vendor controls"],institutionalize90:["Risk audit","Disaster simulation"],kpi:{name:"Risk Hygiene",def:"2FA coverage + Backup success"},traps:["Handshake deals","Weak hygiene","Ignoring notices"]},Tribe:{focus:"Culture, collaboration, work dynamics, truth flow",profitLeak:"Approval friction + fear + politics + burnout",diagnosis:"If Tribe is weak, execution slows even with good strategy. People stop taking initiative.",whatItControls:"Tribe controls speed. Culture can multiply execution or slow it.",deepInsight:"When people optimize for safety (avoid blame) rather than speed (solve problems), approvals rise, meetings rise, and initiative dies. This is rarely an employee problem  its an environment signal.",drivers:["Approval Drag","Fear of Blame Signals","Meeting Theater","Silo Drift","Rumor-Based Updates"],evidenceSnapshots:[{observation:"Waiting for approval appears common.",whyItMatters:"Slows down customer delivery."},{observation:"CC behavior suggests fear of blame.",whyItMatters:"Creates noise and reduces ownership."},{observation:"Information flows through unofficial channels.",whyItMatters:"Leadership is disconnected from reality."}],fixLever:{action:"Remove approval drag + replace blame with learning.",metric:"Decision Speed",owner:"Founder",effort:"M",timeline:"30 Days"},quickWins:[{title:"Define Decision Rights",desc:'Create a matrix: Who decides? Who is consulted? Who is informed? Stop the "Reply All" decision making.',owner:"Founder",effort:"S"},{title:"The Blameless Retro",desc:'Hold a 30-min session on a recent failure. Rule: You can only blame the process, not the person. "What broke in the system?"',owner:"Team",effort:"M"},{title:"Meeting Reset",desc:"Cancel all recurring status meetings. Re-book only the ones where decisions are made. Status updates go to email/Slack.",owner:"Founder",effort:"S"}],winCondition:"People move faster and report problems earlier.",system30:[{title:"Accountability Chart",desc:"Map every core function to ONE owner. No shared ownership. If it breaks, we know who fixes it.",owner:"HR",effort:"M"},{title:"Psychological Safety Rules",desc:'Explicitly state: "Bad news delivered early is good news. Bad news delivered late is a problem."',owner:"Team",effort:"M"},{title:"Work Visibility System",desc:'Make all work visible on a shared board. Reduce the need for "checking in" by making status transparent.',owner:"Ops",effort:"M"}],build60:["Fairness/Reward system","Workload balancing"],institutionalize90:["Truth flow metrics","Bottleneck removal"],kpi:{name:"Decision Speed",def:"Avg approval wait time"},traps:["Preaching proactivity while punishing mistakes","Politics","Burnout"]}},lg={agriculture:{Engine:{focus:"Field logistics, harvest timing, labor supervision, storage",profitLeak:"Post-harvest loss + timing delays + labor waste",diagnosis:"In farming, timing is everything. A weak Engine means you miss critical windows (planting, spraying, harvest), leading to yield loss and stress.",whatItControls:"Engine controls the physical flow of work on the farm: Field  Harvest  Storage  Market.",deepInsight:"Many farmers focus on 'working hard' but lose money on 'transition steps'. The biggest leaks happen in the handoffs: finding labor, moving produce to storage, and drying/grading. If these aren't systemized, you lose quality and volume every hour.",drivers:["Harvest Readiness","Labor Productivity","Post-Harvest Flow","Tool Reliability","Scouting Routine"],fixLever:{action:"Install the Field Operating Rhythm: Daily Standup + Weekly Plan + Harvest Checklist.",metric:"On-Time Completion %",owner:"Farm Manager",effort:"M",timeline:"30 Days"},evidenceSnapshots:[],quickWins:[{title:'The "Morning Standup" Board',desc:'Stop assigning tasks individually. Spend 10 mins each morning with the team at a whiteboard: "What are we doing? Who is doing it? What tools do we need?"',owner:"Farm Manager",effort:"S"},{title:"Harvest Readiness Checklist",desc:"3 days before harvest, verify: Labor confirmed, Bags/Crates ready, Transport booked, Storage cleaned. Don't start until the list is clear.",owner:"Ops Lead",effort:"S"},{title:"Visual Quality Standards",desc:'Post photos of "Grade A" vs "Reject" produce where workers sort. Pictures speak louder than words.',owner:"QC",effort:"S"}],winCondition:"Farm operations run on schedule without constant firefighting.",system30:[],build60:[],institutionalize90:[],kpi:{name:"On-Time Rate",def:"% of planned field activities completed on schedule"},traps:["Reactive farming","Ignoring equipment maintenance","Unsupervised labor"]},Fuel:{focus:"Cash flow, input costs, harvest margin, sales timing",profitLeak:"Selling low (desperation) + input waste + unmeasured costs",diagnosis:"Farming is capital intensive. If Fuel is weak, you run out of cash before harvest or sell at the bottom of the market to pay bills.",whatItControls:"Fuel controls your ability to hold produce for better prices and afford quality inputs.",deepInsight:"The 'Cash Trap' in farming is buying inputs high and selling produce low. You need a cash buffer to break this cycle. Also, many farmers don't know their true cost per kg, so they accept prices that actually lose money.",drivers:["Unit Economics","Cash Reserve","Procurement Timing","Debt Policy","Spend Proof"],fixLever:{action:"Install Cash Flow Forecast + Unit Cost Analysis.",metric:"Cash Buffer Days",owner:"Owner",effort:"M",timeline:"30 Days"},evidenceSnapshots:[],quickWins:[{title:'Calculate "Break-Even Price"',desc:"Know exactly what it cost to grow 1kg. (Total Season Cost / Total Kg Yield). Never unknowingly sell below this number.",owner:"Owner",effort:"S"},{title:"Separation of Accounts",desc:"Open a dedicated farm bank account. Stop mixing family groceries with seed purchases. You need to see the farm's true health.",owner:"Admin",effort:"S"},{title:"Input Inventory Log",desc:'Track fertilizer/chem usage. "If it leaves the store, it must be written down." Stop invisible theft and waste.',owner:"Store Manager",effort:"S"}],winCondition:"You sell when you want to, not when you have to.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Net Margin",def:"Profit per Acre or per Kg"},traps:["Mixing personal/farm cash","Ignoring depreciation","Desperation selling"]}},dairy:{Engine:{focus:"Milking routine, feed timing",profitLeak:"Routine drift + labor waste",diagnosis:"Drift in timing hurts yield.",drivers:["Timing","Hygiene"],quickWins:[{title:"Milking SOP",desc:"Post checklist",owner:"Sup",effort:"S"}],fixLever:{action:"Standardize Milking",metric:"Yield",owner:"Sup",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Predictable yield.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Liters/Day",def:"Daily yield"},traps:[]},Fuel:{focus:"Feed margin",profitLeak:"High feed cost vs low yield",diagnosis:"Spending on feed without yield return.",drivers:["Rationing","Culling"],quickWins:[{title:"Low Yield List",desc:"Identify cull candidates",owner:"Owner",effort:"S"}],fixLever:{action:"Cull Bottom 10%",metric:"Margin",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Profitable cows only.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Margin/Liter",def:"Profit"},traps:[]}},beef:{Engine:{focus:"Weight gain routine",profitLeak:"Cycle speed",diagnosis:"Slow growth eats margin.",drivers:["Feeding","Water"],quickWins:[{title:"Water Check",desc:"Ensure 24/7 water",owner:"Staff",effort:"S"}],fixLever:{action:"Weight Banding",metric:"ADG",owner:"Sup",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Fast finishing.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Kg Gained/Week",def:"Growth"},traps:[]},Fuel:{focus:"Holding days",profitLeak:"Holding too long",diagnosis:"Profit peak passed.",drivers:["Sell Window","Input Cost"],quickWins:[{title:"Sell Window Rule",desc:"Set max days",owner:"Owner",effort:"S"}],fixLever:{action:"Margin Curve",metric:"Profit/Head",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Timely sales.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Days to Market",def:"Speed"},traps:[]}},pigs:{Engine:{focus:"Feed waste, hygiene",profitLeak:"Wastage + Disease",diagnosis:"Feed is expensive, waste is fatal.",drivers:["Troughs","Floors"],quickWins:[{title:"Feed Waste Audit",desc:"Check troughs",owner:"Sup",effort:"S"}],fixLever:{action:"Feed Measurement",metric:"FCR",owner:"Sup",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Efficient conversion.",system30:[],build60:[],institutionalize90:[],kpi:{name:"FCR",def:"Feed Conversion"},traps:[]},Fuel:{focus:"Cycle time",profitLeak:"Slow growth",diagnosis:"Overhead piles up.",drivers:["Growth","Market"],quickWins:[{title:"Batch Dashboard",desc:"Track days",owner:"Owner",effort:"S"}],fixLever:{action:"Target Day Sell",metric:"Margin",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Fast cycles.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Days to 100kg",def:"Speed"},traps:[]}},broilers:{Engine:{focus:"Brooding (first 7 days)",profitLeak:"Early mortality",diagnosis:"Bad start = bad batch.",drivers:["Temp","Water"],quickWins:[{title:"Brooding Check",desc:"Temp/Water log",owner:"Sup",effort:"S"}],fixLever:{action:"Brooding SOP",metric:"Day 7 Weight",owner:"Sup",effort:"M",timeline:"7d"},evidenceSnapshots:[],winCondition:"Zero early loss.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Mortality %",def:"Survival"},traps:[]},Fuel:{focus:"FCR",profitLeak:"Feed waste",diagnosis:"Birds eating profit.",drivers:["Feeders","Spillage"],quickWins:[{title:"Feeder Height",desc:"Adjust daily",owner:"Sup",effort:"S"}],fixLever:{action:"Weekly FCR Check",metric:"FCR",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Low FCR.",system30:[],build60:[],institutionalize90:[],kpi:{name:"FCR",def:"Efficiency"},traps:[]}},layers:{Engine:{focus:"Lighting, Collection",profitLeak:"Production dips",diagnosis:"Routine drift kills lay rate.",drivers:["Light","Routine"],quickWins:[{title:"Lights Lock",desc:"Timer check",owner:"Sup",effort:"S"}],fixLever:{action:"Consistency Protocol",metric:"Lay %",owner:"Sup",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Stable lay rate.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Lay %",def:"Production"},traps:[]},Fuel:{focus:"Feed to Egg",profitLeak:"Inefficiency",diagnosis:"Eating but not laying.",drivers:["Quality","Waste"],quickWins:[{title:"Crack Tracker",desc:"Log breaks",owner:"Sup",effort:"S"}],fixLever:{action:"Cull Non-Layers",metric:"Margin",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"High efficiency.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Feed/Tray",def:"Cost"},traps:[]}},goats_sheep:{Engine:{focus:"Survival, Kidding",profitLeak:"Kid mortality",diagnosis:"Losing replacements.",drivers:["Kidding","Parasites"],quickWins:[{title:"Worm Check",desc:"Famacha check",owner:"Sup",effort:"S"}],fixLever:{action:"Kidding Prep",metric:"Survival",owner:"Sup",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"High survival.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Survival Rate",def:"%"},traps:[]},Fuel:{focus:"Loss control",profitLeak:"Theft/Death",diagnosis:"Asset leakage.",drivers:["Security","Health"],quickWins:[{title:"Night Count",desc:"Lock up",owner:"Sup",effort:"S"}],fixLever:{action:"Loss Investigation",metric:"Headcount",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Secure herd.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Loss %",def:"Security"},traps:[]}},aquaculture:{Engine:{focus:"Water quality, feeding, stocking",profitLeak:"Water Quality Drift + Overfeeding",diagnosis:"Feeding based on feeling; feed becomes a silent cash leak. Water quality is checked only when fish look stressed.",whatItControls:"Daily survivability and growth efficiency.",deepInsight:"In aquaculture, water is the engine. If water quality drifts, feed doesn't convert. You are paying for feed that the fish can't use.",drivers:["DO/pH","Rationing","Density"],quickWins:[{title:"Daily Water Log",desc:"Track DO, temp, pH daily",owner:"Sup",effort:"S"},{title:"Feed Log",desc:"Record feed vs biomass",owner:"Sup",effort:"S"}],fixLever:{action:"Standardize Feeding & Water",metric:"FCR",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Predictable water and growth.",system30:[],build60:[],institutionalize90:[],kpi:{name:"FCR",def:"Feed Conversion Ratio"},traps:["Overstocking without oxygen","Ignoring ammonia spikes"]},Fuel:{focus:"FCR, Input Costs, Harvest Timing",profitLeak:"High FCR + Mortality Loss",diagnosis:"Profit is eaten by invisible feed waste/theft and late harvest (diminishing returns).",whatItControls:"The margin between feed cost and sales price.",deepInsight:"Feed is 70% of cost. If you don't measure FCR (Feed Conversion Ratio), you don't have a business, you have a hobby. A 0.2 shift in FCR is the difference between profit and loss.",drivers:["FCR","Sampling","Harvest Cycle"],quickWins:[{title:"Weekly Sampling",desc:"Weigh sample fish weekly",owner:"Sup",effort:"M"},{title:"FCR Calculation",desc:"Calc Feed / Weight Gain",owner:"Mgr",effort:"S"}],fixLever:{action:"FCR Optimization Protocol",metric:"FCR",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Profitable conversion.",system30:[],build60:[],institutionalize90:[],kpi:{name:"FCR",def:"Ratio"},traps:["Feeding during rain/cold","Harvesting too late"]},Voice:{focus:"Market timing, off-take agreements",profitLeak:"Price taking + desperation sales",diagnosis:"Harvesting without a buyer locked in.",whatItControls:"Revenue realization.",deepInsight:"Fish are perishable inventory. If you wait until harvest to find a buyer, you have zero leverage. You must sell the crop 30 days before it leaves the water.",drivers:["Pre-sales","Size Grading"],quickWins:[{title:"Buyer Warm-up",desc:"Call buyers 30d out",owner:"Owner",effort:"S"},{title:"Size Promise",desc:"Guarantee size/grade",owner:"Sup",effort:"S"}],fixLever:{action:"Forward Contract Cycle",metric:"Price/kg",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Sold before harvest.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Pre-book %",def:"% sold before harvest"},traps:["Spot market reliance","Selling mixed sizes"]},Brain:{focus:"Targets, Planning",profitLeak:"Reactive Management",diagnosis:"We run on memory. Targets change based on pressure.",whatItControls:"Direction and stability.",deepInsight:"Without targets and records, you are gambling, not farming.",drivers:["Targets","Records"],quickWins:[{title:"Batch Card",desc:"Start/End dates",owner:"Sup",effort:"S"}],fixLever:{action:"Weekly Review",metric:"Plan Adherence",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Managed farm.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Plan Variance",def:"Accuracy"},traps:[]},Pulse:{focus:"Growth, Genetics",profitLeak:"Slow Growth",diagnosis:"Growth is evaluated by look. FCR drifts.",whatItControls:"System efficiency.",deepInsight:"Time is money. Slow growth eats overhead.",drivers:["Genetics","Sampling"],quickWins:[{title:"Sample Weigh",desc:"Weekly weights",owner:"Sup",effort:"M"}],fixLever:{action:"Growth Benchmarking",metric:"ADG",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Fast growth.",system30:[],build60:[],institutionalize90:[],kpi:{name:"ADG",def:"Daily Gain"},traps:[]},Shield:{focus:"Biosecurity",profitLeak:"Disease/Loss",diagnosis:"New stock mixed without quarantine. No backup aeration.",whatItControls:"Asset protection.",deepInsight:"One outbreak erases a year of profit.",drivers:["Quarantine","Backup"],quickWins:[{title:"Quarantine Rule",desc:"Isolate new",owner:"Sup",effort:"S"}],fixLever:{action:"Biosecurity Shield",metric:"Survival",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Secure farm.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Survival %",def:"Risk"},traps:[]},Tribe:{focus:"People, Safety",profitLeak:"Hidden Problems",diagnosis:"Staff prefer asking before acting. Mistakes are hidden.",whatItControls:"Execution speed.",deepInsight:"If staff hide problems, you find them too late.",drivers:["Safety","SOPs"],quickWins:[{title:"Safe Report",desc:"No blame reporting",owner:"Owner",effort:"S"}],fixLever:{action:"Role Ownership",metric:"Task Completion",owner:"Owner",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Proactive team.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Issue Report Rate",def:"Transparency"},traps:[]}},agro_processing:{Engine:{focus:"Production flow, uptime, changeovers",profitLeak:"Downtime Drain + Changeover Black Hole",diagnosis:"Downtime is frequent but unmeasured. Changeovers waste hours.",whatItControls:"Throughput and predictable output.",deepInsight:"In processing, lost time is lost money. If you dont measure downtime and changeover time, you accept lowered capacity.",drivers:["Uptime","Changeovers","Maintenance"],quickWins:[{title:"Downtime Log",desc:"Record every stop >5 mins",owner:"Sup",effort:"S"},{title:"Raw Intake Gate",desc:"Reject bad inputs before processing",owner:"QC",effort:"S"}],fixLever:{action:"Daily Downtime Log",metric:"OEE",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Maximized uptime.",system30:[{title:"Preventive Maintenance",desc:"Scheduled non-negotiable stops",owner:"Maint",effort:"M"}],build60:[],institutionalize90:[],kpi:{name:"Throughput",def:"Units/Hour"},traps:["Ignoring micro-stops"]},Fuel:{focus:"Yield, Unit Cost, Shrinkage",profitLeak:"Yield Bleed + Underweight Giveaway",diagnosis:"Yield loss is invisible. Underweight packs give away profit.",whatItControls:"Unit economics.",deepInsight:"You sell by weight but buy by bulk. Small yield leaks (spillage, moisture) destroy margins.",drivers:["Yield","Shrinkage","Cost/Unit"],quickWins:[{title:"Stop Underweight",desc:"Check-weigh hourly",owner:"QC",effort:"S"},{title:"Margin Floor Rule",desc:"Min price based on cost",owner:"Sales",effort:"S"}],fixLever:{action:"Unit Costing + Yield Track",metric:"GP%",owner:"Fin",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Every unit is profitable.",system30:[{title:"Batch Costing",desc:"Full cost per batch",owner:"Fin",effort:"M"}],build60:[],institutionalize90:[],kpi:{name:"Yield %",def:"Output/Input"},traps:["Buying cheap inputs that reduce yield"]},Shield:{focus:"Food Safety, Compliance, Traceability",profitLeak:"Contamination Roulette + Compliance Blockers",diagnosis:"One contamination event can destroy trust and contracts.",whatItControls:"Market access and risk.",drivers:["Hygiene","Traceability","Allergens"],quickWins:[{title:"Hygiene Verify",desc:"Daily sign-off checklist",owner:"QC",effort:"S"}],fixLever:{action:"Hygiene & Traceability Lock",metric:"Compliance %",owner:"QC",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Audit ready always.",system30:[{title:"Traceability Basics",desc:"Batch codes end-to-end",owner:"QC",effort:"M"}],build60:[],institutionalize90:[],kpi:{name:"Audit Score",def:"%"},traps:["Paperwork only for audits"]},Voice:{focus:"Buyers, Specs, Pricing",profitLeak:"Spec Drift Discount + Buying Power Trap",diagnosis:"Buyers control you because you lack specs and consistency.",whatItControls:"Pricing power.",drivers:["Specs","Contracts","Branding"],quickWins:[{title:"Margin Floor",desc:"No sales below cost",owner:"Sales",effort:"S"}],fixLever:{action:"Margin Protection Specs",metric:"Price/kg",owner:"Sales",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Sold on value, not just price.",system30:[{title:"Buyer Contract Pack",desc:"Standard terms",owner:"Sales",effort:"M"}],build60:[],institutionalize90:[],kpi:{name:"Margin/Channel",def:"Profit %"},traps:["Volume over margin"]},Brain:{focus:"KPIs, Planning",profitLeak:"Batch Chaos",diagnosis:"Reactive to daily issues.",drivers:["Targets"],quickWins:[],fixLever:{action:"Weekly Yield Review",metric:"Variance",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Controlled.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Variance",def:"%"},traps:[]},Pulse:{focus:"Innovation",profitLeak:"Old SKUs",diagnosis:"Stagnant portfolio.",drivers:["Tests"],quickWins:[],fixLever:{action:"Controlled Tests",metric:"ROI",owner:"Prod",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Growing.",system30:[],build60:[],institutionalize90:[],kpi:{name:"NPS",def:"Score"},traps:[]},Tribe:{focus:"Staff",profitLeak:"Hero Dependence",diagnosis:"Plant stops without manager.",drivers:["Roles"],quickWins:[],fixLever:{action:"Role Cards",metric:"Handover",owner:"HR",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Systems run the plant.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Handover Note",def:"%"},traps:[]}},milling:{Fuel:{focus:"Yield, Unit Cost, Shrinkage",profitLeak:"Yield Bleed + Underweight Giveaway",diagnosis:"Yield loss is invisible. Underweight packs give away profit.",whatItControls:"Unit economics.",deepInsight:"You sell by weight but buy by bulk. Small yield leaks (spillage, moisture) destroy margins.",drivers:["Yield","Shrinkage","Cost/Unit"],quickWins:[{title:"Sieve & Spillage Audit",desc:"Map loss points",owner:"Sup",effort:"S"},{title:"Grade Separation Rule",desc:"Stop mixed grades",owner:"QC",effort:"S"}],fixLever:{action:"Unit Costing + Yield Track",metric:"GP%",owner:"Fin",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Every unit is profitable.",system30:[{title:"Supplier Scorecard",desc:"Quality vs Yield",owner:"Procure",effort:"M"}],build60:[],institutionalize90:[],kpi:{name:"Yield %",def:"Output/Input"},traps:[]}},drying:{Engine:{focus:"Moisture control",profitLeak:"Moisture Drift Penalty",diagnosis:"Inconsistent drying creates rejects.",whatItControls:"Quality and weight.",deepInsight:"Moisture is money. Too dry = weight loss. Too wet = reject/spoilage.",drivers:["Moisture","Uniformity"],quickWins:[{title:"Moisture Drift Lock",desc:"Log & Thresholds",owner:"Sup",effort:"S"}],fixLever:{action:"Drying Control",metric:"Rejects",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Perfect moisture.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Moisture Var",def:"%"},traps:[]}},packaging:{Shield:{focus:"Labels, Seals",profitLeak:"Label Risk Trap",diagnosis:"Label errors cause recalls.",whatItControls:"Market safety.",drivers:["Labels","Seals"],quickWins:[{title:"Seal Integrity Test",desc:"Leak test routine",owner:"QC",effort:"S"}],fixLever:{action:"Label Lock",metric:"Incidents",owner:"QC",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Perfect packs.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Pack Defect",def:"%"},traps:[]}},juices:{Engine:{focus:"Consistency, Brix",profitLeak:"Spec Drift",diagnosis:"Taste varies by batch.",whatItControls:"Brand trust.",drivers:["Mixing","Brix"],quickWins:[{title:"Spec Lock",desc:"Brix/Acidity Check",owner:"QC",effort:"S"}],fixLever:{action:"Formula Control",metric:"Consistency",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Identical batches.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Brix Var",def:"%"},traps:[]}},oils:{Fuel:{focus:"Extraction Yield",profitLeak:"Oil in Cake",diagnosis:"Press efficiency is low.",whatItControls:"Margin.",drivers:["Press","Filtration"],quickWins:[{title:"Yield Bleed Spot",desc:"Press check",owner:"Sup",effort:"S"}],fixLever:{action:"Extraction Optimization",metric:"Yield",owner:"Mgr",effort:"M",timeline:"30d"},evidenceSnapshots:[],winCondition:"Max oil.",system30:[],build60:[],institutionalize90:[],kpi:{name:"Oil Yield",def:"%"},traps:[]}}},lpe=e=>{if(!e)return"";const t=e.toLowerCase();return t.includes("tilapia")?"tilapia":t.includes("catfish")?"catfish":t.includes("shrimp")?"shrimp":t.includes("salmon")||t.includes("trout")?"salmon_trout":t.includes("mill")||t.includes("maize")||t.includes("wheat")||t.includes("rice")||t.includes("feed")?"milling":t.includes("dry")||t.includes("storage")||t.includes("grain")||t.includes("coffee")||t.includes("fruit")?"drying":t.includes("pack")||t.includes("consumer")?"packaging":t.includes("juice")||t.includes("beverage")?"juices":t.includes("oil")||t.includes("sunflower")||t.includes("palm")?"oils":t.includes("dairy")?"dairy":t.includes("beef")?"beef":t.includes("goat")||t.includes("sheep")?"goats_sheep":t.includes("pig")?"pigs":t.includes("broiler")?"broilers":t.includes("layer")?"layers":""},cpe=(e,t,i)=>{var s,l;const n=e,r=lpe(i);return r&&((s=lg[r])!=null&&s[t])?lg[r][t]:(l=lg[n])!=null&&l[t]?lg[n][t]:P0[t]||P0.Engine},yu=["Fashion & boutique","Fashion & Boutique","Women's Boutique (casual + office + occasion)","Men's Fashion (smart casual + formal)","Kids & Family Wear","Shoes / Bags / Accessories Boutique","Streetwear & Trend Drops","Bridal / Occasion / Formal Wear","Thrift / Resale (mitumba / curated secondhand)","Tailoring / Bespoke + Boutique Hybrid","Online-First Boutique (WhatsApp/IG/TikTok sales)"],_u=["Hardware & building materials shop","Hardware & Building Materials Shop","General Hardware Retail","Building Materials Yard (cement, steel, bricks, aggregates)","Paints & Finishes Shop","Plumbing & Electrical Focus","Contractor / Project Supply","Wholesale / Bulk Distributor"],vu=["Electronics & phone shop","Electronics & Phone Shop","New Phones Retail","Used / Refurbished Phones","Repairs & Service Center","Accessories-Focused Shop","Corporate / Institutional Supply (Phones/Gadgets)","Online / Instagram / WhatsApp Phone Shop"],bu=["FMCG wholesale & distribution","Cash & Carry Wholesaler (walk-in shop, bulk buying)","Route-to-Market Distributor (van sales to retailers)","Sub-Distributor / Agent Network (many small resellers)","Modern Trade / Key Accounts (supermarkets, chains)","Importer + Regional Distributor (cross-border + bulk)","Cold-Chain / Perishables Distributor (dairy, frozen, chilled)"],Ch=["Stationery & bookstore","Stationery & Bookstore","School Stationery Retail","Bookstore (General / Academic)","Printing & Photocopy Hybrid","Office Supply Store","Wholesale Stationery Distributor","Religious Books & Devotionals","Kids Learning & Activity Store","Online-First Stationery (WhatsApp/IG/website)","Exam-Season Pop-Up / Seasonal Kiosk"],Th=["Spare parts & accessories shop","Spare Parts & Accessories Shop","Motorcycle parts (boda boda)","Car parts (general)","Truck/bus/commercial vehicle parts","Tyres & batteries specialty","Lubricants/filters/consumables","Electronics & sensors (ECU, relays, bulbs, wiring)","Body parts & paint accessories","Tools & garage accessories","Wholesale spare parts distributor","Online-first (WhatsApp/Delivery)","Garage-linked shop (attached to mechanic workshop)"],nL={retail:{customer:"customer",order:"sale",delivery:"delivery/pickup",stock:"inventory",lead:"WhatsApp DM/call",quality:"packaging/condition",cash_risk:"dead stock",staff:"staff"},tech:{customer:"client",order:"project/sprint",delivery:"handover/milestone",stock:"backlog/tickets",lead:"proposal/discovery call",quality:"bugs/QA",cash_risk:"scope creep",staff:"developers"},agriculture:{customer:"buyer/aggregator",order:"harvest lot/supply deal",delivery:"collection/transport",stock:"produce/inputs",lead:"buyer lead/contract",quality:"grading/moisture",cash_risk:"spoilage",staff:"workers"},livestock:{customer:"buyer/trader",order:"sale/batch",delivery:"transport",stock:"herd/flock",lead:"buyer inquiry",quality:"weight/health",cash_risk:"mortality/theft",staff:"caretakers"},aquaculture:{customer:"buyer",order:"harvest/batch",delivery:"delivery",stock:"biomass/stock",lead:"market inquiry",quality:"grade/size",cash_risk:"disease/crash",staff:"farm team"},agro_processing:{customer:"buyer/distributor",order:"batch/order",delivery:"delivery",stock:"raw/finished goods",lead:"contract/tender",quality:"spec compliance",cash_risk:"spoilage/rejects",staff:"operators"},mining:{customer:"buyer/offtaker",order:"shipment/lot",delivery:"dispatch/hand-off",stock:"ore stockpile/lot",lead:"buyer channel",quality:"grade/recovery",cash_risk:"theft/deductions",staff:"crew"},oil_gas_services:{customer:"client/operator",order:"job/work order",delivery:"site execution/close-out",stock:"tools/spares/rentals",lead:"tender/prequal opportunity",quality:"SLA/QA evidence",cash_risk:"backcharge/penalty",staff:"field crew"},hospitality:{customer:"guest/diner",order:"booking/order",delivery:"service experience",stock:"supplies",lead:"booking inquiry",quality:"reviews/cleanliness",cash_risk:"no-shows",staff:"crew"},services:{customer:"client",order:"retainer",delivery:"deliverable",stock:"capacity",lead:"consultation",quality:"accuracy",cash_risk:"unbilled hours",staff:"consultants"},transport:{customer:"shipper",order:"load",delivery:"trip",stock:"fleet",lead:"quote request",quality:"safety/timeliness",cash_risk:"breakdowns",staff:"drivers"},manufacturing:{customer:"distributor",order:"batch",delivery:"shipping",stock:"raw materials",lead:"purchase order",quality:"defect rate",cash_risk:"scrap",staff:"operators"},construction:{customer:"property owner",order:"job",delivery:"milestone",stock:"materials",lead:"bid/tender",quality:"finish",cash_risk:"delays",staff:"crew"},other:{customer:"customer",order:"order",delivery:"delivery",stock:"resources",lead:"lead",quality:"quality",cash_risk:"waste",staff:"team"}},aL=[{id:"aquaculture",label:"Fisheries & Aquaculture",iconName:"CloudRain",lexiconKey:"aquaculture",subIndustries:["Tilapia Farming","Catfish Farming","Shrimp Farming","Salmon & Trout Farming"]},{id:"agro_processing",label:"Agro-Processing & Value Addition",iconName:"Factory",lexiconKey:"agro_processing",subIndustries:["Milling (maize, wheat, rice, animal feed)","Drying & Storage (grains, coffee, fruits)","Packaging (foods, grains, consumer goods)","Juices & Beverages","Oils (sunflower, sesame, groundnut, palm)"]},{id:"agri_input",label:"Agri-Input Supplier",iconName:"Sprout",lexiconKey:"agriculture",subIndustries:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Equipment Sales & Spares","Operator Training & Advisory"]},{id:"produce_aggregation",label:"Produce Aggregation & Trading",iconName:"Store",lexiconKey:"produce",subIndustries:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Exporter / Cross-border Trader","Digital Broker / Agent","Warehouse + Bulking Hub"]},{id:"livestock",label:"Livestock & Animal Husbandry",iconName:"Sprout",lexiconKey:"livestock",subIndustries:["Dairy Cattle","Beef Cattle","Goats & Sheep","Piggery","Poultry (Broilers)","Poultry (Layers)"]},{id:"agriculture",label:"Agriculture, Livestock & Agribusiness",iconName:"Sprout",lexiconKey:"agriculture",subIndustries:["Crop farming","Livestock","Dairy & milk collection","Fisheries & aquaculture","Beekeeping & apiculture","Agro-processing","Input supplier","Farm machinery & services","Produce aggregation & trading","Export / cross-border produce trade","Storage & warehousing","Forestry & timber production"]},{id:"mining",label:"Mining, Quarrying & Natural Resources",iconName:"Pickaxe",lexiconKey:"mining",subIndustries:["Artisanal Gold","Gemstones","3Ts (Tin/Tantalum/Coltan)","Quarrying (stone/sand/aggregates)"]},{id:"oil_gas_services",label:"Oil & Gas Services",iconName:"Wrench",lexiconKey:"oil_gas_services",subIndustries:["Maintenance & Shutdown Services","Logistics & Transport Services","Inspection, Testing & QA Services","Civil Works / Fabrication / Welding Services"]},{id:"manufacturing",label:"Manufacturing & Industrial Production",iconName:"Factory",lexiconKey:"manufacturing",subIndustries:["Food & beverage manufacturing","Bakery / Flour / Grain-based processing","Dairy processing (milk, yoghurt, cheese)","Beverages (juice, soda, water)","Meat processing","Snacks & packaged foods","Edible oils (sunflower, palm, groundnut, etc.)","Textile & garment manufacturing","CMT Factory (Cut-Make-Trim for buyers)","Uniforms & Workwear Manufacturing","Fashion / Retail Brand (own brand)","Knitwear / T-shirts / Casualwear (high volume)","Tailoring / Bespoke / Small Batch (custom)","Furniture & carpentry production","Custom Residential Furniture (beds, wardrobes, kitchens)","Commercial Fit-Out & Office Furniture","Doors, Windows & Building Joinery","Mass/Batch Production (standard designs)","Upholstered Furniture (sofas, chairs)","Metal works / fabrication","Structural Steel & Construction Fabrication (frames, beams, gates, stairs)","Doors, Windows, Grills & Security Products","Industrial Fabrication (tanks, platforms, racks, hoppers)","Automotive Fabrication (trailers, bodies, repairs/mods)","Aluminum Fabrication (doors, partitions, glazing frames)","Stainless Steel Works (kitchen, hospital, food-grade)","Plastics & packaging manufacturing","Film & Bag Manufacturing (poly bags, shrink film, liners)","Rigid Packaging (bottles, jerrycans, containers)","Injection Molding (caps, parts, household items)","Printing & Lamination (labels, flexible packs, pouches)","Recycled Plastics (regrind, washing, pelletizing)","Industrial Packaging (drums, crates, bulk packaging accessories)","Soap / detergents / cosmetics production","Laundry Detergent & Multipurpose Cleaners (powder/liquid)","Bar Soap & Bath Soap (beauty/medicated)","Personal Care & Cosmetics (lotions, creams, oils, hair products)","Institutional / Bulk Supply (hotels, hospitals, schools)","Natural/Organic & Sensitive-Skin Brands","Distributors / Private Label Manufacturing","Bricks / blocks / cement products","Manual Yard Bricks (small-scale clay bricks / hand-mold)","Concrete Blocks (hollow/solid blocks, machine-vibro)","Pavers / Kerbs / Precast (high mix + high QC demand)","Cement Tiles / Terrazzo / Floor Tiles","Roofing Tiles (concrete tiles, decorative roofing pieces)","Multi-Product Yard (blocks + pavers + tiles + custom orders)","Bottled water / ice production","Small Plant Bottled Water (manual/semi-automatic)","Automated Bottling Line (higher volume)","Sachet Water (high volume, price-sensitive)","Ice Blocks / Ice Cubes (standalone)","Bottled Water + Ice (combined plant)","Institutional Supply (schools, hospitals, offices, events)","Distributor / Private Label Bottling","Pharmaceuticals / medical supplies manufacturing","Chemical/light industrial production","Assembly / OEM","Assembly / OEM (electronics, components)","EMS Contract Manufacturer (PCBA + Box Build)","PCBA-Only (SMT + Reflow + AOI + Test)","Cable / Harness / Connector Assembly","High-Mix Low-Volume Custom Builds (Industrial, Lab, Prototypes)","White-Label / Multi-Variant OEM (Many clients, similar products)","Repair / Refurb / Rework Center (Reverse Logistics)","Precision Electronics / Medical / High-Compliance Assembly"]},{id:"retail",label:"Retail, Wholesale & Trade",iconName:"ShoppingBag",lexiconKey:"retail",subIndustries:["Supermarket / mini-mart","Kiosk / market vendor",...vu,...bu,"Pharmacy / drug shop",..._u,...yu,...Ch,...Th,"Cosmetics / beauty supplies","Import/export trading","E-commerce store / online retail"]},{id:"construction",label:"Construction, Real Estate & Built Environment",iconName:"HardHat",lexiconKey:"construction",subIndustries:["General contracting","Civil works","Architecture & design","Quantity surveying & estimating","Land surveying & mapping","Plumbing / electrical / HVAC services","Interior design & fit-out","Real estate brokerage/agency","Property management","Facilities management","Real estate development","Building materials supply"]},{id:"transport",label:"Transport, Logistics & Mobility",iconName:"Truck",lexiconKey:"transport",subIndustries:["Boda / ride services / taxi operations","Bus & coach services","Trucking / haulage","Courier / last-mile delivery","Warehousing & fulfillment","Freight forwarding / clearing & customs","Fleet leasing & management","Shipping/logistics coordination","Automotive towing & recovery","Fuel station / energy retail"]},{id:"hospitality",label:"Hospitality, Food, Beverage & Tourism",iconName:"Utensils",lexiconKey:"hospitality",subIndustries:["Restaurant / caf / fast food","Hotel / lodge / Airbnb host","Catering services","Bar / nightlife venue","Bakery / confectionery","Butchery / meat supply","Travel agency / tour operator","Events & conference services","Recreation / leisure business"]},{id:"health",label:"Health, Medical & Wellness",iconName:"HeartPulse",lexiconKey:"services",subIndustries:["Clinic / hospital","Dental clinic","Laboratory & diagnostics","Medical outreach / community health","Nursing / home care services","Mental health / counseling","Gym / fitness center","Salon / spa","Wellness products/services"]},{id:"education",label:"Education, Training & Skills Development",iconName:"BookOpen",lexiconKey:"services",subIndustries:["Nursery / primary / secondary school","Tertiary college / institute","Vocational training (TVET)","Tutoring / coaching / exam prep","Corporate training provider","EdTech / e-learning platform","School support services"]},{id:"tech",label:"Technology, IT & Digital Services",iconName:"Monitor",lexiconKey:"tech",subIndustries:["Software company / SaaS product","IT support & maintenance","Device repair","Web design & development","Mobile app development","Digital marketing agency","Cybersecurity services","Data analytics / BI / AI services","Network installation & ISP/telecom reseller","Cloud services / managed services","POS/ERP implementation"]},{id:"finance",label:"Financial Services & Business Support",iconName:"Wallet",lexiconKey:"services",subIndustries:["SACCO / cooperative finance","Microfinance / lending","Insurance agent/broker","Accounting & bookkeeping","Audit & tax advisory","Payroll services","Investment advisory","Payments/fintech services","Business registration & compliance services"]},{id:"professional",label:"Professional Services",iconName:"Briefcase",lexiconKey:"services",subIndustries:["Legal services / law firm","Consulting","Recruitment / staffing agency","Engineering consulting","Research & evaluation (M&E)","Translation & interpretation"]},{id:"media",label:"Media, Creative & Entertainment",iconName:"Video",lexiconKey:"services",subIndustries:["Photography / videography","Graphic design & branding","Printing & publishing","Advertising/PR agency","Content creation / influencer","Radio/TV/media production","Music/events entertainment services"]},{id:"public_sector",label:"Public Sector & Government Contractors",iconName:"Building2",lexiconKey:"services",subIndustries:["Government services provider","Government contractors","Public-private partnership operators"]},{id:"ngo",label:"NGO, Non-Profit & Social Enterprise",iconName:"Globe",lexiconKey:"services",subIndustries:["NGO / foundation / charity","CBO (community-based org)","Faith-based organization programs","Social enterprise","Donor-funded project implementer"]},{id:"utilities",label:"Utilities, Energy & Environment",iconName:"Zap",lexiconKey:"other",subIndustries:["Solar/renewable installation","Electrical services","Water supply services","Waste management & sanitation","Recycling / circular economy","Environmental services / consultancy","Security services (guards, CCTV, alarms)"]},{id:"automotive",label:"Automotive, Machinery & Engineering Services",iconName:"Wrench",lexiconKey:"services",subIndustries:["Garage / mechanic","Car wash","Tyres & battery shop","Spare parts dealer","Motorcycle repair","Heavy machinery repair & hire","Welding/fabrication services"]},{id:"household",label:"Household, Personal & Lifestyle Services",iconName:"Home",lexiconKey:"services",subIndustries:["Laundry services","Cleaning services","Tailoring & fashion services","Event decoration & planning","Domestic staffing services","Hairdressing/barbering","Childcare/daycare services"]},{id:"telecom",label:"Telecommunications & Connectivity",iconName:"Wifi",lexiconKey:"tech",subIndustries:["Mobile money agency network","Airtime/data distribution","ISP services (local)","Tower/field service contractors"]},{id:"security",label:"Security, Defense & Risk Services",iconName:"Shield",lexiconKey:"services",subIndustries:["Private security company","Risk management consultancy","Investigations"]},{id:"religion",label:"Religion & Community Institutions",iconName:"Users",lexiconKey:"other",subIndustries:["Church/ministry operations","Religious education programs","Community development programs"]},{id:"other_multi",label:"Other / Multi-Industry",iconName:"LayoutGrid",lexiconKey:"other",subIndustries:["Holding company / multi-business operator","Marketplace / platform business","Not sure yet"]}],dpe={Leadership:{detection:"management-by-memory + weak batch targets",cost:"late decisions, repeat mistakes, and unpredictable cycles",cliffhanger:"Deep Scan will build a weekly farm dashboard and show which metric is drifting first."},Market:{detection:"price-taker position + weak grading/proof",cost:"forced discounts, delayed payments, and low bargaining power",cliffhanger:"Deep Scan will map your buyer strategy + grade-mix pricing to recover margin."},Operations:{detection:"feeding + water routines not fully standardized",cost:"slow growth, uneven sizes, and hidden stress loss",cliffhanger:"Deep Scan will pinpoint whether your leak is oxygen windows, feeding rhythm, or stocking pressure."},Money:{detection:"conversion blind spot (FCR drift) + unclear cost/kg",cost:"feed black hole + profit disappearing even when sales look good",cliffhanger:"Deep Scan calculates your cost/kg gain and identifies the exact wastage point."},Innovation:{detection:"growth curve drift + time-to-market slippage",cost:"extra feeding days, stunting, and delayed harvest cash",cliffhanger:"Deep Scan will identify the fastest lever to shorten cycle time."},Risk:{detection:"biosecurity gaps + weak outage resilience",cost:"outbreak roulette + one event can erase months of profit",cliffhanger:"Deep Scan generates your biosecurity map + outage survival plan."},People:{detection:"approval-first culture + inconsistent routines",cost:"slow response to water/health issues, quality drift across shifts",cliffhanger:"Deep Scan defines decision boundaries + SOP ownership so your farm runs without bottlenecks."}},upe={Leadership:{detection:"reactive scheduling + firefighting",cost:"expensive changeovers and overtime to fix plan gaps",cliffhanger:"Deep Scan will build a Fixed Repeating Schedule."},Market:{detection:"spec drift + buyer rejections/deductions",cost:"selling premium product at discount prices due to variance",cliffhanger:"Deep Scan will build a Spec Shield to lock in your margin."},Operations:{detection:"frequent downtime + undefined changeover protocols",cost:"capacity tax (paying for 100% time, getting 60% output)",cliffhanger:"Deep Scan will reveal your OEE gap and pinpoint micro-stops."},Money:{detection:"yield bleed + mass balance unknown",cost:"invisible profit loss (buying bulk, selling unit, losing the difference)",cliffhanger:"Deep Scan will perform a Mass Balance audit to find the leak."},Innovation:{detection:"stagnant SKU list + slow innovation",cost:"market share loss to faster competitors",cliffhanger:"Deep Scan will identify Tail SKUs to cut and new winners to launch."},Risk:{detection:"food safety via 'carefulness' instead of systems",cost:"recall risk that could bankrupt the brand",cliffhanger:"Deep Scan will install the Compliance Lock."},People:{detection:"hero dependence + undefined roles",cost:"factory stops/slows when you aren't there",cliffhanger:"Deep Scan will build Role Cards to decentralize execution."}},ppe={Operations:{detection:"pit-to-scale blindspot + grade drift",cost:"you are mining volume but not recovering full value",cliffhanger:"Deep Scan will map your pit-to-stockpile flow and reveal the exact recovery leak."},Money:{detection:"ghost costs + buyer-controlled deductions",cost:"margin collapse hidden behind strong cash movement",cliffhanger:"Deep Scan will build cost-per-ton controls and isolate where cash leakage starts."},Market:{detection:"single-buyer danger + weak shipment proof",cost:"pricing power shifts to middlemen and disputes increase",cliffhanger:"Deep Scan will install your trust premium system (proof packs + terms discipline)."},Leadership:{detection:"no owner syndrome + decision by shouting",cost:"repeat mistakes, unstable output, and firefighting management",cliffhanger:"Deep Scan will assign owners and install weekly KPI control cadence."},Innovation:{detection:"processing gap + low-tech trap",cost:"more digging without higher value per ton",cliffhanger:"Deep Scan will prioritize one recovery upgrade with measurable 30-day ROI."},Risk:{detection:"compliance trap + chain-of-custody hole",cost:"one incident or dispute can shut operations and destroy trust",cliffhanger:"Deep Scan will set safety routines and custody traceability that survive audits."},People:{detection:"incentive misfire + silent error problem",cost:"speed is rewarded while recovery quality and discipline decay",cliffhanger:"Deep Scan will redesign training and incentives around recovery and loss prevention."}},fpe={Operations:{detection:"PTW bottlenecks + work pack chaos",cost:"paid crews waiting instead of producing",cliffhanger:"Deep Scan will map your readiness and dispatch flow to cut idle-time leakage."},Money:{detection:"variation order leakage + unbilled work drift",cost:"high workload with thin or disappearing margin",cliffhanger:"Deep Scan will enforce VO and invoice triggers that convert delivery into collected cash."},Market:{detection:"single-client dependency + weak performance proof",cost:"pricing pressure, renewal risk, and tender vulnerability",cliffhanger:"Deep Scan will build your trust-premium proof system for stronger repeat work."},Leadership:{detection:"supervisor lottery + weak action closure",cost:"inconsistent site execution and recurring delay causes",cliffhanger:"Deep Scan will install owner accountability and weekly control rhythms."},Innovation:{detection:"template void + field data blindspot",cost:"manual planning overhead and repeated rework loops",cliffhanger:"Deep Scan will standardize templates and convert field lessons into process upgrades."},Risk:{detection:"HSE/PTW inconsistency + contract exposure",cost:"incident shutdown risk, penalties, and vendor-status damage",cliffhanger:"Deep Scan will harden compliance, audit trails, and subcontractor controls."},People:{detection:"fatigue drift + competency gaps",cost:"quality erosion, incidents, and avoidable turnover",cliffhanger:"Deep Scan will align incentives to first-time-right quality and safety discipline."}},gpe={Operations:{detection:"yield leak + downtime/changeover loss",cost:"raw material waste and lost line capacity are silently compressing output",cliffhanger:"Deep Scan will map your top loss drivers and lock in first-pass controls."},Money:{detection:"COGS blindness + shrinkage/promo leakage",cost:"volume is moving while SKU-level margin is being diluted",cliffhanger:"Deep Scan will build unit-cost and margin guardrails tied to waste drivers."},Market:{detection:"shelf-trust drift + stockout pressure",cost:"repeat buying and shelf space decline when consistency and fill-rate slip",cliffhanger:"Deep Scan will install service-level and complaint-closure routines to protect demand."},Leadership:{detection:"firefighting cadence + weak ownership closure",cost:"the same production issues recur and consume labor and management time",cliffhanger:"Deep Scan will assign line owners and enforce weekly closure on repeat losses."},Innovation:{detection:"product/process stagnation + weak testing rhythm",cost:"low-margin mix persists while value-add opportunities are missed",cliffhanger:"Deep Scan will prioritize a 30-day product/pack/process sprint tied to margin ROI."},Risk:{detection:"traceability and hygiene control gaps",cost:"one incident can trigger recalls, contract loss, and brand damage",cliffhanger:"Deep Scan will harden traceability, supplier controls, and recall readiness."},People:{detection:"skill variance + weak handover discipline",cost:"quality swings by shift, creating rework and avoidable waste",cliffhanger:"Deep Scan will set competency and handover standards for consistent output."}},hpe={Operations:{detection:"late defect capture + line flow bottlenecks",cost:"rework, idle capacity, and missed output targets are bleeding payroll value",cliffhanger:"Deep Scan will map line bottlenecks and lock in in-line quality controls."},Money:{detection:"style-level costing fog + overtime leakage",cost:"orders look busy but margin is diluted by hidden style costs and rush behavior",cliffhanger:"Deep Scan will build style-cost and overtime controls to protect margin per order."},Market:{detection:"buyer dependency + spec confusion risk",cost:"chargebacks, disputes, and low pricing leverage reduce repeat profitability",cliffhanger:"Deep Scan will install spec-lock and delivery-proof systems to strengthen buyer trust."},Leadership:{detection:"supervisor dependency + weak closure cadence",cost:"daily firefighting keeps recurring defects and delays alive",cliffhanger:"Deep Scan will enforce ownership and weekly root-cause closure on repeat issues."},Innovation:{detection:"pattern/SMV optimization gaps + slow process evolution",cost:"capacity and cost-down gains are left on the table while faster competitors compound",cliffhanger:"Deep Scan will launch a measurable 30-day productivity and method improvement sprint."},Risk:{detection:"audit compliance fragility + supplier and contract exposure",cost:"penalties, nonconformities, and contract loss risk can erase hard-won margin quickly",cliffhanger:"Deep Scan will harden compliance, supplier quality gates, and penalty prevention controls."},People:{detection:"skill variance + fatigue and absenteeism shocks",cost:"quality swings by shift and output stability depends on a few operators",cliffhanger:"Deep Scan will install training ladders, backup staffing, and handover discipline."}},mpe={Operations:{detection:"measurement and finishing flow breakdown",cost:"rework, material waste, and late-stage bottlenecks are stretching cycle time and delivery promises",cliffhanger:"Deep Scan will lock measurement discipline and finishing flow to stop deadline collapse."},Money:{detection:"underpricing + hidden scope/cost leakage",cost:"good-looking jobs are losing margin through unpaid extras and weak cost visibility",cliffhanger:"Deep Scan will install job costing and change-order pricing so extra work becomes paid margin."},Market:{detection:"spec confusion + weak referral reliability",cost:"trust declines when expectations drift and delivery communication is inconsistent",cliffhanger:"Deep Scan will deploy spec-pack and customer update routines to recover referrals and repeat demand."},Leadership:{detection:"founder bottleneck + weak ownership cadence",cost:"approval drag and recurring mistakes are slowing workshop throughput",cliffhanger:"Deep Scan will assign stage owners and enforce root-cause closure on repeat failures."},Innovation:{detection:"from-scratch dependency + weak modular design leverage",cost:"speed, consistency, and scalable margin are lost when standard components are absent",cliffhanger:"Deep Scan will create a modular core + premium upgrade model to raise speed and margin."},Risk:{detection:"contract/documentation gaps + delivery damage exposure",cost:"disputes, remakes, and delayed payments are creating preventable cash shocks",cliffhanger:"Deep Scan will harden contract/change-order controls and delivery sign-off standards."},People:{detection:"skill variance + informal apprenticeship handovers",cost:"quality depends on a few individuals and errors multiply during busy periods",cliffhanger:"Deep Scan will install training ladders, checklists, and handover discipline for stable output."}},ype={Operations:{detection:"drawing/fit-up instability + late defect capture",cost:"scrap, refabrication, and schedule slippage are consuming paid labor and steel",cliffhanger:"Deep Scan will enforce drawing lock, fit-up standards, and stage QC to cut rework fast."},Money:{detection:"underquote pressure + hidden consumables leakage",cost:"jobs are won but margin is diluted by unpriced hours, consumables, and scope changes",cliffhanger:"Deep Scan will install job-costing and change-order controls so delivery stays profitable."},Market:{detection:"spec drift + weak proof portfolio",cost:"disputes and trust erosion are reducing repeat contracts and pricing leverage",cliffhanger:"Deep Scan will build a proof-driven client communication and spec-signoff system."},Leadership:{detection:"founder bottleneck + weak action closure",cost:"reactive planning and unclear ownership keep recurring delays and defects alive",cliffhanger:"Deep Scan will assign stage owners and enforce closure on repeat failure patterns."},Innovation:{detection:"jig/template gap + low process improvement cadence",cost:"repeat work is rebuilt from scratch, driving avoidable cycle-time and scrap losses",cliffhanger:"Deep Scan will launch a 30-day jigs, layout, and method-improvement sprint."},Risk:{detection:"safety/control fragility + contract exposure",cost:"incidents, penalties, and disputes can wipe out monthly profit quickly",cliffhanger:"Deep Scan will harden safety audits, scope controls, and documentation discipline."},People:{detection:"skill variance + informal onboarding",cost:"quality depends on a few operators while apprentices create repeat defects",cliffhanger:"Deep Scan will set skill certification and training ladders for consistent output."}},_pe={Operations:{detection:"scrap/changeover instability + weak in-process control",cost:"usable output is leaking through rejects, reruns, and avoidable downtime",cliffhanger:"Deep Scan will map loss drivers and lock standard settings plus first-pass QC gates."},Money:{detection:"yield/costing blindness + resin and energy volatility exposure",cost:"volume is moving while SKU margins are being silently compressed",cliffhanger:"Deep Scan will build true unit-cost controls and pricing buffers tied to yield behavior."},Market:{detection:"spec-lock weakness + commodity pricing pressure",cost:"disputes and weak proof reduce repeat orders and force discounting",cliffhanger:"Deep Scan will install signed-spec and proof-pack routines to strengthen buyer trust."},Leadership:{detection:"firefighting cadence + cross-functional blame loops",cost:"recurring defects survive because planning and closure discipline are inconsistent",cliffhanger:"Deep Scan will enforce ownership cadence, structured handovers, and root-cause closure."},Innovation:{detection:"SKU complexity sprawl + delayed tooling/process upgrades",cost:"setup friction rises while high-margin product evolution stalls",cliffhanger:"Deep Scan will prioritize SKU rationalization and targeted tooling upgrades with ROI tracking."},Risk:{detection:"traceability/compliance fragility + contamination/safety exposure",cost:"one incident can trigger recalls, penalties, and account loss",cliffhanger:"Deep Scan will harden traceability, safety routines, and audit-ready compliance evidence."},People:{detection:"shift variance + training discipline gaps",cost:"quality depends on operator memory, causing bad-batch recurrence and wasted capacity",cliffhanger:"Deep Scan will install operator certification and shift-level accountability for yield and quality."}},vpe={Operations:{detection:"batch consistency drift + late QC detection",cost:"re-runs, rejects, and fill-weight leakage are reducing usable output and margin",cliffhanger:"Deep Scan will lock recipes, critical controls, and first-run QC gates to stabilize batch quality."},Money:{detection:"COGS/yield blindness + ingredient volatility exposure",cost:"sales are growing while true SKU-level profitability is being diluted",cliffhanger:"Deep Scan will build true SKU costing, yield tracking, and pricing guardrails tied to volatility."},Market:{detection:"trust inconsistency + weak differentiation",cost:"complaints, reviews, and discount pressure are weakening repeat purchase behavior",cliffhanger:"Deep Scan will install consistency proof and positioning controls that protect brand trust."},Leadership:{detection:"firefighting cadence + weak ownership closure",cost:"recurring defects and planning surprises persist because issues are not closed to root cause",cliffhanger:"Deep Scan will enforce KPI rhythm, cross-functional ownership, and action closure discipline."},Innovation:{detection:"SKU complexity sprawl + low trial discipline",cost:"setup drag increases while premium, trend-aligned growth opportunities are missed",cliffhanger:"Deep Scan will prioritize SKU rationalization and controlled innovation sprints tied to margin."},Risk:{detection:"label/claim compliance fragility + traceability gaps",cost:"one complaint can escalate into recall, legal exposure, and long-term trust damage",cliffhanger:"Deep Scan will harden compliance gates, batch traceability, and safety documentation."},People:{detection:"training variance + weak shift accountability",cost:"quality swings by shift and defects repeat when critical controls depend on individual memory",cliffhanger:"Deep Scan will install operator certification, handover standards, and role-level quality ownership."}},bpe={Operations:{detection:"mix/curing inconsistency + late defect detection",cost:"rejects, breakage, and site failures are consuming capacity and replacement margin",cliffhanger:"Deep Scan will lock ratio, curing, and stage QC controls so strength and size consistency hold."},Money:{detection:"costing blindness + transport and credit leakage",cost:"sales volume appears healthy while per-line profitability and cash conversion degrade",cliffhanger:"Deep Scan will install unit-cost, delivery-pricing, and collections rules that protect margin."},Market:{detection:"spec drift + contractor trust instability",cost:"site rejections, complaints, and rumor-driven churn weaken repeat demand and pricing power",cliffhanger:"Deep Scan will implement spec-lock and proof-pack routines that reduce disputes and improve trust."},Leadership:{detection:"firefighting cadence + weak ownership closure",cost:"urgent planning and delayed decisions keep recurring delays and quality failures alive",cliffhanger:"Deep Scan will enforce KPI cadence, delegated limits, and root-cause closure discipline."},Innovation:{detection:"SKU/tooling inefficiency + weak premium mix",cost:"commodity pressure persists while high-margin variants and bundle value remain underleveraged",cliffhanger:"Deep Scan will prioritize SKU rationalization, tooling upgrades, and premium-line experiments."},Risk:{detection:"traceability/compliance fragility + strength and safety exposure",cost:"one failure, incident, or undocumented dispute can trigger major financial and legal downside",cliffhanger:"Deep Scan will harden traceability, acceptance terms, and safety control routines."},People:{detection:"shift variance + training and accountability gaps",cost:"quality becomes person-dependent and defects repeat under load pressure",cliffhanger:"Deep Scan will install certification, handover structure, and shift-level ownership of quality."}},xpe={Operations:{detection:"fill/seal drift + sanitation inconsistency",cost:"small quality losses are accumulating as rework, leak returns, and unstable output",cliffhanger:"Deep Scan will lock fill, seal, filter, and CIP controls so quality stabilizes by shift."},Money:{detection:"unit-cost blindness + route and power leakage",cost:"volume activity is masking weak per-SKU margin and slow cash conversion",cliffhanger:"Deep Scan will build true unit economics and route-level controls that protect cash and margin."},Market:{detection:"trust volatility + route/shelf control gaps",cost:"repeat demand and price realization are weakening where service and rotation are inconsistent",cliffhanger:"Deep Scan will install route profitability and shelf-discipline routines to improve retention."},Leadership:{detection:"firefighting cadence + centralized approvals",cost:"delays and recurring defects persist because actions are not closed to root cause",cliffhanger:"Deep Scan will enforce delegation limits, KPI rhythm, and closure discipline across teams."},Innovation:{detection:"SKU sprawl + weak differentiation strategy",cost:"operational complexity rises while premium pricing and channel growth remain limited",cliffhanger:"Deep Scan will prioritize SKU focus, packaging upgrades, and service bundle experiments."},Risk:{detection:"testing/traceability fragility + hygiene exposure",cost:"one contamination incident can trigger recall pressure and long-term trust damage",cliffhanger:"Deep Scan will harden testing cadence, batch coding, and compliance evidence routines."},People:{detection:"shift variance + training accountability gaps",cost:"quality swings by operator and avoidable defects repeat under pressure",cliffhanger:"Deep Scan will install role certification, handover standards, and clear KPI ownership."}},kpe={Operations:{detection:"size chaos + weak arrival-to-floor discipline",cost:"stock mismatch, tagging delays, and catalog gaps are reducing conversion and speed",cliffhanger:"Deep Scan will lock SKU-size truth, no-tag-no-floor control, and fast catalogue flow."},Money:{detection:"margin mirage + markdown and return leakage",cost:"sales movement is not translating into protected category margin and clean cash",cliffhanger:"Deep Scan will build category margin controls and enforce markdown, discount, and return guardrails."},Market:{detection:"one-time buyer pattern + trust/content inconsistency",cost:"repeat demand and pricing power are leaking through weak follow-up and proof",cliffhanger:"Deep Scan will install VIP retention, social proof rhythm, and response SLAs."},Leadership:{detection:"KPI darkness + approval bottlenecks",cost:"the same leaks are repeating because closure discipline and delegation are weak",cliffhanger:"Deep Scan will enforce KPI cadence, decision limits, and no-repeat action closure."},Innovation:{detection:"drop stagnation + bundle engine gaps",cost:"newness and AOV growth are relying on instinct instead of measured experiments",cliffhanger:"Deep Scan will launch micro-test drops, outfit bundles, and conversion-focused experiments."},Risk:{detection:"shrink and return-fraud exposure + authenticity risk",cost:"small daily losses and policy disputes are quietly compounding into margin and trust damage",cliffhanger:"Deep Scan will harden shrink controls, returns firewall, and supplier authenticity checks."},People:{detection:"incentive misalignment + scriptless selling",cost:"discount-first behavior and inconsistent service are increasing returns and lowering profit quality",cliffhanger:"Deep Scan will align incentives, scripts, and onboarding for consistent profitable execution."}},Spe={Operations:{detection:"phantom stock + dispatch and handling drift",cost:"search time, wrong deliveries, and breakage are quietly reducing throughput and trust",cliffhanger:"Deep Scan will lock stock truth, fast-mover protection, and dispatch proof discipline."},Money:{detection:"margin mirage + discount and credit leakage",cost:"sales movement is not converting cleanly into protected margin and restock cash",cliffhanger:"Deep Scan will map category margin, tighten discount rules, and enforce collections cadence."},Market:{detection:"quote leakage + weak repeat-order system",cost:"project opportunities are being lost through slow follow-up and inconsistent reliability signals",cliffhanger:"Deep Scan will install contractor conversion and repeat-demand control routines."},Leadership:{detection:"KPI darkness + approval bottlenecks",cost:"the same leaks are repeating because action closure and delegation are too weak",cliffhanger:"Deep Scan will enforce KPI cadence, decision limits, and no-repeat closure rules."},Innovation:{detection:"bundle and process testing is inconsistent",cost:"growth and efficiency are relying on instinct instead of measured improvement",cliffhanger:"Deep Scan will launch project-kit experiments and lightweight workflow automation."},Risk:{detection:"supplier verification gaps + dispute and shrinkage exposure",cost:"one counterfeit or evidence-poor dispute can trigger outsized cash and reputation damage",cliffhanger:"Deep Scan will harden supplier firewall, POD defense, and shrinkage controls."},People:{detection:"incentive and training misalignment",cost:"shortcut behavior and role variance are increasing errors, returns, and avoidable margin loss",cliffhanger:"Deep Scan will align incentives, onboarding, and ownership for stable execution."}},wpe={Operations:{detection:"inventory ghosting + repair workflow drift",cost:"search time, comebacks, and stock errors are quietly reducing throughput and trust",cliffhanger:"Deep Scan will lock stock truth, repair stage controls, and Top-SKU execution discipline."},Money:{detection:"margin visibility gaps + discount and warranty leakage",cost:"sales activity is not translating into protected cash and predictable margin",cliffhanger:"Deep Scan will build category margin controls and stop discount, recon, and warranty bleed."},Market:{detection:"lead and follow-up inconsistency + weak attach behavior",cost:"repeat demand and basket value are leaking through avoidable trust and response gaps",cliffhanger:"Deep Scan will install lead response cadence, trust proof, and attach scripts that compound revenue."},Leadership:{detection:"KPI cadence weakness + approval bottlenecks",cost:"issues repeat because action closure and delegated control are too slow",cliffhanger:"Deep Scan will enforce KPI visibility, decision limits, and closure discipline by owner."},Innovation:{detection:"offer testing is irregular + service productization is weak",cost:"growth depends on luck instead of a repeatable experiment system",cliffhanger:"Deep Scan will launch monthly test loops, bundle optimization, and lightweight automation."},Risk:{detection:"IMEI/parts verification exposure + policy ambiguity",cost:"a single dispute or authenticity incident can trigger outsized cash and reputation damage",cliffhanger:"Deep Scan will harden verification, dispute evidence, and shrinkage controls before failure events."},People:{detection:"incentive and training misalignment across sales and technicians",cost:"returns, comebacks, and service variance rise when behavior is not aligned to quality outcomes",cliffhanger:"Deep Scan will align incentives, certification, and ownership for stable execution."}},Cpe={Operations:{detection:"stockout pressure + dispatch accuracy and route instability",cost:"availability gaps and execution errors are converting delivery activity into silent margin leakage",cliffhanger:"Deep Scan will lock fast-mover replenishment, stock truth, and route/POD discipline."},Money:{detection:"margin leak stack (discounts, AR drag, promo and route economics)",cost:"sales momentum is not translating into protected margin and clean cash conversion",cliffhanger:"Deep Scan will build a margin bridge and enforce pricing, credit, and reconciliation controls."},Market:{detection:"repeat-order friction + service inconsistency and weak shelf discipline",cost:"silent churn and weaker price power are reducing compounding growth",cliffhanger:"Deep Scan will install repeat-order protection, segmentation cadence, and complaint closure loops."},Leadership:{detection:"KPI cadence gaps + approval and action-closure bottlenecks",cost:"the same leaks are being paid repeatedly because prevention is weaker than urgency",cliffhanger:"Deep Scan will enforce ownership cadence, delegated limits, and no-repeat closure routines."},Innovation:{detection:"low test discipline + SKU and data complexity drift",cost:"improvement effort is high but measurable gains are inconsistent and slow to compound",cliffhanger:"Deep Scan will prioritize test-and-learn execution, structured order capture, and margin-first assortment."},Risk:{detection:"shrinkage/AR/dispute exposure with weak compliance and continuity controls",cost:"one avoidable incident can trigger cash loss, trust damage, and contract friction",cliffhanger:"Deep Scan will harden control points across POD, cash handling, supplier verification, and incident response."},People:{detection:"behavior variance in reps/drivers/warehouse plus weak scorecard accountability",cost:"quality and collections drift by person and shift, increasing disputes and avoidable rework",cliffhanger:"Deep Scan will align incentives, training certification, and ownership so execution becomes predictable."}},Tpe={Operations:{detection:"stockout pressure + SKU and queue-control drift",cost:"core-item misses, slower service, and avoidable rework are reducing conversion and throughput",cliffhanger:"Deep Scan will lock Top-50 stock control, SKU truth, and queue SOP discipline."},Money:{detection:"margin visibility gaps + discount and credit leakage",cost:"sales activity is not translating into protected category margin and stable cash",cliffhanger:"Deep Scan will enforce pricing guardrails, print-cost truth, and collections cadence."},Market:{detection:"repeat-demand weakness + slow response routines",cost:"one-time buying and lost inquiries are reducing predictable revenue",cliffhanger:"Deep Scan will install VIP retention, contract outreach, and response SLA discipline."},Leadership:{detection:"KPI cadence weakness + approval bottlenecks",cost:"the same leaks recur because closure and delegation are too weak",cliffhanger:"Deep Scan will enforce KPI visibility, decision limits, and no-repeat closure routines."},Innovation:{detection:"seasonality reactivity + low bundle/service experimentation",cost:"AOV and peak-period capture are underperforming despite demand",cliffhanger:"Deep Scan will launch seasonal campaign controls and measured kit/service experiments."},Risk:{detection:"supplier/shrink/dispute controls are informal",cost:"counterfeit, short-delivery, and refund disputes can trigger outsized trust and margin loss",cliffhanger:"Deep Scan will harden supplier verification, shrink controls, and dispute-proof evidence flows."},People:{detection:"training and script variance across shifts",cost:"service quality and pricing discipline drift by person, increasing errors and leakage",cliffhanger:"Deep Scan will align incentives, scripts, and onboarding for consistent execution."}},Ape={Operations:{detection:"fitment inconsistency + stock and bin visibility drift",cost:"wrong-part returns, slow quoting, and avoidable walkaways are reducing conversion and trust",cliffhanger:"Deep Scan will lock fitment checks, fast-mover control, and SKU-bin truth routines."},Money:{detection:"margin visibility gaps + discount and credit leakage",cost:"sales activity is not translating into protected margin and reliable restock cash",cliffhanger:"Deep Scan will enforce category margin, discount bands, and collections discipline."},Market:{detection:"response speed and trust proof inconsistency",cost:"urgent buyers and repeat mechanics are leaking to faster, safer-feeling competitors",cliffhanger:"Deep Scan will install SLA quoting, garage account routines, and proof-based selling."},Leadership:{detection:"KPI cadence weakness + approval bottlenecks",cost:"the same wrong-fit, discount, and dispute leaks repeat without closure",cliffhanger:"Deep Scan will enforce KPI visibility, delegated limits, and no-repeat control loops."},Innovation:{detection:"bundle and catalog system gaps",cost:"AOV and quote speed remain below potential despite recurring demand patterns",cliffhanger:"Deep Scan will launch job-kit, model-catalog, and pre-order experiments tied to ROI."},Risk:{detection:"supplier authenticity and dispute controls are informal",cost:"one counterfeit or warranty conflict can trigger outsized trust and cash damage",cliffhanger:"Deep Scan will harden supplier firewall, warranty SOPs, and dispute-proof evidence flow."},People:{detection:"fitment script variance + incentive misalignment",cost:"staff behavior drifts toward discount-first selling and avoidable wrong-part incidents",cliffhanger:"Deep Scan will align scripts, certification, and incentives to margin-safe execution."}},Epe={Operations:{detection:"rework/yield instability + bottleneck flow loss",cost:"busy stations are masking rework, retest, and throughput leakage",cliffhanger:"Deep Scan will lock defect containment, bottleneck flow, and traceable station controls."},Money:{detection:"costing and expedite leakage + warranty drag",cost:"margin is being diluted by hidden rework, premium freight, and complexity mispricing",cliffhanger:"Deep Scan will build SKU margin guardrails and cash-protection controls tied to complexity."},Market:{detection:"OTIF/spec drift pressure + escalation loops",cost:"customer trust and repeat demand are weakening through avoidable delivery and requirement failures",cliffhanger:"Deep Scan will enforce requirement lock, RFQ speed, and proof-pack discipline."},Leadership:{detection:"firefighting cadence + decision bottlenecks",cost:"recurring defects and delays persist because ownership and closure rhythm are weak",cliffhanger:"Deep Scan will install KPI visibility, delegated limits, and root-cause closure systems."},Innovation:{detection:"variant/NPI complexity without control",cost:"changeover tax and launch friction are rising faster than throughput and margin",cliffhanger:"Deep Scan will prioritize variant governance, DFM gates, and test strategy upgrades."},Risk:{detection:"traceability/compliance fragility + supplier/firmware exposure",cost:"one lot or field failure can escalate into recall, chargeback, and reputation shock",cliffhanger:"Deep Scan will harden traceability, supplier controls, and compliance-ready evidence flows."},People:{detection:"skill/shift variance + weak quality ownership",cost:"defect volatility increases when execution depends on hero operators and informal handovers",cliffhanger:"Deep Scan will install station certification, handover discipline, and role-based accountability."}},lw=[{pillar:"Operations",variants:{retail:{a:"I personally handle issues at the counter to keep things moving.",b:"We have a simple routine so issues don't repeat."},tech:{a:"I jump in to fix delivery problems myself to meet deadlines.",b:"We improve the workflow tickets so the same issues don't return."},agriculture:{a:"We mostly run the farm by reacting to whats urgent that day.",b:"We run the farm with a weekly plan so timing is protected."},hospitality:{a:"I personally step in when service goes wrong to protect the guest experience.",b:"We tighten the service process so the same failure doesn't repeat."},default:{a:"When something breaks, I jump in fast so we don't lose the client.",b:"When something breaks, I fix the process so we stop paying the 'mistake tax'."},livestock:{a:"We adjust routines (feeding/milking) based on the day.",b:"We follow strict routines for predictability."}}},{pillar:"Money",variants:{retail:{a:"I judge a good month by sales volume and stock movement.",b:"I judge a good month by profit margin + cash left after expenses."},tech:{a:"I feel successful when we sign projects and get work coming in.",b:"I feel successful when projects leave profit after delivery costs."},agriculture:{a:"I mainly track harvest/sales volume to judge performance.",b:"I track costs and margin so I know what I truly made."},hospitality:{a:"A good month means high bookings/orders.",b:"A good month means healthy profit after refunds, waste, and staffing."},default:{a:"I watch total sales because momentum keeps the business alive.",b:"I watch net profit because sales without margin is 'busy broke'."},livestock:{a:"Feed spend is accepted as a cost.",b:"Feed spend is tracked against weight gain/output."}}},{pillar:"Market",variants:{retail:{a:"We rely mostly on walk-ins and referrals.",b:"We consistently run a lead system (ads/offers) even when busy."},tech:{a:"We rely on referrals and 'who knows us'.",b:"We run a consistent pipeline (content, outreach, proposals)."},agriculture:{a:"Buyers are usually found after harvest when produce is ready.",b:"Buyers are lined up early so price and terms are stronger."},hospitality:{a:"We depend on location and repeat guests naturally.",b:"We actively drive bookings with offers, reviews, and follow-up."},default:{a:"We post when inspired because authenticity sells.",b:"We post on schedule because consistency compounds attention."},livestock:{a:"We negotiate price based on market noise.",b:"We negotiate price based on quality proof."}}},{pillar:"Leadership",variants:{retail:{a:"People do whatever is urgent that day.",b:"People know their responsibilities and what 'good performance' looks like."},tech:{a:"Work priorities change based on the loudest client message.",b:"We use clear priorities, owners, and weekly targets."},agriculture:{a:"Planning is mostly in my head so I can adjust quickly.",b:"Planning is written so the farm stays stable under pressure."},hospitality:{a:"Staff react to the rush and solve problems as they come.",b:"Staff follow clear standards and targets (service time, quality)."},default:{a:"I carry the vision because founders should be the compass.",b:"We write the vision because clarity reduces confusion."},livestock:{a:"We manage the herd by memory.",b:"We manage using simple logs and records."}}},{pillar:"Innovation",variants:{retail:{a:"We sell what has always sold; we adjust slowly.",b:"We regularly improve offers/stock based on demand data."},tech:{a:"We deliver the same service package; improvements are occasional.",b:"We upgrade our offers quarterly based on results + feedback."},agriculture:{a:"We stick to familiar practices and change only when things go wrong.",b:"We test small improvements each season and keep what works."},hospitality:{a:"Our experience is stable; we change only when complaints force it.",b:"We actively improve the experience to increase reviews."},default:{a:"We build what excites us because passion creates great work.",b:"We build what evidence demands because relevance creates revenue."},livestock:{a:"We accept variation in growth.",b:"We chase consistency to compound profit."}}},{pillar:"Risk",variants:{retail:{a:"We run mostly on trust and common sense.",b:"We enforce protections (contracts, access control, 2FA)."},tech:{a:"We start work fast and trust the relationship.",b:"We protect delivery with scope, change requests, and 2FA."},agriculture:{a:"Most deals are informal because relationships matter.",b:"We use simple written terms to avoid disputes and delays."},hospitality:{a:"We handle issues when they come up.",b:"We prevent damage with clear policies and access discipline."},default:{a:"We move fast on trust because speed wins deals.",b:"We formalize terms because one dispute can erase profit."},livestock:{a:"New animals join the herd immediately.",b:"New animals are quarantined to reduce risk."}}},{pillar:"People",variants:{retail:{a:"Staff wait for approval to avoid making mistakes.",b:"Staff solve common issues confidently using guidelines."},tech:{a:"People ask for approval before acting to stay safe.",b:"People act within decision rights and report outcomes."},agriculture:{a:"I work best when I confirm before acting so I dont get blamed.",b:"I work best when boundaries are clear so I can act fast."},hospitality:{a:"Staff escalate everything to avoid blame.",b:"Staff handle routine guest issues confidently."},default:{a:"I prefer to confirm with my manager before I start.",b:"I prefer to start with my best judgment, then update."},livestock:{a:"We rely on experienced caretakers.",b:"We use simple SOPs anyone can follow."}}},{pillar:"Operations",variants:{agriculture:{a:"Harvest usually starts before drying/storage/logistics are fully ready.",b:"Harvest starts only when drying/storage/logistics are ready."}}},{pillar:"Money",variants:{agriculture:{a:"We sell quickly after harvest because cash needs are urgent.",b:"We sell with a plan (and buffer) so we dont accept the worst price."}}},{pillar:"Market",variants:{agriculture:{a:"I accept deductions/grades from buyers because thats market reality.",b:"I verify quality/moisture/grades so deductions are fair."}}},{pillar:"Leadership",variants:{agriculture:{a:"When Im away, operations slow down noticeably.",b:"The farm keeps moving because roles and routines are clear."}}},{pillar:"Innovation",variants:{agriculture:{a:"Post-harvest loss and downgrade feels unavoidable.",b:"We treat loss and downgrade as controllable money leaks."}}},{pillar:"Risk",variants:{agriculture:{a:"If a major shock happens (rain delays, pests, transport issues), we improvise.",b:"We have backup options for predictable shocks."}}},{pillar:"People",variants:{agriculture:{a:"Instructions are mostly verbal and flexible.",b:"Instructions are clear enough that people dont have to guess."}}}];lw.push({pillar:"Leadership",variants:{aquaculture:{a:"We run the farm mostly from experience and memory.",b:"We run the farm using simple targets and records that guide decisions."}}},{pillar:"Leadership",variants:{aquaculture:{a:"We review performance only when something goes wrong.",b:"We review performance weekly to catch drift early (before it becomes expensive)."}}},{pillar:"Market",variants:{aquaculture:{a:"We sell mainly to whoever buys fast and nearest.",b:"We sell through planned buyer channels that reward consistency and quality."}}},{pillar:"Market",variants:{aquaculture:{a:"Price is mostly market price, we take whats offered.",b:"Price improves because we bring proof (size/grade, reliability, handling discipline)."}}},{pillar:"Operations",variants:{aquaculture:{a:"Feeding is adjusted by feel depending on the day.",b:"Feeding follows a measured plan tied to biomass and growth targets."}}},{pillar:"Operations",variants:{aquaculture:{a:"Water quality checks happen mainly when fish look stressed.",b:"Water quality checks happen on a routine schedule, with clear action thresholds."}}},{pillar:"Money",variants:{aquaculture:{a:"A good cycle means we sold many fish.",b:"A good cycle means we sold profitably after feed, mortality, and time costs."}}},{pillar:"Money",variants:{aquaculture:{a:"We dont calculate feed cost per kg gain (we just manage expenses).",b:"We track conversion (FCR / cost per kg gain) because it decides profit."}}},{pillar:"Innovation",variants:{aquaculture:{a:"Growth differences and slow cycles are normal in this business.",b:"Growth curve and time-to-market are measurable and improvable."}}},{pillar:"Innovation",variants:{aquaculture:{a:"We rarely test changeswe stick to what we know.",b:"We run small controlled improvements each cycle and keep what works."}}},{pillar:"Risk",variants:{aquaculture:{a:"New stock is introduced quickly to keep operations moving.",b:"New stock follows a quarantine/observation routine to protect the whole system."}}},{pillar:"Risk",variants:{aquaculture:{a:"Backup plans (oxygen/aeration/power) are nice-to-have.",b:"Backup plans are mandatory because one outage can erase months of profit."}}},{pillar:"People",variants:{aquaculture:{a:"Staff prefer to wait for approval to avoid mistakes.",b:"Staff act confidently within clear boundaries to protect speed and outcomes."}}},{pillar:"People",variants:{aquaculture:{a:"Problems are reported when they become serious.",b:"Problems are reported early because its safe and expected to speak up."}}});lw.push({pillar:"Leadership",variants:{agro_processing:{a:"We run the plant mostly from experience and quick decisions.",b:"We run the plant using targets and weekly KPI reviews."}}},{pillar:"Leadership",variants:{agro_processing:{a:"Problems are discussed when they become painful.",b:"Problems are tracked early so drift is caught before money leaks."}}},{pillar:"Market",variants:{agro_processing:{a:"We sell mainly at market price and accept buyer terms.",b:"We sell using specs + reliability to protect margin and terms."}}},{pillar:"Market",variants:{agro_processing:{a:"A good month means high sales volume.",b:"A good month means protected margin and predictable cash collection."}}},{pillar:"Operations",variants:{agro_processing:{a:"Downtime and changeovers are part of production.",b:"Downtime and changeovers are measured and reduced deliberately."}}},{pillar:"Operations",variants:{agro_processing:{a:"Quality is checked mainly at the end.",b:"Quality is controlled during processing, not only at the end."}}},{pillar:"Money",variants:{agro_processing:{a:"We focus on costs generally (expenses) more than unit economics.",b:"We track cost per unit and yield % to protect profit."}}},{pillar:"Money",variants:{agro_processing:{a:"Shrinkage (spillage/underweight/scrap) is hard to measure precisely.",b:"Shrinkage is measured enough to control and reduce."}}},{pillar:"Innovation",variants:{agro_processing:{a:"We keep products stable and avoid changing the line often.",b:"We improve products/processes through small controlled tests."}}},{pillar:"Innovation",variants:{agro_processing:{a:"We respond to customer complaints case-by-case.",b:"We convert complaints into process/product improvements."}}},{pillar:"Risk",variants:{agro_processing:{a:"Food safety is handled by being careful and common sense.",b:"Food safety is handled with checklists, traceability, and verification."}}},{pillar:"Risk",variants:{agro_processing:{a:"Compliance paperwork is handled when needed for buyers.",b:"Compliance readiness is maintained continuously to unlock bigger buyers."}}},{pillar:"People",variants:{agro_processing:{a:"People prefer approvals to avoid mistakes and blame.",b:"People work within clear limits so speed and accountability improve."}}},{pillar:"People",variants:{agro_processing:{a:"Shift handover is informal; the next shift figures it out.",b:"Shift handover is standardized so quality doesnt drift."}}});const Npe=[{id:"A",title:"Yield Bleed",meaning:"Your inputs are not turning into sellable output at the expected rate.",silentCost:"It doesnt look like theft  it looks like normal loss.",signals:["Batch yields vary wildly week to week","Scrap/rework is normal but not costed","Moisture/grade intake isnt controlled","Output doesnt reconcile cleanly with raw usage"],mirrorQuestions:["If yield drops by 3% this week, who notices first  and within how many hours?","Do we know the top 3 yield loss points (spillage, trimming, residue, filtration loss, moisture drift)  or do we just feel them?","Are we rewarding supervisors for output volume while ignoring yield quality?","When yield drops, do we ask who messed up? or which step failed?","Are raw materials being accepted because we need volume  even if they destroy yield?","Do operators know the yield target for this exact SKU, or only general targets?","Do we have invisible giveaways (underweight, dilution, overfill) that look like generosity but are actually margin loss?","Is rework tracked as a cost  or treated like extra effort?","Do we learn from batch failures or repeat them with new excuses?"],inspectionItems:[{item:"3 completed mass balance sheets (input  output  waste)"},{item:"1 production walk: physically mark loss points on the line"},{item:"Yield target posted on the floor for top 3 SKUs"}],proofItems:[{item:"Batch yield log + variance reasons + owner signatures"},{item:"Loss point map photo + fixes completed photo"}],pillar:"Fuel"},{id:"B",title:"Downtime Drain",meaning:"Production time is leaking through stops, breakdowns, waiting, and slow changeovers.",silentCost:"You pay wages while output is paused.",signals:["Machine issues is the default explanation","No downtime minutes log","Maintenance is reactive, not preventative","Changeovers take as long as they take"],mirrorQuestions:["Do we know downtime in minutes/day, or only as a story?","What is our top recurring downtime cause  and why is it still alive?","Are we under-investing in maintenance while bleeding money daily in output loss?","Do operators stop the line early to avoid blame for defects? (hidden fear tax)","Is the schedule chaotic because planning is weak  causing constant stoppage and switching?","Do we have one hero technician who keeps things alive  meaning the system is fragile?","Are spare parts available before breakdowns  or after breakdowns?","Are changeovers standardized  or dependent on whoever is on shift?"],inspectionItems:[{item:"A real downtime log (cause + minutes + owner)"},{item:"A stop code list (10 codes max) so causes arent vague"},{item:"A basic PM calendar and compliance % for last 2 weeks"}],proofItems:[{item:"Downtime board photo + 7 days of logs"},{item:"PM checklist uploads with timestamps"}],pillar:"Engine"},{id:"C",title:"Underweight Giveaway",meaning:"Youre selling less product than you think (or giving away free grams/ml).",silentCost:"At scale, this becomes a profit hemorrhage.",signals:["Complaints or deductions about weight","No check-weigh routine","Pack variance depends on operator","Scales not calibrated regularly"],mirrorQuestions:["Are we protecting customers from underweight  but also protecting the business from overfill giveaways?","Is the pack spec enforced daily or only when complaints hit?","Do we calibrate scales on a schedule  or only when someone suspects a problem?","Are packers incentivized to go fast, causing uncontrolled variance?","Do we treat weight variance as small because its not visible as cash?"],inspectionItems:[{item:"20 random pack audits/day for 7 days"},{item:"Calibration logs"},{item:"Variance chart (min/avg/max)"}],proofItems:[{item:"Check-weigh sheets + calibration photo + SOP posted"}],pillar:"Fuel"},{id:"D",title:"Rework Loop",meaning:"Youre doing the same work twice because quality is built late.",silentCost:"You burn labor + energy + time, and you still risk reputation.",signals:[],mirrorQuestions:["Do we inspect at the end because we dont trust the process?","What is the #1 reason for rework  and why is it still repeating?","Are we hiding rework because it makes the shift look bad?","Are supervisors praised for saving the batch instead of preventing failure?"],inspectionItems:[{item:"Rework causes list (top 5) + daily count"},{item:"Where rework starts in the process (not where its discovered)"}],proofItems:[{item:"Rework log + corrective action log + before/after trend"}],pillar:"Engine"},{id:"E",title:"Buyer Power Trap",meaning:"Buyers control your price because consistency, proof, or alternatives are weak.",silentCost:"Even high volume becomes a margin mirage.",signals:[],mirrorQuestions:["Can we walk away from our biggest buyer for 30 days and survive?","Do we have proof-based selling (spec sheets, logs, traceability), or relationship selling only?","Do we accept deductions because we cant prove our quality?","Are we delivering consistency, or delivering surprises?"],inspectionItems:[{item:"Customer concentration %"},{item:"Deductions/returns log and causes"},{item:"On-time delivery %"}],proofItems:[{item:"Buyer terms pack + spec sheet + delivery performance dashboard"}],pillar:"Voice"},{id:"F",title:"Hygiene Drift",meaning:"Food safety discipline is inconsistent across shifts.",silentCost:"One incident can wipe trust, contracts, and licensing.",signals:[],mirrorQuestions:["Is hygiene enforced when busy  or skipped to keep production moving?","Do staff fear reporting contamination risks?","Are cleaning and verification logged, or assumed?","Is quality a system or a personality?"],inspectionItems:[{item:"Hygiene checklist completion %"},{item:"Pest control log"},{item:"Water quality checks where applicable"}],proofItems:[{item:"Signed cleaning verifications + audit readiness score"}],pillar:"Risk"},{id:"G",title:"Payment Delay Chokehold",meaning:"You sell but money doesnt return in time.",silentCost:"You finance your buyers business and starve your own.",signals:[],mirrorQuestions:["Do we track DSO (days sales outstanding) weekly  or only when broke?","Do we keep producing for chronic late payers because we fear losing volume?","Are payment terms negotiated upfront or begged for later?"],inspectionItems:[{item:"Aging report"},{item:"Top 10 debtors"},{item:"stop ship policy existence"}],proofItems:[{item:"Collection log + revised terms + enforcement evidence"}],pillar:"Fuel"},{id:"H",title:"Inventory Blind Spot",meaning:"Raw, packaging, and finished goods arent reconciled tightly.",silentCost:"shrinkage, spoilage, and small losses compound.",signals:[],mirrorQuestions:["Is inventory a guess or a number?","Do variances trigger investigation or are they accepted as normal?","Are we leaking through spoilage and miscounts rather than theft?"],inspectionItems:[{item:"Weekly stock count variances"},{item:"FIFO compliance"},{item:"Packaging count reconciliation vs output"}],proofItems:[{item:"Stock count sheets + variance explanations + corrective actions"}],pillar:"Fuel"}],Mpe=(e,t)=>{let i=1e3;if(e.capacity){const s=parseInt(e.capacity.replace(/[^0-9]/g,""));isNaN(s)||(i=s),e.capacity.toLowerCase().includes("ton")&&(i=s*1e3)}const n=e.shiftsPerDay||1,r=e.daysPerWeek||6;switch(t){case"A":return`$${(i*.03*.5*r*4).toLocaleString()} / month`;case"B":return`$${(50*n*r*4).toLocaleString()} / month`;case"C":return`$${(i*.02*1.5*r*4).toLocaleString()} / month`;case"E":return"margin -15%";case"G":return"Cashflow -30 days";default:return"Unknown"}},Ppe=(e,t)=>{const i=l=>{const d=l.toLowerCase();return d==="engine"||d==="operations"?"operations":d==="fuel"||d==="money"?"money":d==="voice"||d==="market"?"market":d==="brain"||d==="leadership"?"leadership":d==="pulse"||d==="innovation"?"innovation":d==="shield"||d==="risk"?"risk":d==="tribe"||d==="people"?"people":d},n=Object.entries(e).sort(([,l],[,d])=>l-d).map(([l])=>i(l)),r=Array.from(new Set(n)).slice(0,3);let s=Npe.filter(l=>r.includes(i(l.pillar)));return t&&(s=s.map(l=>({...l,detectedCost:Mpe(t,l.id)}))),s.slice(0,3)},Ipe=e=>{var r,s,l;let t=30,i=40,n=30;return e.operatingModel==="Semi-Automated"&&(t=60),e.operatingModel==="Fully Automated"&&(t=90),e.complianceLevel==="basic"&&(i=60),e.complianceLevel==="audit-ready"&&(i=90),(r=e.salesChannels)!=null&&r.includes("Export")&&(n+=30),(s=e.salesChannels)!=null&&s.includes("Modern Retail")&&(n+=20),{pillars:{mechanization:Math.min(100,t),management:Math.min(100,i),commercial:Math.min(100,n)},confidence:{mechanization:e.operatingModel?"High":"Low",management:e.complianceLevel?"High":"Low",commercial:(l=e.salesChannels)!=null&&l.length?"Med":"Low"}}},Ope={operations:{systemRole:"execution reliability and throughput discipline",typicalSymptom:"teams stay busy but output quality and lead time keep drifting",leverageMove:"lock standard work, handoffs, and first-pass quality controls",coreKpi:"first-pass yield / on-time execution"},money:{systemRole:"unit economics, cash velocity, and margin protection",typicalSymptom:"revenue grows faster than cash and retained profit",leverageMove:"tighten pricing guardrails, cost visibility, and collection cadence",coreKpi:"gross margin / DSO / cash conversion"},market:{systemRole:"demand quality, repeat purchase, and price power",typicalSymptom:"new sales require high effort while repeat behavior stays fragile",leverageMove:"stabilize proposition clarity, proof assets, and account cadence",coreKpi:"repeat rate / conversion / win rate"},leadership:{systemRole:"decision speed, accountability, and execution cadence",typicalSymptom:"decisions escalate upward and the same issues recur weekly",leverageMove:"set ownership, review rhythm, and closure discipline",coreKpi:"action closure / decision latency"},innovation:{systemRole:"controlled learning, offer evolution, and complexity governance",typicalSymptom:"changes are reactive and improvement cycles are inconsistent",leverageMove:"run small tested iterations and scale only proven winners",coreKpi:"test-to-scale ratio / new offer contribution"},risk:{systemRole:"containment readiness, compliance, and loss prevention",typicalSymptom:"incidents are handled ad hoc and repeat under pressure",leverageMove:"institutionalize traceability, policy enforcement, and audit routines",coreKpi:"incident recurrence / traceability completeness"},people:{systemRole:"capability consistency, role ownership, and behavior alignment",typicalSymptom:"performance quality varies by shift or by who is present",leverageMove:"certify critical steps and align incentives to quality outcomes",coreKpi:"error variance by staff / certification coverage"}},Lpe={engine:"operations",fuel:"money",voice:"market",brain:"leadership",pulse:"innovation",shield:"risk",tribe:"people","innovation & creativity":"innovation"},Rpe=e=>{const t=e.toLowerCase();return Lpe[t]||t},y4=e=>{const t=Rpe(e);return Ope[t]||{systemRole:"operating discipline and decision quality",typicalSymptom:"execution feels reactive and outcomes vary by week",leverageMove:"standardize controls and tighten ownership",coreKpi:"execution consistency"}},_4=e=>({retail:"In retail, small execution errors convert immediately into margin loss and churn.",manufacturing:"In manufacturing, weak controls compound through rework, delays, and warranty exposure.",services:"In services, inconsistency erodes trust faster than acquisition can replace it.",tech:"In tech, process drift quickly becomes churn, rework, and expensive firefighting.",construction:"In construction, operational discipline determines whether growth creates profit or claims.",agriculture:"In agriculture, timing and quality discipline directly control cash conversion and waste.",agro_processing:"In agro-processing, variability in flow and yield drives most hidden losses."})[e.toLowerCase()]||`In ${e}, this pillar directly influences cost-to-serve, reliability, and growth quality.`,v4=e=>{switch(e){case"Profit Leak":return"This pillar is an active leak and is currently reducing your execution quality and economic output.";case"Bottleneck Forming":return"This pillar is functional but unstable; performance depends too much on manual intervention.";case"Controlled":return"This pillar is stable, but it is still operating below its leverage potential.";case"Profit Lever":return"This pillar is a strategic advantage and can be used to accelerate weaker areas.";default:return"This pillar needs structured attention to sustain performance."}},b4=(e,t)=>{switch(e){case"Profit Leak":return`Priority: deploy a 7-day containment sprint on ${t} before scaling any new initiative.`;case"Bottleneck Forming":return"Priority: harden controls now so growth does not convert this into a full leak.";case"Controlled":return"Priority: move from basic control to optimization and remove remaining manual drag.";case"Profit Lever":return"Priority: codify this playbook and transfer methods into your next weakest pillar.";default:return"Priority: assign ownership and set a weekly KPI review cadence."}},Dpe=(e,t,i)=>{const n=y4(e),r=v4(t),s=_4(i),l=b4(t,e);return`${r} Consultant view: ${e} governs ${n.systemRole}, and the current pattern suggests ${n.typicalSymptom}. ${s} Priority metric: ${n.coreKpi}. ${l}`},jpe=(e,t,i)=>{const n=y4(e),r=t<40?"Profit Leak":t<60?"Bottleneck Forming":t<80?"Controlled":"Profit Lever",s=v4(r),l=b4(r,e),d=t<40?"High instability: recurring firefighting and value leakage are likely active.":t<60?"Elevated fragility: output can hold, but only with sustained management effort.":t<80?"Moderate risk: controls are present, but variability still taxes speed.":"Low risk: this pillar is stable enough to be used as a scaling asset.";return{theory:`### Consultant Lens
${e} is the operating system for ${n.systemRole}. When this system is healthy, decisions are repeatable, ownership is clear, and execution quality is predictable.

${_4(i)}

Primary control objective: convert effort into reliable output, not heroic recovery work.`,diagnosis:`### What The Score Signals (${t}/100)
${s}

Risk band: ${d}

Observed operating pattern: ${n.typicalSymptom}. This is usually a control design issue, not a talent issue.

Primary KPI to stabilize first: **${n.coreKpi}**.`,psychology:`### Leadership Pattern Behind The Result
Teams usually tolerate this leak because short-term fixes feel faster than system redesign. Over time, that creates dependency on a few people and normalizes inconsistency.

The shift required now is managerial: enforce one way of working for critical steps, measure adherence weekly, and close repeat failures to root cause.

Until this pillar is systemized, growth will amplify noise instead of margin.`,financials:`### Economic Impact And 30-Day Priority
Current impact profile:
- Time leakage through rework, exceptions, and delayed decisions.
- Margin compression from preventable operational variance.
- Trust risk when delivery quality is inconsistent.

Expected upside from disciplined remediation: improved conversion of effort into cash, lower incident cost, and higher planning confidence.

Recommended next move: ${n.leverageMove}. ${l}`}},Kpe={0:-2,1:-1,2:0,3:1,4:2},Fpe=(e,t,i)=>{if(i===t)return 50;const n=(e-t)/(i-t)*100;return Math.round(Math.max(0,Math.min(100,n)))},Bpe=e=>e<=34?"Emergency":e<=54?"Critical":e<=69?"Watch":"Stable",Upe=(e,t,i)=>{const n={},r={},s={};t.forEach(p=>{n[p.pillar]||(n[p.pillar]={raw:0,min:0,max:0}),n[p.pillar].min+=p.weight*-2,n[p.pillar].max+=p.weight*2}),Object.entries(e).forEach(([p,u])=>{const g=t.find(S=>S.qid===p);if(!g)return;const h=Kpe[u]||0,y=h*g.weight;n[g.pillar].raw+=y;let v=1;h<0?g.signal_tags.forEach(S=>{r[S]||(r[S]={score:0,count:0}),r[S].score+=Math.abs(y)*v,r[S].count+=1}):h>0&&g.signal_tags.forEach(S=>{s[S]||(s[S]={score:0,count:0}),s[S].score+=y*v,s[S].count+=1})});const l={};Object.keys(n).forEach(p=>{const u=p,{raw:g,min:h,max:y}=n[u],v=Fpe(g,h,y),S=Bpe(v),k=t.filter(N=>N.pillar===u).flatMap(N=>N.signal_tags).filter((N,E,O)=>O.indexOf(N)===E),C=k.filter(N=>r[N]).sort((N,E)=>r[E].score-r[N].score).slice(0,3),T=k.filter(N=>s[N]).sort((N,E)=>s[E].score-s[N].score).slice(0,1);l[u]={pillar:u,score:v,band:S,topSignals:C,topStrength:T}});const d=Object.entries(r).map(([p,u])=>({tag:p,score:u.score,count:u.count})).sort((p,u)=>u.score-p.score);return{pillarResults:l,signalScores:d}},qpe=[{qid:"ENG_AGRO_01",industry:"agro_processing",line_type:["all"],pillar:"Operations",signal_tags:["downtime_drain","reactive_maintenance"],weight:1.2,textA:"We only fix machines when they break; maintenance is mostly reactive.",textB:"We have a strict preventive maintenance schedule that we follow even during peak season.",kpi_links:["downtime_minutes","maintenance_spend_ratio"],actions_7d:["LOG_STOP_CODES_7D","MAINTENANCE_AUDIT_7D"],actions_30d:["PM_CALENDAR_30D","SPARE_PARTS_SYSTEM_30D"]},{qid:"ENG_AGRO_02",industry:"agro_processing",line_type:["packaging"],pillar:"Operations",signal_tags:["changeover_black_hole"],weight:1,textA:"Changeovers take as long as they take; it depends on who is operating.",textB:"Changeovers follow a timed standard procedure and are tracked like pit stops.",kpi_links:["changeover_time_avg"],actions_7d:["TIME_CHANGEOVER_7D"],actions_30d:["SMED_WORKSHOP_30D"]},{qid:"FUEL_AGRO_01",industry:"agro_processing",line_type:["all"],pillar:"Money",signal_tags:["yield_bleed","waste_not_costed"],weight:1.5,textA:"We don't track exact input vs. output weights per batch; we just check end-of-day totals.",textB:"We measure mass balance (Input vs Output) for every single batch to catch yield loss.",kpi_links:["yield_percentage","waste_ratio"],actions_7d:["MASS_BALANCE_AUDIT_7D"],actions_30d:["YIELD_DASHBOARD_30D"]},{qid:"FUEL_AGRO_02",industry:"agro_processing",line_type:["packaging"],pillar:"Money",signal_tags:["underweight_giveaway"],weight:1.2,textA:"We check pack weights occasionally or when a buyer complains.",textB:"We check-weigh samples every hour to ensure we aren't giving away product.",kpi_links:["pack_variance_pct"],actions_7d:["WEIGH_CHECK_ROUTINE_7D"],actions_30d:["AUTO_CHECKWEIGHER_CALIBRATION_30D"]},{qid:"VOICE_AGRO_01",industry:"agro_processing",line_type:["all"],pillar:"Market",signal_tags:["buyer_power_trap","channel_dependency"],weight:1.5,textA:"One or two big buyers dictate our price and terms; we can't really say no.",textB:"We have a diverse mix of buyers and channels so no single customer owns us.",kpi_links:["customer_concentration_pct"],actions_7d:["CUSTOMER_RISK_MAP_7D"],actions_30d:["NEW_CHANNEL_PILOT_30D"]},{qid:"SHIELD_AGRO_01",industry:"agro_processing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap","label_risk"],weight:1.5,textA:"If a buyer asked for the exact batch history of a product from 3 months ago, we'd struggle to find it.",textB:"We can trace any finished product back to its raw material batch and processing date in minutes.",kpi_links:["mock_recall_time"],actions_7d:["MOCK_RECALL_TEST_7D"],actions_30d:["BATCH_CODING_SYSTEM_30D"]}],zpe=[{id:"LIB_ENG_LEAK_01",industry:"agro_processing",line_type:["all"],pillar:"Operations",signal_tags:["downtime_drain"],severity_fit:["Critical","Watch"],business_size_fit:["small_team","sme"],text:"Your signals indicate that stopped time is bleeding more profit than you realize. In processing, 'Running Slow' is rarely the problem; 'Not Running' is the killer. Reactive fixes are costing you 15-20% of your theoretical capacity.",type:"leak"},{id:"LIB_ENG_HOOK_01",industry:"agro_processing",line_type:["all"],pillar:"Operations",signal_tags:["downtime_drain"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"The 'Downtime Tax'",type:"hook"},{id:"LIB_ENG_KPI_01",industry:"agro_processing",line_type:["all"],pillar:"Operations",signal_tags:["downtime_drain"],severity_fit:["all"],business_size_fit:["all"],text:"Downtime Minutes per Shift. Measure total stopped time, no matter how small.",type:"kpi"},{id:"LIB_FUEL_LEAK_01",industry:"agro_processing",line_type:["packaging"],pillar:"Money",signal_tags:["yield_bleed","underweight_giveaway"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"You are suffering from 'Invisible Bleed'. Buying by bulk and selling by unit creates a margin gap if yield isn't locked. Even a 2% overfill giveaway wipes out 20% of your net profit.",type:"leak"},{id:"LIB_FUEL_HOOK_01",industry:"agro_processing",line_type:["all"],pillar:"Money",signal_tags:["yield_bleed"],severity_fit:["all"],business_size_fit:["all"],text:"The Margin Mirage",type:"hook"},{id:"LIB_SHIELD_LEAK_01",industry:"agro_processing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"In Agro-processing, traceability is not just paperwork; it is your insurance policy. Without batch-level tracking, one contamination complaint forces you to recall *everything*, potentially bankrupting the operation.",type:"leak"},{id:"LIB_SHIELD_HOOK_01",industry:"agro_processing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],severity_fit:["all"],business_size_fit:["all"],text:"The 'Recall Roulette'",type:"hook"}],Wpe=[{action_id:"LOG_STOP_CODES_7D",industry:"agro_processing",line_type:["all"],pillar:"Operations",signal_tags:["downtime_drain"],title:'Install "Stop Code" Sheet',days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Shift Lead",sme:"Ops Manager",enterprise:"Plant Manager"},kpi_links:["downtime_minutes"],proof_required:["photo_of_log_sheet"],impact_score:5},{action_id:"PM_CALENDAR_30D",industry:"agro_processing",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Build Preventive Maintenance Calendar",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Maintenance Lead",sme:"Maintenance Manager",enterprise:"Engineering Lead"},kpi_links:["maintenance_spend_ratio"],proof_required:["copy_of_calendar"],impact_score:8},{action_id:"MASS_BALANCE_AUDIT_7D",industry:"agro_processing",line_type:["all"],pillar:"Money",signal_tags:["yield_bleed"],title:"Do a 1-Batch Mass Balance Audit",days:7,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Production Lead",sme:"QA Manager",enterprise:"QA Director"},kpi_links:["yield_percentage"],proof_required:["audit_calculation_sheet"],impact_score:6},{action_id:"WEIGH_CHECK_ROUTINE_7D",industry:"agro_processing",line_type:["packaging"],pillar:"Money",signal_tags:["underweight_giveaway"],title:"Start Hourly Weigh-Checks",days:7,effort:"S",default_owner_by_size:{solo:"Operator",small_team:"QC Lead",sme:"QA Manager",enterprise:"QA Manager"},kpi_links:["pack_variance_pct"],proof_required:["hourly_log_photo"],impact_score:4},{action_id:"MOCK_RECALL_TEST_7D",industry:"agro_processing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Run a 1-Hour Mock Recall",days:7,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Owner",sme:"Safety Officer",enterprise:"Compliance Manager"},kpi_links:["mock_recall_time"],proof_required:["recall_report"],impact_score:7}],I0={questions:qpe,library:zpe,actions:Wpe},Vpe=[{qid:"QS_ENGINE_01",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["stockout_tax"],weight:1.2,textA:"We usually notice demand first, then reorder quickly to catch up.",textB:"We usually reorder before demand spikes, based on minimum stock levels."},{qid:"QS_ENGINE_02",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["inventory_accuracy_gap"],weight:1,textA:"Stock records guide us, but we adjust when reality surprises us.",textB:"Stock records are treated as reality, so we reconcile to keep them accurate."},{qid:"QS_FUEL_01",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["margin_mirage"],weight:1.2,textA:"A good month feels like strong sales volume.",textB:"A good month feels like protected margin and clean cash flow."},{qid:"QS_FUEL_02",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["credit_chokehold"],weight:1.1,textA:"Were flexible with credit because it helps relationships.",textB:"Were structured with credit because it protects relationships and cash."},{qid:"QS_VOICE_01",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["bundle_blindspot"],weight:1,textA:"Customers often buy one item at a time and choose the rest later.",textB:"Customers often buy solution bundles because we guide the full plan."},{qid:"QS_VOICE_02",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["followup_gap"],weight:1,textA:"Customers return when theyre ready; we dont chase too much.",textB:"Customers return more predictably because we follow up by cycle."},{qid:"QS_BRAIN_01",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["kpi_cadence_gap"],weight:1,textA:"The business runs best when Im personally present to steer it.",textB:"The business runs best when routines and KPIs steer it."},{qid:"QS_BRAIN_02",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["procurement_panic_buying"],weight:1.1,textA:"Procurement happens when we see demand rising or stock falling.",textB:"Procurement is planned ahead using seasons, lead time, and supplier performance."},{qid:"QS_PULSE_01",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["sku_clutter"],weight:1,textA:"We keep many SKUs so customers always find something.",textB:"We keep focused winners so customers find what works and we protect cash."},{qid:"QS_PULSE_02",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["no_testing_rhythm"],weight:.9,textA:"We keep offers steady; change can confuse customers.",textB:"We test seasonal offers carefully so growth doesnt rely on luck."},{qid:"QS_SHIELD_01",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["supplier_doc_gap"],weight:1.1,textA:"Supplier trust is important; paperwork is useful but not central.",textB:"Supplier trust is important; paperwork makes trust provable."},{qid:"QS_SHIELD_02",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["expiry_compliance_risk"],weight:1,textA:"Expiry checks happen when we remember or when stock looks old.",textB:"Expiry checks are built into how we manage shelves and reorders."},{qid:"QS_TRIBE_01",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["training_gap"],weight:1,textA:"People learn products best through experience on the job.",textB:"People learn products best through a mix of experience and structured training."},{qid:"QS_TRIBE_02",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["sales_without_standards"],weight:1,textA:"Each staff member has their own selling style that customers adapt to.",textB:"We use a shared selling standard so customers get consistent guidance."},{qid:"DS_ENGINE_01",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["receiving_slippage","traceability_gap"],weight:1.1,textA:"Receiving is mainly about speed; we fix mismatches later if needed.",textB:"Receiving is mainly about verification; we confirm quantities and batch/lot details immediately.",species_notes:{seeds:"lot/variety matters for disputes",fertilizer:"batch consistency matters for complaints",chemicals:"batch and compliance risk are highest",vet_supplies:"batch and expiry matter during outbreaks"}},{qid:"DS_ENGINE_02",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["restock_delay","stockout_tax"],weight:1.2,textA:"We restock when we see shelves thinning or customers start asking.",textB:"We restock using minimum levels that consider lead time and season pressure."},{qid:"DS_ENGINE_03",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["queue_to_cash_lag","peak_season_chaos"],weight:1,textA:"Busy days are unpredictable; we just push through.",textB:"Busy days follow a routine: staffing, roles, and timed service standards."},{qid:"DS_ENGINE_04",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["expiry_rotation_gap"],weight:1,textA:"Expiry is checked when stock looks old or slow-moving.",textB:"Expiry is managed continuously with rotation, labeling, and a risk shelf."},{qid:"DS_ENGINE_05",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["dispatch_delivery_instability"],weight:.9,textA:"Deliveries happen when transport is available.",textB:"Deliveries follow a plan with proof-of-delivery and reliable timelines."},{qid:"DS_ENGINE_06",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["returns_damage_blindspot"],weight:.9,textA:"Returns and damages are handled case-by-case with minimal tracking.",textB:"Returns and damages are logged consistently so we can reduce them."},{qid:"DS_ENGINE_07",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["inventory_accuracy_gap","manual_dependency"],weight:1,textA:"We mainly rely on staff knowledge to know what is in stock.",textB:"We mainly rely on records and routines so stock knowledge isnt person-dependent."},{qid:"DS_ENGINE_08",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["receiving_slippage","inventory_accuracy_gap"],weight:1,textA:"We sometimes skip strict checks to avoid delaying receiving.",textB:"We keep receiving strict because small receiving errors become big losses later."},{qid:"DS_ENGINE_09",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["peak_season_chaos","queue_to_cash_lag"],weight:.9,textA:"Peak season just means longer hours and harder work.",textB:"Peak season means stronger systems: roles, routines, and measurable speed."},{qid:"DS_ENGINE_10",industry:"agri_input",pillar:"Operations",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["inventory_accuracy_gap","silent_shrink"],weight:1.1,textA:"We count stock mainly when we suspect a problem.",textB:"We count stock on schedule and investigate variances as a standard practice."},{qid:"DS_FUEL_01",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["pricing_inconsistency","category_margin_blindspot"],weight:1.2,textA:"Pricing changes depending on the customer and the moment.",textB:"Pricing follows category bands so we protect margin and stay consistent."},{qid:"DS_FUEL_02",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["discount_addiction"],weight:1,textA:"Discounts are our easiest way to save a deal.",textB:"Discounts are a tool we track, so we know when they help or hurt."},{qid:"DS_FUEL_03",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["credit_chokehold","payment_terms_risk"],weight:1.2,textA:"We extend credit mostly to keep relationships smooth.",textB:"We extend credit with clear rules so relationships stay smooth and cash stays healthy."},{qid:"DS_FUEL_04",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["dead_stock_cemetery"],weight:1.1,textA:"Slow movers are normal; eventually they sell.",textB:"Slow movers are monitored; we clear them before they become a cash trap."},{qid:"DS_FUEL_05",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["cash_recon_gap"],weight:1,textA:"Cash and mobile money are reconciled when time allows.",textB:"Cash and mobile money are reconciled routinely because small gaps compound."},{qid:"DS_FUEL_06",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["silent_shrink"],weight:1,textA:"Shrinkage happens in this business; we accept it as part of operations.",textB:"Shrinkage happens in this business; we measure it so it doesnt grow silently."},{qid:"DS_FUEL_07",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["supplier_terms_weak","procurement_panic_buying"],weight:1,textA:"Supplier terms are fixed; we focus on moving product.",textB:"Supplier terms affect survival; we negotiate where possible."},{qid:"DS_FUEL_08",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["margin_mirage"],weight:1.1,textA:"We judge performance mainly by sales volume and customer traffic.",textB:"We judge performance mainly by margin, cash health, and repeat customers."},{qid:"DS_FUEL_09",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["category_margin_blindspot"],weight:1,textA:"We have a general sense of whats profitable.",textB:"We track which categories and SKUs are actually profitable."},{qid:"DS_FUEL_10",industry:"agri_input",pillar:"Money",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["dead_stock_cemetery","expiry_rotation_gap"],weight:1,textA:"We notice expiry risk when items stop moving.",textB:"We surface expiry risk early and act before it becomes a loss."},{qid:"DS_VOICE_01",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["bundle_blindspot"],weight:1,textA:"Customers often buy one key item and decide the rest later.",textB:"Customers often buy a complete solution because we guide the full plan."},{qid:"DS_VOICE_02",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["trust_leak","reputation_risk_loop"],weight:1.2,textA:"Trust comes mainly from personal relationships and familiarity.",textB:"Trust comes from relationships plus proof (docs, guidance, consistency)."},{qid:"DS_VOICE_03",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["followup_gap","repeat_order_drift"],weight:1,textA:"Follow-up is occasional; customers return when they need something.",textB:"Follow-up is scheduled by cycle so customers return predictably."},{qid:"DS_VOICE_04",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["advice_to_sale_gap"],weight:.9,textA:"We give advice freely; sales happen when customers decide.",textB:"We give advice with a simple next step so it converts into sales."},{qid:"DS_VOICE_05",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["complaint_handling_gap"],weight:.9,textA:"Complaints are handled quietly so situations dont escalate.",textB:"Complaints are handled transparently so trust grows through resolution."},{qid:"DS_VOICE_06",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["channel_dependency"],weight:.9,textA:"One strong channel/location drives most of our sales.",textB:"We spread demand across multiple channels so were not fragile."},{qid:"DS_VOICE_07",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["referral_weakness"],weight:.8,textA:"Referrals happen naturally; we dont ask much.",textB:"Referrals happen naturally; we also ask systematically and track them."},{qid:"DS_VOICE_08",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["value_story_gap"],weight:.9,textA:"We mainly explain what the product is and what it contains.",textB:"We explain what the product changes for the customer and how to use it safely."},{qid:"DS_VOICE_09",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["repeat_order_drift"],weight:1,textA:"Repeat customers depend on who served them last time.",textB:"Repeat customers depend on a business system, not a specific person."},{qid:"DS_VOICE_10",industry:"agri_input",pillar:"Market",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["bundle_blindspot"],weight:.8,textA:"We dont want to overwhelm customers with extra recommendations.",textB:"We recommend a small, clear bundle that increases success and saves time."},{qid:"DS_BRAIN_01",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["priority_whiplash"],weight:1,textA:"Priorities change with daily issues and urgent customer requests.",textB:"Priorities change when needed, but theyre guided by weekly targets."},{qid:"DS_BRAIN_02",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["no_owner_syndrome"],weight:1.1,textA:"When problems happen, whoever is available jumps in to fix it.",textB:"When problems happen, we assign an owner so the fix stays fixed."},{qid:"DS_BRAIN_03",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["kpi_cadence_gap"],weight:1,textA:"We review performance when we feel something is off.",textB:"We review performance on a schedule so drift is caught early."},{qid:"DS_BRAIN_04",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["procurement_panic_buying"],weight:1.1,textA:"We buy urgently when demand rises or stock runs low.",textB:"We buy early using a season plan and supplier lead times."},{qid:"DS_BRAIN_05",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["training_planning_gap"],weight:.9,textA:"Training happens as questions arise during work.",textB:"Training happens routinely so knowledge is consistent under pressure."},{qid:"DS_BRAIN_06",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["meeting_no_action"],weight:.9,textA:"Meetings help us stay informed about whats happening.",textB:"Meetings help us decide actions, owners, and deadlines."},{qid:"DS_BRAIN_07",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["forecasting_guesswork"],weight:1,textA:"Forecasting is mostly experience and instinct.",textB:"Forecasting blends experience with season signals and customer lists."},{qid:"DS_BRAIN_08",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["role_clarity_gap"],weight:.9,textA:"People help wherever needed; roles are flexible.",textB:"People help wherever needed; roles still have clear ownership for outcomes."},{qid:"DS_BRAIN_09",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["supplier_selection_undisciplined"],weight:.9,textA:"Supplier choice is mostly relationships and availability.",textB:"Supplier choice includes relationships plus performance and documentation."},{qid:"DS_BRAIN_10",industry:"agri_input",pillar:"Leadership",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["management_by_guessing"],weight:1,textA:"We can tell how things are going by being close to the operations.",textB:"We can tell how things are going by watching a few key numbers weekly."},{qid:"DS_PULSE_01",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["assortment_confusion","sku_clutter"],weight:1,textA:"We keep many SKUs so most customers find something that fits.",textB:"We keep enough SKUs to serve well while protecting cash with winners."},{qid:"DS_PULSE_02",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["bundle_engine_missing"],weight:1,textA:"We sell items as requested; bundles depend on the staff member.",textB:"We sell a few standard bundles so solutions are easy and consistent."},{qid:"DS_PULSE_03",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["no_testing_rhythm"],weight:.9,textA:"We change offers when we feel the market has shifted.",textB:"We test offers in small pilots and scale what proves itself."},{qid:"DS_PULSE_04",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["slow_mover_attachment"],weight:.9,textA:"We keep slow movers because they might become useful later.",textB:"We clear slow movers before they become a cash trap."},{qid:"DS_PULSE_05",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["segment_blindspot"],weight:.8,textA:"We stock products that generally sell in this area.",textB:"We stock products based on customer segments and cycle needs."},{qid:"DS_PULSE_06",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["seasonal_offer_stagnation"],weight:.8,textA:"Our seasonal offers are mostly the same because theyre familiar.",textB:"Our seasonal offers evolve because we learn from last season."},{qid:"DS_PULSE_07",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["offer_measurement_gap"],weight:.8,textA:"We can tell if an offer worked by how busy we felt.",textB:"We can tell if an offer worked by basket size and repeat rate."},{qid:"DS_PULSE_08",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["low_margin_skus"],weight:.9,textA:"We keep low-margin items because they attract customers.",textB:"We keep low-margin items only if they lead to profitable bundles."},{qid:"DS_PULSE_09",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["customer_experience_stagnation"],weight:.8,textA:"Customer experience is mostly about being polite and helpful.",textB:"Customer experience includes speed, clarity, and consistent follow-up."},{qid:"DS_PULSE_10",industry:"agri_input",pillar:"Innovation",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["bundle_engine_missing","bundle_blindspot"],weight:.9,textA:"Bundling depends on how confident the staff member feels.",textB:"Bundling is a simple system the staff can follow even under pressure."},{qid:"DS_SHIELD_01",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["supplier_doc_gap","compliance_shock"],weight:1.2,textA:"We keep documents when needed; we can find them if asked.",textB:"We keep documents organized so were ready before were asked."},{qid:"DS_SHIELD_02",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["counterfeit_exposure"],weight:1.3,textA:"Counterfeit risk feels low because we know our suppliers.",textB:"Counterfeit risk is managed actively because trust must be provable."},{qid:"DS_SHIELD_03",industry:"agri_input",pillar:"Risk",line_type:["Chemicals","Vet Supplies","Fertilizer","Seeds"],signal_tags:["safe_handling_gap","liability_landmine"],weight:1.1,textA:"Safety guidance is given when customers ask questions.",textB:"Safety guidance is standard because misuse can become a business risk."},{qid:"DS_SHIELD_04",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["expiry_compliance_risk"],weight:1.1,textA:"Expiry is monitored, but not always audited.",textB:"Expiry is monitored and audited as a routine to avoid risky sales."},{qid:"DS_SHIELD_05",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["policy_vagueness"],weight:.9,textA:"Policies are flexible so we can treat customers fairly.",textB:"Policies are clear so we can treat customers fairly and consistently."},{qid:"DS_SHIELD_06",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["credit_contract_gap"],weight:1,textA:"Credit is mainly managed by trust and verbal agreement.",textB:"Credit is mainly managed by simple written terms and follow-up."},{qid:"DS_SHIELD_07",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["traceability_gap"],weight:1.1,textA:"Traceability is difficult; we do what we can when needed.",textB:"Traceability is built into receiving and sales records so its easy when needed."},{qid:"DS_SHIELD_08",industry:"agri_input",pillar:"Risk",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["data_security_gap"],weight:.8,textA:"Customer and credit information is stored where its convenient.",textB:"Customer and credit information is stored centrally and protected."},{qid:"DS_SHIELD_09",industry:"agri_input",pillar:"Risk",line_type:["Chemicals","Vet Supplies","Fertilizer","Seeds"],signal_tags:["liability_landmine"],weight:1,textA:"If customers use products wrongly, its mainly their responsibility.",textB:"We reduce misuse risk because it can return as a trust and liability issue."},{qid:"DS_SHIELD_10",industry:"agri_input",pillar:"Risk",line_type:["Chemicals","Vet Supplies","Fertilizer","Seeds"],signal_tags:["compliance_shock"],weight:1,textA:"Inspections are stressful because requests come unexpectedly.",textB:"Inspections are calm because we prepare continuously."},{qid:"DS_TRIBE_01",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["onboarding_gap","training_gap"],weight:1,textA:"New staff learn by observing and asking as they go.",textB:"New staff learn by observing plus a checklist so they become consistent faster."},{qid:"DS_TRIBE_02",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["sales_without_standards"],weight:1,textA:"Selling style depends on the person; customers adjust.",textB:"Selling style follows a shared standard; customers feel consistency."},{qid:"DS_TRIBE_03",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["fear_silence"],weight:.9,textA:"People prefer to be careful and avoid escalating issues.",textB:"People prefer to surface issues early so small problems dont become big losses."},{qid:"DS_TRIBE_04",industry:"agri_input",pillar:"People",line_type:["Chemicals","Vet Supplies","Fertilizer","Seeds"],signal_tags:["ethics_drift"],weight:1.1,textA:"Incentives mainly reward sales volume because volume drives survival.",textB:"Incentives balance volume with repeat customers and safe guidance."},{qid:"DS_TRIBE_05",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["hero_staff_dependence"],weight:1,textA:"One or two key people keep things running smoothly.",textB:"The system keeps things running smoothly even if key people are away."},{qid:"DS_TRIBE_06",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["cross_team_friction"],weight:.9,textA:"Sales and finance negotiate credit in the moment.",textB:"Sales and finance share a credit rulebook so decisions are consistent."},{qid:"DS_TRIBE_07",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["service_inconsistency"],weight:.9,textA:"Customer experience depends on who is present and how busy we are.",textB:"Customer experience stays consistent through simple service routines."},{qid:"DS_TRIBE_08",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["peak_season_burnout"],weight:.8,textA:"Peak season means pushing hard and recovering later.",textB:"Peak season means pacing with roles and shifts so quality stays high."},{qid:"DS_TRIBE_09",industry:"agri_input",pillar:"People",line_type:["Seeds","Fertilizer","Chemicals","Vet Supplies"],signal_tags:["accountability_soft"],weight:.8,textA:"We focus on effort and intentions when performance is weak.",textB:"We focus on coaching and measurable improvement when performance is weak."},{qid:"DS_TRIBE_10",industry:"agri_input",pillar:"People",line_type:["Chemicals","Vet Supplies","Fertilizer","Seeds"],signal_tags:["training_gap","liability_landmine"],weight:1.1,textA:"Guidance is mostly based on experience and what customers request.",textB:"Guidance is based on experience plus simple reference cards to reduce mistakes."},{qid:"QS_MACH_OPS_01",industry:"agri_input",pillar:"Operations",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["dispatch_chaos"],weight:1,textA:"We schedule jobs as requests come in and adjust daily.",textB:"We schedule jobs using a visible dispatch plan and confirmed slots."},{qid:"QS_MACH_OPS_02",industry:"agri_input",pillar:"Operations",line_type:["Mechanization Hire","Repair & Maintenance Services","Farm Equipment","Equipment Sales & Spares"],signal_tags:["reactive_maintenance"],weight:1.2,textA:"Maintenance is handled when a machine starts misbehaving.",textB:"Maintenance is handled using a planned routine to prevent breakdowns."},{qid:"QS_MACH_MONEY_01",industry:"agri_input",pillar:"Money",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Operator Training & Advisory"],signal_tags:["underpricing_trap"],weight:1.2,textA:"Pricing is mostly based on what competitors charge.",textB:"Pricing is based on our costs, risks, and target margin."},{qid:"QS_MACH_MONEY_02",industry:"agri_input",pillar:"Money",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["deposit_discipline_gap"],weight:1.1,textA:"We often mobilize equipment before deposits to secure the job.",textB:"Deposits are standard to protect cash and commitment."},{qid:"QS_MACH_MKT_01",industry:"agri_input",pillar:"Market",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["trust_collapse_moment"],weight:1,textA:"Customers choose us mainly when we are available.",textB:"Customers choose us because we are consistently reliable and proven."},{qid:"QS_MACH_MKT_02",industry:"agri_input",pillar:"Market",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Equipment Sales & Spares"],signal_tags:["followup_gap"],weight:1,textA:"We follow up when we remember or when a customer complains.",textB:"We follow up as part of a routine to generate repeat bookings."},{qid:"QS_MACH_LEAD_01",industry:"agri_input",pillar:"Leadership",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Equipment Sales & Spares","Operator Training & Advisory"],signal_tags:["hero_owner_syndrome"],weight:1.1,textA:"Most issues reach me before they get resolved.",textB:"Issues are resolved through clear owners and routines."},{qid:"QS_MACH_LEAD_02",industry:"agri_input",pillar:"Leadership",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Equipment Sales & Spares"],signal_tags:["management_by_whatsapp"],weight:1,textA:"We measure performance mainly by effort and busyness.",textB:"We measure performance mainly by KPIs and job outcomes."},{qid:"QS_MACH_INN_01",industry:"agri_input",pillar:"Innovation",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Equipment Sales & Spares"],signal_tags:["offer_stagnation"],weight:1,textA:"We focus on the core services we already know well.",textB:"We package and test new offers that increase value and loyalty."},{qid:"QS_MACH_INN_02",industry:"agri_input",pillar:"Innovation",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["data_driven_upsell_gap"],weight:.9,textA:"We rarely change our process unless forced.",textB:"We improve the process regularly using job data and feedback."},{qid:"QS_MACH_RISK_01",industry:"agri_input",pillar:"Risk",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["contract_exposure"],weight:1.2,textA:"Most jobs are agreed verbally; trust usually works.",textB:"Jobs are confirmed with simple written terms to prevent disputes."},{qid:"QS_MACH_RISK_02",industry:"agri_input",pillar:"Risk",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["liability_landmine"],weight:1.2,textA:"Safety is handled through common sense and experience.",textB:"Safety is handled using basic procedures and incident learning."},{qid:"QS_MACH_PPL_01",industry:"agri_input",pillar:"People",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Operator Training & Advisory"],signal_tags:["operator_drift"],weight:1.1,textA:"Operators learn mainly by doing and experience over time.",textB:"Operators learn through training, checklists, and standards."},{qid:"QS_MACH_PPL_02",industry:"agri_input",pillar:"People",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services","Equipment Sales & Spares"],signal_tags:["service_inconsistency"],weight:1,textA:"Each staff member has their own way of serving customers.",textB:"Customer service follows a shared standard so trust is consistent."},{qid:"DS_MACH_OPS_01",industry:"agri_input",pillar:"Operations",line_type:["Mechanization Hire","Irrigation Supply & Install"],signal_tags:["dispatch_chaos"],weight:1.1,textA:"We accept bookings without confirming capacity first.",textB:"We confirm capacity before committing."},{qid:"DS_MACH_OPS_02",industry:"agri_input",pillar:"Operations",line_type:["Mechanization Hire","Repair & Maintenance Services"],signal_tags:["downtime_debt"],weight:1.2,textA:"We dont log downtime in hours/minutes.",textB:"We log downtime and causes consistently."},{qid:"DS_MACH_OPS_03",industry:"agri_input",pillar:"Operations",line_type:["Mechanization Hire","Repair & Maintenance Services"],signal_tags:["spare_parts_blackhole"],weight:1.1,textA:"Spares are bought when something breaks.",textB:"Spares are stocked based on failure patterns."},{qid:"DS_MACH_MON_01",industry:"agri_input",pillar:"Money",line_type:["Mechanization Hire","Irrigation Supply & Install"],signal_tags:["costing_gap"],weight:1.1,textA:"We estimate costs loosely when quoting.",textB:"We calculate costs (fuel, time, depreciation, spares)."},{qid:"DS_MACH_MON_02",industry:"agri_input",pillar:"Money",line_type:["Mechanization Hire","Irrigation Supply & Install","Equipment Sales & Spares"],signal_tags:["discount_addiction"],weight:1,textA:"Discounts are used to close fast.",textB:"Discounts are tracked and approved strategically."},{qid:"DS_MACH_MKT_01",industry:"agri_input",pillar:"Market",line_type:["Mechanization Hire","Irrigation Supply & Install"],signal_tags:["quotation_to_cash_lag"],weight:1,textA:"Quotes are sent when we have time.",textB:"Quotes are sent quickly as a standard."},{qid:"DS_MACH_MKT_02",industry:"agri_input",pillar:"Market",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["trust_leak"],weight:1,textA:"We dont capture job proof consistently.",textB:"We capture proof to build trust and referrals."},{qid:"DS_MACH_LEAD_01",industry:"agri_input",pillar:"Leadership",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["priority_whiplash"],weight:1,textA:"Decisions flow through the owner/manager.",textB:"Decisions are delegated with clear limits."},{qid:"DS_MACH_LEAD_02",industry:"agri_input",pillar:"Leadership",line_type:["Mechanization Hire","Irrigation Supply & Install"],signal_tags:["no_owner_problem"],weight:1,textA:"Problems repeat because theyre normal.",textB:"Problems repeat until solved permanently."},{qid:"DS_MACH_INN_01",industry:"agri_input",pillar:"Innovation",line_type:["Mechanization Hire","Irrigation Supply & Install"],signal_tags:["bundle_blindspot"],weight:1,textA:"We sell services as single jobs.",textB:"We package services into tiers and bundles."},{qid:"DS_MACH_RISK_01",industry:"agri_input",pillar:"Risk",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],signal_tags:["contract_exposure"],weight:1.2,textA:"Terms are mostly verbal.",textB:"Terms are written and signed."},{qid:"DS_MACH_PPL_01",industry:"agri_input",pillar:"People",line_type:["Mechanization Hire","Irrigation Supply & Install"],signal_tags:["operator_drift"],weight:1.1,textA:"Operator skills vary by experience.",textB:"Operator skills are standardized by training."}],Hpe=[{id:"LIB_MACH_OPS_STR_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],pillar:"Operations",signal_tags:["dispatch_chaos","downtime_debt"],severity_fit:["Strong"],business_size_fit:["all"],text:"We deploy equipment on time because scheduling is centralized and visible. Every job has a job card (scope, time, fuel, operator, client sign-off).",type:"strength"},{id:"LIB_MACH_OPS_LEAK_01",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"Operations",signal_tags:["dispatch_chaos","downtime_debt"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Jobs start late because scheduling is reactive and scattered. Machines idle while customers waitclassic Downtime Debt.",type:"leak"},{id:"LIB_MACH_OPS_HOOK_01",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"Operations",signal_tags:["downtime_debt"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Downtime Debt",type:"hook"},{id:"LIB_MACH_OPS_KPI_01",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"Operations",signal_tags:["dispatch_chaos"],severity_fit:["all"],business_size_fit:["all"],text:"On-Time Start Rate (% jobs starting on schedule). Target > 8595%.",type:"kpi"},{id:"LIB_MACH_MON_STR_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Money",signal_tags:["margin_mirage"],severity_fit:["Strong"],business_size_fit:["all"],text:"We price using cost-based models (fuel, labor, depreciation, parts, margin). We track profitability per machine/service line, not just total revenue.",type:"strength"},{id:"LIB_MACH_MON_LEAK_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Money",signal_tags:["margin_mirage","underpricing_trap"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Prices are guessed; you undercharge and compensate with 'working harder.' Profitability by machine is unknowngrowth decisions are blind.",type:"leak"},{id:"LIB_MACH_MON_HOOK_01",industry:"agri_input",line_type:["all"],pillar:"Money",signal_tags:["margin_mirage"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Margin Mirage",type:"hook"},{id:"LIB_MACH_MON_KPI_01",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"Money",signal_tags:["fuel_burn_leak"],severity_fit:["all"],business_size_fit:["all"],text:"Fuel Cost per Job / per Acre. Routing and leakage indicator.",type:"kpi"},{id:"LIB_MACH_MKT_STR_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Market",signal_tags:["trust_collapse_moment"],severity_fit:["Strong"],business_size_fit:["all"],text:"Customers trust our timelines because we under-promise and over-deliver. We document results (before/after, acres, efficiency), increasing credibility.",type:"strength"},{id:"LIB_MACH_MKT_LEAK_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Market",signal_tags:["trust_collapse_moment","seasonal_demand_miss"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Customers leave because reliability is inconsistentone late job kills trust. You dont pre-book seasonal work, so competitors fill the calendar first.",type:"leak"},{id:"LIB_MACH_MKT_HOOK_01",industry:"agri_input",line_type:["all"],pillar:"Market",signal_tags:["trust_collapse_moment"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Trust Collapse Moment",type:"hook"},{id:"LIB_MACH_MKT_KPI_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Market",signal_tags:["quotation_to_cash_lag"],severity_fit:["all"],business_size_fit:["all"],text:"Quote Turnaround Time (hours/days). Speed converts; target same day/24h.",type:"kpi"},{id:"LIB_MACH_LEAD_STR_01",industry:"agri_input",line_type:["all"],pillar:"Leadership",signal_tags:["hero_owner_syndrome"],severity_fit:["Strong"],business_size_fit:["all"],text:"Roles are clear: sales, dispatch, field ops, workshop, finance. The business doesnt collapse when the owner is away.",type:"strength"},{id:"LIB_MACH_LEAD_LEAK_01",industry:"agri_input",line_type:["all"],pillar:"Leadership",signal_tags:["management_by_whatsapp","hero_owner_syndrome"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Operations are run via WhatsApp chaos, not dashboards. The owner becomes the bottleneck for every decision.",type:"leak"},{id:"LIB_MACH_LEAD_HOOK_01",industry:"agri_input",line_type:["all"],pillar:"Leadership",signal_tags:["management_by_whatsapp"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Management-by-WhatsApp",type:"hook"},{id:"LIB_MACH_LEAD_KPI_01",industry:"agri_input",line_type:["all"],pillar:"Leadership",signal_tags:["kpi_cadence_gap"],severity_fit:["all"],business_size_fit:["all"],text:"Weekly KPI Review Compliance (% weeks reviewed). Target 100%.",type:"kpi"},{id:"LIB_MACH_INN_STR_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Innovation",signal_tags:["bundle_blindspot"],severity_fit:["Strong"],business_size_fit:["all"],text:"We bundle services into solutions (e.g., plough + planting + spraying scheduling). We offer preventive maintenance contracts to stabilize revenue.",type:"strength"},{id:"LIB_MACH_INN_LEAK_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Innovation",signal_tags:["offer_stagnation","bundle_blindspot"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"You sell services like commodities instead of premium packages. No maintenance contracts means unstable income and constant chasing.",type:"leak"},{id:"LIB_MACH_INN_HOOK_01",industry:"agri_input",line_type:["all"],pillar:"Innovation",signal_tags:["offer_stagnation"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Offer Stagnation",type:"hook"},{id:"LIB_MACH_INN_KPI_01",industry:"agri_input",line_type:["all"],pillar:"Innovation",signal_tags:["bundle_blindspot"],severity_fit:["all"],business_size_fit:["all"],text:"Bundle Attach Rate (% jobs sold with add-on service). Target > 20%.",type:"kpi"},{id:"LIB_MACH_RISK_STR_01",industry:"agri_input",line_type:["all"],pillar:"Risk",signal_tags:["contract_exposure"],severity_fit:["Strong"],business_size_fit:["all"],text:"Every job has written terms: scope, payment, liability, warranty, timeline. We dont start work without deposits and signed agreements.",type:"strength"},{id:"LIB_MACH_RISK_LEAK_01",industry:"agri_input",line_type:["all"],pillar:"Risk",signal_tags:["contract_exposure","liability_landmine"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Verbal agreements cause disputes, unpaid invoices, and blame games. Liability is unclear: crop damage, equipment damage, accidents.",type:"leak"},{id:"LIB_MACH_RISK_HOOK_01",industry:"agri_input",line_type:["all"],pillar:"Risk",signal_tags:["liability_landmine"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Liability Landmine",type:"hook"},{id:"LIB_MACH_RISK_KPI_01",industry:"agri_input",line_type:["all"],pillar:"Risk",signal_tags:["contract_exposure"],severity_fit:["all"],business_size_fit:["all"],text:"Contract Coverage (% jobs with signed terms). Target > 90%.",type:"kpi"},{id:"LIB_MACH_PPL_STR_01",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"People",signal_tags:["operator_drift"],severity_fit:["Strong"],business_size_fit:["all"],text:"Operators are trained and tested; machine abuse is reduced. Incentives reward reliability and job quality, not shortcuts.",type:"strength"},{id:"LIB_MACH_PPL_LEAK_01",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"People",signal_tags:["operator_drift","accountability_fog"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Operator skills vary widely; machines are abused and break early. No accountability means lateness and poor quality become normal.",type:"leak"},{id:"LIB_MACH_PPL_HOOK_01",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"People",signal_tags:["operator_drift"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Operator Drift",type:"hook"},{id:"LIB_MACH_PPL_KPI_01",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"People",signal_tags:["accountability_fog"],severity_fit:["all"],business_size_fit:["all"],text:"Operator Error Rate (avoidable faults per month). Trend down.",type:"kpi"},{id:"MB_MACH_HIRE_OPS",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"Operations",signal_tags:["dispatch_chaos","downtime_debt"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Mechanization businesses win or die by deployment reliability. When Operations signals show scheduling drift and reactive maintenance, you accumulate Downtime Debtmachines idle while demand is hot. That leak doesnt show up as a single expense; it shows up as missed jobs and lost referrals. Cliffhanger: Fix Mode locks a dispatch board, job cards, and a preventive maintenance rhythm that holds during peak season.",type:"mission_brief"},{id:"MB_MACH_HIRE_MONEY",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"Money",signal_tags:["margin_mirage","deposit_discipline_gap"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"If Money signals show underpricing and weak deposit discipline, youre funding customer work while your margin evaporates through fuel and repairsclassic Fuel Burn Leak + Deposit Discipline Gap. Cliffhanger: Fix Mode installs cost-based pricing, deposit rules, and same-day invoicing after sign-off.",type:"mission_brief"},{id:"MB_MACH_HIRE_MKT",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"Market",signal_tags:["trust_collapse_moment","seasonal_demand_miss"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Mechanization buyers choose speed and reliability. If Market signals show slow quoting and weak pre-booking, you lose demand to whoever answers firstyour Seasonal Demand Miss becomes permanent reputation damage. Cliffhanger: Fix Mode launches pre-booking and fast-quote routines tied to crop cycles.",type:"mission_brief"},{id:"MB_IRRIGATION_OPS",industry:"agri_input",line_type:["Irrigation Supply & Install"],pillar:"Operations",signal_tags:["dispatch_chaos"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Irrigation profits depend on consistent installation quality and fast problem resolution. If Operations signals show technician-dependent quality and weak handovers, you get rework, call-backs, and slow completionsyour Dispatch Chaos becomes a cost leak. Cliffhanger: Fix Mode standardizes installation checklists and job card sign-offs.",type:"mission_brief"},{id:"MB_SALES_OPS",industry:"agri_input",line_type:["Equipment Sales & Spares"],pillar:"Operations",signal_tags:["spare_parts_blackhole"],severity_fit:["Critical","Watch"],business_size_fit:["all"],text:"Sales depend on stock availability and delivery coordination. If Operations signals show spare parts gaps, you lose urgent buyers. Cliffhanger: Fix Mode builds reorder points and stock accuracy routines.",type:"mission_brief"}],Gpe=[{action_id:"ACT_MACH_OPS_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install","Repair & Maintenance Services"],pillar:"Operations",signal_tags:["dispatch_chaos","downtime_debt"],title:"Start Dispatch Board",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Ops Lead",sme:"Ops Manager",enterprise:"Dispatch Lead"},kpi_links:["start_rate"],proof_required:["photo_of_board","7_day_log"],impact_score:8},{action_id:"ACT_MACH_MON_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Money",signal_tags:["deposit_discipline_gap","underpricing_trap"],title:"Enforce Deposit Rule",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Sales/Finance",sme:"Finance Manager",enterprise:"Finance Controller"},kpi_links:["deposit_compliance"],proof_required:["policy_doc","10_invoices_audit"],impact_score:9},{action_id:"ACT_MACH_MON_02",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"Money",signal_tags:["fuel_burn_leak"],title:"Fuel Log + Route Note",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Field Supervisor",sme:"Fleet Manager",enterprise:"Fleet Manager"},kpi_links:["fuel_cost_per_job"],proof_required:["fuel_log_photos"],impact_score:7},{action_id:"ACT_MACH_OPS_02",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"Operations",signal_tags:["job_card_blindness"],title:"Job Card for Every Job",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Ops Lead",sme:"Ops Manager",enterprise:"Service Manager"},kpi_links:["job_card_completion"],proof_required:["10_completed_cards"],impact_score:8},{action_id:"ACT_MACH_OPS_03",industry:"agri_input",line_type:["Repair & Maintenance Services"],pillar:"Operations",signal_tags:["breakdown_tax","reactive_maintenance"],title:"List Top 5 Failure Causes",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Workshop Lead",sme:"Workshop Manager",enterprise:"Technical Director"},kpi_links:["repeat_breakdown_rate"],proof_required:["failure_list","countermeasures"],impact_score:6},{action_id:"ACT_MACH_MKT_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Market",signal_tags:["quotation_to_cash_lag","trust_collapse_moment"],title:"Quote Turnaround Sprint",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Sales Lead",sme:"Sales Manager",enterprise:"Sales Director"},kpi_links:["quote_turnaround_time"],proof_required:["quote_timestamps"],impact_score:7},{action_id:"ACT_MACH_OPS_04",industry:"agri_input",line_type:["Repair & Maintenance Services"],pillar:"Operations",signal_tags:["spare_parts_blackhole"],title:'Parts "Emergency Kit" for Peak',days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Workshop Lead",sme:"Parts Manager",enterprise:"Procurement Lead"},kpi_links:["downtime_hours"],proof_required:["kit_inventory_photo"],impact_score:8},{action_id:"ACT_MACH_MKT_02",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Market",signal_tags:["trust_leak"],title:"Capture Customer Proof",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Field Team",sme:"Marketing Lead",enterprise:"Marketing Manager"},kpi_links:["referral_rate"],proof_required:["5_before_after_photos","3_testimonials"],impact_score:6},{action_id:"ACT_MACH_MKT_03",industry:"agri_input",line_type:["all"],pillar:"Market",signal_tags:["complaint_handling_gap"],title:"Complaint Closure Log",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Manager",sme:"Customer Service Lead",enterprise:"CX Manager"},kpi_links:["complaint_repeat_rate"],proof_required:["log_sheet","closures"],impact_score:7},{action_id:"ACT_MACH_PPL_01",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"People",signal_tags:["operator_drift"],title:"Operator Daily Checklist",days:7,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Field Supervisor",sme:"Field Manager",enterprise:"Ops Director"},kpi_links:["operator_error_rate"],proof_required:["checklist_doc","signatures"],impact_score:8},{action_id:"ACT_MACH_OPS_30_01",industry:"agri_input",line_type:["Mechanization Hire","Repair & Maintenance Services"],pillar:"Operations",signal_tags:["reactive_maintenance","breakdown_tax"],title:"Build PM Calendar",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Workshop Lead",sme:"Maintenance Manager",enterprise:"Engineering Lead"},kpi_links:["pm_compliance","mtbf"],proof_required:["calendar_doc","checklists"],impact_score:9},{action_id:"ACT_MACH_MON_30_01",industry:"agri_input",line_type:["all"],pillar:"Money",signal_tags:["costing_gap","underpricing_trap"],title:"Cost-Based Pricing Sheet",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Finance",sme:"Finance Manager",enterprise:"CFO"},kpi_links:["gross_margin_per_service"],proof_required:["pricing_model","updated_price_list"],impact_score:9},{action_id:"ACT_MACH_OPS_30_02",industry:"agri_input",line_type:["Mechanization Hire"],pillar:"Operations",signal_tags:["downtime_debt"],title:"Utilization Dashboard",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Ops",sme:"Ops Manager",enterprise:"COO"},kpi_links:["utilization_rate"],proof_required:["dashboard_screenshot"],impact_score:8},{action_id:"ACT_MACH_MKT_30_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Market",signal_tags:["seasonal_demand_miss"],title:"Pre-Booking Program",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Sales",sme:"Sales Manager",enterprise:"Commercial Director"},kpi_links:["pre_booking_rate"],proof_required:["campaign_material","bookings_list"],impact_score:8},{action_id:"ACT_MACH_RISK_30_01",industry:"agri_input",line_type:["all"],pillar:"Risk",signal_tags:["contract_exposure"],title:"Standard Contracts",days:30,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Manager",sme:"Legal/Admin",enterprise:"Legal Counsel"},kpi_links:["contract_coverage"],proof_required:["template_doc","10_signed_samples"],impact_score:9},{action_id:"ACT_MACH_OPS_30_03",industry:"agri_input",line_type:["Repair & Maintenance Services"],pillar:"Operations",signal_tags:["spare_parts_blackhole"],title:"Spare Parts Control",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Workshop",sme:"Procurement",enterprise:"Supply Chain Lead"},kpi_links:["downtime_hours"],proof_required:["supplier_list","reorder_point_sheet"],impact_score:8},{action_id:"ACT_MACH_INN_30_01",industry:"agri_input",line_type:["Mechanization Hire","Irrigation Supply & Install"],pillar:"Innovation",signal_tags:["bundle_blindspot"],title:"Service Bundles",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Sales",sme:"Product Manager",enterprise:"Marketing Director"},kpi_links:["bundle_attach_rate"],proof_required:["bundle_pricing","training_material"],impact_score:8},{action_id:"ACT_MACH_PPL_30_01",industry:"agri_input",line_type:["Mechanization Hire","Operator Training & Advisory"],pillar:"People",signal_tags:["operator_drift"],title:"Operator Training & Certification",days:30,effort:"L",default_owner_by_size:{solo:"Owner",small_team:"Manager",sme:"HR/Ops",enterprise:"Training Manager"},kpi_links:["skill_pass_rate"],proof_required:["test_results","certificates"],impact_score:9},{action_id:"ACT_MACH_RISK_30_02",industry:"agri_input",line_type:["all"],pillar:"Risk",signal_tags:["liability_landmine"],title:"Incident & Damage Review",days:30,effort:"S",default_owner_by_size:{solo:"Owner",small_team:"Manager",sme:"Safety Officer",enterprise:"HSE Manager"},kpi_links:["incident_rate"],proof_required:["monthly_review_notes"],impact_score:7},{action_id:"ACT_MACH_MON_30_02",industry:"agri_input",line_type:["all"],pillar:"Money",signal_tags:["quotation_to_cash_lag"],title:"Quote-to-Cash Workflow",days:30,effort:"M",default_owner_by_size:{solo:"Owner",small_team:"Finance",sme:"Finance Manager",enterprise:"CFO"},kpi_links:["quote_to_cash_days"],proof_required:["workflow_doc","time_trend_chart"],impact_score:8}],x4={questions:Vpe,library:Hpe,actions:Gpe},$pe=[{qid:"QS_OPS_01",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],weight:1.2,textA:"We judge performance by busy days and visible activity.",textB:"We judge performance by measured output (tons, recovery, downtime)."},{qid:"QS_OPS_02",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],weight:1.1,textA:"We move material when space allows.",textB:"We move material with checkpoints (pit to stockpile to sale) to prevent loss."},{qid:"QS_MONEY_01",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],weight:1.2,textA:"We manage costs when cash gets tight.",textB:"We track cost per ton so decisions stay profitable."},{qid:"QS_MONEY_02",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["cashflow_visibility_gap"],weight:1.1,textA:"Fuel and small purchases are hard to track but necessary.",textB:"We reconcile fuel and tools because that is where profit leaks hide."},{qid:"QS_MARKET_01",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["channel_dependency"],weight:1.2,textA:"We mostly sell to the buyer we trust.",textB:"We keep options so pricing does not get controlled."},{qid:"QS_MARKET_02",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],weight:1.1,textA:"Deductions happen; we accept them to keep moving.",textB:"We verify weight and quality evidence to reduce surprise deductions."},{qid:"QS_LEAD_01",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["priority_whiplash"],weight:1.1,textA:"Decisions happen based on what problem is loudest today.",textB:"Decisions follow the weekly KPI review and priorities."},{qid:"QS_LEAD_02",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["no_accountability_loop"],weight:1,textA:"Operations depend on a few key people being present.",textB:"Operations run from clear owners and simple SOPs."},{qid:"QS_INNOV_01",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap"],weight:1,textA:"We focus on digging more to increase income.",textB:"We focus on recovery and processing improvements to increase value per ton."},{qid:"QS_INNOV_02",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["no_product_testing_rhythm"],weight:1,textA:"We keep using tools that are familiar.",textB:"We test small upgrades that reduce downtime and increase recovery."},{qid:"QS_RISK_01",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift"],weight:1.2,textA:"Safety is managed through common sense and experience.",textB:"Safety is managed through routines (PPE, hazard checks, incident logs)."},{qid:"QS_RISK_02",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],weight:1.1,textA:"Documentation and compliance are handled when needed.",textB:"Documentation is maintained so surprises do not shut us down."},{qid:"QS_PEOPLE_01",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["training_gap"],weight:1,textA:"Speed is the main indicator of a good worker.",textB:"Discipline and recovery quality matter as much as speed."},{qid:"QS_PEOPLE_02",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["fear_index"],weight:1,textA:"Mistakes are fixed quietly to avoid conflict.",textB:"Mistakes are logged so they do not repeat and drain money."},{qid:"DS_OPS_01",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],weight:1.1,textA:"Output is estimated informally.",textB:"Output is measured daily and reconciled."},{qid:"DS_OPS_02",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],weight:1.1,textA:"Recovery losses are assumed normal.",textB:"Recovery is audited and improved."},{qid:"DS_OPS_03",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],weight:1,textA:"Material movement is not logged consistently.",textB:"Material movement has checkpoints and logs."},{qid:"DS_OPS_04",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["energy_burn_spiral"],weight:1,textA:"Fuel is issued without strict reconciliation.",textB:"Fuel is tracked per unit and shift."},{qid:"DS_OPS_05",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["wip_pileup"],weight:1,textA:"Stockpiles mix grades.",textB:"Stockpiles are labeled and segregated."},{qid:"DS_OPS_06",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],weight:1.1,textA:"Downtime repeats with the same causes.",textB:"Downtime is prevented with PM routines."},{qid:"DS_OPS_07",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["planning_gap"],weight:1,textA:"Wet season slows us unpredictably.",textB:"Wet season is planned with access and water controls."},{qid:"DS_OPS_08",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["bottleneck_bounce"],weight:1,textA:"Processing is always behind.",textB:"Processing bottlenecks are identified and fixed."},{qid:"DS_OPS_09",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["no_standard_work"],weight:1,textA:"Work changes daily based on emergencies.",textB:"Work follows a weekly plan."},{qid:"DS_OPS_10",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["weak_proof_pack"],weight:1,textA:"Evidence for shipments is inconsistent.",textB:"Evidence packs are mandatory."},{qid:"DS_MONEY_01",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],weight:1.2,textA:"We do not know exact cost per ton.",textB:"We track cost per ton monthly."},{qid:"DS_MONEY_02",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["cashflow_visibility_gap"],weight:1.1,textA:"Cash spends are hard to categorize.",textB:"All spends are recorded and explained."},{qid:"DS_MONEY_03",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["waste_not_costed"],weight:1,textA:"Fuel and tool losses are tolerated.",textB:"Fuel and tools are controlled because they kill margin."},{qid:"DS_MONEY_04",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["pricing_margin_blindspot"],weight:1,textA:"Pricing is decided mainly by buyer offer.",textB:"Pricing is negotiated from our benchmarks and proof."},{qid:"DS_MONEY_05",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["discounting_leak"],weight:1,textA:"Deductions surprise us.",textB:"Deductions are predicted and managed via terms."},{qid:"DS_MONEY_06",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["payment_delay_chokehold"],weight:1.1,textA:"Payment delays are accepted.",textB:"Payment timing is enforced with gates and terms."},{qid:"DS_MONEY_07",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["credit_terms_risk"],weight:1,textA:"Debt is used to keep digging.",textB:"Debt is used only for ROI improvements."},{qid:"DS_MONEY_08",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["purchase_panic"],weight:1,textA:"We invest in equipment when we feel pressure.",textB:"We invest based on recovery and downtime ROI."},{qid:"DS_MONEY_09",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["tax_compliance_gap"],weight:1,textA:"Royalties and compliance costs are last-minute.",textB:"Compliance costs are forecasted."},{qid:"DS_MONEY_10",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["pricing_margin_blindspot"],weight:1,textA:"Profit is judged by cash today.",textB:"Profit is judged by margin and control."},{qid:"DS_MARKET_01",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["channel_dependency"],weight:1.2,textA:"We sell mainly to one buyer.",textB:"We maintain multiple buyer options."},{qid:"DS_MARKET_02",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["contract_gap"],weight:1,textA:"Buyer terms are informal.",textB:"Buyer terms are written and clear."},{qid:"DS_MARKET_03",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["spec_drift_discount"],weight:1,textA:"Quality and grade are assumed.",textB:"Quality is documented and consistent."},{qid:"DS_MARKET_04",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],weight:1,textA:"Disputes are common and emotional.",textB:"Disputes are resolved with evidence."},{qid:"DS_MARKET_05",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["pricing_positioning_gap"],weight:1,textA:"We accept assay results without verification.",textB:"We verify or use agreed methods."},{qid:"DS_MARKET_06",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["low_repeat_orders"],weight:1,textA:"We do not track repeat buyer behavior.",textB:"We track buyer reliability and pricing patterns."},{qid:"DS_MARKET_07",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["buyer_power_trap"],weight:1.1,textA:"We sell immediately due to cash needs.",textB:"We sell strategically when terms are best."},{qid:"DS_MARKET_08",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["value_story_gap"],weight:.9,textA:"Reputation depends on relationships.",textB:"Reputation depends on reliability and documentation."},{qid:"DS_MARKET_09",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["pricing_positioning_gap"],weight:1,textA:"We do not know market benchmarks consistently.",textB:"Benchmarks are tracked weekly."},{qid:"DS_MARKET_10",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["buyer_power_trap"],weight:1.1,textA:"Buyers set the rules.",textB:"We negotiate from our numbers and proof."},{qid:"DS_LEAD_01",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["no_accountability_loop"],weight:1.1,textA:"Roles overlap; everyone helps.",textB:"Each stage has an owner with KPIs."},{qid:"DS_LEAD_02",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["no_kpi_ownership"],weight:1,textA:"Weekly review is optional.",textB:"Weekly review is non-negotiable."},{qid:"DS_LEAD_03",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["no_variance_review"],weight:1,textA:"Issues are fixed once and forgotten.",textB:"Issues are logged and prevented."},{qid:"DS_LEAD_04",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["weak_goal_alignment"],weight:1,textA:"Standards change based on who is present.",textB:"Standards are documented and enforced."},{qid:"DS_LEAD_05",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["priority_whiplash"],weight:1,textA:"Priorities shift daily.",textB:"Priorities follow plan and KPIs."},{qid:"DS_LEAD_06",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["decision_bottleneck"],weight:1,textA:"Supervisors rely on shouting to manage.",textB:"Supervisors manage through targets and checklists."},{qid:"DS_LEAD_07",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["weak_goal_alignment"],weight:1,textA:"Crew output expectations are unclear.",textB:"Crew can state targets and rules daily."},{qid:"DS_LEAD_08",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["hiring_mismatch"],weight:1,textA:"Training is learn by watching.",textB:"Training is structured and tested."},{qid:"DS_LEAD_09",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["fear_index"],weight:.9,textA:"Trust is maintained through fear.",textB:"Trust is maintained through clarity and fairness."},{qid:"DS_LEAD_10",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["management_by_memory"],weight:1,textA:"Results depend on one hero.",textB:"Results depend on systems."},{qid:"DS_INNOV_01",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap"],weight:1.1,textA:"We increase income by digging more.",textB:"We increase income by improving recovery and value per ton."},{qid:"DS_INNOV_02",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["no_product_testing_rhythm"],weight:1,textA:"We rarely test improvements.",textB:"We test one improvement monthly with KPIs."},{qid:"DS_INNOV_03",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap"],weight:1,textA:"Processing layout is as it is.",textB:"Layout is optimized to reduce rehandling and loss."},{qid:"DS_INNOV_04",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["slow_bug_fix"],weight:1,textA:"Downtime is accepted.",textB:"Downtime is reduced through PM and spares."},{qid:"DS_INNOV_05",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["no_market_feedback_loop"],weight:.9,textA:"Data is scattered.",textB:"Data is centralized into simple dashboards."},{qid:"DS_INNOV_06",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap"],weight:1,textA:"No templates or checklists.",textB:"Templates and checklists drive consistency."},{qid:"DS_INNOV_07",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["pack_size_profit_blindspot"],weight:1,textA:"Incentives reward speed.",textB:"Incentives reward recovery and discipline."},{qid:"DS_INNOV_08",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap"],weight:.9,textA:"No benefit from grade separation.",textB:"Grade separation improves price and reduces disputes."},{qid:"DS_INNOV_09",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["no_market_feedback_loop"],weight:.9,textA:"No documentation systems.",textB:"Document packs strengthen bargaining and compliance."},{qid:"DS_INNOV_10",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["complaint_echo"],weight:.9,textA:"Learning does not carry forward.",textB:"SOPs update each season."},{qid:"DS_RISK_01",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift"],weight:1.1,textA:"Safety is informal.",textB:"Safety uses routines and logs."},{qid:"DS_RISK_02",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift"],weight:1,textA:"PPE is when available.",textB:"PPE is enforced."},{qid:"DS_RISK_03",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],weight:1,textA:"Compliance is handled when needed.",textB:"Compliance readiness is maintained."},{qid:"DS_RISK_04",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],weight:1.1,textA:"Chain-of-custody is weak.",textB:"Chain-of-custody is documented."},{qid:"DS_RISK_05",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],weight:1,textA:"Theft issues are suspected but hard to prove.",textB:"Movement logs reduce theft and disputes."},{qid:"DS_RISK_06",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["data_security_gap"],weight:.9,textA:"Records are incomplete.",textB:"Records are audit-ready."},{qid:"DS_RISK_07",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["contract_gap"],weight:1,textA:"Contracts are informal.",textB:"Terms are written."},{qid:"DS_RISK_08",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],weight:1,textA:"Environmental risks are ignored.",textB:"Environmental controls are planned."},{qid:"DS_RISK_09",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["disaster_recovery_gap"],weight:1,textA:"Incidents are handled quietly.",textB:"Incidents are logged and corrected."},{qid:"DS_RISK_10",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["insurance_gap"],weight:.9,textA:"Security is reactive.",textB:"Security is systematic."},{qid:"DS_PEOPLE_01",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["training_gap"],weight:1.1,textA:"Skill is assumed.",textB:"Skills are trained and tested."},{qid:"DS_PEOPLE_02",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["fear_index"],weight:1,textA:"Mistakes are hidden.",textB:"Mistakes are logged to prevent repeats."},{qid:"DS_PEOPLE_03",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["blame_culture"],weight:1,textA:"Speed is rewarded most.",textB:"Recovery and discipline are rewarded."},{qid:"DS_PEOPLE_04",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["approval_bottleneck"],weight:1,textA:"Supervisors manage through pressure.",textB:"Supervisors manage through clarity."},{qid:"DS_PEOPLE_05",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["role_clarity_gap"],weight:1,textA:"Handoffs are informal.",textB:"Handoffs have checklists."},{qid:"DS_PEOPLE_06",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["onboarding_gap"],weight:.9,textA:"New workers learn by watching.",textB:"New workers onboard with standards."},{qid:"DS_PEOPLE_07",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["cross_function_breakdown"],weight:.9,textA:"Fatigue is accepted.",textB:"Work rhythm prevents fatigue errors."},{qid:"DS_PEOPLE_08",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["meeting_theater"],weight:.8,textA:"Discipline varies by day.",textB:"Discipline is consistent."},{qid:"DS_PEOPLE_09",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["hero_operator_dependence"],weight:1,textA:"Accountability exists only when money disappears.",textB:"Accountability exists daily."},{qid:"DS_PEOPLE_10",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["low_psych_safety"],weight:1,textA:"Culture is blame-driven.",textB:"Culture is improvement-driven."}],Ype=[{id:"LIB_MINING_OPS_LEAK",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot","flow_instability"],severity_fit:["Critical","Stable"],business_size_fit:["all"],text:"Production is happening, but control is weak: Pit-to-Scale Blindspot, Recovery Leak, and recurring Downtime Spiral are silently taxing every shipment.",type:"leak",hook_text:"Pit-to-Scale Blindspot",cost_text:"Invisible recovery losses, fuel bleed, and unstable output quality.",cliffhanger_text:"Fix Mode installs checkpoints, recovery audit discipline, and downtime prevention.",kpi_text:"Tons/day vs plan, Recovery %, Downtime hours, Fuel/ton"},{id:"LIB_MINING_OPS_STR",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],severity_fit:["Strong"],business_size_fit:["all"],text:"You run with measurement discipline: daily production board, recovery visibility, stockpile segregation, and bottleneck control that can scale without chaos.",type:"strength"},{id:"LIB_MINING_OPS_HOOK",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Recovery Leak",type:"hook"},{id:"LIB_MINING_OPS_KPI",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Tons moved/day, Recovery rate, Downtime hours/week, Fuel per ton, Rehandling count, Segregation compliance",type:"kpi"},{id:"LIB_MINING_MONEY_LEAK",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["costing_gap","cashflow_visibility_gap"],severity_fit:["Critical","Stable"],business_size_fit:["all"],text:"Cash-Leak Culture is active: Ghost Costs, Buyer Price Trap, and Assay Shock are eroding margin while debt is used for survival.",type:"leak",hook_text:"Cash-Leak Culture",cost_text:"Fuel and tool leakage, surprise deductions, and unpredictable shipment margins.",cliffhanger_text:"Fix Mode builds cost-per-ton control, daily close discipline, and deduction-proof sales routines.",kpi_text:"Cost/ton, Margin/shipment, Reconciliation misses, DSO, Unplanned spend %"},{id:"LIB_MINING_MONEY_STR",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],severity_fit:["Strong"],business_size_fit:["all"],text:"You protect margin with cost-per-ton visibility, reconciled cash movements, benchmarked pricing, and planned compliance spending.",type:"strength"},{id:"LIB_MINING_MONEY_HOOK",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Buyer Price Trap",type:"hook"},{id:"LIB_MINING_MONEY_KPI",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Cost per ton, Margin per shipment, Cash reconciliation misses, Fuel spend variance, Payment delay days, Unplanned spend ratio",type:"kpi"},{id:"LIB_MINING_MARKET_LEAK",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["channel_dependency","weak_proof_pack"],severity_fit:["Critical","Stable"],business_size_fit:["all"],text:"Market access is controlled by others: Single-Buyer Danger and Middleman Margin Capture rise when proof bundles are weak.",type:"leak",hook_text:"Middleman Margin Capture",cost_text:"You absorb risk while others monetize your output through deductions and weak terms.",cliffhanger_text:"Fix Mode installs evidence packs, terms discipline, and buyer diversification sprints.",kpi_text:"Buyer concentration, Price vs benchmark, Dispute rate, Repeat buyer rate"},{id:"LIB_MINING_MARKET_STR",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["channel_dependency"],severity_fit:["Strong"],business_size_fit:["all"],text:"You negotiate from strength with multiple buyers, reliable shipment evidence, and consistent lots that reduce disputes.",type:"strength"},{id:"LIB_MINING_MARKET_HOOK",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Single-Buyer Danger",type:"hook"},{id:"LIB_MINING_MARKET_KPI",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Buyer concentration %, Price vs benchmark, Dispute rate, Assay deduction variance, Repeat buyer rate, Terms coverage %",type:"kpi"},{id:"LIB_MINING_LEAD_LEAK",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["priority_whiplash","no_accountability_loop"],severity_fit:["Critical","Stable"],business_size_fit:["all"],text:"Firefighting Management dominates: No Owner Syndrome and Decision by Shouting keep the same losses repeating.",type:"leak",hook_text:"Firefighting Management",cost_text:"Repeat mistakes, weak accountability, and output that depends on one hero being present.",cliffhanger_text:"Fix Mode installs owner mapping, weekly KPI cadence, and closure tracking.",kpi_text:"Weekly review compliance, action closure %, incident recurrence, owner completeness"},{id:"LIB_MINING_LEAD_STR",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["no_accountability_loop"],severity_fit:["Strong"],business_size_fit:["all"],text:"You run by system, not noise: owners are clear, reviews are weekly, decisions follow KPIs, and incidents feed learning loops.",type:"strength"},{id:"LIB_MINING_LEAD_HOOK",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"No Owner Syndrome",type:"hook"},{id:"LIB_MINING_LEAD_KPI",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Weekly control compliance, Action closure rate, Incident recurrence, Target clarity score, Forecast accuracy",type:"kpi"},{id:"LIB_MINING_INNOV_LEAK",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap","no_product_testing_rhythm"],severity_fit:["Critical","Stable"],business_size_fit:["all"],text:"Low-Tech Trap persists: digging improves while processing and recovery discipline stay flat, capping value per ton.",type:"leak",hook_text:"Processing Gap",cost_text:"More effort does not convert into higher value per ton, and downtime remains expensive.",cliffhanger_text:"Fix Mode pilots one recovery upgrade and tracks measurable ROI within 30 days.",kpi_text:"Improvements tested/month, Recovery delta %, Downtime reduction, Value/ton increase"},{id:"LIB_MINING_INNOV_STR",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["no_product_testing_rhythm"],severity_fit:["Strong"],business_size_fit:["all"],text:"You run controlled experiments that improve recovery, reduce rehandling, and increase value per ton with evidence.",type:"strength"},{id:"LIB_MINING_INNOV_HOOK",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Low-Tech Trap",type:"hook"},{id:"LIB_MINING_INNOV_KPI",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Improvement actions tested/month, Recovery improvement %, Process compliance %, Value per ton increase %",type:"kpi"},{id:"LIB_MINING_RISK_LEAK",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift","compliance_blocker_risk"],severity_fit:["Critical","Stable"],business_size_fit:["all"],text:"Safety Time Bomb and Compliance Trap are active; weak chain-of-custody makes theft, disputes, and shutdowns hard to defend.",type:"leak",hook_text:"Chain-of-Custody Hole",cost_text:"One incident, compliance failure, or custody dispute can erase months of profit.",cliffhanger_text:"Fix Mode installs safety routines, custody logs, and compliance readiness controls.",kpi_text:"Safety incidents, Compliance readiness %, Custody compliance %, Audit trail completeness"},{id:"LIB_MINING_RISK_STR",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],severity_fit:["Strong"],business_size_fit:["all"],text:"Risk is controlled through enforced safety routines, custody traceability, written terms, and audit-ready records.",type:"strength"},{id:"LIB_MINING_RISK_HOOK",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Safety Time Bomb",type:"hook"},{id:"LIB_MINING_RISK_KPI",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Safety incidents, Near misses, Compliance readiness score, Custody compliance, Theft/loss incidents, PPE compliance",type:"kpi"},{id:"LIB_MINING_PEOPLE_LEAK",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["training_gap","fear_index"],severity_fit:["Critical","Stable"],business_size_fit:["all"],text:"Skill Gap Drag and Silent Error Problem are visible; incentives reward speed while recovery, safety, and quality are under-managed.",type:"leak",hook_text:"Incentive Misfire",cost_text:"Technique errors, hidden mistakes, and fatigue losses silently reduce recoverable profit.",cliffhanger_text:"Fix Mode aligns incentives to recovery, introduces skill standards, and normalizes early error reporting.",kpi_text:"Training pass rate, Handling error rate, Supervisor checklist completion, Crew discipline score"},{id:"LIB_MINING_PEOPLE_STR",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["training_gap"],severity_fit:["Strong"],business_size_fit:["all"],text:"Your team runs with clear roles, trained technique, recovery-aligned incentives, and a culture that surfaces errors early.",type:"strength"},{id:"LIB_MINING_PEOPLE_HOOK",industry:"mining",line_type:["all"],pillar:"People",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Skill Gap Drag",type:"hook"},{id:"LIB_MINING_PEOPLE_KPI",industry:"mining",line_type:["all"],pillar:"People",signal_tags:[],severity_fit:["Critical","Stable","Watch","Emergency","Strong"],business_size_fit:["all"],text:"Training completion %, Handling error rate, Fatigue proxy hours/week, Supervisor checklist completion, Discipline score",type:"kpi"},{id:"MB_MINING_GOLD_OPS",industry:"mining",line_type:["Artisanal Gold"],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Operations - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which usually means your gold is being lost between the pit, processing, and final sale - the classic Recovery Leak plus Pit-to-Scale Blindspot combination. Cost: {COST_IMPACT}. Cliffhanger: Start Fix Mode to install checkpoints and a recovery audit so you stop mining value you never get paid for.",type:"mission_brief"},{id:"MB_MINING_GOLD_MONEY",industry:"mining",line_type:["Artisanal Gold"],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Money - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - a pattern where cash moves fast but proof moves slow (Cash-Leak Culture). Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a cost-per-ton and daily close routine so money stops disappearing in small spends.",type:"mission_brief"},{id:"MB_MINING_GOLD_MARKET",industry:"mining",line_type:["Artisanal Gold"],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Market - {STATUS}: We detected {LEAK_1} and {LEAK_2} - typically the Buyer Price Trap and Assay Shock risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates shipment evidence and clearer terms so deductions stop being a surprise tax.",type:"mission_brief"},{id:"MB_MINING_GOLD_LEAD",industry:"mining",line_type:["Artisanal Gold"],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Leadership - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}, meaning output likely depends on who is present and how intense the day feels. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns owners and installs weekly control meetings so results become predictable.",type:"mission_brief"},{id:"MB_MINING_GOLD_INNOV",industry:"mining",line_type:["Artisanal Gold"],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Innovation and Creativity - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually the Low-Tech Trap where digging increases but recovery does not. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode pilots one recovery improvement and tracks ROI.",type:"mission_brief"},{id:"MB_MINING_GOLD_RISK",industry:"mining",line_type:["Artisanal Gold"],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Risk - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - safety and custody gaps can destroy a gold site faster than low prices. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs safety routines and chain-of-custody logs that protect the operation.",type:"mission_brief"},{id:"MB_MINING_GOLD_PEOPLE",industry:"mining",line_type:["Artisanal Gold"],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"People - {STATUS}: People signals show {LEAK_1} and {LEAK_2}, often indicating skill gaps and incentives that reward speed over recovery. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns training and incentives to recovery and discipline.",type:"mission_brief"},{id:"MB_MINING_GEMS_OPS",industry:"mining",line_type:["Gemstones"],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Operations - {STATUS}: We detected {LEAK_1} and {LEAK_2}. In gemstones, a single handling mistake can destroy value. This usually indicates poor sorting discipline and uncontrolled stock movement. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs custody logs and handling rules so value is not destroyed before sale.",type:"mission_brief"},{id:"MB_MINING_GEMS_MONEY",industry:"mining",line_type:["Gemstones"],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Money - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Gemstone cashflows can look strong while profitability stays unclear due to untracked spends and leakages. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a simple cost model and daily reconciliation.",type:"mission_brief"},{id:"MB_MINING_GEMS_MARKET",industry:"mining",line_type:["Gemstones"],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Market - {STATUS}: We detected {LEAK_1} and {LEAK_2}. The market punishes lack of documentation and consistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates proof packs and repeat-buyer reliability systems.",type:"mission_brief"},{id:"MB_MINING_GEMS_LEAD",industry:"mining",line_type:["Gemstones"],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Leadership - {STATUS}: Signals indicate {LEAK_1} and {LEAK_2}, meaning operations may be personality-driven rather than system-driven. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns owners and weekly controls.",type:"mission_brief"},{id:"MB_MINING_GEMS_INNOV",industry:"mining",line_type:["Gemstones"],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Innovation and Creativity - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Sorting and value-preservation are your innovation levers here. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode pilots one value-preservation improvement and measures impact.",type:"mission_brief"},{id:"MB_MINING_GEMS_RISK",industry:"mining",line_type:["Gemstones"],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Risk - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Custody and compliance gaps can block better buyers. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds chain-of-custody documentation and readiness.",type:"mission_brief"},{id:"MB_MINING_GEMS_PEOPLE",industry:"mining",line_type:["Gemstones"],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"People - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Skill, discipline, and trust are value here. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode trains handling and installs accountability routines.",type:"mission_brief"},{id:"MB_MINING_3TS_OPS",industry:"mining",line_type:["3Ts (Tin/Tantalum/Coltan)"],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Operations - {STATUS}: We detected {LEAK_1} and {LEAK_2}. In 3Ts, recovery and segregation are everything. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs checkpoints and grade separation that protects value.",type:"mission_brief"},{id:"MB_MINING_3TS_MONEY",industry:"mining",line_type:["3Ts (Tin/Tantalum/Coltan)"],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Money - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. 3Ts operations often suffer from price opacity and cash leakage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds cost per ton, reconciliation discipline, and pricing benchmarks.",type:"mission_brief"},{id:"MB_MINING_3TS_MARKET",industry:"mining",line_type:["3Ts (Tin/Tantalum/Coltan)"],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Market - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Traceability and compliance directly affect market access. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens documentation and buyer options.",type:"mission_brief"},{id:"MB_MINING_3TS_LEAD",industry:"mining",line_type:["3Ts (Tin/Tantalum/Coltan)"],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Leadership - {STATUS}: Signals indicate {LEAK_1} and {LEAK_2}; system weakness shows up as repeat losses. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns owners and control cadence.",type:"mission_brief"},{id:"MB_MINING_3TS_INNOV",industry:"mining",line_type:["3Ts (Tin/Tantalum/Coltan)"],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Innovation and Creativity - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Simple processing discipline can raise value per ton. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode pilots one recovery improvement with measured ROI.",type:"mission_brief"},{id:"MB_MINING_3TS_RISK",industry:"mining",line_type:["3Ts (Tin/Tantalum/Coltan)"],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Risk - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. 3Ts markets are sensitive to origin risk and documentation gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds chain-of-custody and compliance readiness.",type:"mission_brief"},{id:"MB_MINING_3TS_PEOPLE",industry:"mining",line_type:["3Ts (Tin/Tantalum/Coltan)"],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"People - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Skill and discipline determine recovery quality. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives to recovery and reduces loss behaviors.",type:"mission_brief"},{id:"MB_MINING_QUARRY_OPS",industry:"mining",line_type:["Quarrying (stone/sand/aggregates)"],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Operations - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Quarrying profit lives in throughput, downtime control, and haul efficiency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs downtime and fuel control with throughput standards.",type:"mission_brief"},{id:"MB_MINING_QUARRY_MONEY",industry:"mining",line_type:["Quarrying (stone/sand/aggregates)"],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Money - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Costs often leak through fuel, repairs, and untracked cash spends. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds cost-per-ton and daily close discipline.",type:"mission_brief"},{id:"MB_MINING_QUARRY_MARKET",industry:"mining",line_type:["Quarrying (stone/sand/aggregates)"],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Market - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Pricing control often goes to customers when consistency and delivery reliability are unproven. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode improves proof and delivery reliability while reducing disputes.",type:"mission_brief"},{id:"MB_MINING_QUARRY_LEAD",industry:"mining",line_type:["Quarrying (stone/sand/aggregates)"],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Leadership - {STATUS}: Signals indicate {LEAK_1} and {LEAK_2}. Inconsistent supervision creates inconsistent output. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns owners and weekly KPI reviews.",type:"mission_brief"},{id:"MB_MINING_QUARRY_INNOV",industry:"mining",line_type:["Quarrying (stone/sand/aggregates)"],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Innovation and Creativity - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Layout and maintenance discipline are your innovation levers. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode pilots one improvement that reduces rehandling and downtime.",type:"mission_brief"},{id:"MB_MINING_QUARRY_RISK",industry:"mining",line_type:["Quarrying (stone/sand/aggregates)"],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"Risk - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Safety and compliance shutdowns can destroy a quarry instantly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs safety routines and compliance readiness.",type:"mission_brief"},{id:"MB_MINING_QUARRY_PEOPLE",industry:"mining",line_type:["Quarrying (stone/sand/aggregates)"],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:"People - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Discipline and fatigue directly drive accidents and rework. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens training and incentives around discipline and safety.",type:"mission_brief"},...["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(e=>({id:`MB_MINING_DEFAULT_${e}`,industry:"mining",line_type:["all"],pillar:e,signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:["all"],text:`${e} - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Cost: {COST_IMPACT}. Cliffhanger: {NEXT_STEP}`,type:"mission_brief"}))],pi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},Qpe=[{action_id:"ACT_MINING_OPS_7_01",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Daily Production Board and Targets",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["planned_vs_actual_tons"],proof_required:["daily_board_photos"],impact_score:9},{action_id:"ACT_MINING_OPS_7_02",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],title:"Pit-to-Scale Checkpoints",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["shrink_indicators"],proof_required:["checkpoint_log"],impact_score:8},{action_id:"ACT_MINING_MONEY_7_01",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["cashflow_visibility_gap"],title:"Fuel Control Routine",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["fuel_per_ton"],proof_required:["fuel_issue_sheet"],impact_score:8},{action_id:"ACT_MINING_MONEY_7_02",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"Buyer Terms Reset",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["dispute_rate"],proof_required:["written_terms_template"],impact_score:8},{action_id:"ACT_MINING_MARKET_7_01",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],title:"Shipment Evidence Pack",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["claims_rate"],proof_required:["shipment_folder_samples"],impact_score:8},{action_id:"ACT_MINING_LEAD_7_01",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["priority_whiplash"],title:"Weekly KPI Control Cadence",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["meeting_compliance"],proof_required:["weekly_review_notes"],impact_score:8},{action_id:"ACT_MINING_INNOV_7_01",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["no_product_testing_rhythm"],title:"Basic Recovery Audit",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["recovery_estimate"],proof_required:["recovery_audit_notes"],impact_score:7},{action_id:"ACT_MINING_RISK_7_01",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Security and Custody Movement Log",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["loss_incidents"],proof_required:["movement_log"],impact_score:8},{action_id:"ACT_MINING_RISK_7_02",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift"],title:"Safety Quick Wins (PPE + Hazard Walk)",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["near_miss_logs"],proof_required:["safety_checklist"],impact_score:8},{action_id:"ACT_MINING_PEOPLE_7_01",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Tool and Spares Accountability Routine",days:7,effort:"S",default_owner_by_size:pi,kpi_links:["missing_items_week"],proof_required:["tool_register"],impact_score:7},{action_id:"ACT_MINING_MONEY_30_01",industry:"mining",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"Cost per Ton Model",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["cost_per_ton"],proof_required:["monthly_cost_sheet"],impact_score:9},{action_id:"ACT_MINING_OPS_30_01",industry:"mining",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Maintenance Discipline + Spares Plan",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["downtime_hours"],proof_required:["pm_logs","spares_list"],impact_score:9},{action_id:"ACT_MINING_RISK_30_01",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Chain-of-Custody System",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["custody_compliance"],proof_required:["lot_tags","custody_records"],impact_score:9},{action_id:"ACT_MINING_PEOPLE_30_01",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Supplier and Crew Standards",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["handling_error_rate"],proof_required:["sop_doc","training_results"],impact_score:8},{action_id:"ACT_MINING_MARKET_30_01",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["channel_dependency"],title:"Buyer Diversification Sprint",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["buyer_concentration"],proof_required:["outreach_log","new_buyer_options"],impact_score:9},{action_id:"ACT_MINING_INNOV_30_01",industry:"mining",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap"],title:"Recovery Upgrade Pilot",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["recovery_change_percent"],proof_required:["pilot_report"],impact_score:8},{action_id:"ACT_MINING_RISK_30_02",industry:"mining",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],title:"Compliance Readiness Pack",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["compliance_readiness"],proof_required:["readiness_folder"],impact_score:9},{action_id:"ACT_MINING_LEAD_30_01",industry:"mining",line_type:["all"],pillar:"Leadership",signal_tags:["no_kpi_ownership"],title:"Owner Assignment + Action Closure System",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["action_closure_rate"],proof_required:["owner_matrix","closure_log"],impact_score:8},{action_id:"ACT_MINING_MARKET_30_02",industry:"mining",line_type:["all"],pillar:"Market",signal_tags:["pricing_positioning_gap"],title:"Pricing Benchmark Routine",days:30,effort:"S",default_owner_by_size:pi,kpi_links:["price_vs_benchmark"],proof_required:["weekly_benchmark_sheet"],impact_score:7},{action_id:"ACT_MINING_PEOPLE_30_02",industry:"mining",line_type:["all"],pillar:"People",signal_tags:["blame_culture"],title:"Incentive Alignment for Recovery and Loss Prevention",days:30,effort:"M",default_owner_by_size:pi,kpi_links:["recovery_rate","loss_incidents"],proof_required:["incentive_policy"],impact_score:8}],k4={questions:$pe,library:Ype,actions:Qpe},be=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"oil_gas_services",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Xpe=[be("QS_OPS_01","Operations",["no_standard_work"],"We often start jobs while still clarifying scope and tools.","We start jobs with complete work packs and readiness checks.",1.2),be("QS_OPS_02","Operations",["planning_gap"],"Crew delays are normal due to access and permits.","Access and permits are planned so crews spend time producing.",1.1),be("QS_MONEY_01","Money",["pricing_margin_blindspot"],"Extra work happens and we sort payment later.","Extra work happens only with a logged, approved variation order.",1.2),be("QS_MONEY_02","Money",["costing_gap"],"We judge success by contract size and workload.","We judge success by margin per job and cash collected.",1.1),be("QS_MARKET_01","Market",["weak_proof_pack"],"Most opportunities depend on relationships and referrals.","We win work with compliance proof and delivery performance evidence.",1.1),be("QS_MARKET_02","Market",["channel_dependency"],"One or two clients contribute most of our revenue.","We actively diversify clients to reduce pricing control risk.",1.2),be("QS_LEAD_01","Leadership",["management_by_memory"],"Results depend heavily on which supervisor is on site.","Results are driven by standardized routines and clear job owners.",1.1),be("QS_LEAD_02","Leadership",["no_meeting_to_action"],"We hold meetings often but actions do not always close.","We track actions with owners and deadlines until closed.",1),be("QS_INNOV_01","Innovation",["quality_definition_gap"],"We build job packs and reports manually each time.","We use templates and systems to reduce cycle time and errors.",1),be("QS_INNOV_02","Innovation",["no_product_testing_rhythm"],"We mainly fix problems after they happen.","We improve processes to prevent rework and downtime.",1),be("QS_RISK_01","Risk",["hygiene_drift"],"HSE compliance varies depending on pressure.","HSE/PTW compliance is enforced even when deadlines are tight.",1.2),be("QS_RISK_02","Risk",["contract_gap"],"We sign contracts and handle risks as they arise.","We review contract risks and control them upfront.",1.1),be("QS_PEOPLE_01","People",["cross_function_breakdown"],"Overtime is normal and expected during peak periods.","We manage fatigue because tired crews create defects and incidents.",1),be("QS_PEOPLE_02","People",["blame_culture"],"Speed is praised even if quality slips sometimes.","Quality and safety are praised because rework kills profit.",1),be("DS_OPS_01","Operations",["no_standard_work"],"Job scope is often clarified during execution.","Scope is locked in job packs before execution.",1.1),be("DS_OPS_02","Operations",["planning_gap"],"PTW is handled last-minute.","PTW is planned and tracked.",1.1),be("DS_OPS_03","Operations",["flow_instability"],"Crews wait for materials and tools often.","Readiness checks prevent waiting time.",1),be("DS_OPS_04","Operations",["quality_built_late"],"Rework is common.","First-time-right is actively managed.",1.1),be("DS_OPS_05","Operations",["weak_shift_handover"],"Close-out docs are delayed.","Close-out docs are produced as part of delivery.",1),be("DS_OPS_06","Operations",["tooling_slowdown"],"Tools and rentals are hard to track.","Tools and rentals are controlled and reconciled.",1),be("DS_OPS_07","Operations",["order_fulfillment_instability"],"SLA response is inconsistent.","SLA response is tracked and consistent.",1),be("DS_OPS_08","Operations",["weak_shift_handover"],"Handoffs with client ops are informal.","Handoffs are scheduled and documented.",.9),be("DS_OPS_09","Operations",["measurement_blindspot"],"Downtime impact is not measured.","Downtime impact is measured and reduced.",1),be("DS_OPS_10","Operations",["no_standard_work"],"Progress reporting is ad hoc.","Progress reporting is standardized.",.9),be("DS_MONEY_01","Money",["costing_gap"],"Job profitability is not visible.","Profitability is tracked by cost codes.",1.2),be("DS_MONEY_02","Money",["pricing_margin_blindspot"],"Variation orders are informal.","Variation orders are logged and approved.",1.1),be("DS_MONEY_03","Money",["payment_delay_chokehold"],"Invoicing is delayed.","Invoicing is immediate after close-out.",1),be("DS_MONEY_04","Money",["discounting_leak"],"Penalties and backcharges surprise us.","Penalties are prevented with evidence and controls.",1),be("DS_MONEY_05","Money",["energy_burn_spiral"],"Rentals and fuel are difficult to control.","Rentals and fuel are reconciled and optimized.",1),be("DS_MONEY_06","Money",["cashflow_visibility_gap"],"Cashflow planning is limited.","Cashflow is forecasted with DSO management.",1),be("DS_MONEY_07","Money",["credit_terms_risk"],"Milestone billing is not structured.","Milestone billing is built into contracts.",1),be("DS_MONEY_08","Money",["waste_not_costed"],"Labor hours are not reconciled to outputs.","Labor hours are tied to deliverables.",.9),be("DS_MONEY_09","Money",["purchase_panic"],"Spend approvals are loose.","Spend approvals follow rules.",.9),be("DS_MONEY_10","Money",["pricing_margin_blindspot"],"We chase revenue.","We protect margin.",1.1),be("DS_MARKET_01","Market",["channel_dependency"],"Pipeline depends on a few relationships.","Pipeline is system-driven.",1.2),be("DS_MARKET_02","Market",["compliance_blocker_risk"],"Compliance packs are assembled when needed.","Compliance packs are always ready.",1.1),be("DS_MARKET_03","Market",["pricing_positioning_gap"],"We compete on price to win tenders.","We compete on reliability, safety, and uptime value.",1),be("DS_MARKET_04","Market",["low_repeat_orders"],"Repeat work is inconsistent.","Repeat work is engineered through delivery proof.",1),be("DS_MARKET_05","Market",["value_story_gap"],"We do not track win/loss reasons.","We track win/loss reasons and fix weaknesses.",.9),be("DS_MARKET_06","Market",["channel_dependency"],"Client concentration is high.","Client concentration is managed.",1),be("DS_MARKET_07","Market",["weak_onboarding"],"We do not have structured account management.","We manage accounts with monthly reviews.",.9),be("DS_MARKET_08","Market",["weak_proof_pack"],"Proposal quality exceeds delivery readiness.","Proposal matches delivery proof and capacity.",1),be("DS_MARKET_09","Market",["complaint_handling_gap"],"Complaints linger.","Complaints close fast with corrective actions.",1),be("DS_MARKET_10","Market",["value_story_gap"],"We sell services.","We sell outcomes: uptime, safety, response speed.",1),be("DS_LEAD_01","Leadership",["no_accountability_loop"],"Job ownership is unclear.","Job owners are assigned and accountable.",1.1),be("DS_LEAD_02","Leadership",["management_by_memory"],"Supervisors manage by experience only.","Supervisors manage by standards and KPIs.",1),be("DS_LEAD_03","Leadership",["no_meeting_to_action"],"Meetings discuss but do not close.","Meetings close tasks.",1),be("DS_LEAD_04","Leadership",["weak_goal_alignment"],"Scope creep is tolerated.","Scope creep triggers variation orders.",1),be("DS_LEAD_05","Leadership",["priority_whiplash"],"Decisions are reactive.","Decisions are KPI-driven.",1),be("DS_LEAD_06","Leadership",["no_variance_review"],"Incident learning is weak.","Incident learning prevents repeats.",1),be("DS_LEAD_07","Leadership",["weak_goal_alignment"],"Standards vary across sites.","Standards are consistent.",1),be("DS_LEAD_08","Leadership",["hero_operator_dependence"],"The business depends on a hero.","The business runs on systems.",1),be("DS_LEAD_09","Leadership",["hiring_mismatch"],"Feedback is rare.","Feedback is routine and constructive.",.9),be("DS_LEAD_10","Leadership",["decision_bottleneck"],"Accountability is emotional.","Accountability is structured.",.9),be("DS_INNOV_01","Innovation",["quality_definition_gap"],"Templates are limited.","Templates are used extensively.",1),be("DS_INNOV_02","Innovation",["no_market_feedback_loop"],"Reporting is manual.","Reporting is automated where possible.",1),be("DS_INNOV_03","Innovation",["complaint_echo"],"Rework is accepted.","Rework is systematically reduced.",1),be("DS_INNOV_04","Innovation",["no_market_feedback_loop"],"Knowledge stays in heads.","Knowledge becomes SOPs.",1),be("DS_INNOV_05","Innovation",["no_product_testing_rhythm"],"No process experiments.","Regular experiments with KPIs.",1),be("DS_INNOV_06","Innovation",["slow_bug_fix"],"Only reactive maintenance.","Predictive or planned maintenance offerings.",1),be("DS_INNOV_07","Innovation",["pack_size_profit_blindspot"],"We do not productize services.","We package services into standard offers.",.9),be("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"We do not capture lessons learned.","Lessons learned are logged and applied.",.9),be("DS_INNOV_09","Innovation",["quality_definition_gap"],"Work packs vary widely.","Work packs are standardized.",1),be("DS_INNOV_10","Innovation",["quality_definition_gap"],"Speed sacrifices quality.","Speed improves with quality.",1),be("DS_RISK_01","Risk",["compliance_blocker_risk"],"PTW compliance is flexible under pressure.","PTW compliance is strict.",1.2),be("DS_RISK_02","Risk",["hygiene_drift"],"HSE documentation is inconsistent.","HSE documentation is audit-ready.",1.1),be("DS_RISK_03","Risk",["contract_gap"],"Contract clauses are not deeply reviewed.","Contract risks are reviewed.",1),be("DS_RISK_04","Risk",["insurance_gap"],"Insurance is assumed coverage.","Insurance proof supports claims.",1),be("DS_RISK_05","Risk",["traceability_gap"],"Subcontractor controls are loose.","Subcontractor compliance is enforced.",1),be("DS_RISK_06","Risk",["data_security_gap"],"Cyber fraud controls are weak.","Payment verification is strict.",1),be("DS_RISK_07","Risk",["disaster_recovery_gap"],"Incident response is improvised.","Incident response is documented.",.9),be("DS_RISK_08","Risk",["tax_compliance_gap"],"Certifications sometimes lapse.","Certifications are tracked.",.9),be("DS_RISK_09","Risk",["data_security_gap"],"Records are scattered.","Records are centralized.",.9),be("DS_RISK_10","Risk",["contract_gap"],"We handle legal risk when it appears.","We prevent legal risk proactively.",1),be("DS_PEOPLE_01","People",["training_gap"],"Competency checks are informal.","Competency and certs are tracked.",1.1),be("DS_PEOPLE_02","People",["cross_function_breakdown"],"Overtime is normal.","Fatigue is managed.",1),be("DS_PEOPLE_03","People",["fear_index"],"Safety is secondary to deadlines sometimes.","Safety is non-negotiable.",1),be("DS_PEOPLE_04","People",["blame_culture"],"Incentives prioritize speed.","Incentives prioritize quality and safety.",1),be("DS_PEOPLE_05","People",["hiring_mismatch"],"Supervisors are not coached consistently.","Supervisors receive coaching.",.9),be("DS_PEOPLE_06","People",["onboarding_gap"],"New hires learn by shadowing only.","New hires onboard with standards.",.9),be("DS_PEOPLE_07","People",["low_psych_safety"],"Near-miss reporting is rare.","Near-miss reporting is encouraged.",.9),be("DS_PEOPLE_08","People",["hero_operator_dependence"],"Turnover is accepted.","Retention is engineered.",.9),be("DS_PEOPLE_09","People",["role_clarity_gap"],"Feedback is avoided.","Feedback is routine.",.9),be("DS_PEOPLE_10","People",["blame_culture"],"Culture is blame-driven.","Culture is improvement-driven.",1)],xt=["all"],Jpe=[{pillar:"Operations",leak:"Permit-to-Work Delay and Work Pack Chaos are creating Crew Idle Tax, rework, and SLA slippage.",strength:"Execution is predictable: work packs are ready, PTW and access are pre-planned, and first-time-right quality is controlled.",hook:"Rig-Time Bleed",kpi:"Permit lead time, Crew idle hours, First-time-right %, Rework hours, SLA response compliance, Close-out cycle time",signal_tags:["planning_gap","no_standard_work","quality_built_late"],cost:"Late starts, repeated defects, and paid hours lost waiting for access, tools, or materials.",cliffhanger:"Fix Mode installs readiness checks, PTW pre-planning, and daily execution controls so shift time converts to billed value."},{pillar:"Money",leak:"Variation Order Leakage, Unbilled Work Trap, and Cost Code Blindness are compressing margin despite high activity.",strength:"Job economics are controlled: cost codes, VO discipline, close-out billing, and cashflow tracking protect margin.",hook:"Margin Mirage (Contractor Edition)",kpi:"Margin per job, Unbilled work value, VO capture %, DSO, Penalties/backcharges, Fuel/rental spend variance",signal_tags:["costing_gap","pricing_margin_blindspot","payment_delay_chokehold"],cost:"Work is delivered, but value is leaked through unpaid scope, delayed invoices, and cost overruns.",cliffhanger:"Fix Mode enforces VO gates, cost-code visibility, and billing triggers so delivered work becomes collected cash."},{pillar:"Market",leak:"Single-Client Dependency and weak proof assets are reducing pricing power and increasing tender stress.",strength:"Pipeline quality is strong: compliance packs are ready, delivery evidence is visible, and repeat work is engineered.",hook:"Single-Client Dependency",kpi:"Client concentration %, Repeat work %, Prequal readiness %, Win rate, Average margin, Issue closure time",signal_tags:["channel_dependency","weak_proof_pack","compliance_blocker_risk"],cost:"You get squeezed on price and terms when reliability is not provable and pipeline depends on a narrow client base.",cliffhanger:"Fix Mode converts delivery performance into trust assets that increase repeat work and reduce price pressure."},{pillar:"Leadership",leak:"Supervisor Lottery and Meeting-to-Nothing patterns are causing unstable delivery and weak scope discipline.",strength:"Leadership runs on control rhythms: clear job owners, weekly review cadence, and enforced standards.",hook:"No Owner Syndrome (Job Level)",kpi:"Action closure %, Owner assignment %, Weekly control compliance %, Incident recurrence #, Supervisor score",signal_tags:["management_by_memory","no_meeting_to_action","no_accountability_loop"],cost:"Output changes by supervisor, decisions stay reactive, and repeat problems survive week after week.",cliffhanger:"Fix Mode installs owner accountability, closure discipline, and KPI-led decision rhythms."},{pillar:"Innovation",leak:"Template Void and Field Data Blindspot force manual planning, repetitive errors, and slow close-out cycles.",strength:"Learning is systemized through reusable templates, lessons-learned loops, and process automation.",hook:"Field Data Blindspot",kpi:"Template adoption %, Cycle time improvement %, Lessons logged/month, Automation coverage %, Rework reduction %",signal_tags:["quality_definition_gap","no_market_feedback_loop","no_product_testing_rhythm"],cost:"The same delays and defects repeat because knowledge is not converted into standard tools and process upgrades.",cliffhanger:"Fix Mode builds template libraries and a simple learning loop that cuts cycle time without compromising quality."},{pillar:"Risk",leak:"HSE/PTW inconsistency, contract blind spots, and weak audit trails expose the business to shutdowns and blacklisting.",strength:"Risk is controlled through strict PTW, contract review, subcontractor controls, and audit-ready evidence.",hook:"HSE Shutdown Risk",kpi:"PTW compliance %, Audit findings #, Contract risk review %, Subcontractor compliance %, Fraud attempts #",signal_tags:["compliance_blocker_risk","hygiene_drift","contract_gap"],cost:"One incident, clause miss, or compliance gap can halt operations and damage vendor status.",cliffhanger:"Fix Mode hardens PTW, contract controls, and documentation so compliance acts as a commercial shield."},{pillar:"People",leak:"Competency gaps, fatigue, and incentive misfires are driving safety incidents, rework, and preventable turnover.",strength:"Teams run with tracked competency, real safety culture, fatigue controls, and incentives aligned to quality.",hook:"Fatigue Error Tax",kpi:"Certification compliance %, Near-miss reports/month, Training completion %, Overtime hours, Turnover %",signal_tags:["training_gap","cross_function_breakdown","blame_culture"],cost:"Skill variance and exhaustion silently degrade quality and increase incident exposure.",cliffhanger:"Fix Mode installs competency tracking, targeted coaching, and incentive rules that reward first-time-right work."}],go="Maintenance & Shutdown Services",ho="Logistics & Transport Services",mo="Inspection, Testing & QA Services",yo="Civil Works / Fabrication / Welding Services",Zpe=[{id:"MB_OG_A_OPS",industry:"oil_gas_services",line_type:[go],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"Operations - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which typically means your teams are losing paid hours to PTW delays and job pack gaps - the Permit-to-Work Delay plus Work Pack Chaos combo. Cost: {COST_IMPACT} in idle labor and missed shutdown windows. Cliffhanger: Unlock Fix Mode to install job pack standards and PTW pre-planning so crews start producing from hour one.",type:"mission_brief"},{id:"MB_OG_A_MONEY",industry:"oil_gas_services",line_type:[go],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"Money - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often Variation Order Leakage plus Unbilled Work Trap. Cost: {COST_IMPACT} because you are doing paid work for free or late. Cliffhanger: Fix Mode enforces VO rules and close-out packs so invoices move fast.",type:"mission_brief"},{id:"MB_OG_A_MARKET",industry:"oil_gas_services",line_type:[go],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"Market - {STATUS}: We detected {LEAK_1} and {LEAK_2} - reliability proof is the currency here. If delivery evidence is weak, clients treat you as replaceable. Cost: {COST_IMPACT} in pricing pressure. Cliffhanger: Fix Mode builds proof bundles and SLA dashboards that turn delivery into repeat work.",type:"mission_brief"},{id:"MB_OG_A_LEAD",industry:"oil_gas_services",line_type:[go],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"Leadership - {STATUS}: Leadership signals point to {LEAK_1} and {LEAK_2} - output may depend on a hero supervisor. Cost: {COST_IMPACT} through inconsistency and rework. Cliffhanger: Fix Mode assigns job owners, installs weekly controls, and drives action closure.",type:"mission_brief"},{id:"MB_OG_A_INNOV",industry:"oil_gas_services",line_type:[go],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"Innovation & Creativity - {STATUS}: We detected {LEAK_1} and {LEAK_2} - meaning the business is rebuilding job packs from scratch each time. Cost: {COST_IMPACT} in cycle time and errors. Cliffhanger: Fix Mode creates a template library and lessons-learned system.",type:"mission_brief"},{id:"MB_OG_A_RISK",industry:"oil_gas_services",line_type:[go],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"Risk - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - HSE and contract exposure can destroy vendor status instantly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens PTW discipline, subcontractor compliance, and documentation.",type:"mission_brief"},{id:"MB_OG_A_PEOPLE",industry:"oil_gas_services",line_type:[go],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"People - {STATUS}: People signals indicate {LEAK_1} and {LEAK_2} - fatigue and competency gaps often drive incidents and rework. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives to quality and safety, and installs competency tracking.",type:"mission_brief"},{id:"MB_OG_B_OPS",industry:"oil_gas_services",line_type:[ho],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which usually means your trucks and drivers are losing paid time to dispatch disorder and site-access friction - the classic Crew Idle Tax plus Site Access Bottleneck pattern. You are moving, but not efficiently. Cost: {COST_IMPACT} through late deliveries, extra trips, and hours spent waiting at gates or on site. If you are not measuring turnaround time, you cannot stop the leak. Cliffhanger: Start Fix Mode to build a dispatch calendar plus turnaround tracker so every truck hour produces revenue - not excuses.",type:"mission_brief"},{id:"MB_OG_B_MONEY",industry:"oil_gas_services",line_type:[ho],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - most commonly Fuel & Rental Bleed plus Margin Mirage (you are busy, but profit is thin). This happens when fuel is not reconciled per trip, rentals are extended by accident, and emergency repairs become normal. Cost: {COST_IMPACT} as fuel eats margin and small costs become a permanent tax. Cliffhanger: Fix Mode installs trip-level cost codes and a fuel reconciliation routine so you can see which routes print money and which routes are killing you.",type:"mission_brief"},{id:"MB_OG_B_MARKET",industry:"oil_gas_services",line_type:[ho],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually a Single-Client Dependency problem with weak proof of performance. If your whole business depends on one big contract, pricing power disappears and renewal risk becomes existential. Cost: {COST_IMPACT} through low negotiating power, tougher terms, and fear-based bidding. Cliffhanger: Fix Mode helps you package proof (on-time %, incident-free days, turnaround performance) into a repeatable sales asset so you can win additional clients without lowering price.",type:"mission_brief"},{id:"MB_OG_B_LEAD",industry:"oil_gas_services",line_type:[ho],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning operations are likely driven by who is shouting rather than a control rhythm. Dispatch, drivers, maintenance, and client coordination drift without one person owning the full flow. Cost: {COST_IMPACT} via repeated chaos: missed windows, truck downtime, and blame loops. Cliffhanger: Fix Mode assigns owners for dispatch, fleet readiness, and client coordination - then forces weekly closure of the top causes of delay.",type:"mission_brief"},{id:"MB_OG_B_INNOV",industry:"oil_gas_services",line_type:[ho],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a strong sign of a Field Data Blindspot. The same delays happen repeatedly because no one is collecting trip data and converting it into smarter routing and scheduling. Cost: {COST_IMPACT} through waste that looks normal. Cliffhanger: Fix Mode builds a lightweight Delay Heatmap and a dispatch template that reduces turnaround time without adding vehicles.",type:"mission_brief"},{id:"MB_OG_B_RISK",industry:"oil_gas_services",line_type:[ho],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often safety compliance risk plus incident exposure. In logistics, one major incident can shut down contracts and destroy trust. Cost: {COST_IMPACT} through contract risk, downtime, and vendor blacklisting. Cliffhanger: Fix Mode installs safety routines, pre-trip checks, and evidence packs so compliance becomes a shield, not a headache.",type:"mission_brief"},{id:"MB_OG_B_PEOPLE",industry:"oil_gas_services",line_type:[ho],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - usually fatigue risk plus discipline drift. In transport, tired drivers are a hidden profit leak and a major risk multiplier. Cost: {COST_IMPACT} through mistakes, incidents, and avoidable repairs. Cliffhanger: Fix Mode aligns incentives to safety + on-time delivery and introduces simple fatigue controls that protect both profit and contracts.",type:"mission_brief"},{id:"MB_OG_C_OPS",industry:"oil_gas_services",line_type:[mo],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which usually means your business is leaking money through slow turnaround and documentation friction - the we did the work, but the proof is messy problem. In inspection, your speed and accuracy are your product. Cost: {COST_IMPACT} through delayed approvals, repeat visits, and client frustration. Cliffhanger: Fix Mode installs an evidence pack template and a turnaround tracker so your service becomes fast, defensible, and repeatable.",type:"mission_brief"},{id:"MB_OG_C_MONEY",industry:"oil_gas_services",line_type:[mo],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - commonly Unbilled Work Trap plus Cost Code Blindness. In inspection, profitability dies when travel time, overtime, and report prep are not costed per job. You can be fully booked and still poor. Cost: {COST_IMPACT} through underpricing and unpaid hours. Cliffhanger: Fix Mode enforces job-based costing and billing triggers so every completed deliverable becomes collected cash.",type:"mission_brief"},{id:"MB_OG_C_MARKET",industry:"oil_gas_services",line_type:[mo],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - typically prequal and trust proof gaps. QA services win on credibility. If your calibration, certifications, and documentation are not instantly available, you lose bids - or get squeezed on price. Cost: {COST_IMPACT} through missed tenders and low pricing power. Cliffhanger: Fix Mode builds your compliance vault + proof library so clients view you as low risk, not cheap option.",type:"mission_brief"},{id:"MB_OG_C_LEAD",industry:"oil_gas_services",line_type:[mo],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"LEADERSHIP - {STATUS}: Leadership signals point to {LEAK_1} and {LEAK_2} - meaning standards may vary by inspector and the business depends on a few experienced individuals. Cost: {COST_IMPACT} through inconsistency, disputes, and burnout. Cliffhanger: Fix Mode standardizes methods, checklists, and review routines so quality becomes a system - not a personality.",type:"mission_brief"},{id:"MB_OG_C_INNOV",industry:"oil_gas_services",line_type:[mo],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign you are not turning field experience into scalable assets. Inspection firms grow by turning knowledge into templates, libraries, and automated reporting. Cost: {COST_IMPACT} in slow reports and repeating admin. Cliffhanger: Fix Mode creates a reusable reporting system and common defect library that improves speed and upsell potential.",type:"mission_brief"},{id:"MB_OG_C_RISK",industry:"oil_gas_services",line_type:[mo],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - risk in inspection is reputation plus liability. One wrong report can trigger contract loss, claims, or blacklisting. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds peer review gates, audit trails, and insurance-proof documentation so your work is defensible.",type:"mission_brief"},{id:"MB_OG_C_PEOPLE",industry:"oil_gas_services",line_type:[mo],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - often competency management gaps and retention risk. The moment skilled inspectors leave, delivery collapses. Cost: {COST_IMPACT} through capacity loss, quality drop, and missed jobs. Cliffhanger: Fix Mode installs competency tracking, mentoring ladders, and incentives linked to quality and turnaround.",type:"mission_brief"},{id:"MB_OG_D_OPS",industry:"oil_gas_services",line_type:[yo],pillar:"Operations",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which often means your projects are suffering from work pack chaos and rework spiral - the deadly combination that turns labor into wasted payroll. In civil/fab/welding, doing it twice is a margin killer. Cost: {COST_IMPACT} through rework hours, idle time waiting on drawings/materials, and schedule slippage. Cliffhanger: Fix Mode installs job readiness checks and quality gates so work is completed right the first time.",type:"mission_brief"},{id:"MB_OG_D_MONEY",industry:"oil_gas_services",line_type:[yo],pillar:"Money",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - most commonly Variation Order Leakage plus Penalty & Backcharge Shock. This happens when scope creeps but your commercial discipline does not. You end up delivering extra work for free, then still get penalized. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode forces VO capture, milestone billing, and evidence packs so scope creep becomes paid revenue, not charity.",type:"mission_brief"},{id:"MB_OG_D_MARKET",industry:"oil_gas_services",line_type:[yo],pillar:"Market",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - typically tender dependency plus weak delivery proof. Civil/fab contractors that document quality and progress win repeat work and better terms. Those who cannot prove performance get squeezed. Cost: {COST_IMPACT} through lower margins and constant tender stress. Cliffhanger: Fix Mode converts your close-out packs into trust assets that win repeat work without price cuts.",type:"mission_brief"},{id:"MB_OG_D_LEAD",industry:"oil_gas_services",line_type:[yo],pillar:"Leadership",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - output may depend on a supervisor lottery. If standards vary by foreman, your quality varies and rework grows. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns job owners, installs weekly controls, and forces action closure on the top 3 causes of rework.",type:"mission_brief"},{id:"MB_OG_D_INNOV",industry:"oil_gas_services",line_type:[yo],pillar:"Innovation",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - meaning your team repeats manual planning and reporting on every project. That is a template void problem and it silently wastes thousands of hours per year. Cost: {COST_IMPACT} in admin time, errors, and slow close-outs. Cliffhanger: Fix Mode builds a template library (work packs, QA forms, weld maps, close-outs) and reduces cycle time.",type:"mission_brief"},{id:"MB_OG_D_RISK",industry:"oil_gas_services",line_type:[yo],pillar:"Risk",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - HSE and contractual risk can destroy your vendor status instantly. One major incident or PTW violation can remove you from sites. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens PTW compliance, subcontractor controls, and audit-ready documentation.",type:"mission_brief"},{id:"MB_OG_D_PEOPLE",industry:"oil_gas_services",line_type:[yo],pillar:"People",signal_tags:[],severity_fit:["Critical","Watch","Stable"],business_size_fit:xt,text:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - usually competency and fatigue issues. In welding/fabrication, skill variance creates defects, rework, and safety incidents. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs competency tracking, training, and incentives aligned to first-time-right quality.",type:"mission_brief"}],efe=Jpe.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_OG_${t}_LEAK`,industry:"oil_gas_services",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:xt,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_OG_${t}_STR`,industry:"oil_gas_services",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:xt,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_OG_${t}_HOOK`,industry:"oil_gas_services",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Critical","Watch","Stable","Strong","Emergency"],business_size_fit:xt,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_OG_${t}_KPI`,industry:"oil_gas_services",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Critical","Watch","Stable","Strong","Emergency"],business_size_fit:xt,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),tfe=[...efe,...Zpe],fi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},ife=[{action_id:"ACT_OG_OPS_7_01",industry:"oil_gas_services",line_type:["all"],pillar:"Operations",signal_tags:["no_standard_work"],title:"Job Pack Minimum Standard",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["rework_rate","crew_idle_hours"],proof_required:["10_job_packs"],impact_score:9},{action_id:"ACT_OG_OPS_7_02",industry:"oil_gas_services",line_type:["all"],pillar:"Operations",signal_tags:["planning_gap"],title:"PTW Pre-Planning Routine",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["permit_lead_time"],proof_required:["ptw_checklist_logs"],impact_score:8},{action_id:"ACT_OG_OPS_7_03",industry:"oil_gas_services",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],title:"Crew Idle Audit (Top 5 Causes)",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["crew_idle_hours"],proof_required:["idle_report"],impact_score:8},{action_id:"ACT_OG_MONEY_7_01",industry:"oil_gas_services",line_type:["all"],pillar:"Money",signal_tags:["pricing_margin_blindspot"],title:"Variation Order Rule (No Free Work)",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["vo_capture_rate"],proof_required:["vo_log"],impact_score:9},{action_id:"ACT_OG_MONEY_7_02",industry:"oil_gas_services",line_type:["all"],pillar:"Money",signal_tags:["payment_delay_chokehold"],title:"Close-Out Pack Rule (Invoice-Ready)",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["closeout_cycle_time"],proof_required:["closeout_packs"],impact_score:8},{action_id:"ACT_OG_MONEY_7_03",industry:"oil_gas_services",line_type:["all"],pillar:"Money",signal_tags:["energy_burn_spiral"],title:"Rental and Fuel Control Log",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["spend_variance"],proof_required:["rental_fuel_logs"],impact_score:8},{action_id:"ACT_OG_OPS_7_04",industry:"oil_gas_services",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Rework Kill List (Top 3 Defects)",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["first_time_right"],proof_required:["defect_tracker"],impact_score:8},{action_id:"ACT_OG_OPS_7_05",industry:"oil_gas_services",line_type:["all"],pillar:"Operations",signal_tags:["order_fulfillment_instability"],title:"SLA Dashboard (Simple)",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["sla_compliance"],proof_required:["dashboard_screenshot"],impact_score:7},{action_id:"ACT_OG_RISK_7_01",industry:"oil_gas_services",line_type:["all"],pillar:"Risk",signal_tags:["data_security_gap"],title:"Invoice Fraud Prevention Script",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["fraud_attempts_detected"],proof_required:["verification_sop"],impact_score:7},{action_id:"ACT_OG_LEAD_7_01",industry:"oil_gas_services",line_type:["all"],pillar:"Leadership",signal_tags:["no_meeting_to_action"],title:"Daily 15-Min Site Huddle",days:7,effort:"S",default_owner_by_size:fi,kpi_links:["action_closure_rate"],proof_required:["huddle_notes"],impact_score:7},{action_id:"ACT_OG_MONEY_30_01",industry:"oil_gas_services",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"Job Costing by Cost Codes",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["margin_per_job"],proof_required:["cost_code_system"],impact_score:9},{action_id:"ACT_OG_INNOV_30_01",industry:"oil_gas_services",line_type:["all"],pillar:"Innovation",signal_tags:["quality_definition_gap"],title:"Standard Template Library",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["template_adoption_rate"],proof_required:["template_library"],impact_score:9},{action_id:"ACT_OG_MONEY_30_02",industry:"oil_gas_services",line_type:["all"],pillar:"Money",signal_tags:["pricing_margin_blindspot"],title:"VO and Contract Discipline System",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["vo_capture_rate"],proof_required:["vo_approvals"],impact_score:9},{action_id:"ACT_OG_RISK_30_01",industry:"oil_gas_services",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Subcontractor Compliance Program",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["subcontractor_compliance"],proof_required:["compliance_records"],impact_score:8},{action_id:"ACT_OG_MARKET_30_01",industry:"oil_gas_services",line_type:["all"],pillar:"Market",signal_tags:["compliance_blocker_risk"],title:"Prequal Readiness Vault",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["prequal_readiness_score"],proof_required:["readiness_vault"],impact_score:8},{action_id:"ACT_OG_LEAD_30_01",industry:"oil_gas_services",line_type:["all"],pillar:"Leadership",signal_tags:["management_by_memory"],title:"Supervisor Coaching Playbook",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["supervisor_score"],proof_required:["coaching_logs"],impact_score:8},{action_id:"ACT_OG_OPS_30_01",industry:"oil_gas_services",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Rework Reduction Program",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["rework_hours"],proof_required:["defect_reduction_report"],impact_score:9},{action_id:"ACT_OG_MONEY_30_03",industry:"oil_gas_services",line_type:["all"],pillar:"Money",signal_tags:["credit_terms_risk"],title:"Milestone Billing Structure",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["dso"],proof_required:["billing_terms_update"],impact_score:8},{action_id:"ACT_OG_INNOV_30_02",industry:"oil_gas_services",line_type:["all"],pillar:"Innovation",signal_tags:["no_market_feedback_loop"],title:"Lessons Learned System",days:30,effort:"S",default_owner_by_size:fi,kpi_links:["incident_recurrence_rate"],proof_required:["debrief_logs"],impact_score:7},{action_id:"ACT_OG_RISK_30_02",industry:"oil_gas_services",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],title:"HSE/PTW Enforcement Upgrade",days:30,effort:"M",default_owner_by_size:fi,kpi_links:["ptw_compliance"],proof_required:["audit_reports"],impact_score:9}],S4={questions:Xpe,library:tfe,actions:ife},xe=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),nfe=[xe("QS_OPS_01","Operations",["yield_bleed"],"We focus on producing volume; waste is part of the game.","We focus on yield and first-pass quality because waste is lost profit.",1.2),xe("QS_OPS_02","Operations",["changeover_black_hole"],"Changeovers and downtime are expected.","Changeovers and downtime are attacked because they steal capacity.",1.1),xe("QS_MONEY_01","Money",["costing_gap"],"We price based on competitors and demand.","We price with clear COGS and margin targets by SKU.",1.2),xe("QS_MONEY_02","Money",["cashflow_visibility_gap"],"We measure success by sales and production activity.","We measure success by margin, cash flow, and inventory turns.",1.1),xe("QS_MARKET_01","Market",["order_fulfillment_instability"],"Occasional stockouts happen; customers adjust.","Stockouts are treated as lost future revenue and shelf trust.",1.2),xe("QS_MARKET_02","Market",["discounting_leak"],"Promotions are mainly to push volume.","Promotions must protect margin and repeat buying.",1),xe("QS_LEAD_01","Leadership",["no_variance_review"],"Issues are solved when they appear.","Issues are solved at root cause so they do not repeat.",1),xe("QS_LEAD_02","Leadership",["weak_goal_alignment"],"Quality is mainly a QA department responsibility.","Quality is everyone's responsibility on the line.",1.1),xe("QS_INNOV_01","Innovation",["no_product_testing_rhythm"],"We keep products stable to avoid risk.","We improve products and processes to protect margin and relevance.",1),xe("QS_INNOV_02","Innovation",["pack_size_profit_blindspot"],"Packaging is mostly aesthetics.","Packaging is profit: shelf impact, protection, and trust.",1),xe("QS_RISK_01","Risk",["traceability_gap"],"Traceability is handled when there is a problem.","Traceability is always ready because one incident can kill trust.",1.2),xe("QS_RISK_02","Risk",["supplier_variance_risk"],"Supplier issues are handled case-by-case.","Supplier quality is controlled because inputs decide output quality.",1.1),xe("QS_PEOPLE_01","People",["training_gap"],"Skill levels vary by shift; experienced staff carry the line.","Skills are standardized through training so output is consistent.",1),xe("QS_PEOPLE_02","People",["cross_function_breakdown"],"Overtime is normal during high demand.","Fatigue is controlled because tired teams create defects and waste.",1),xe("DS_OPS_01","Operations",["measurement_blindspot"],"We track output mainly by quantity produced.","We track output by OEE, yield, and first-pass quality.",1.1),xe("DS_OPS_02","Operations",["yield_bleed"],"Scrap is accepted as part of production.","Scrap is measured and reduced systematically.",1.1),xe("DS_OPS_03","Operations",["quality_built_late"],"Rework happens often.","Rework is treated as a cost emergency.",1.1),xe("DS_OPS_04","Operations",["changeover_black_hole"],"Changeover time is not measured.","Changeover time is measured and improved.",1),xe("DS_OPS_05","Operations",["no_stop_codes"],"Downtime causes are not consistently logged.","Downtime is logged and prevented with PM.",1),xe("DS_OPS_06","Operations",["bottleneck_bounce"],"Bottlenecks are handled informally.","Bottlenecks are identified and line-balanced.",1),xe("DS_OPS_07","Operations",["inventory_blindspot"],"Raw and packaging shortages surprise us.","Min/max reorder rules prevent surprises.",1),xe("DS_OPS_08","Operations",["weak_shift_handover"],"Batch records are inconsistent.","Batch records are complete and audit-ready.",.9),xe("DS_OPS_09","Operations",["quality_built_late"],"Quality checks happen mostly at the end.","Quality checks happen in-process.",1),xe("DS_OPS_10","Operations",["planning_gap"],"Planning is reactive to orders.","Planning balances demand, inventory, and shelf life.",1),xe("DS_MONEY_01","Money",["costing_gap"],"We do not know true COGS per SKU.","We know COGS and margin per SKU.",1.2),xe("DS_MONEY_02","Money",["pricing_margin_blindspot"],"Pricing decisions are mostly market-driven.","Pricing decisions are cost + value + margin driven.",1.1),xe("DS_MONEY_03","Money",["cashflow_visibility_gap"],"Inventory levels are whatever we have.","Inventory is managed to optimize cash and avoid expiry.",1),xe("DS_MONEY_04","Money",["shrinkage_leak"],"Shrinkage and expiry are not tracked in money terms.","Shrinkage and expiry are tracked as UGX loss.",1.1),xe("DS_MONEY_05","Money",["zombie_costs"],"Overtime is common and not deeply analyzed.","Overtime is treated as a measurable cost driver.",1),xe("DS_MONEY_06","Money",["energy_burn_spiral"],"Utility costs are not linked to production efficiency.","Utilities are tracked per unit, shift, and line.",1),xe("DS_MONEY_07","Money",["discounting_leak"],"Discounting is used to hit targets.","Discounting is tested against margin impact.",1),xe("DS_MONEY_08","Money",["supplier_variance_risk"],"Supplier terms are not performance-based.","Supplier terms are negotiated with scorecards.",.9),xe("DS_MONEY_09","Money",["cashflow_visibility_gap"],"Cash flow planning is informal.","Cash flow is forecasted with working capital controls.",1),xe("DS_MONEY_10","Money",["pricing_margin_blindspot"],"Profit is judged by sales.","Profit is judged by margin and cash.",1.1),xe("DS_MARKET_01","Market",["order_fulfillment_instability"],"Stockouts are normal.","Stockouts are treated as future revenue loss.",1.1),xe("DS_MARKET_02","Market",["complaint_handling_gap"],"Complaints are handled ad hoc.","Complaints are tracked by SKU and closed fast.",1),xe("DS_MARKET_03","Market",["discounting_leak"],"Promo success is judged by volume.","Promo success is judged by margin and repeat purchase.",1),xe("DS_MARKET_04","Market",["channel_dependency"],"Distribution relies on one partner heavily.","Distribution risk is diversified.",1.1),xe("DS_MARKET_05","Market",["weak_proof_pack"],"Packaging issues are tolerated.","Packaging is optimized for shelf trust and protection.",1),xe("DS_MARKET_06","Market",["order_fulfillment_instability"],"Delivery reliability varies.","Delivery reliability is measured and improved.",1),xe("DS_MARKET_07","Market",["complaint_handling_gap"],"Returns are not analyzed by root cause.","Returns are analyzed and prevented.",.9),xe("DS_MARKET_08","Market",["measurement_blindspot"],"We do not track sell-through.","We track sell-through and adjust production.",.9),xe("DS_MARKET_09","Market",["value_story_gap"],"Brand promise is assumed.","Brand promise is protected by consistency.",1),xe("DS_MARKET_10","Market",["pricing_positioning_gap"],"We compete mostly on price.","We compete on trust and quality.",1),xe("DS_LEAD_01","Leadership",["no_variance_review"],"Problems are fixed when they appear.","Problems are fixed at root cause.",1),xe("DS_LEAD_02","Leadership",["no_kpi_ownership"],"KPIs are reviewed but actions lag.","KPI reviews close actions fast.",1),xe("DS_LEAD_03","Leadership",["weak_goal_alignment"],"Quality is mostly QA's job.","Quality is everybody's job.",1),xe("DS_LEAD_04","Leadership",["no_accountability_loop"],"Shift ownership is unclear.","Shift ownership is clear and measured.",1),xe("DS_LEAD_05","Leadership",["hiring_mismatch"],"Training is informal.","Training is structured and verified.",.9),xe("DS_LEAD_06","Leadership",["decision_bottleneck"],"Decisions require many approvals.","Decisions are fast within clear limits.",.9),xe("DS_LEAD_07","Leadership",["no_meeting_to_action"],"Meeting outcomes are unclear.","Meetings produce owners and deadlines.",1),xe("DS_LEAD_08","Leadership",["no_product_testing_rhythm"],"Continuous improvement happens sometimes.","Continuous improvement happens weekly with tracking.",.9),xe("DS_LEAD_09","Leadership",["blame_culture"],"Blame prevents truth.","Truth is rewarded to prevent repeats.",.9),xe("DS_LEAD_10","Leadership",["hero_operator_dependence"],"Factory depends on a hero.","Factory runs on systems.",1),xe("DS_INNOV_01","Innovation",["no_product_testing_rhythm"],"We rarely change products.","We evolve products for margin and market fit.",1),xe("DS_INNOV_02","Innovation",["no_product_testing_rhythm"],"New products are launched based on opinions.","New products are validated before scaling.",1),xe("DS_INNOV_03","Innovation",["pack_size_profit_blindspot"],"Packaging is mostly aesthetic.","Packaging is a profit lever (protection + trust).",1),xe("DS_INNOV_04","Innovation",["slow_bug_fix"],"Process improvements are not tracked.","Process improvements have KPIs and ROI.",1),xe("DS_INNOV_05","Innovation",["no_market_feedback_loop"],"Ideas are not systemized.","Ideas are captured and implemented through CI.",.9),xe("DS_INNOV_06","Innovation",["sku_complexity_tax"],"SKU mix is not optimized.","SKU mix prioritizes margin and capacity.",1),xe("DS_INNOV_07","Innovation",["no_product_testing_rhythm"],"Trials are informal.","Trials are documented and learnings stored.",.9),xe("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"Competitor moves are ignored.","Competitor moves inform innovation.",.9),xe("DS_INNOV_09","Innovation",["low_margin_skus"],"Value-add is not explored.","Value-add (premium tiers, pack sizes) is explored.",1),xe("DS_INNOV_10","Innovation",["no_market_feedback_loop"],"Learning stays in heads.","Learning becomes SOPs.",.9),xe("DS_RISK_01","Risk",["traceability_gap"],"Traceability is handled only when there is an issue.","Traceability is always ready.",1.2),xe("DS_RISK_02","Risk",["supplier_variance_risk"],"Supplier quality issues are reactive.","Supplier quality issues are prevented by controls.",1.1),xe("DS_RISK_03","Risk",["hygiene_drift"],"Hygiene controls vary with workload.","Hygiene controls are consistent and documented.",1),xe("DS_RISK_04","Risk",["measurement_blindspot"],"Temperature and storage checks are irregular.","Temperature and storage checks are logged.",1),xe("DS_RISK_05","Risk",["compliance_blocker_risk"],"Audit readiness is stressful.","Audit readiness is routine.",1),xe("DS_RISK_06","Risk",["label_risk"],"Labeling compliance is assumed.","Labeling compliance is verified.",1),xe("DS_RISK_07","Risk",["disaster_recovery_gap"],"Recall plan is unclear.","Recall plan is tested.",1),xe("DS_RISK_08","Risk",["data_security_gap"],"Data access is informal.","Data access is controlled.",.9),xe("DS_RISK_09","Risk",["insurance_gap"],"Liability is assumed covered.","Liability is planned and documented.",.9),xe("DS_RISK_10","Risk",["contract_gap"],"Risk is addressed when it happens.","Risk is prevented through systems.",1),xe("DS_PEOPLE_01","People",["training_gap"],"Skill depends on who is on shift.","Skill is standardized through training.",1.1),xe("DS_PEOPLE_02","People",["weak_shift_handover"],"Shift handovers are informal.","Shift handovers follow a standard.",1),xe("DS_PEOPLE_03","People",["cross_function_breakdown"],"Overtime is expected during peak.","Overtime is controlled to prevent defects.",1),xe("DS_PEOPLE_04","People",["onboarding_gap"],"New hires learn by watching.","New hires learn by structured onboarding.",.9),xe("DS_PEOPLE_05","People",["role_clarity_gap"],"Standards slip when busy.","Standards survive busy periods.",1),xe("DS_PEOPLE_06","People",["fear_index"],"Supervisors manage by pressure.","Supervisors manage by coaching and KPIs.",.9),xe("DS_PEOPLE_07","People",["blame_culture"],"Defects are hidden to avoid blame.","Defects are reported early to protect profit.",1),xe("DS_PEOPLE_08","People",["blame_culture"],"Incentives prioritize speed.","Incentives prioritize yield, safety, and quality.",1),xe("DS_PEOPLE_09","People",["role_clarity_gap"],"Performance measures are unclear.","Performance measures are clear.",.9),xe("DS_PEOPLE_10","People",["hero_operator_dependence"],"Turnover is accepted.","Retention is engineered.",.9)],su=["all"],O0=["Critical","Watch","Stable","Strong","Emergency"],afe=[{pillar:"Operations",leak:"Yield Leak, Rework Tax, Downtime Bleed, and Changeover Chaos are reducing sellable output and forcing expensive recovery work.",strength:"Operations run on measured control: OEE, yield, scrap, downtime, and changeover performance are visible and acted on daily.",hook:"Yield Leak",kpi:"OEE %, Yield %, Scrap %, Rework %, Downtime hours, Changeover minutes",signal_tags:["yield_bleed","downtime_drain","changeover_black_hole"],cost:"Raw materials are converted into waste, capacity is lost to stoppages, and quality failures trigger avoidable rework.",cliffhanger:"Fix Mode installs loss mapping, changeover standards, and first-pass quality controls so capacity rises without new equipment."},{pillar:"Money",leak:"COGS Blindness, Shrinkage Tax, and Discount Addiction are creating Margin Mirage even when volume looks strong.",strength:"Money control is SKU-level: true COGS, margin, working capital, and cash conversion are managed intentionally.",hook:"COGS Blindness",kpi:"COGS per unit, Gross margin % by SKU, Inventory turns, DSO, Shrinkage cost, Overtime cost %",signal_tags:["costing_gap","shrinkage_leak","discounting_leak"],cost:"Volume moves but cash and margin are trapped in hidden unit costs, expiry loss, and weak pricing discipline.",cliffhanger:"Fix Mode builds a cost-per-unit engine linked to wastage and promo controls so growth stops eroding profit."},{pillar:"Market",leak:"Shelf-Trust Risk and Out-of-Stock Penalty are weakening repeat orders while distribution dependence increases pricing pressure.",strength:"Market performance is predictable: service levels are stable, complaints close quickly, and repeat buying is protected by quality consistency.",hook:"Shelf-Trust Risk",kpi:"OTIF %, Fill rate %, Repeat purchase %, Complaint rate, Return rate, Promo margin impact",signal_tags:["order_fulfillment_instability","complaint_handling_gap","channel_dependency"],cost:"Lost shelf presence, reduced reorder confidence, and weaker negotiating power with distributors and retailers.",cliffhanger:"Fix Mode installs service-level control and complaint-to-correction loops that rebuild trust and repeat demand."},{pillar:"Leadership",leak:"Firefighting Factory and KPI Theater are allowing recurring losses to survive because ownership and closure are weak.",strength:"Leadership runs with daily control boards, clear line ownership, and root-cause closure discipline.",hook:"Firefighting Factory",kpi:"Action closure %, KPI review compliance %, Root-cause completion %, Repeat-issue recurrence %, Ownership completeness %",signal_tags:["no_kpi_ownership","no_meeting_to_action","no_accountability_loop"],cost:"The same defects and delays recur, creating unstable weeks, extra overtime, and decision lag.",cliffhanger:"Fix Mode assigns owners and enforces weekly closure on the top recurring loss drivers."},{pillar:"Innovation",leak:"Product Stagnation Risk and Process Innovation Freeze are compressing margin while competitors evolve product/pack mix.",strength:"Innovation is disciplined: trials are validated, SKU mix is optimized, and process improvements are measured for ROI.",hook:"Value-Add Blindspot",kpi:"Trial success %, Time-to-launch, SKU margin mix %, Process improvements/month, Savings captured",signal_tags:["no_product_testing_rhythm","sku_complexity_tax","pack_size_profit_blindspot"],cost:"Low-margin SKUs consume capacity and premium opportunities are missed in packaging, formulation, and mix design.",cliffhanger:"Fix Mode creates a 30-day product and process sprint tied to margin, sell-through, and repeat demand."},{pillar:"Risk",leak:"Food Safety Time Bomb and Recall Nightmare exposure rise when traceability, hygiene discipline, and supplier controls are inconsistent.",strength:"Risk systems are audit-ready: traceability is fast, hygiene is controlled, and supplier quality gates protect output.",hook:"Recall Nightmare",kpi:"Traceability pass %, Audit nonconformities #, Supplier defect %, Hygiene compliance %, Recall drill score",signal_tags:["traceability_gap","hygiene_drift","supplier_variance_risk"],cost:"A single incident can trigger recalls, distribution loss, and long-term brand damage.",cliffhanger:"Fix Mode installs batch discipline, supplier controls, and recall drills so safety is provable under pressure."},{pillar:"People",leak:"Operator Skill Gap, Shift Handover Failure, and Fatigue Defect Tax are creating quality swings and hidden rework costs.",strength:"People systems are stable: training, competency checks, handover standards, and coaching keep output consistent across shifts.",hook:"Shift Handover Failure",kpi:"Training hours/operator, Certification coverage %, Handover compliance %, Absenteeism %, Turnover %",signal_tags:["training_gap","weak_shift_handover","cross_function_breakdown"],cost:"Quality depends on who is on shift, defects are repeated, and overtime fatigue multiplies mistakes.",cliffhanger:"Fix Mode installs competency and handover discipline so performance is system-led, not person-led."}],rfe="Bakery / Flour / Grain-based processing",sfe="Dairy processing (milk, yoghurt, cheese)",ofe="Beverages (juice, soda, water)",lfe="Meat processing",cfe="Snacks & packaged foods",dfe="Edible oils (sunflower, palm, groundnut, etc.)",Bl=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_FNB_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:O0,business_size_fit:su,text:i[r],type:"mission_brief"})),ufe=[...Bl("S1",["Food & beverage manufacturing",rfe],{Operations:"Operations - {STATUS}: We detected {LEAK_1} and {LEAK_2}, a pattern that usually points to a Yield Leak and Changeover Chaos - raw inputs are being converted into sellable product with avoidable waste, and setup time is quietly stealing production hours. Cost: {COST_IMPACT} through scrap, rework, and lost capacity. Cliffhanger: Fix Mode will generate a 7-day yield baseline + changeover standard that immediately increases output without buying a new machine.",Money:"Money - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically COGS Blindness + Shrinkage Tax (expiry and loss). Cost: {COST_IMPACT} because pricing and profit are not protected at SKU level. Cliffhanger: Fix Mode builds your COGS-per-unit model so you stop selling busy and start selling profit.",Market:"Market - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often Out-of-Stock Penalty + Shelf-Trust Risk. Cost: {COST_IMPACT} because stockouts and inconsistent quality lose repeat buying. Cliffhanger: Fix Mode installs a simple service-level system to protect shelf trust and repeat orders.",Leadership:"Leadership - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning the plant may be in firefighting mode with weak ownership and slow action closure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns line owners and forces weekly closure of the top waste drivers.",Innovation:"Innovation & Creativity - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign the product and packaging strategy may be stagnating while competitors evolve. Cost: {COST_IMPACT} in margin pressure. Cliffhanger: Fix Mode generates a 30-day product/pack test plan tied to margin and repeat purchase.",Risk:"Risk - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - traceability and hygiene gaps can become a Food Safety Time Bomb. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds batch discipline + recall readiness so one incident does not destroy the brand.",People:"People - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - skill variance and fatigue are often behind defect spikes and waste. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training + shift handover standards so output stays consistent regardless of who is on shift."}),...Bl("S2",[sfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, a pattern that usually points to a Cold Chain Friction + Batch Variability problem. In dairy, minutes matter: temperature drift, slow processing, and inconsistent batching quietly create spoilage, rework, and acceptable loss that is actually a Yield Leak. Cost: {COST_IMPACT} through spoilage, product inconsistency, and production stops when quality fails. Cliffhanger: Fix Mode will generate a 7-day yield + cold chain baseline and lock in process checks so spoilage drops without expanding capacity.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically COGS Blindness plus Shrinkage Tax (expiry/spoilage, returns, leakage). Many dairy businesses think the profit problem is sales, when it is actually cost-per-litre and wastage per batch. Cost: {COST_IMPACT} because you are selling volume but bleeding margin. Cliffhanger: Fix Mode builds a unit-cost model (per litre / per cup / per kg) and ties it directly to wastage drivers so you can protect margin immediately.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often Shelf-Trust Risk + Out-of-Stock Penalty. In dairy, trust is everything: one inconsistent batch can lose a customer for months, and one stockout can lose a retailer shelf slot. Cost: {COST_IMPACT} through lost repeat buying, reduced shelf space, and distributor pressure. Cliffhanger: Fix Mode installs a service-level routine + complaint closure system so retailers trust your consistency again.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning production discipline may depend on who is on shift, and recurring issues do not get owned to closure. Dairy requires tight control, not mood-based management. Cost: {COST_IMPACT} via repeated spoilage events, inconsistent quality, and wasted labor time. Cliffhanger: Fix Mode assigns line/shift owners and forces weekly closure of the top 3 spoilage and defect causes.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign you may be stuck in commodity selling while margin opportunities (value-add) are being ignored. Dairy margins often come from product mix: flavoured yoghurt, premium packs, fortified products, and better packaging that protects shelf trust. Cost: {COST_IMPACT} in missed premium pricing and weak differentiation. Cliffhanger: Fix Mode generates a 30-day product mix upgrade plan tied to margin per SKU and repeat purchase.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - in dairy this often means Food Safety Time Bomb + Recall Nightmare risk if traceability, hygiene, or supplier controls are weak. One contamination incident can destroy the brand permanently. Cost: {COST_IMPACT} in catastrophic downside risk. Cliffhanger: Fix Mode builds batch/lot traceability discipline and a recall drill so you can prove safety, not just claim it.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - often a training and handover weakness that creates shift quality swings. Operators may be doing their best, but without consistent SOPs, quality depends on individuals. Cost: {COST_IMPACT} through rework, spoilage, and inconsistent output. Cliffhanger: Fix Mode installs operator checklists + shift handover standards so quality is stable across shifts."}),...Bl("S3",[ofe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which often points to Downtime Bleed + Changeover Chaos on filling/packaging lines. In beverages, every minute of downtime is lost volume, and every sloppy changeover creates waste and defects. Cost: {COST_IMPACT} through lost capacity, overtime, and scrap (caps, labels, bottles, seal issues). Cliffhanger: Fix Mode generates a 7-day downtime loss map and changeover standard that increases throughput without buying a new line.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically COGS Blindness + Promotion Profit Leak. Beverage businesses often sell lots of units but lose money on packaging costs, logistics costs, and promos that destroy margin. Cost: {COST_IMPACT} because cost-per-unit is not controlled and discounting becomes a habit. Cliffhanger: Fix Mode builds cost-per-unit control (bottle/cap/label/carton) and promo margin guardrails so volume stops eating profit.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually Distribution Dependence + Out-of-Stock Penalty. When distribution is weak, your product disappears from shelves and customers forget you. When stockouts happen, competitors replace you instantly. Cost: {COST_IMPACT} in lost shelf presence and weak negotiating power. Cliffhanger: Fix Mode installs a simple fill-rate + route-level sales visibility system to protect shelf space and repeat orders.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning the plant may run on urgent fixes and supervisors may lack a consistent daily management rhythm. Cost: {COST_IMPACT} via repeat breakdowns, recurring defects (seals, leakage, labeling), and firefighting overtime. Cliffhanger: Fix Mode sets daily huddles + KPI boards + action closure so problems stop repeating.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign your product/packaging may be losing attention in the market. In beverages, innovation is not always new flavour; it is packaging, sizing, bundling, and brand promise consistency. Cost: {COST_IMPACT} in weak differentiation and margin compression. Cliffhanger: Fix Mode generates a 30-day packaging and SKU strategy test plan tied to sell-through and margin.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often compliance gaps (labeling, standards, hygiene) and traceability weakness. One standards issue can trigger product removal and reputation damage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds audit-ready documentation and batch traceability that protects distribution contracts.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - often operator skill variance and fatigue. Beverage lines punish inconsistency: one weak shift can create massive scrap. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training certification + shift handover discipline to keep output consistent."}),...Bl("S4",[lfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which often points to a Yield Leak (trim loss, spoilage loss) plus Cold Chain Friction. In meat processing, profit is lost in grams: yield control, hygiene discipline, and temperature control decide your margin. Cost: {COST_IMPACT} through spoilage, product downgrades, and rework due to contamination risk. Cliffhanger: Fix Mode generates a 7-day yield baseline + cold chain compliance checks to reduce loss immediately.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - commonly COGS Blindness + Shrinkage Tax. If you do not know cost per kg by cut/product, you can sell best sellers that are actually profit destroyers. Cost: {COST_IMPACT} because product mix is not margin-optimized. Cliffhanger: Fix Mode builds a cost-per-cut model and ties it to yield loss so pricing and product mix become profit-driven.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often trust and consistency risk. In meat, reputation spreads fast; one quality incident can collapse demand overnight. Cost: {COST_IMPACT} through lost customers and distributor distrust. Cliffhanger: Fix Mode installs complaint-to-correction loops and quality proof packs to protect trust.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning hygiene and quality discipline may break during pressure periods. If leaders tolerate shortcuts, risk grows. Cost: {COST_IMPACT} through rework, waste, and incident exposure. Cliffhanger: Fix Mode sets standards enforcement and daily controls so hygiene and yield do not collapse when busy.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign you may be selling commodity cuts while ignoring value-add opportunities: portioning, packaging, ready-to-cook products, and premium branding. Cost: {COST_IMPACT} in missed margin. Cliffhanger: Fix Mode generates a 30-day product mix upgrade plan tied to margin and shelf life.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - for meat processing this is the highest-stakes zone: contamination control, traceability, and audit readiness. Cost: {COST_IMPACT} plus catastrophic downside. Cliffhanger: Fix Mode builds traceability discipline + recall drill readiness to prevent a business-ending event.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - often training gaps and fatigue. Meat processing is repetitive and physically demanding; fatigue drives mistakes and hygiene failures. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs competency checks + fatigue-aware scheduling + shift handovers to stabilize output."}),...Bl("S5",[cfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, usually pointing to Scrap Sinkhole + Batch Variability. In snacks, consistency is king: weight accuracy, seasoning control, packaging seal integrity, and process repeatability decide your unit economics. Cost: {COST_IMPACT} via giveaway (overfill), rejects (underfill), and packaging failures. Cliffhanger: Fix Mode generates a 7-day weight and defect baseline and installs in-process checks to reduce waste fast.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often COGS Blindness + Promotion Profit Leak. Snacks die by packaging and promo mistakes: if packaging costs rise or promos are mispriced, profit disappears. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds SKU-level margin control and promo guardrails so growth stops eating profit.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often Brand Promise Break (inconsistent taste/quality) plus Distribution Dependence. Snack buyers are loyal until disappointed; then they switch permanently. Cost: {COST_IMPACT} in repeat purchase collapse. Cliffhanger: Fix Mode installs a shelf-trust system: taste consistency checks + complaint closure within 72 hours.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning production discipline may depend on supervisors rather than standard work. This creates good weeks and bad weeks with no explanation. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates line ownership and daily controls so performance becomes predictable.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign the SKU pipeline may be weak. In snacks, innovation is not always new products; it is new pack sizes, flavours, bundles, and shelf strategy to capture margin. Cost: {COST_IMPACT} in missed premiumization. Cliffhanger: Fix Mode generates a 30-day SKU innovation sprint tied to margin and sell-through.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - packaging and hygiene compliance issues create recalls and retailer rejection. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds traceability + audit-ready packaging and hygiene logs.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - often training gaps around quality checks and line discipline. One careless shift can create a truckload of rejects. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training + shift handover discipline so quality does not depend on luck."}),...Bl("S6",[dfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, usually pointing to Yield Leak + Downtime Bleed. Oil businesses live and die by extraction efficiency, filtration control, and equipment reliability. If yield is not measured tightly, you are throwing profit away in every batch. Cost: {COST_IMPACT} via low extraction rates, waste, and machine downtime. Cliffhanger: Fix Mode creates a 7-day yield and downtime baseline and installs process checks that raise output using the same inputs.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often COGS Blindness plus Cash Conversion Trap (inventory ties up cash). Inputs can be expensive and seasonal; if cash planning is weak, you lose buying power and pay higher prices later. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds cost-per-litre + working capital control so you buy inputs strategically and protect margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - typically Brand Promise Break (quality consistency) plus Channel Conflict (pricing wars across wholesale/retail). Oil buyers notice clarity, smell, packaging quality, and trust. Cost: {COST_IMPACT} through lost loyalty and price pressure. Cliffhanger: Fix Mode installs quality proof + channel pricing discipline to protect trust and margin.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning process discipline may drift, and recurring waste is tolerated as normal. This is where profitable plants separate themselves from struggling plants. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns owners, weekly controls, and action closure to eliminate recurring waste drivers.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign you may be selling a commodity without value-add layers: better packaging, fortified variants, small packs for affordability, or premium positioning. Cost: {COST_IMPACT} in weak differentiation. Cliffhanger: Fix Mode generates a 30-day product/pack strategy sprint tied to margin and repeat buying.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - risk here often means contamination, labeling compliance, and supplier integrity. One quality issue can destroy distributor relationships. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds supplier controls, batch traceability, and audit-ready documentation to protect distribution contracts.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - often skill variance and discipline drift around filtration, quality checks, and hygiene routines. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training and shift handovers so quality is stable and defects stop repeating."})],pfe=afe.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_FNB_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:su,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_FNB_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:su,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_FNB_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:O0,business_size_fit:su,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_FNB_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:O0,business_size_fit:su,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),ffe=[...pfe,...ufe],gi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},gfe=[{action_id:"ACT_FNB_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Daily OEE + Loss Map (Top 3 losses)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["oee","downtime_hours"],proof_required:["daily_board_screenshots"],impact_score:9},{action_id:"ACT_FNB_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["yield_bleed"],title:"Yield & Scrap Baseline (by SKU/line)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["yield_percent","scrap_rate"],proof_required:["baseline_sheet"],impact_score:9},{action_id:"ACT_FNB_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["changeover_black_hole"],title:"Changeover Quick Fix (standard steps + tool staging)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["changeover_minutes"],proof_required:["changeover_checklist"],impact_score:8},{action_id:"ACT_FNB_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Rework Kill List (top 3 defects + fixes)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["rework_rate"],proof_required:["defect_tracker"],impact_score:8},{action_id:"ACT_FNB_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["inventory_blindspot"],title:"Critical Inventory Check (raw + packaging)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["stockouts_count"],proof_required:["min_max_list"],impact_score:8},{action_id:"ACT_FNB_RISK_7_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Batch Record Discipline (lot/batch completeness)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["traceability_pass_rate"],proof_required:["sample_batch_records"],impact_score:9},{action_id:"ACT_FNB_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["shrinkage_leak"],title:"Expiry/Spoilage Sweep",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["shrinkage_cost_ugx"],proof_required:["writeoff_log"],impact_score:8},{action_id:"ACT_FNB_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_meeting_to_action"],title:"Line Huddle Routine (15 mins)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["action_closure_rate"],proof_required:["huddle_notes"],impact_score:7},{action_id:"ACT_FNB_MONEY_7_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["zombie_costs"],title:"Top 10 Zombie Costs Audit",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["monthly_savings_ugx"],proof_required:["cost_cut_list"],impact_score:8},{action_id:"ACT_FNB_MARKET_7_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["complaint_handling_gap"],title:"Customer Complaint Triage (48-hour closure)",days:7,effort:"S",default_owner_by_size:gi,kpi_links:["complaint_closure_time"],proof_required:["complaint_log"],impact_score:7},{action_id:"ACT_FNB_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"SKU-Level Costing Model (COGS per unit)",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["margin_per_sku"],proof_required:["costing_sheet"],impact_score:9},{action_id:"ACT_FNB_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["preventive_maintenance_gap"],title:"Preventive Maintenance Schedule + Spares Plan",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["downtime_hours"],proof_required:["pm_logs","spares_plan"],impact_score:9},{action_id:"ACT_FNB_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Traceability + Recall Drill",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["traceability_pass_rate"],proof_required:["drill_report"],impact_score:9},{action_id:"ACT_FNB_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["supplier_variance_risk"],title:"Supplier Quality Scorecard",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["supplier_defect_rate"],proof_required:["supplier_scorecard"],impact_score:8},{action_id:"ACT_FNB_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Standard Work + Training System",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["training_compliance"],proof_required:["sops","training_logs"],impact_score:8},{action_id:"ACT_FNB_MONEY_30_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["inventory_blindspot"],title:"Inventory Min/Max + Reorder Rules",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["stockouts_count","inventory_turns"],proof_required:["inventory_rules"],impact_score:8},{action_id:"ACT_FNB_MONEY_30_03",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["discounting_leak"],title:"Promotion Profit Control",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["promo_margin_impact"],proof_required:["promo_approval_template"],impact_score:8},{action_id:"ACT_FNB_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Quality Built-In Gates (in-process checks)",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["first_pass_quality"],proof_required:["in_process_checklists"],impact_score:9},{action_id:"ACT_FNB_PEOPLE_30_02",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["weak_shift_handover"],title:"Shift Handover Standard",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["handover_compliance"],proof_required:["handover_logs"],impact_score:8},{action_id:"ACT_FNB_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["no_market_feedback_loop"],title:"Continuous Improvement Rhythm (weekly Kaizen)",days:30,effort:"M",default_owner_by_size:gi,kpi_links:["ci_savings_ugx","defect_reduction"],proof_required:["ci_board"],impact_score:8}],w4={questions:nfe,library:ffe,actions:gfe},ke=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),hfe=[ke("QS_OPS_01","Operations",["quality_built_late"],"We catch most defects at the final inspection stage.","We prevent defects in-line so rework stays low.",1.2),ke("QS_OPS_02","Operations",["wip_pileup"],"WIP is high because we like to keep everyone busy.","WIP is controlled so bottlenecks and defects show early.",1.1),ke("QS_MONEY_01","Money",["costing_gap"],"We price mainly from buyer expectations and competitors.","We price using style-level costing and margin targets.",1.2),ke("QS_MONEY_02","Money",["zombie_costs"],"Overtime is normal to meet deadlines.","Overtime is controlled because it silently destroys margin.",1.1),ke("QS_MARKET_01","Market",["channel_dependency"],"One or two buyers drive most of our production.","We diversify buyers and channels to reduce dependency risk.",1.2),ke("QS_MARKET_02","Market",["spec_drift_discount"],"Specs change often and we adjust as we go.","Specs are locked clearly to prevent disputes and rework.",1.1),ke("QS_LEAD_01","Leadership",["management_by_memory"],"Output depends heavily on the supervisor on shift.","Output is driven by standards and clear line ownership.",1.1),ke("QS_LEAD_02","Leadership",["no_variance_review"],"We discuss issues often but they return again.","We close issues to root cause so they stop repeating.",1),ke("QS_INNOV_01","Innovation",["pack_size_profit_blindspot"],"We rarely optimize patterns and markers unless fabric prices spike.","We continuously improve marker efficiency to protect margin.",1),ke("QS_INNOV_02","Innovation",["no_product_testing_rhythm"],"We mostly produce what buyers request with little evolution.","We evolve designs and processes to increase margin and speed.",1),ke("QS_RISK_01","Risk",["compliance_blocker_risk"],"Compliance documentation is assembled when needed.","Compliance documentation is always audit-ready.",1.2),ke("QS_RISK_02","Risk",["supplier_variance_risk"],"Fabric variability is handled during sewing when issues appear.","Fabric quality is checked upfront to prevent waste.",1.1),ke("QS_PEOPLE_01","People",["training_gap"],"Skill varies by operator; experienced people carry the line.","Skills are standardized through training and certification.",1),ke("QS_PEOPLE_02","People",["cross_function_breakdown"],"Absenteeism disrupts production frequently.","We plan staffing and backups to protect output.",1),ke("DS_OPS_01","Operations",["measurement_blindspot"],"We mainly track total output.","We track FPY, defects, rework, and line efficiency daily.",1.1),ke("DS_OPS_02","Operations",["quality_built_late"],"Defects are caught mostly at final inspection.","Defects are prevented with in-line checks.",1.1),ke("DS_OPS_03","Operations",["quality_built_late"],"Rework is common and accepted.","Rework is treated as a profit emergency.",1.1),ke("DS_OPS_04","Operations",["wip_pileup"],"WIP is high and unmanaged.","WIP is capped to expose bottlenecks early.",1),ke("DS_OPS_05","Operations",["changeover_black_hole"],"Changeovers are slow and improvised.","Changeovers follow a standard and are optimized.",1),ke("DS_OPS_06","Operations",["bottleneck_bounce"],"Bottlenecks are handled informally.","Bottlenecks are measured and line-balanced.",1),ke("DS_OPS_07","Operations",["planning_gap"],"Material shortages surprise us.","Materials are staged with readiness checks.",1),ke("DS_OPS_08","Operations",["reactive_maintenance"],"Maintenance is reactive.","Maintenance is preventive.",1),ke("DS_OPS_09","Operations",["measurement_blindspot"],"Production visibility is limited.","Production has real-time tracking.",1),ke("DS_OPS_10","Operations",["order_fulfillment_instability"],"Packing and shipping is often rushed.","Fulfillment has a stable flow with controls.",1),ke("DS_MONEY_01","Money",["costing_gap"],"We do not know cost per garment by style.","We know true cost and margin by style.",1.2),ke("DS_MONEY_02","Money",["waste_not_costed"],"Fabric waste is not tracked in money terms.","Fabric waste is tracked as UGX loss.",1.1),ke("DS_MONEY_03","Money",["zombie_costs"],"Overtime is frequent.","Overtime is controlled and analyzed.",1),ke("DS_MONEY_04","Money",["purchase_panic"],"Rush purchases happen often.","Purchases are forecasted and planned.",1),ke("DS_MONEY_05","Money",["inventory_blindspot"],"Dead stock accumulates.","Dead stock is minimized and monetized.",1),ke("DS_MONEY_06","Money",["shrinkage_leak"],"Shrinkage and theft are not tightly controlled.","Shrinkage is measured and controlled.",1),ke("DS_MONEY_07","Money",["discounting_leak"],"Discounts and penalties are common.","Penalties are prevented with delivery discipline.",1),ke("DS_MONEY_08","Money",["costing_gap"],"Sampling costs are unclear.","Sampling has budgets and conversion targets.",.9),ke("DS_MONEY_09","Money",["pricing_margin_blindspot"],"We focus on revenue volume.","We focus on profit per style and order.",1.1),ke("DS_MONEY_10","Money",["costing_gap"],"Job costing is not reliable.","Job costing is accurate and consistent.",1.1),ke("DS_MARKET_01","Market",["channel_dependency"],"We rely on one major buyer.","We diversify buyers and channels.",1.2),ke("DS_MARKET_02","Market",["spec_drift_discount"],"Spec changes cause confusion.","Specs are locked and controlled.",1.1),ke("DS_MARKET_03","Market",["complaint_handling_gap"],"Quality issues are handled after complaints.","Quality reputation is protected proactively.",1),ke("DS_MARKET_04","Market",["order_fulfillment_instability"],"On-time delivery varies.","On-time delivery is measured and improved.",1),ke("DS_MARKET_05","Market",["complaint_handling_gap"],"Returns are not analyzed deeply.","Returns are tracked by style and prevented.",1),ke("DS_MARKET_06","Market",["pricing_positioning_gap"],"We compete on price.","We compete on reliability and quality.",1),ke("DS_MARKET_07","Market",["pricing_positioning_gap"],"MOQ pressure forces bad orders.","MOQ strategy is aligned to capacity and margin.",1),ke("DS_MARKET_08","Market",["weak_onboarding"],"Buyer communication is reactive.","Buyer communication is structured and timely.",.9),ke("DS_MARKET_09","Market",["value_story_gap"],"Trend changes catch us late.","We respond fast to trend signals.",.9),ke("DS_MARKET_10","Market",["low_repeat_orders"],"We do not track repeat order drivers.","We track and engineer repeat orders.",1),ke("DS_LEAD_01","Leadership",["no_variance_review"],"Problems repeat without closure.","Problems are closed to root cause.",1.1),ke("DS_LEAD_02","Leadership",["no_kpi_ownership"],"KPIs exist but do not drive action.","KPI reviews produce owners and deadlines.",1),ke("DS_LEAD_03","Leadership",["management_by_memory"],"Supervisors vary widely in performance.","Supervisors follow standard management routines.",1),ke("DS_LEAD_04","Leadership",["decision_bottleneck"],"Approvals slow production.","Delegated limits speed execution.",1),ke("DS_LEAD_05","Leadership",["blame_culture"],"Defects are hidden to avoid blame.","Defects are reported early.",1),ke("DS_LEAD_06","Leadership",["no_meeting_to_action"],"Meetings do not close tasks.","Meetings close tasks.",1),ke("DS_LEAD_07","Leadership",["hiring_mismatch"],"Training is informal.","Training is structured.",.9),ke("DS_LEAD_08","Leadership",["weak_goal_alignment"],"Standards collapse during peak demand.","Standards survive peak demand.",1),ke("DS_LEAD_09","Leadership",["hero_operator_dependence"],"Factory depends on heroes.","Factory runs on systems.",1),ke("DS_LEAD_10","Leadership",["no_accountability_loop"],"Accountability is emotional.","Accountability is measured.",.9),ke("DS_INNOV_01","Innovation",["pack_size_profit_blindspot"],"Marker efficiency is not a priority.","Marker efficiency is a continuous cost-down lever.",1),ke("DS_INNOV_02","Innovation",["slow_bug_fix"],"SMV is not improved systematically.","SMV reduction is a monthly program.",1),ke("DS_INNOV_03","Innovation",["no_product_testing_rhythm"],"Designs rarely evolve.","Designs evolve for margin and demand.",1),ke("DS_INNOV_04","Innovation",["pack_size_profit_blindspot"],"Packaging and presentation is basic.","Presentation is optimized for premium pricing.",.9),ke("DS_INNOV_05","Innovation",["slow_bug_fix"],"Processes do not change much.","Process improvements are tracked with ROI.",1),ke("DS_INNOV_06","Innovation",["no_market_feedback_loop"],"Ideas are ad hoc.","Ideas are captured and executed.",.9),ke("DS_INNOV_07","Innovation",["no_product_testing_rhythm"],"Sampling is chaotic.","Sampling is standardized and improved.",.9),ke("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"Digital tools are avoided.","Digital tools increase speed and visibility.",.9),ke("DS_INNOV_09","Innovation",["sku_complexity_tax"],"Product mix is not optimized.","Product mix is optimized for margin.",1),ke("DS_INNOV_10","Innovation",["no_market_feedback_loop"],"Learning stays in heads.","Learning becomes SOPs.",.9),ke("DS_RISK_01","Risk",["compliance_blocker_risk"],"Audits cause panic.","Audits are routine because docs are ready.",1.2),ke("DS_RISK_02","Risk",["compliance_blocker_risk"],"Labor compliance is loosely managed.","Labor compliance is documented and enforced.",1.1),ke("DS_RISK_03","Risk",["supplier_variance_risk"],"Supplier variability is discovered late.","Supplier quality is verified early.",1),ke("DS_RISK_04","Risk",["contract_gap"],"Contract penalties are frequent surprises.","Contract penalties are prevented by controls.",1),ke("DS_RISK_05","Risk",["ip_brand_protection_gap"],"IP and designs are casually shared.","IP and design files are protected.",1),ke("DS_RISK_06","Risk",["hygiene_drift"],"Safety standards drift under pressure.","Safety standards are consistent.",1),ke("DS_RISK_07","Risk",["contract_gap"],"Subcontractor quality is unmanaged.","Subcontractors follow strict standards.",.9),ke("DS_RISK_08","Risk",["traceability_gap"],"Traceability by roll and batch is weak.","Traceability is strong.",1),ke("DS_RISK_09","Risk",["data_security_gap"],"Documentation is scattered.","Documentation is centralized.",.9),ke("DS_RISK_10","Risk",["disaster_recovery_gap"],"Risk is addressed after incidents.","Risk is prevented proactively.",1),ke("DS_PEOPLE_01","People",["training_gap"],"Skills vary widely.","Skills are standardized.",1.1),ke("DS_PEOPLE_02","People",["onboarding_gap"],"Onboarding is mostly shadowing.","Onboarding uses SOPs and checklists.",1),ke("DS_PEOPLE_03","People",["cross_function_breakdown"],"Absenteeism disrupts output often.","Staffing plans protect output.",1),ke("DS_PEOPLE_04","People",["cross_function_breakdown"],"Fatigue is common during peak.","Fatigue is managed.",1),ke("DS_PEOPLE_05","People",["blame_culture"],"Incentives reward speed.","Incentives reward quality and output.",1),ke("DS_PEOPLE_06","People",["role_clarity_gap"],"Supervisor coaching is limited.","Supervisors coach routinely.",.9),ke("DS_PEOPLE_07","People",["fear_index"],"Defects are hidden.","Defects are reported early.",1),ke("DS_PEOPLE_08","People",["hero_operator_dependence"],"Turnover is accepted.","Retention is engineered.",.9),ke("DS_PEOPLE_09","People",["weak_shift_handover"],"Handover is informal.","Handover is standardized.",1),ke("DS_PEOPLE_10","People",["low_psych_safety"],"Morale issues are ignored.","Morale is monitored and improved.",.9)],ou=["all"],L0=["Critical","Watch","Stable","Strong","Emergency"],mfe=[{pillar:"Operations",leak:"Rework Factory, Line Bottleneck Tax, and WIP Flood are creating hidden throughput loss and delayed fulfillment.",strength:"Operations are controlled with in-line quality gates, WIP limits, line balancing, and preventive maintenance discipline.",hook:"Line Bottleneck Tax",kpi:"FPY %, Defects/100 pieces, Rework hours/day, Line efficiency %, Changeover minutes, WIP level",signal_tags:["quality_built_late","wip_pileup","bottleneck_bounce"],cost:"Defects are detected too late, labor is spent on rework, and bundles queue while paid capacity sits idle.",cliffhanger:"Fix Mode installs defect heatmaps, WIP clamp rules, and line-balance controls to recover output with current capacity."},{pillar:"Money",leak:"Costing Fog, Overtime Profit Leak, and Fabric Cash Trap are turning busy production into thin style-level margin.",strength:"Money systems are style-level: true costing, overtime control, shrinkage visibility, and disciplined buying cycles.",hook:"Costing Fog",kpi:"Cost/garment by style, Gross margin % by style, Overtime cost %, Fabric utilization %, Shrinkage %, Cash conversion cycle",signal_tags:["costing_gap","zombie_costs","shrinkage_leak"],cost:"Dead stock, rush buys, overtime, and penalties consume margin that should be captured per style and order.",cliffhanger:"Fix Mode builds style-cost discipline linked to waste and overtime drivers so quoted jobs stay profitable."},{pillar:"Market",leak:"Buyer Dependency Risk and Spec Confusion Loss are weakening pricing power while complaints and returns drag repeat orders.",strength:"Market execution is reliable: specs are locked, OTD is controlled, and repeat demand is engineered through proof and consistency.",hook:"Buyer Dependency Risk",kpi:"OTD %, Return/complaint %, Repeat order %, Buyer concentration %, Sample-to-order %, Margin per buyer",signal_tags:["channel_dependency","spec_drift_discount","complaint_handling_gap"],cost:"Disputes, chargebacks, and buyer concentration reduce leverage and force low-margin acceptance behavior.",cliffhanger:"Fix Mode installs a buyer-proof system with spec lock, delivery tracking, and reliability evidence packs."},{pillar:"Leadership",leak:"Supervisor Lottery and KPI Theater are keeping the floor in firefighting mode and allowing repeat failures to survive.",strength:"Leadership runs with visible KPI cadence, clear line ownership, and weekly root-cause closure discipline.",hook:"Supervisor Lottery",kpi:"Action closure %, Daily huddle compliance %, Defect recurrence %, Line ownership %, Supervisor score",signal_tags:["management_by_memory","no_kpi_ownership","no_meeting_to_action"],cost:"Performance swings by shift, approvals bottleneck flow, and unresolved issues repeatedly consume time and margin.",cliffhanger:"Fix Mode assigns owners and enforces closure on top recurring defects, delays, and approval blockers."},{pillar:"Innovation",leak:"Style Pipeline Stall and Pattern/Marker Blindspot are leaving speed and cost-down gains unrealized.",strength:"Innovation is systematic: marker efficiency, SMV reduction, digital visibility, and style-mix optimization are tracked.",hook:"Pattern/Marker Blindspot",kpi:"New style launch rate, SMV reduction %, Marker efficiency gain %, Cost-down savings, Digital adoption rate",signal_tags:["pack_size_profit_blindspot","slow_bug_fix","no_product_testing_rhythm"],cost:"Manual routines and weak experimentation lock in inefficiencies while faster competitors capture buyers.",cliffhanger:"Fix Mode launches a 30-day method and marker optimization sprint tied to throughput and margin."},{pillar:"Risk",leak:"Compliance Cliff, supplier quality roulette, and penalty-prone contracts expose the business to sudden margin collapse.",strength:"Risk systems are audit-ready with labor compliance evidence, supplier gates, contract controls, and roll-level traceability.",hook:"Compliance Cliff",kpi:"Audit nonconformities #, Labor incidents #, Supplier defect %, Penalty value, Traceability pass %",signal_tags:["compliance_blocker_risk","supplier_variance_risk","contract_gap"],cost:"One audit fail, quality deviation, or clause miss can trigger chargebacks, rework, or contract suspension.",cliffhanger:"Fix Mode builds an always-ready compliance vault and penalty prevention routine tied to contract obligations."},{pillar:"People",leak:"Skill Variance Tax, absenteeism shock, and fatigue loops are causing unstable quality and recurring rework pressure.",strength:"People systems are stable with skill certification, coached supervisors, handover discipline, and safe defect reporting.",hook:"Skill Variance Tax",kpi:"Attendance %, Training completion %, Skill certification %, Turnover %, Handover compliance %, Defect reporting %",signal_tags:["training_gap","cross_function_breakdown","weak_shift_handover"],cost:"Output depends on a few stars, absenteeism shocks line flow, and fatigue multiplies defect risk.",cliffhanger:"Fix Mode installs training ladders, backup staffing, and handover controls that make quality repeatable across shifts."}],yfe="CMT Factory (Cut-Make-Trim for buyers)",_fe="Uniforms & Workwear Manufacturing",vfe="Fashion / Retail Brand (own brand)",bfe="Knitwear / T-shirts / Casualwear (high volume)",xfe="Tailoring / Bespoke / Small Batch (custom)",Gd=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_TX_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:L0,business_size_fit:ou,text:i[r],type:"mission_brief"})),kfe=[...Gd("A",["Textile & garment manufacturing",yfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which typically signals a Line Bottleneck Tax plus WIP Flood problem: bundles pile up, operators wait for missing parts, and the line looks busy while output per hour quietly drops. In CMT, profit is speed plus consistency; slow flow becomes an invisible payroll leak. Cost: {COST_IMPACT} through idle time, delayed completion, and last-minute overtime. Cliffhanger: Fix Mode generates a 7-day line balance and WIP clamp so your current staff produces more without extra hours.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often Costing Fog plus Overtime Profit Leak. Many CMT factories price per piece but do not protect margin per style, especially when rework and overtime spike. Cost: {COST_IMPACT} because meeting the deadline becomes the business model. Cliffhanger: Fix Mode builds a style-level costing sheet (SMV + rework + overtime) so you stop accepting orders that steal profit.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - commonly Buyer Dependency Risk plus Spec Confusion Loss. If one buyer dominates, they control your pricing and tolerance, and unclear specs turn into disputes, rework, and chargebacks. Cost: {COST_IMPACT} in penalties and weak negotiating power. Cliffhanger: Fix Mode generates a buyer-proof system: spec lock checklist + delivery promise tracking + proof packs that protect your reputation.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning output may depend on who is supervising, and recurring defects repeat without closure. Cost: {COST_IMPACT} as performance swings between shifts and blame replaces improvement. Cliffhanger: Fix Mode assigns line owners, sets daily huddles, and forces weekly closure on your top 3 repeat problems.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - in CMT this often means Process Innovation Freeze and missed productivity upgrades (layout, method improvement, small digital tracking). Cost: {COST_IMPACT} because your factory is competing with faster factories. Cliffhanger: Fix Mode launches a 30-day speed upgrade sprint (SMV reduction + layout + checklists) tied directly to output/hour.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often a Compliance Cliff risk (buyer audits, labor standards) and Contract Penalty Trap (late and defect deductions). Cost: {COST_IMPACT} plus contract loss risk if audits fail. Cliffhanger: Fix Mode creates an audit-ready compliance vault and penalty prevention plan so your contracts stop being fragile.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - commonly Skill Variance Tax and fatigue/rework loops. If quality depends on a few stars, every absence becomes production collapse. Cost: {COST_IMPACT} via defects, rework, and missed delivery. Cliffhanger: Fix Mode installs training ladders + skill certification so output becomes stable and scalable."}),...Gd("B",[_fe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which often points to Changeover Chaos (many variations per client) plus Order Fulfillment Drag. Uniform orders die in the finishing stage: missing sizes, wrong embroidery/branding, and packing errors create rework and delays. Cost: {COST_IMPACT} through repacking, missed delivery dates, and refund or redo cycles. Cliffhanger: Fix Mode creates a 7-day order accuracy system: job cards + finishing checklist + packing verification.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically Margin Mirage (Style-Level) + Dead Stock Graveyard (fabric and trims left over from custom jobs). Uniform shops leak money through leftovers, incorrect costing, and rushed overtime to meet client deadlines. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs job costing + leftovers monetization rules so custom work stops creating dead stock.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often a weak sales pipeline beyond referrals, plus low proof of reliability. Uniform clients buy reliability: delivery date, consistent sizing, consistent branding. Cost: {COST_IMPACT} in lost repeat contracts and weak pricing power. Cliffhanger: Fix Mode generates a B2B renewal system (reorder cycles, corporate account follow-ups, proof portfolio).",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning production planning is reactive and staff roles blur under pressure. Cost: {COST_IMPACT} because chaos increases errors and slows throughput. Cliffhanger: Fix Mode assigns owners (cutting, sewing, branding, finishing, dispatch) and installs a weekly production plan.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - typically missed opportunities in product differentiation: better fabric options, durability standards, sizing systems, and packaging that signals professionalism. Cost: {COST_IMPACT} as you compete on price instead of value. Cliffhanger: Fix Mode launches a 30-day differentiation sprint: premium options + sizing standard + proof pack.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - in uniforms this often means contract disputes, returns due to sizing errors, and compliance gaps when serving schools/companies. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds spec sign-off, sizing verification, and contract clarity so refunds and disputes drop sharply.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - skill and quality inconsistency, plus fatigue during big contracts. Cost: {COST_IMPACT} through rework and late delivery. Cliffhanger: Fix Mode installs training SOPs and finishing discipline to keep quality consistent across teams."}),...Gd("C",[vfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, typically pointing to WIP Flood + Production Blindspot. Own-brand businesses often lose control because design, production, stock, and sales are not synchronized - so you overproduce slow movers and underproduce best sellers. Cost: {COST_IMPACT} through dead stock, stockouts, and wasted production time. Cliffhanger: Fix Mode builds a 7-day inventory truth system and a production plan tied to real sales.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - commonly Cash Conversion Trap (cash locked in stock) + Costing Fog (no real margin per SKU). Many fashion brands look profitable on Instagram but bleed in the warehouse. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs SKU margin tracking + stock turn targets so cash stops dying on hangers.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often Trend Lag Death plus weak distribution beyond social media. Fashion dies when you are late or invisible. Cost: {COST_IMPACT} in missed demand waves and inconsistent sales. Cliffhanger: Fix Mode creates a 30-day marketing + product calendar so drops match demand and cash flow becomes predictable.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning decisions are reactive, roles overlap, and execution depends on the founder's daily energy. Cost: {COST_IMPACT} through bottlenecks and inconsistent delivery. Cliffhanger: Fix Mode assigns owners and installs weekly planning so the brand runs on systems, not stress.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - in own-brand, innovation is the oxygen. If designs do not evolve, you become background noise. Cost: {COST_IMPACT} as attention and pricing power shrink. Cliffhanger: Fix Mode builds a 30-day collection pipeline and customer feedback loop to keep designs relevant and profitable.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often IP copy risk, supplier variability, and returns/refunds exposure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs supplier standards + QC checks + policy discipline to reduce returns and protect reputation.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - usually creative burnout + execution inconsistency. Brands collapse when the team is always tired and mistakes repeat. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs handovers, checklists, and capacity planning so output improves without burning out the team."}),...Gd("D",[bfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, typically indicating Line Bottleneck Tax + Quality at the End Trap. In high-volume, small defect rates become massive losses. If defects are detected late, you lose thousands of pieces before anyone reacts. Cost: {COST_IMPACT} through scrap, rework, and delivery delays. Cliffhanger: Fix Mode installs in-line quality gates and a 7-day defect heatmap to stop losses fast.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - usually Margin Mirage plus overtime and waste. High volume without tight cost control is a fast path to bankruptcy. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds margin-per-style tracking and overtime control so volume starts producing real profit.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often price pressure and buyer dependency. In commodity casualwear, your advantage must be speed, consistency, or niche positioning. Cost: {COST_IMPACT} as buyers squeeze you. Cliffhanger: Fix Mode builds proof-of-reliability (OTD, defect rates, speed) to strengthen pricing power.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning daily management routines may be missing, and repeat problems are not closed. Cost: {COST_IMPACT} through recurring breakdowns, recurring defects, and recurring overtime. Cliffhanger: Fix Mode installs daily controls and weekly root-cause closure.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - typically lack of method improvement and digital tracking. In high-volume, tiny improvements compound into huge profit. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches SMV reduction and layout improvement sprint tied to output/hour.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - compliance, labor standards, and contract penalty exposure are high in volume manufacturing. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds compliance vault and penalty prevention system.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - fatigue and skill variance create silent defect floods. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training certification + shift discipline to stabilize performance."}),...Gd("E",[xfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often signaling Order Fulfillment Drag and custom chaos. Bespoke shops bleed profit through measurement errors, rework fittings, and inconsistent job tracking. Cost: {COST_IMPACT} through repeated fittings and late delivery. Cliffhanger: Fix Mode builds a 7-day job card + measurement verification + fitting schedule system.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically underpricing custom work and failing to charge for complexity. Many tailor shops sell artistry at commodity prices. Cost: {COST_IMPACT} as time disappears into unpaid detail work. Cliffhanger: Fix Mode installs pricing tiers and complexity fees so every extra detail becomes paid margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often weak referral systems and inconsistent customer experience. In bespoke, your growth engine is customer trust + referrals. Cost: {COST_IMPACT} in lost repeat orders. Cliffhanger: Fix Mode builds a referral ask script + client follow-up routine that turns customers into a sales channel.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning work allocation, deadlines, and quality control are informal. Custom shops collapse under volume because they lack systems. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns owners, deadlines, and finishing checks so growth does not create chaos.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed opportunity to standardize a core offering while keeping premium custom upgrades. Cost: {COST_IMPACT} because everything becomes from scratch, slow, and inconsistent. Cliffhanger: Fix Mode creates a standard core + premium upgrades menu that increases speed and margin.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - disputes over expectations, late delivery, and refund pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs contract terms, fitting approvals, and delivery policies that reduce refunds and conflicts.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - reliance on one master tailor and inconsistent skill among assistants. Cost: {COST_IMPACT} via quality variance and capacity limits. Cliffhanger: Fix Mode installs training ladders and quality checks so the business scales beyond one person."})],Sfe=mfe.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_TX_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:ou,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_TX_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:ou,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_TX_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:L0,business_size_fit:ou,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_TX_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:L0,business_size_fit:ou,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),wfe=[...Sfe,...kfe],hi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},Cfe=[{action_id:"ACT_TX_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Defect Heatmap (Top 5 defects by operation)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["defects_per_100_pcs","fpy_percent"],proof_required:["defect_heatmap_board"],impact_score:9},{action_id:"ACT_TX_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["waste_not_costed"],title:"Cutting Yield Baseline (Marker efficiency + fabric loss)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["cutting_yield_percent"],proof_required:["cutting_baseline_sheet"],impact_score:8},{action_id:"ACT_TX_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["wip_pileup"],title:"WIP Clamp (Set max WIP per line)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["wip_level","lead_time"],proof_required:["wip_limits_posted"],impact_score:8},{action_id:"ACT_TX_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["changeover_black_hole"],title:"Changeover Checklist (Style switch standard)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["changeover_minutes"],proof_required:["changeover_checklist_logs"],impact_score:8},{action_id:"ACT_TX_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Rework Kill List (Top 3 causes + fix)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["rework_hours"],proof_required:["rework_tracker"],impact_score:8},{action_id:"ACT_TX_OPS_7_06",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["planning_gap"],title:"Material Readiness Routine (Trims + fabric staging)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["idle_time"],proof_required:["staging_checklist"],impact_score:8},{action_id:"ACT_TX_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_meeting_to_action"],title:"Daily Line Huddle (15 min: plan vs actual)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["action_closure_rate"],proof_required:["huddle_notes"],impact_score:7},{action_id:"ACT_TX_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["zombie_costs"],title:"Overtime Audit (Why did we do overtime?)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["overtime_cost_percent"],proof_required:["overtime_reason_log"],impact_score:8},{action_id:"ACT_TX_MARKET_7_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["order_fulfillment_instability"],title:"Packing & Dispatch Flow Check (bottlenecks)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["otd_percent"],proof_required:["dispatch_bottleneck_list"],impact_score:8},{action_id:"ACT_TX_PEOPLE_7_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["cross_function_breakdown"],title:"Attendance Shock Plan (backup operators list)",days:7,effort:"S",default_owner_by_size:hi,kpi_links:["attendance_rate"],proof_required:["backup_operator_roster"],impact_score:7},{action_id:"ACT_TX_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"Style-Level Costing Model (true cost per garment)",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["margin_per_style"],proof_required:["style_costing_sheet"],impact_score:9},{action_id:"ACT_TX_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"In-Line Quality Gates (not end-only)",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["fpy_percent","defects_per_100_pcs"],proof_required:["inline_quality_sops"],impact_score:9},{action_id:"ACT_TX_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["bottleneck_bounce"],title:"Line Balancing Program",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["line_efficiency_percent"],proof_required:["line_balance_chart"],impact_score:9},{action_id:"ACT_TX_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["pack_size_profit_blindspot"],title:"Marker/Pattern Optimization Routine",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["marker_efficiency_percent"],proof_required:["marker_library"],impact_score:8},{action_id:"ACT_TX_LEAD_30_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["management_by_memory"],title:"Supervisor Coaching Playbook",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["supervisor_performance_score"],proof_required:["coaching_logs"],impact_score:8},{action_id:"ACT_TX_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],title:"Sampling Discipline (conversion targets + cost cap)",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["sample_to_order_percent"],proof_required:["sample_tracker"],impact_score:8},{action_id:"ACT_TX_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["supplier_variance_risk"],title:"Supplier Quality Scorecard (fabric/trims)",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["supplier_defect_rate"],proof_required:["supplier_scorecard"],impact_score:8},{action_id:"ACT_TX_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],title:"Compliance Vault + Audit Readiness System",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["audit_nonconformities"],proof_required:["compliance_vault"],impact_score:9},{action_id:"ACT_TX_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Skill Certification + Training Ladder",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["skill_certification_coverage"],proof_required:["training_plan"],impact_score:8},{action_id:"ACT_TX_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["no_market_feedback_loop"],title:"Production Tracking Digitization (basic scan/board)",days:30,effort:"M",default_owner_by_size:hi,kpi_links:["real_time_visibility_rate"],proof_required:["production_dashboard"],impact_score:8}],C4={questions:hfe,library:wfe,actions:Cfe},Se=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Tfe=[Se("QS_OPS_01","Operations",["no_standard_work"],"We start cutting once we understand the job verbally.","We cut only after specs and measurements are confirmed in writing.",1.2),Se("QS_OPS_02","Operations",["bottleneck_bounce"],"Finishing time often surprises us and delays delivery.","Finishing is scheduled and controlled like a production stage.",1.1),Se("QS_MONEY_01","Money",["pricing_margin_blindspot"],"Pricing is based on what the customer can pay and what others charge.","Pricing is based on material + hours + overhead + profit margin.",1.2),Se("QS_MONEY_02","Money",["cashflow_visibility_gap"],"We start work even without a deposit to secure the client.","We start work only after deposit to protect cashflow.",1.1),Se("QS_MARKET_01","Market",["low_repeat_orders"],"Customers mostly come through referrals but we do not ask consistently.","We have a system that actively asks for referrals and reviews.",1),Se("QS_MARKET_02","Market",["spec_drift_discount"],"Customer expectations are often discussed verbally.","Customer expectations are documented (drawings, finishes, timelines).",1.2),Se("QS_LEAD_01","Leadership",["decision_bottleneck"],"The owner must approve most decisions to avoid mistakes.","Trusted staff have clear decision limits to keep work moving.",1.1),Se("QS_LEAD_02","Leadership",["no_variance_review"],"Problems are fixed when they appear, even if they repeat.","Problems are fixed at the root cause so they stop repeating.",1),Se("QS_INNOV_01","Innovation",["sku_complexity_tax"],"Every job is custom and built from scratch.","We have standard modular designs and add premium custom upgrades.",1.1),Se("QS_INNOV_02","Innovation",["slow_bug_fix"],"We rarely build templates and jigs unless forced.","We build jigs and templates because they reduce waste and speed up work.",1),Se("QS_RISK_01","Risk",["contract_gap"],"We rely on trust and verbal agreements with clients.","We use a simple contract + change order rules to avoid disputes.",1.2),Se("QS_RISK_02","Risk",["order_fulfillment_instability"],"Packing is done quickly at the end.","Packing follows a standard to prevent delivery damage.",1.1),Se("QS_PEOPLE_01","People",["training_gap"],"Quality depends on one or two skilled people.","Quality is protected by checklists and training for everyone.",1),Se("QS_PEOPLE_02","People",["onboarding_gap"],"Apprentices learn mainly by watching and trying.","Apprentices learn through structured stages to reduce waste.",1),Se("DS_OPS_01","Operations",["waste_not_costed"],"We rarely plan cutting layouts; we cut as we go.","We use cutting plans to reduce offcuts.",1.1),Se("DS_OPS_02","Operations",["measurement_blindspot"],"Measurements are checked once.","Measurements are verified before cutting.",1.1),Se("DS_OPS_03","Operations",["quality_built_late"],"Rework happens and is normal.","Rework is treated as a profit leak to eliminate.",1.1),Se("DS_OPS_04","Operations",["measurement_blindspot"],"Jobs are not tracked stage-by-stage.","Jobs use job cards and progress tracking.",1),Se("DS_OPS_05","Operations",["flow_instability"],"Workshop layout is based on tradition.","Workshop layout is based on flow and efficiency.",1),Se("DS_OPS_06","Operations",["reactive_maintenance"],"Tools are fixed when they break.","Tools are maintained to prevent downtime.",1),Se("DS_OPS_07","Operations",["planning_gap"],"Material shortages happen mid-job.","Material readiness is checked before starting.",1),Se("DS_OPS_08","Operations",["bottleneck_bounce"],"Finishing is unpredictable.","Finishing is scheduled with controlled stages.",1),Se("DS_OPS_09","Operations",["quality_built_late"],"Quality checks happen at the end.","Quality checks happen at each stage.",1.1),Se("DS_OPS_10","Operations",["order_fulfillment_instability"],"Packing is rushed.","Packing is standardized to prevent damage.",1),Se("DS_MONEY_01","Money",["costing_gap"],"Pricing is mostly market-based.","Pricing is cost-based with profit margins.",1.2),Se("DS_MONEY_02","Money",["waste_not_costed"],"Hidden consumables are not tracked.","Consumables are tracked in job costing.",1.1),Se("DS_MONEY_03","Money",["cashflow_visibility_gap"],"We start without deposits sometimes.","Deposits are mandatory.",1.1),Se("DS_MONEY_04","Money",["pricing_margin_blindspot"],"Scope changes are handled casually.","Scope changes require change orders.",1),Se("DS_MONEY_05","Money",["costing_gap"],"Labor time is not tracked per job.","Labor time is tracked per job.",1),Se("DS_MONEY_06","Money",["purchase_panic"],"Timber is bought whenever money is available.","Timber purchasing follows a plan and cash forecast.",1),Se("DS_MONEY_07","Money",["supplier_variance_risk"],"Supplier price changes surprise us.","Price changes are planned and negotiated.",.9),Se("DS_MONEY_08","Money",["pricing_margin_blindspot"],"We judge success by sales volume.","We judge success by profit per job.",1.1),Se("DS_MONEY_09","Money",["waste_not_costed"],"Rework cost is ignored.","Rework cost is measured and reduced.",1),Se("DS_MONEY_10","Money",["cashflow_visibility_gap"],"Business and personal finances mix.","Finances are separated.",1),Se("DS_MARKET_01","Market",["spec_drift_discount"],"Client specs are mostly verbal.","Specs are documented with drawings and finish details.",1.2),Se("DS_MARKET_02","Market",["order_fulfillment_instability"],"Late delivery is common.","Delivery promises are protected by planning.",1.1),Se("DS_MARKET_03","Market",["pricing_positioning_gap"],"We compete mostly on price.","We compete on quality and reliability.",1.1),Se("DS_MARKET_04","Market",["measurement_blindspot"],"We do not track quote-to-deposit conversion.","We track conversion and improve closing.",1),Se("DS_MARKET_05","Market",["low_repeat_orders"],"We rely on referrals passively.","We actively ask for referrals and reviews.",1),Se("DS_MARKET_06","Market",["pricing_positioning_gap"],"We do not have product tiers.","We offer tiers (standard/premium) to protect margin.",.9),Se("DS_MARKET_07","Market",["weak_onboarding"],"Customer updates are irregular.","Customer updates are proactive and scheduled.",.9),Se("DS_MARKET_08","Market",["complaint_handling_gap"],"Complaints are handled slowly.","Complaints are closed fast with fixes.",1),Se("DS_MARKET_09","Market",["weak_proof_pack"],"Portfolio is informal.","Portfolio is structured proof that sells.",1),Se("DS_MARKET_10","Market",["value_story_gap"],"Client selection is random.","We target clients aligned to our price and quality.",.9),Se("DS_LEAD_01","Leadership",["decision_bottleneck"],"Owner approves most decisions.","Decisions are delegated with limits.",1.1),Se("DS_LEAD_02","Leadership",["priority_whiplash"],"Planning is reactive.","Planning is routine and forward-looking.",1),Se("DS_LEAD_03","Leadership",["role_clarity_gap"],"Roles are flexible and unclear.","Roles are clear and owned.",1),Se("DS_LEAD_04","Leadership",["no_accountability_loop"],"Deadlines drift.","Deadlines are tracked and protected.",1),Se("DS_LEAD_05","Leadership",["no_variance_review"],"Problems repeat.","Problems are closed to root cause.",1.1),Se("DS_LEAD_06","Leadership",["weak_goal_alignment"],"Quality depends on the best worker.","Quality is protected by standards.",1),Se("DS_LEAD_07","Leadership",["no_meeting_to_action"],"Meetings do not lead to action.","Meetings produce owners and deadlines.",1),Se("DS_LEAD_08","Leadership",["planning_gap"],"Capacity is not considered before taking orders.","Capacity planning controls intake.",1),Se("DS_LEAD_09","Leadership",["blame_culture"],"Mistakes lead to blame.","Mistakes lead to systems improvement.",1),Se("DS_LEAD_10","Leadership",["hiring_mismatch"],"Apprentices are unmanaged.","Apprentices are coached systematically.",.9),Se("DS_INNOV_01","Innovation",["sku_complexity_tax"],"Every job is built from scratch.","Standard modular designs speed delivery.",1.1),Se("DS_INNOV_02","Innovation",["slow_bug_fix"],"Jigs and templates are rare.","Jigs and templates are used for accuracy and speed.",1),Se("DS_INNOV_03","Innovation",["no_product_testing_rhythm"],"Designs change slowly.","Designs evolve based on market demand.",1),Se("DS_INNOV_04","Innovation",["pack_size_profit_blindspot"],"Fittings are chosen for low price.","Fittings are chosen for durability and value.",1),Se("DS_INNOV_05","Innovation",["quality_definition_gap"],"Finishing quality varies.","Finishing standards are consistent.",1),Se("DS_INNOV_06","Innovation",["slow_bug_fix"],"Waste stays the same yearly.","Waste is reduced through improvement cycles.",1),Se("DS_INNOV_07","Innovation",["no_product_testing_rhythm"],"Prototypes are not tested.","Prototypes are tested before selling.",.9),Se("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"No service innovation.","Installation and warranty add value and margin.",.9),Se("DS_INNOV_09","Innovation",["no_market_feedback_loop"],"Learning stays in heads.","Learning becomes SOPs.",.9),Se("DS_INNOV_10","Innovation",["low_margin_skus"],"Product mix is random.","Product mix is optimized by profit.",1),Se("DS_RISK_01","Risk",["contract_gap"],"Agreements are informal.","Contracts and change orders protect both sides.",1.2),Se("DS_RISK_02","Risk",["hygiene_drift"],"Safety is casual.","Safety procedures are enforced.",1),Se("DS_RISK_03","Risk",["traceability_gap"],"Tool loss is expected.","Tools are controlled and tracked.",1),Se("DS_RISK_04","Risk",["payment_delay_chokehold"],"Payment tracking is informal.","Payment tracking is disciplined.",1),Se("DS_RISK_05","Risk",["order_fulfillment_instability"],"Delivery damage is common.","Packing and acceptance sign-off reduce disputes.",1),Se("DS_RISK_06","Risk",["supplier_variance_risk"],"Timber seasoning and quality is ignored.","Timber quality is controlled to prevent warping.",1),Se("DS_RISK_07","Risk",["contract_gap"],"Disputes are handled emotionally.","Disputes are handled with documentation.",1),Se("DS_RISK_08","Risk",["disaster_recovery_gap"],"Fire risk is ignored.","Fire safety is managed.",1),Se("DS_RISK_09","Risk",["insurance_gap"],"Liability is not considered.","Liability is planned.",.9),Se("DS_RISK_10","Risk",["data_security_gap"],"Records are scattered.","Records are centralized.",.9),Se("DS_PEOPLE_01","People",["training_gap"],"Skills vary widely.","Skills are standardized and trained.",1.1),Se("DS_PEOPLE_02","People",["onboarding_gap"],"Apprentices learn by guessing.","Apprentices learn by structured steps.",1),Se("DS_PEOPLE_03","People",["cross_function_breakdown"],"Fatigue is normal.","Fatigue is managed to prevent mistakes.",1),Se("DS_PEOPLE_04","People",["blame_culture"],"Shortcuts are tolerated.","Standards are enforced.",1),Se("DS_PEOPLE_05","People",["hero_operator_dependence"],"Turnover is accepted.","Retention is engineered.",.9),Se("DS_PEOPLE_06","People",["weak_shift_handover"],"Communication is informal.","Handovers are disciplined.",.9),Se("DS_PEOPLE_07","People",["role_clarity_gap"],"Quality is one person's job.","Quality is shared.",1),Se("DS_PEOPLE_08","People",["cross_function_breakdown"],"Attendance issues disrupt flow.","Attendance is planned and supported.",.9),Se("DS_PEOPLE_09","People",["low_psych_safety"],"Morale issues are ignored.","Morale is monitored.",.9),Se("DS_PEOPLE_10","People",["role_clarity_gap"],"Performance is vague.","Performance is measured.",1)],lu=["all"],R0=["Critical","Watch","Stable","Strong","Emergency"],Afe=[{pillar:"Operations",leak:"Offcut Graveyard, Measuring Error Tax, and Finish Bottleneck are creating hidden delays and costly rework loops.",strength:"Operations run with cutting plans, stage quality gates, material readiness checks, and predictable finishing flow.",hook:"Offcut Graveyard",kpi:"First-pass quality %, Rework hours/job, Offcut waste %, Cycle time/job, On-time completion %, Delivery damage %",signal_tags:["waste_not_costed","measurement_blindspot","quality_built_late"],cost:"Material waste, remake labor, and stage bottlenecks are reducing output and stretching delivery timelines.",cliffhanger:"Fix Mode installs measurement lock, cutting discipline, and finishing flow control so output scales without chaos."},{pillar:"Money",leak:"Underpricing Trap, Hidden Cost Blindness, and Scope Creep Theft are eroding margin despite strong workshop activity.",strength:"Money control is job-level: priced with labor + overhead, protected by deposits, and tracked by profit per job.",hook:"Underpricing Trap",kpi:"Profit/job, Material cost variance, Labor hours variance, Deposit rate, Scope change revenue, Inventory days",signal_tags:["costing_gap","pricing_margin_blindspot","cashflow_visibility_gap"],cost:"Extra requests, untracked consumables, and weak deposit discipline silently convert good jobs into low-margin work.",cliffhanger:"Fix Mode builds a pricing engine and change-order discipline so every extra requirement is converted into paid margin."},{pillar:"Market",leak:"Trust Collapse and Spec Confusion Disputes are weakening referrals and forcing price competition.",strength:"Market performance is reliable: specs are documented, updates are proactive, and referrals are engineered.",hook:"Trust Collapse",kpi:"On-time delivery %, Referral rate %, Quote-to-deposit %, Complaint rate %, Repeat customer %, AOV",signal_tags:["spec_drift_discount","low_repeat_orders","complaint_handling_gap"],cost:"Late delivery and unclear expectations create rework, disputes, and lost repeat business.",cliffhanger:"Fix Mode installs spec-pack and customer update routines that rebuild trust and increase referral velocity."},{pillar:"Leadership",leak:"Founder Bottleneck and Firefighting Workshop behavior are causing missed deadlines and repeated execution errors.",strength:"Leadership runs on clear ownership, daily planning cadence, and closure discipline for recurring issues.",hook:"Founder Bottleneck",kpi:"Job card compliance %, Action closure %, Deadline accuracy %, Rework recurrence %, Capacity utilization %",signal_tags:["decision_bottleneck","no_accountability_loop","no_meeting_to_action"],cost:"When decisions and standards live in one person, throughput slows and mistakes repeat across jobs.",cliffhanger:"Fix Mode assigns stage owners and enforces weekly root-cause closure so the workshop runs without approval drag."},{pillar:"Innovation",leak:"Design Stagnation and Modular Goldmine Missed are limiting speed, differentiation, and scalable margin growth.",strength:"Innovation is structured: modular designs, jigs/templates, and product pipeline experiments improve speed and value.",hook:"Modular Goldmine Missed",kpi:"New designs/quarter, % revenue modular designs, Jig/template savings, Finish quality score, Prototype success %",signal_tags:["sku_complexity_tax","slow_bug_fix","no_product_testing_rhythm"],cost:"Building every job from scratch keeps lead time high and prevents reliable premium pricing.",cliffhanger:"Fix Mode builds a core modular catalog plus premium upgrades that increase throughput and protect differentiation."},{pillar:"Risk",leak:"Contract Drama Risk, delivery damage exposure, and material quality failures are creating preventable financial shocks.",strength:"Risk systems are controlled with documented agreements, safety discipline, traceable tools/materials, and acceptance sign-off.",hook:"Contract Drama Risk",kpi:"Contract coverage %, Incident rate, Tool loss #, Dispute %, Payment delay days, Delivery incident rate",signal_tags:["contract_gap","order_fulfillment_instability","supplier_variance_risk"],cost:"Informal agreements and weak delivery controls create remakes, refund exposure, and delayed cash collection.",cliffhanger:"Fix Mode installs contract/change-order rules, packing standards, and acceptance controls to reduce dispute leakage."},{pillar:"People",leak:"Skill Variance Tax and Training Void are driving inconsistent quality, avoidable waste, and handover failures.",strength:"People systems are reliable: structured training, shared quality ownership, and handover discipline stabilize output.",hook:"Skill Variance Tax",kpi:"Skill certification %, Training hours/worker, Attendance %, Turnover %, Accountability participation %, Handover compliance %",signal_tags:["training_gap","onboarding_gap","weak_shift_handover"],cost:"When skills are uneven and shortcuts are tolerated, quality becomes fragile and rework becomes routine.",cliffhanger:"Fix Mode installs training ladders and checklist-based handovers so quality no longer depends on a few individuals."}],Efe="Custom Residential Furniture (beds, wardrobes, kitchens)",Nfe="Commercial Fit-Out & Office Furniture",Mfe="Doors, Windows & Building Joinery",Pfe="Mass/Batch Production (standard designs)",Ife="Upholstered Furniture (sofas, chairs)",$d=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_FUR_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:R0,business_size_fit:lu,text:i[r],type:"mission_brief"})),Ofe=[...$d("S1",["Furniture & carpentry production",Efe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which usually means your workshop is suffering from Custom Chaos and a Finish Bottleneck. Custom residential work looks simple, but it is a trap: measurements change on site, design details shift midstream, and finishing (sanding/paint/polish/drying) becomes the stage that silently destroys deadlines. Cost: {COST_IMPACT} through rework, idle time, and delayed delivery that forces overtime. Cliffhanger: Fix Mode will generate a 7-day measurement lock + finishing schedule system so deadlines stop collapsing at the last stage.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically the Underpricing Trap plus Scope Creep Theft. Residential clients add small things (extra drawers, thicker boards, special handles, extra coats) that steal hours and materials without being paid for. Cost: {COST_IMPACT} because your best-looking jobs become your worst-paying jobs. Cliffhanger: Fix Mode installs job costing + change-order pricing so every extra request becomes extra margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often a Trust Collapse risk caused by late deliveries, unclear expectations, and weak updates. Residential clients judge you on communication as much as quality. Cost: {COST_IMPACT} in lost referrals and reputation damage. Cliffhanger: Fix Mode creates a customer update routine + spec pack so clients trust the process and referrals increase.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning decisions and quality may depend on one person (often the owner). That creates an Approval Drag problem: when you are away, nothing moves. Cost: {COST_IMPACT} through slow execution and repeated mistakes. Cliffhanger: Fix Mode assigns owners per stage (cut-assemble-finish-pack) and forces weekly closure on recurring mistakes.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually a Modular Goldmine Missed. Custom businesses win when they standardize a core and sell premium upgrades: it speeds delivery and increases profit. Cost: {COST_IMPACT} because every job becomes from-scratch labor. Cliffhanger: Fix Mode builds a 30-day standard core catalog + premium upgrade menu to increase speed and margin.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often contract disputes, payment delays, and delivery damage exposure. One damaged delivery can eat the profit of multiple jobs. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a deposit policy, acceptance sign-off, and delivery packing standard to prevent refund and remake disasters.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - commonly Skill Variance Tax. Quality becomes unpredictable if apprentices guess measurements or finishing steps. Cost: {COST_IMPACT} through rework and wasted materials. Cliffhanger: Fix Mode installs skill checklists + training ladder so workmanship stays consistent and scalable."}),...$d("S2",[Nfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which usually signals a Workflow Traffic Jam plus Material Shortage Surprise. Fit-outs fail in scheduling and coordination: wrong dimensions, missing fittings, late delivery to site, and installation delays. Cost: {COST_IMPACT} in penalties, wasted transport trips, and idle crews on site. Cliffhanger: Fix Mode builds a 7-day installation readiness checklist and site measurement lock to prevent go-return waste.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - commonly Hidden Cost Blindness and Labor Leakage. In commercial work, profit dies in transport, site visits, re-measurements, installation errors, and rework. Cost: {COST_IMPACT} because you are paying for movement, not production. Cliffhanger: Fix Mode sets a job costing system that captures transport + site labor so pricing becomes accurate and protected.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often a positioning problem: you are seen as just another carpenter, not a professional contractor. Commercial buyers pay more for reliability, documentation, and professionalism. Cost: {COST_IMPACT} in low win rates and weak pricing power. Cliffhanger: Fix Mode creates a professional bid pack + proof portfolio to win higher-value contracts.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning coordination between workshop and site may be weak. Fit-out leadership is project management: schedules, checklists, owners, and change orders. Cost: {COST_IMPACT} through missed deadlines and penalty exposure. Cliffhanger: Fix Mode installs a 30-day project execution rhythm (weekly plan, daily progress, action closure).",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often missed standardization: office desks, partitions, storage units, and modular components can be standardized for speed. Cost: {COST_IMPACT} because every project is reinvented. Cliffhanger: Fix Mode builds a modular component library that reduces lead time and increases profit per contract.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - usually contract, liability, and safety risk. Commercial sites magnify risk: injuries, property damage, and disputes. Cost: {COST_IMPACT} plus catastrophic downside. Cliffhanger: Fix Mode builds contract terms + site safety checklist + acceptance sign-off to protect the business.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - often team reliability issues and skill gaps for installation and finishing. Cost: {COST_IMPACT} through rework, slow installation, and inconsistent delivery. Cliffhanger: Fix Mode creates skill certification for critical tasks and install checklists to stabilize performance."}),...$d("S3",[Mfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which commonly points to Measuring Error Tax plus Warp/Crack Risk from poor seasoning or inconsistent timber quality. Joinery demands precision; small deviations cause big fitting problems onsite. Cost: {COST_IMPACT} via remakes, site returns, and delayed installation. Cliffhanger: Fix Mode creates a 7-day measurement verification and timber quality control routine to stop remakes.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often Underpricing Trap plus rework eating margin. Joinery jobs look profitable on paper, but installation returns and remakes destroy true profit. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds pricing that includes installation complexity and quality risk, so you stop undercharging.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often reputation risk: doors and windows are high-complaint products because clients notice fit, smoothness, and finish instantly. Cost: {COST_IMPACT} through complaints, refunds, and negative referrals. Cliffhanger: Fix Mode installs a finishing and fit standard so quality becomes predictable and referral-worthy.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning production and site work may not be coordinated. Cost: {COST_IMPACT} as time is wasted through site surprises and missing parts. Cliffhanger: Fix Mode assigns owners for measurement, fabrication, finishing, and installation with a standard handover.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed standardization of sizes and components, plus missed upsells (security upgrades, premium finishes). Cost: {COST_IMPACT} in lost margin. Cliffhanger: Fix Mode creates a product tier system and standardized components so you sell premium upgrades, not just wood.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - contract disputes and warranty claims are common in joinery. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs acceptance sign-off and warranty terms to reduce disputes and protect cash.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - skill variance is dangerous because precision work punishes almost-correct. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates jigs/templates and skill checks so accuracy improves without relying on one master."}),...$d("S4",[Pfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, typically signaling Workshop Traffic Jam and weak flow control. In batch production, the enemy is disorganization: too much WIP, missing materials, and finishing delays. Cost: {COST_IMPACT} because your throughput is capped by chaos, not capacity. Cliffhanger: Fix Mode builds a 7-day flow map + WIP limits to increase output without buying machines.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - commonly poor job costing and inventory cash traps. Batch production should be margin-rich if waste and cycle time are controlled; if not, volume becomes a loss machine. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds unit cost and margin by product so you stop producing items that sell but do not profit.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually weak distribution and inconsistent customer experience. Standard products need consistent delivery and consistent quality to scale. Cost: {COST_IMPACT} through stockouts, inconsistent repeat orders, and price pressure. Cliffhanger: Fix Mode installs order forecasting and delivery discipline to stabilize repeat buying.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - output may depend on daily pressure rather than standard work. Cost: {COST_IMPACT} as mistakes repeat and waste becomes permanent. Cliffhanger: Fix Mode sets daily production boards and weekly root-cause closures so output rises steadily.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed opportunities to improve designs for cost, durability, and assembly speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day cost-down redesign sprint: less waste, faster build, premium look.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - safety, theft, and delivery damage scale with volume. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs inventory controls and safety routines to reduce preventable losses.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - if training is weak, defect rates rise with volume. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training SOPs and quality gates so scale does not create chaos."}),...$d("S5",[Ife],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often signaling Material Shortage Surprise and Finish Bottleneck - but in upholstery it is foam, fabric, and stitching quality that create hidden delays and rework. One wrong cut of fabric can waste an entire roll section. Cost: {COST_IMPACT} via fabric waste, rework, and late delivery. Cliffhanger: Fix Mode builds a 7-day fabric cutting and staging routine to stop expensive mistakes.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically Hidden Cost Blindness (foam, fabric, adhesives, transport) and undercharging for complexity (tufting, curves, premium fabrics). Cost: {COST_IMPACT} because you sell premium-looking sofas with fragile margins. Cliffhanger: Fix Mode creates a complexity pricing model and material costing system so every upgrade is profitable.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - upholstery is trust-based: customers judge comfort, stitching, and durability. Inconsistent quality triggers returns and reputation damage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs a durability and comfort standard with quality proof that increases referrals.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning workflow and quality responsibility may be unclear: frame, foam, fabric, finishing. Cost: {COST_IMPACT} through handover mistakes and rework loops. Cliffhanger: Fix Mode assigns owners and checklists per stage so quality is protected before mistakes become expensive.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed modular designs and product tiers (standard frame + fabric upgrades). Cost: {COST_IMPACT} because every sofa becomes a custom headache. Cliffhanger: Fix Mode builds a modular catalog that speeds production and allows profitable customization.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - fire hazards, tool loss, and warranty disputes are common. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs safety routines and warranty terms that reduce business-ending conflicts.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - upholstery is skill-sensitive; stitching and cutting errors are expensive. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs skill standards, templates, and training ladders to stabilize quality."})],Lfe=Afe.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_FUR_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:lu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_FUR_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:lu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_FUR_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:R0,business_size_fit:lu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_FUR_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:R0,business_size_fit:lu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),Rfe=[...Lfe,...Ofe],mi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},Dfe=[{action_id:"ACT_FUR_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["waste_not_costed"],title:"Offcut Baseline + Cutting Plan Rule",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["wood_waste_percent"],proof_required:["offcut_log","cutting_plans"],impact_score:9},{action_id:"ACT_FUR_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Double-Check Measurement System (2-person verify)",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["rework_incidents"],proof_required:["measurement_verification_checklist"],impact_score:8},{action_id:"ACT_FUR_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_accountability_loop"],title:"Job Card for Every Order",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["on_time_completion_percent"],proof_required:["job_cards"],impact_score:8},{action_id:"ACT_FUR_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["bottleneck_bounce"],title:"Finishing Bottleneck Fix (staging + drying schedule)",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["cycle_time_days"],proof_required:["finishing_schedule_board"],impact_score:8},{action_id:"ACT_FUR_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["planning_gap"],title:"Material Readiness Checklist (fittings/varnish/screws)",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["stoppages_due_missing_items"],proof_required:["material_readiness_checklist"],impact_score:8},{action_id:"ACT_FUR_RISK_7_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["order_fulfillment_instability"],title:"Packing Standard + Damage Prevention",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["delivery_damage_rate"],proof_required:["packing_photos"],impact_score:8},{action_id:"ACT_FUR_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["cashflow_visibility_gap"],title:"Deposit Rule Enforcement (minimum % to start)",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["deposit_collection_rate"],proof_required:["deposit_policy"],impact_score:9},{action_id:"ACT_FUR_MONEY_7_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["pricing_margin_blindspot"],title:"Scope Change Script + Change Order Form",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["scope_change_revenue_captured"],proof_required:["signed_change_orders"],impact_score:8},{action_id:"ACT_FUR_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Tool Maintenance Sprint (sharpen, calibrate, repair)",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["tool_downtime_hours"],proof_required:["tool_maintenance_log"],impact_score:7},{action_id:"ACT_FUR_LEAD_7_02",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_meeting_to_action"],title:"Daily 15-min Planning Huddle",days:7,effort:"S",default_owner_by_size:mi,kpi_links:["action_closure_rate"],proof_required:["huddle_notes"],impact_score:7},{action_id:"ACT_FUR_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"Pricing Engine (Material + Labor + Overhead + Profit)",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["profit_per_job","material_cost_variance"],proof_required:["pricing_template"],impact_score:9},{action_id:"ACT_FUR_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["sku_complexity_tax"],title:"Standard Designs Library (Top 10 best sellers)",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["revenue_standard_designs_percent"],proof_required:["design_catalog"],impact_score:8},{action_id:"ACT_FUR_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["slow_bug_fix"],title:"Jigs/Templates for Accuracy & Speed",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["lead_time_reduction","rework_reduction"],proof_required:["jig_set"],impact_score:8},{action_id:"ACT_FUR_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],title:"Workshop Layout Optimization (flow mapping)",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["cycle_time_days"],proof_required:["layout_map"],impact_score:8},{action_id:"ACT_FUR_MONEY_30_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["inventory_blindspot"],title:"Inventory Min/Max for Timber & Fittings",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["stockouts_count","inventory_days"],proof_required:["reorder_rules"],impact_score:8},{action_id:"ACT_FUR_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Quality Gates (cut, assemble, finish, pack)",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["first_pass_quality_percent"],proof_required:["quality_gate_checklists"],impact_score:9},{action_id:"ACT_FUR_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["spec_drift_discount"],title:"Customer Spec Pack (drawing + finish + timeline)",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["dispute_rate"],proof_required:["spec_pack_samples"],impact_score:8},{action_id:"ACT_FUR_MARKET_30_02",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["low_repeat_orders"],title:"Referral Engine (ask + incentive + follow-up)",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["referral_rate"],proof_required:["referral_tracker"],impact_score:7},{action_id:"ACT_FUR_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Training Ladder for Apprentices (skills stages)",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["skill_certification_coverage"],proof_required:["training_plan"],impact_score:8},{action_id:"ACT_FUR_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["contract_gap"],title:"Delivery & Installation SOP + Acceptance Sign-off",days:30,effort:"M",default_owner_by_size:mi,kpi_links:["delivery_incident_rate","dispute_rate"],proof_required:["signed_acceptance_forms"],impact_score:9}],T4={questions:Tfe,library:Rfe,actions:Dfe},we=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),jfe=[we("QS_OPS_01","Operations",["no_standard_work"],"We often start fabrication with verbal or WhatsApp specs.","We start only after drawings and specs are confirmed.",1.2),we("QS_OPS_02","Operations",["quality_built_late"],"Defects are usually discovered at the end.","Defects are caught early through stage QC checks.",1.1),we("QS_MONEY_01","Money",["costing_gap"],"We quote mostly to win the job quickly.","We quote using material + hours + consumables + margin.",1.2),we("QS_MONEY_02","Money",["cashflow_visibility_gap"],"We sometimes start work before deposit to secure the client.","We start only after deposit to protect cashflow.",1.1),we("QS_MARKET_01","Market",["low_repeat_orders"],"Most jobs come from referrals but we do not ask systematically.","We have a referral + proof system that generates steady leads.",1),we("QS_MARKET_02","Market",["spec_drift_discount"],"Clients sometimes complain about delays or unclear expectations.","Clients get clear timelines and progress updates.",1.1),we("QS_LEAD_01","Leadership",["decision_bottleneck"],"Many decisions wait for the owner or foreman.","Teams have decision limits so work moves faster.",1.1),we("QS_LEAD_02","Leadership",["no_variance_review"],"The same problems repeat under pressure.","Problems are solved to root cause so they stop repeating.",1),we("QS_INNOV_01","Innovation",["sku_complexity_tax"],"Repeat jobs are rebuilt from scratch each time.","Repeat jobs use templates and jigs to reduce errors and speed up.",1),we("QS_INNOV_02","Innovation",["slow_bug_fix"],"Tools are upgraded only when they fail.","Tools are upgraded when ROI shows time savings.",.9),we("QS_RISK_01","Risk",["hygiene_drift"],"Safety depends on personal discipline.","Safety is enforced with routines and audits.",1.2),we("QS_RISK_02","Risk",["contract_gap"],"Scope changes are handled informally.","Scope changes require signed change orders.",1.1),we("QS_PEOPLE_01","People",["hero_operator_dependence"],"Quality depends on a few skilled welders.","Quality is protected by standards and training.",1),we("QS_PEOPLE_02","People",["onboarding_gap"],"New workers learn by observing and trying.","New workers follow structured training stages.",1),we("DS_OPS_01","Operations",["no_standard_work"],"Specs are mostly verbal.","Specs are documented and confirmed.",1.1),we("DS_OPS_02","Operations",["measurement_blindspot"],"Measurements are checked once.","Measurements are verified before cutting.",1.1),we("DS_OPS_03","Operations",["waste_not_costed"],"Scrap is accepted as normal.","Scrap is tracked and reduced.",1),we("DS_OPS_04","Operations",["flow_instability"],"Fit-up is improvised.","Fit-up follows standards to reduce distortion.",1),we("DS_OPS_05","Operations",["quality_definition_gap"],"Welding quality varies by person.","Welding follows SOP and checks.",1),we("DS_OPS_06","Operations",["inventory_blindspot"],"Consumables run out during jobs.","Consumables are staged beforehand.",1),we("DS_OPS_07","Operations",["quality_built_late"],"QC happens at the end.","QC happens at each stage.",1.1),we("DS_OPS_08","Operations",["bottleneck_bounce"],"Bottlenecks surprise us.","Bottlenecks are scheduled and managed.",1),we("DS_OPS_09","Operations",["order_fulfillment_instability"],"Painting and finishing delays delivery.","Finishing is planned and controlled.",1),we("DS_OPS_10","Operations",["measurement_blindspot"],"Job progress is mostly in people's heads.","Job progress is visible on a board/dashboard.",.9),we("DS_MONEY_01","Money",["costing_gap"],"Quotes are fast guesses.","Quotes are based on costing and hours.",1.2),we("DS_MONEY_02","Money",["waste_not_costed"],"Consumables are small things.","Consumables are costed per job.",1),we("DS_MONEY_03","Money",["costing_gap"],"We do not track hours per job.","We track hours per job type.",1.1),we("DS_MONEY_04","Money",["cashflow_visibility_gap"],"Deposits are optional.","Deposits are mandatory.",1.1),we("DS_MONEY_05","Money",["pricing_margin_blindspot"],"Scope creep is absorbed.","Scope creep is charged with change orders.",1),we("DS_MONEY_06","Money",["supplier_variance_risk"],"Steel price changes surprise us.","Quotes have validity windows and buffers.",1),we("DS_MONEY_07","Money",["waste_not_costed"],"Rework costs are ignored.","Rework costs are tracked and reduced.",1),we("DS_MONEY_08","Money",["pricing_margin_blindspot"],"Profit is judged by cash received.","Profit is measured per job.",1),we("DS_MONEY_09","Money",["payment_delay_chokehold"],"Payment delays are unmanaged.","Collections follow a system.",1),we("DS_MONEY_10","Money",["cashflow_visibility_gap"],"Business money mixes with personal.","Finances are separated.",1),we("DS_MARKET_01","Market",["low_repeat_orders"],"We rely on referrals passively.","We actively build referrals and proof packs.",1),we("DS_MARKET_02","Market",["order_fulfillment_instability"],"Delivery dates are flexible.","Delivery dates are tracked and protected.",1.1),we("DS_MARKET_03","Market",["pricing_positioning_gap"],"We compete on price.","We compete on standards and reliability.",1.1),we("DS_MARKET_04","Market",["weak_proof_pack"],"Portfolio is informal.","Portfolio is structured and persuasive.",1),we("DS_MARKET_05","Market",["spec_drift_discount"],"Client expectations shift often.","Expectations are locked with sign-off.",1.1),we("DS_MARKET_06","Market",["weak_onboarding"],"Communication is reactive.","Communication is proactive and scheduled.",.9),we("DS_MARKET_07","Market",["complaint_handling_gap"],"Complaints are handled slowly.","Complaints are closed fast with documentation.",1),we("DS_MARKET_08","Market",["channel_dependency"],"One client dominates revenue.","Client base is diversified.",1.1),we("DS_MARKET_09","Market",["weak_onboarding"],"Quote follow-up is weak.","Follow-up is systematic until yes/no.",.9),we("DS_MARKET_10","Market",["spec_drift_discount"],"Specs are unclear and disputes follow.","Specs are clear and disputes reduce.",1),we("DS_LEAD_01","Leadership",["decision_bottleneck"],"Owner or foreman approves everything.","Decisions are delegated with limits.",1.1),we("DS_LEAD_02","Leadership",["priority_whiplash"],"Planning is reactive.","Planning is routine and forward.",1),we("DS_LEAD_03","Leadership",["no_variance_review"],"Problems repeat.","Problems are closed to root cause.",1.1),we("DS_LEAD_04","Leadership",["weak_goal_alignment"],"Standards collapse under pressure.","Standards survive busy periods.",1),we("DS_LEAD_05","Leadership",["no_accountability_loop"],"Accountability is unclear.","Owners exist per stage/task.",1),we("DS_LEAD_06","Leadership",["no_meeting_to_action"],"Meetings do not produce actions.","Meetings produce owners + deadlines.",1),we("DS_LEAD_07","Leadership",["no_kpi_ownership"],"Capacity is ignored when accepting jobs.","Capacity planning controls intake.",1),we("DS_LEAD_08","Leadership",["management_by_memory"],"Quality is emotional.","Quality is measured.",1),we("DS_LEAD_09","Leadership",["weak_goal_alignment"],"Safety enforcement is inconsistent.","Safety enforcement is routine.",.9),we("DS_LEAD_10","Leadership",["hiring_mismatch"],"Training is informal.","Training is structured.",.9),we("DS_INNOV_01","Innovation",["sku_complexity_tax"],"Repeat jobs are rebuilt from scratch.","Templates and jigs reduce errors.",1.1),we("DS_INNOV_02","Innovation",["slow_bug_fix"],"Layout is traditional.","Layout is optimized for flow.",1),we("DS_INNOV_03","Innovation",["slow_bug_fix"],"Tool upgrades are avoided.","Tool upgrades are ROI-based.",1),we("DS_INNOV_04","Innovation",["quality_definition_gap"],"Drawings are low quality.","Drawings are improved for fabrication efficiency.",1),we("DS_INNOV_05","Innovation",["no_product_testing_rhythm"],"Scrap stays the same yearly.","Scrap reduces through improvement cycles.",1),we("DS_INNOV_06","Innovation",["no_product_testing_rhythm"],"No prototype/testing habits.","Prototype/testing prevents costly errors.",.9),we("DS_INNOV_07","Innovation",["no_market_feedback_loop"],"Digital tracking is avoided.","Digital tracking improves speed and visibility.",.9),we("DS_INNOV_08","Innovation",["slow_bug_fix"],"Installation methods vary.","Installation methods are standardized.",.9),we("DS_INNOV_09","Innovation",["low_margin_skus"],"No product lines.","Product lines are built with margin strategy.",1),we("DS_INNOV_10","Innovation",["no_market_feedback_loop"],"Learning stays in heads.","Learning becomes SOPs.",.9),we("DS_RISK_01","Risk",["hygiene_drift"],"Safety is personal choice.","Safety is enforced with audits.",1.1),we("DS_RISK_02","Risk",["disaster_recovery_gap"],"Fire/gas hazards are casual.","Fire/gas safety is controlled.",1),we("DS_RISK_03","Risk",["contract_gap"],"Contracts are informal.","Contracts include scope and change clauses.",1.1),we("DS_RISK_04","Risk",["traceability_gap"],"Tool loss is normal.","Tool control reduces loss.",1),we("DS_RISK_05","Risk",["insurance_gap"],"Installation risks are not planned.","Installation checklists reduce liability.",1),we("DS_RISK_06","Risk",["contract_gap"],"Disputes are emotional.","Disputes are documented.",1),we("DS_RISK_07","Risk",["ip_brand_protection_gap"],"IP/designs are shared freely.","IP/designs are protected.",.9),we("DS_RISK_08","Risk",["compliance_blocker_risk"],"QC records are missing.","QC records exist for accountability.",1),we("DS_RISK_09","Risk",["compliance_blocker_risk"],"Compliance is ignored.","Compliance is respected where required.",1),we("DS_RISK_10","Risk",["data_security_gap"],"Customer records are scattered.","Records are centralized.",.9),we("DS_PEOPLE_01","People",["training_gap"],"Skill varies widely.","Skills are standardized.",1.1),we("DS_PEOPLE_02","People",["onboarding_gap"],"New workers learn by trial.","New workers follow structured training.",1),we("DS_PEOPLE_03","People",["cross_function_breakdown"],"Fatigue is normal.","Fatigue is managed for quality and safety.",1),we("DS_PEOPLE_04","People",["blame_culture"],"Shortcuts are tolerated.","Standards are enforced.",1),we("DS_PEOPLE_05","People",["hero_operator_dependence"],"Turnover is accepted.","Retention is built intentionally.",.9),we("DS_PEOPLE_06","People",["weak_shift_handover"],"Communication is informal.","Handovers are disciplined.",.9),we("DS_PEOPLE_07","People",["role_clarity_gap"],"Quality is one person's job.","Quality is shared responsibility.",1),we("DS_PEOPLE_08","People",["fear_index"],"Safety culture is weak.","Safety culture is strong.",1),we("DS_PEOPLE_09","People",["role_clarity_gap"],"Performance is vague.","Performance is measured.",1),we("DS_PEOPLE_10","People",["low_psych_safety"],"Morale issues are ignored.","Morale is monitored and improved.",.9)],cu=["all"],D0=["Critical","Watch","Stable","Strong","Emergency"],Kfe=[{pillar:"Operations",leak:"Rework Forge, Scrap Mountain, and Fit-Up Failure Loop are consuming labor and steel while delivery promises slip.",strength:"Operations are controlled with drawing lock, fit-up standards, staged QC, and managed bottlenecks.",hook:"Rework Forge",kpi:"Scrap %, Rework hours/job, First-pass weld quality %, On-time completion %, Cycle time/job, Stockout incidents #",signal_tags:["quality_built_late","waste_not_costed","flow_instability"],cost:"Cutting errors, distortion, and late-stage defects create refabrication cycles that burn material and time.",cliffhanger:"Fix Mode installs drawing/spec lock, fit-up SOP, and QC stage gates so metal leaves the shop right the first time."},{pillar:"Money",leak:"Underquote Suicide and Hidden Consumables Bleed are compressing margin while payment delays and rework costs grow.",strength:"Money control is job-level with accurate quoting, tracked hours, deposit discipline, and costed consumables.",hook:"Underquote Suicide",kpi:"Profit/job, Quote accuracy, Consumables cost/job, Deposit rate, DSO, Warranty/rework cost",signal_tags:["costing_gap","pricing_margin_blindspot","payment_delay_chokehold"],cost:"Jobs are won fast but profitability is lost in unpriced consumables, scope changes, and overtime-heavy execution.",cliffhanger:"Fix Mode builds full job-costing and change-order rules so every quoted job protects margin in execution."},{pillar:"Market",leak:"Trust Collapse and Spec Confusion Dispute patterns are weakening close rate and repeat contract confidence.",strength:"Market execution is professional: specs are signed, progress is communicated, and proof packs support premium pricing.",hook:"Trust Collapse",kpi:"Quote-to-deposit %, On-time delivery %, Complaint/dispute %, Repeat client %, AOV, Referral %",signal_tags:["spec_drift_discount","weak_proof_pack","channel_dependency"],cost:"Unclear expectations and weak follow-through reduce referrals, trigger disputes, and force price-driven negotiations.",cliffhanger:"Fix Mode deploys a proof-driven sales and updates cadence so clients buy reliability, not the cheapest quote."},{pillar:"Leadership",leak:"Founder Bottleneck and Firefighting Workshop patterns are causing slow decisions, unstable quality, and repeated issues.",strength:"Leadership runs on clear stage ownership, daily plan-vs-actual rhythm, and weekly closure of recurring causes.",hook:"Founder Bottleneck",kpi:"Action closure %, Job card compliance %, Recurring defect rate, Capacity utilization %, Delegation coverage %",signal_tags:["decision_bottleneck","no_accountability_loop","no_meeting_to_action"],cost:"When decisions and standards depend on one person, throughput stalls and defect recurrence becomes expensive.",cliffhanger:"Fix Mode assigns stage owners and installs closure cadence so quality and deadlines survive pressure."},{pillar:"Innovation",leak:"Jig-less Production and Repeat Work Blindness are forcing rework, long setup time, and avoidable scrap.",strength:"Innovation is practical: jigs/templates, improved drawings, optimized layouts, and digital tracking cut waste and delay.",hook:"Jig-less Production",kpi:"Jig adoption %, Setup time reduction %, Scrap trend, New product lines/quarter, Digital tracking coverage %",signal_tags:["sku_complexity_tax","slow_bug_fix","no_market_feedback_loop"],cost:"Rebuilding repeat parts from scratch blocks compounding efficiency gains that should improve margin every month.",cliffhanger:"Fix Mode launches a 30-day jigs + method + digital visibility sprint tied to cycle time and scrap reduction."},{pillar:"Risk",leak:"Safety Time Bomb and Contract Penalty exposure are rising due to informal controls in high-risk welding and site work.",strength:"Risk systems are enforced with safety routines, signed scope/change terms, traceable records, and site sign-offs.",hook:"Contract Penalty Trap",kpi:"Safety incidents/near misses, Contract coverage %, Tool loss #, Compliance issues #, Installation incidents #",signal_tags:["hygiene_drift","contract_gap","compliance_blocker_risk"],cost:"One incident, dispute, or late penalty can erase monthly profit and damage long-term contract access.",cliffhanger:"Fix Mode implements safety audits, contract controls, and documentation discipline to prevent business-ending shocks."},{pillar:"People",leak:"Skill Variance Tax and Training Void are creating quality swings, hidden scrap, and fragile delivery capacity.",strength:"People systems stabilize output through tested skill standards, structured onboarding, and shared quality ownership.",hook:"Skill Variance Tax",kpi:"Skill certification %, Training hours/month, Attendance %, Turnover %, Quality participation %, Safety completion %",signal_tags:["training_gap","hero_operator_dependence","onboarding_gap"],cost:"When quality relies on a few welders and apprentices learn by guessing, defects and delays scale with workload.",cliffhanger:"Fix Mode installs internal skill tests, training ladders, and disciplined handovers so quality is repeatable."}],Ffe="Structural Steel & Construction Fabrication (frames, beams, gates, stairs)",Bfe="Doors, Windows, Grills & Security Products",Ufe="Industrial Fabrication (tanks, platforms, racks, hoppers)",qfe="Automotive Fabrication (trailers, bodies, repairs/mods)",zfe="Aluminum Fabrication (doors, partitions, glazing frames)",Wfe="Stainless Steel Works (kitchen, hospital, food-grade)",Ul=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_METAL_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:D0,business_size_fit:cu,text:i[r],type:"mission_brief"})),Vfe=[...Ul("S1",["Metal works / fabrication",Ffe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which often signals No-Drawings Chaos and Fit-Up Failure Loop. In structural work, one wrong measurement becomes a full refabrication - steel does not forgive. When fit-up is improvised, weld distortion increases, alignment fails, and rework becomes normal. Cost: {COST_IMPACT} through scrap, rework labor, and site returns. Cliffhanger: Fix Mode generates a 7-day drawing lock + fit-up SOP + stage QC gates so steel leaves the shop right the first time.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - usually Underquote Suicide plus Hidden Consumables Bleed (gas, electrodes, discs, wire). Structural jobs look profitable until you add the real weld hours, grinder time, transport, and site adjustments. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a job-costing template that prices steel + labor + consumables + transport so you stop winning jobs that lose money.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often a Trust Collapse risk: late delivery, weak progress updates, and unclear specs. In construction, reliability is the product. Cost: {COST_IMPACT} in lost repeat contracts and reduced pricing power. Cliffhanger: Fix Mode installs a professional bid pack + progress reporting so clients trust you like a contractor, not a hustler.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - meaning the shop may run on firefighting, and decisions wait for one person. This creates Founder Bottleneck delays and chaotic quality. Cost: {COST_IMPACT} as jobs slip and overtime grows. Cliffhanger: Fix Mode assigns owners per stage (cut-fit-weld-finish-install) and forces weekly closure on repeat issues.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually missing jigs, templates, and better fabrication standards. Structural profit compounds through small time savings repeated daily. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day jigs + layout + method improvement sprint tied to cycle time and scrap reduction.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - structural work carries high risk: safety incidents, site liability, contract penalties. One accident or a failed structure can destroy the business. Cost: {COST_IMPACT} plus catastrophic downside. Cliffhanger: Fix Mode creates safety audits, contract clauses, and installation checklists to reduce business-ending risk.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - commonly Skill Variance Tax. If weld quality depends on that one guy, output becomes fragile. Cost: {COST_IMPACT} via rework and inconsistent delivery. Cliffhanger: Fix Mode builds internal skill tests + weld SOPs so quality becomes predictable across the team."}),...Ul("S2",[Bfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often pointing to Measurement Drift and Weld Quality Roulette. Security products look simple, but customers notice gaps, misalignment, weak hinges, and poor finish immediately. Small mistakes multiply because you repeat the same work at high volume. Cost: {COST_IMPACT} through refabrication, returns, and reputation damage. Cliffhanger: Fix Mode installs a 7-day measurement lock + jig templates + finishing standard to reduce rework fast.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - usually Underquote Suicide plus Scope Creep Theft (extra locks, stronger hinges, thicker steel, extra coats). Cost: {COST_IMPACT} because small upgrades become unpaid margin killers. Cliffhanger: Fix Mode builds tier pricing (standard/premium) and a change-order script so upgrades become profit, not pain.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often a Price War Trap. Many shops sell the same grills; winners differentiate through finish, durability, and installation professionalism. Cost: {COST_IMPACT} in thin margins and endless haggling. Cliffhanger: Fix Mode creates a proof pack (before/after, durability promises, install SOP) that justifies higher prices.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - likely missing standard work. When pressure rises, shortcuts happen, defects rise, and refunds appear. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs daily job boards + QC gates so quality does not collapse during busy weeks.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed modular designs and standardized components (hinge plates, lock boxes, frame sizes). Cost: {COST_IMPACT} because you keep reinventing what could be templated. Cliffhanger: Fix Mode builds a 30-day modular library that reduces cycle time and increases output.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - security work carries installation liability and customer disputes if locks fail, hinges snap, or welding cracks. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs installation sign-off + warranty terms + material standards to reduce disputes.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - apprentices guessing and shortcut culture lead to weak welds and misalignment. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates training checklists and quality ownership so defects reduce without constant shouting."}),...Ul("S3",[Ufe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating Fit-Up Failure Loop and No-Drawings Chaos. Industrial jobs require precision and testing; fabrication errors are expensive because the product must function under load, pressure, or wear. Cost: {COST_IMPACT} through rework, failed tests, and client trust loss. Cliffhanger: Fix Mode generates a 7-day drawing/spec lock plus stage testing checklists so failures are caught early.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - commonly Hidden Consumables Bleed plus Time Theft Fog. Industrial work has heavy grinding, fitting, and finishing time; if you do not track hours, you underprice by default. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs time tracking + job costing so your quotes match reality and margins stabilize.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - industrial buyers pay for documentation, testing, and reliability. If your offers look informal, you lose contracts even if you have skills. Cost: {COST_IMPACT} in lost high-ticket jobs. Cliffhanger: Fix Mode builds a contractor-level documentation pack that increases close rate and price strength.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - likely weak project planning and unclear ownership. Industrial jobs fail when the shop is not run like a project. Cost: {COST_IMPACT} via delays, overtime, and errors. Cliffhanger: Fix Mode installs project execution routines: owners, deadlines, progress checks, and action closure.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed opportunities in design-for-fabrication (simplifying joints, using jigs, modularity). Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day design simplification sprint to reduce build time while improving reliability.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - industrial failures create serious liability. Safety, standards, and documentation protect your future. Cost: {COST_IMPACT} plus catastrophic downside. Cliffhanger: Fix Mode builds compliance checklists and QC documentation to reduce dangerous failures.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - high-skill work requires consistent weld quality and disciplined QC behavior. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds skill standards and a no-shame QC culture so defects are surfaced early, not hidden."}),...Ul("S4",[qfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often pointing to Measurement Drift and Rework Forge. Automotive jobs are messy: unknown damage, hidden alignment issues, and client changes. Without structured intake and inspection, jobs expand and deadlines explode. Cost: {COST_IMPACT} through refabrication, repeated fitting, and wasted labor. Cliffhanger: Fix Mode installs a 7-day intake inspection + scope lock system so every job starts with clarity.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically Scope Creep Theft plus undercharging for complexity. Automotive work kills profit when you charge like it is simple but deliver like it is engineering. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates complexity pricing and stage billing so custom mods stop draining cash.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - automotive buyers buy trust and turnaround time. If delivery is inconsistent, referrals die. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds customer updates and proof-of-work (photos at each stage) to increase trust and repeat business.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - likely chaotic job prioritization and unclear ownership. Cost: {COST_IMPACT} as jobs pile up half-finished. Cliffhanger: Fix Mode builds job boards and prioritization rules so cash jobs move first and backlog reduces.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed opportunity to standardize repeat elements (trailer frames, hinge sets, mounting points). Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates a 30-day standard kit system so speed and margin increase.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - automotive fabrication has serious liability if a trailer fails on the road. Cost: {COST_IMPACT} plus business-ending risk. Cliffhanger: Fix Mode adds safety and load-testing checklists plus warranty terms to reduce dangerous failures.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - shortcut culture and fatigue can cause weak welds and dangerous builds. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs quality sign-offs and training ladders so builds are safe and consistent."}),...Ul("S5",[zfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating Measurement Drift and weak finishing/installation discipline. Aluminum looks clean - until gaps show, frames misalign, or seals fail. Cost: {COST_IMPACT} via refits, returns, and site delays. Cliffhanger: Fix Mode builds a 7-day measurement lock + installation checklist so site rework drops immediately.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - commonly undercharging for installation complexity and rework risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs tier pricing and change orders so custom glass, seals, and hardware upgrades become margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - aluminum buyers choose finish quality and professionalism. Weak documentation makes you look cheap. Cost: {COST_IMPACT} through low closing rates and price pressure. Cliffhanger: Fix Mode builds a proof portfolio and professional quote pack that lifts price confidence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - likely poor coordination between workshop fabrication and site installation. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns stage owners and forces handover checklists for smooth installation.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed modular templates for common sizes and standard hardware kits. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a 30-day standard sizes + hardware kit library to reduce errors and speed delivery.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - safety and liability risks exist in glass handling and installation. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds safety SOPs and acceptance sign-offs to reduce incidents and disputes.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - installation skill variance creates visible defects and customer complaints. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training checklists and quality sign-off so finish looks premium every time."}),...Ul("S6",[Wfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often pointing to Finish Standards Gaps and fabrication inconsistency. Stainless customers judge weld cleanliness, polish, hygiene, and durability - small defects look like incompetence. Cost: {COST_IMPACT} through rework, rejection, and brand damage. Cliffhanger: Fix Mode builds a 7-day finishing standard + QC checklist so output becomes consistently premium.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - stainless often suffers from undercharging for finishing labor. Polish and hygiene-grade quality are time expensive; if you price like mild steel, you lose money. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds stainless-specific pricing (finish grades, labor tiers) so premium work produces premium margins.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - stainless buyers pay for hygiene confidence, professionalism, and proof. Cost: {COST_IMPACT} if clients doubt your standards. Cliffhanger: Fix Mode creates a hygiene-grade proof pack (photos, specs, finish grade language) that boosts close rates and pricing power.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - likely missing standards and stage ownership for finishing and QC. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs owners and QC gates so defects are caught early, not after polishing.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed modular designs and repeat templates for sinks, tables, shelves, and kitchen sets. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a 30-day modular catalog to increase speed and repeat sales.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - food and hospital-related stainless work carries reputational and compliance risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds documentation, acceptance sign-off, and warranty terms to reduce disputes and protect reputation.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - stainless finishing skill variance is brutal: one bad welder or polisher can destroy the brand. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs skill tests + finishing SOPs so premium output becomes consistent."})],Hfe=Kfe.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_METAL_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:cu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_METAL_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:cu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_METAL_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:D0,business_size_fit:cu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_METAL_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:D0,business_size_fit:cu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),Gfe=[...Hfe,...Vfe],yi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},$fe=[{action_id:"ACT_METAL_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["no_standard_work"],title:"Drawing/Spec Lock Rule (No fabrication from WhatsApp only)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["dispute_rate"],proof_required:["signed_spec_sheet"],impact_score:9},{action_id:"ACT_METAL_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["waste_not_costed"],title:"Scrap & Rework Baseline (Top 5 causes)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["scrap_rate","rework_hours"],proof_required:["scrap_log"],impact_score:9},{action_id:"ACT_METAL_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Measurement Verification System (2-person check before cutting)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["refabrication_incidents"],proof_required:["measurement_checklist"],impact_score:8},{action_id:"ACT_METAL_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["inventory_blindspot"],title:"Consumables Staging Checklist",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["consumable_stockout_incidents"],proof_required:["staging_sheet"],impact_score:8},{action_id:"ACT_METAL_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],title:"Fit-Up Standard (tack sequence + clamp rules)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["distortion_defects"],proof_required:["fitup_sop"],impact_score:8},{action_id:"ACT_METAL_OPS_7_06",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["bottleneck_bounce"],title:"Bottleneck Machine Plan (schedule + preventive maintenance)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["idle_payroll_leak"],proof_required:["machine_schedule"],impact_score:8},{action_id:"ACT_METAL_OPS_7_07",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"QC Gates (fit-up -> weld -> finish)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["first_pass_quality"],proof_required:["qc_stamps"],impact_score:9},{action_id:"ACT_METAL_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["cashflow_visibility_gap"],title:"Deposit Policy Enforcement (minimum to start)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["deposit_collection_rate"],proof_required:["deposit_policy"],impact_score:9},{action_id:"ACT_METAL_MONEY_7_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["pricing_margin_blindspot"],title:"Change Order Form (scope creep pricing)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["scope_revenue_captured"],proof_required:["signed_change_orders"],impact_score:8},{action_id:"ACT_METAL_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_meeting_to_action"],title:"Daily 15-min Job Board (Plan vs Actual)",days:7,effort:"S",default_owner_by_size:yi,kpi_links:["on_time_completion"],proof_required:["job_board_photos"],impact_score:7},{action_id:"ACT_METAL_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"Job Costing Engine (materials + hours + consumables + overhead + margin)",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["quote_accuracy","profit_per_job"],proof_required:["costing_template"],impact_score:9},{action_id:"ACT_METAL_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["no_standard_work"],title:"Standard Job Cards + Templates for Repeat Work",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["cycle_time"],proof_required:["job_card_library"],impact_score:8},{action_id:"ACT_METAL_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["sku_complexity_tax"],title:"Jigs & Fixtures Program (Top 10 repeat components)",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["scrap_reduction","speed_improvement"],proof_required:["jig_set"],impact_score:9},{action_id:"ACT_METAL_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Weld Quality Standard (internal skill test + SOP)",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["rework_reduction"],proof_required:["weld_test_records"],impact_score:9},{action_id:"ACT_METAL_MONEY_30_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["inventory_blindspot"],title:"Inventory Min/Max for Steel + Consumables",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["stockout_reduction"],proof_required:["reorder_rules"],impact_score:8},{action_id:"ACT_METAL_LEAD_30_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_kpi_ownership"],title:"Capacity Planning Gate (jobs accepted vs shop capacity)",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["overtime_reduction"],proof_required:["capacity_sheet"],impact_score:8},{action_id:"ACT_METAL_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],title:"Portfolio + Proof Pack (photos, specs, testimonials)",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["quote_to_deposit_conversion"],proof_required:["portfolio_pack"],impact_score:8},{action_id:"ACT_METAL_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["contract_gap"],title:"Contract + Change Clause System",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["dispute_reduction"],proof_required:["contract_templates"],impact_score:8},{action_id:"ACT_METAL_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift"],title:"Safety System (PPE, fire, gas, grinder rules + audits)",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["incident_reduction"],proof_required:["safety_audits"],impact_score:9},{action_id:"ACT_METAL_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["no_market_feedback_loop"],title:"Digital Tracking (job status, deadlines, payments)",days:30,effort:"M",default_owner_by_size:yi,kpi_links:["visibility_rate","delay_reduction"],proof_required:["tracking_dashboard"],impact_score:8}],A4={questions:jfe,library:Gfe,actions:$fe},Ce=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Yfe=[Ce("QS_OPS_01","Operations",["waste_not_costed"],"Scrap and rework are a normal cost of production.","Scrap and rework are tracked daily and reduced deliberately.",1.2),Ce("QS_OPS_02","Operations",["changeover_black_hole"],"Changeovers often disrupt the whole day.","Changeovers are standardized and consistently fast.",1.1),Ce("QS_MONEY_01","Money",["pricing_margin_blindspot"],"We judge performance mainly by sales volume.","We judge performance by margin per SKU and cashflow stability.",1.2),Ce("QS_MONEY_02","Money",["supplier_variance_risk"],"Resin price changes often surprise our pricing.","Pricing has rules and buffers that protect us from resin volatility.",1.1),Ce("QS_MARKET_01","Market",["spec_drift_discount"],"Customer specs are sometimes assumed or verbally agreed.","Customer specs are locked with sign-off (gauge/print/seal).",1.2),Ce("QS_MARKET_02","Market",["pricing_positioning_gap"],"We compete mostly on price.","We compete on consistency, proof, and lead time.",1.1),Ce("QS_LEAD_01","Leadership",["panic_scheduling"],"Production is often reactive to urgent orders.","Production follows a plan with schedule discipline.",1.1),Ce("QS_LEAD_02","Leadership",["cross_function_breakdown"],"Defects usually trigger blame between departments.","Defects trigger root-cause fixes and standard updates.",1),Ce("QS_INNOV_01","Innovation",["sku_complexity_tax"],"We keep adding SKUs whenever customers ask.","We manage SKU complexity and protect changeover efficiency.",1),Ce("QS_INNOV_02","Innovation",["no_product_testing_rhythm"],"Sustainability is not a focus right now.","We track sustainability trends and adapt packaging options.",.9),Ce("QS_RISK_01","Risk",["traceability_gap"],"Traceability is limited when something goes wrong.","Batch IDs and QC records make traceability fast and reliable.",1.2),Ce("QS_RISK_02","Risk",["hygiene_drift"],"Safety depends on personal discipline.","Safety is enforced with routines and audits.",1.1),Ce("QS_PEOPLE_01","People",["weak_shift_handover"],"Quality varies by shift or operator.","Quality is consistent due to standards and training.",1),Ce("QS_PEOPLE_02","People",["training_gap"],"Operators learn mainly through improvisation.","Operators follow documented settings and certification.",1),Ce("DS_OPS_01","Operations",["waste_not_costed"],"Scrap is accepted as normal.","Scrap is tracked and actively reduced.",1.1),Ce("DS_OPS_02","Operations",["quality_built_late"],"Defects are mostly caught at the end.","In-process QC gates catch defects early.",1.1),Ce("DS_OPS_03","Operations",["changeover_black_hole"],"Changeovers are unpredictable.","Changeovers follow a standard checklist.",1),Ce("DS_OPS_04","Operations",["no_stop_codes"],"Downtime causes are unclear.","Downtime is logged with root causes.",1),Ce("DS_OPS_05","Operations",["supplier_variance_risk"],"Material storage is casual.","Material moisture and storage are controlled.",1),Ce("DS_OPS_06","Operations",["measurement_blindspot"],"Temperature settings vary by operator.","Settings are standardized and documented.",1),Ce("DS_OPS_07","Operations",["measurement_blindspot"],"Gauge variation is common.","Gauge is monitored to prevent rejects.",1),Ce("DS_OPS_08","Operations",["reactive_maintenance"],"Maintenance is reactive.","Preventive maintenance is planned and executed.",1),Ce("DS_OPS_09","Operations",["order_fulfillment_instability"],"Finished goods get damaged in handling.","Handling and packing standards prevent damage.",.9),Ce("DS_OPS_10","Operations",["planning_gap"],"Production schedules are frequently ignored.","Schedule adherence is measured and enforced.",1),Ce("DS_MONEY_01","Money",["costing_gap"],"Unit cost is not clear per SKU.","Unit cost is known per SKU.",1.2),Ce("DS_MONEY_02","Money",["yield_bleed"],"Yield is not measured precisely.","Yield is measured by SKU and shift.",1.1),Ce("DS_MONEY_03","Money",["energy_burn_spiral"],"Energy cost is not tracked per kg/unit.","Energy cost is tracked and optimized.",1.1),Ce("DS_MONEY_04","Money",["waste_not_costed"],"Consumables are ignored in costing.","Consumables are built into costing.",1),Ce("DS_MONEY_05","Money",["inventory_blindspot"],"Overproduction happens often.","Production follows demand planning.",1),Ce("DS_MONEY_06","Money",["credit_terms_risk"],"Credit terms are loose.","Credit terms protect cashflow.",1),Ce("DS_MONEY_07","Money",["discounting_leak"],"Discounts are used to move stock.","Discounts are tied to strategy and terms.",1),Ce("DS_MONEY_08","Money",["pricing_margin_blindspot"],"Margin is judged by total revenue.","Margin is judged per SKU.",1),Ce("DS_MONEY_09","Money",["supplier_variance_risk"],"Resin volatility is absorbed silently.","Resin volatility is managed in pricing rules.",1),Ce("DS_MONEY_10","Money",["cashflow_visibility_gap"],"Working capital is unmanaged.","Working capital is actively controlled.",1.1),Ce("DS_MARKET_01","Market",["spec_drift_discount"],"Specs are often assumed.","Specs are locked and signed off.",1.1),Ce("DS_MARKET_02","Market",["complaint_handling_gap"],"Complaints are handled slowly.","Complaints are closed fast with data.",1),Ce("DS_MARKET_03","Market",["compliance_blocker_risk"],"Compliance proof is weak.","Compliance proof is shared proactively.",1),Ce("DS_MARKET_04","Market",["pricing_positioning_gap"],"We mostly compete on price.","We compete on consistency and trust.",1.1),Ce("DS_MARKET_05","Market",["order_fulfillment_instability"],"Delivery dates are flexible.","OTIF is protected and measured.",1),Ce("DS_MARKET_06","Market",["weak_proof_pack"],"Tenders are lost due to weak documentation.","Tender packs are professional and complete.",1),Ce("DS_MARKET_07","Market",["channel_dependency"],"Customer concentration is high.","Customer base is diversified.",1.1),Ce("DS_MARKET_08","Market",["pricing_positioning_gap"],"Product tiers are unclear.","Product tiers protect margin.",.9),Ce("DS_MARKET_09","Market",["value_story_gap"],"Branding looks generic.","Branding and finish options add value.",.9),Ce("DS_MARKET_10","Market",["no_market_feedback_loop"],"Market feedback is not measured systematically.","Feedback is tracked and used for improvements.",.9),Ce("DS_LEAD_01","Leadership",["panic_scheduling"],"Production is firefighting.","Production follows disciplined planning.",1.1),Ce("DS_LEAD_02","Leadership",["cross_function_breakdown"],"Departments blame each other.","Cross-functional fixes happen quickly.",1),Ce("DS_LEAD_03","Leadership",["no_kpi_ownership"],"KPIs are unclear.","KPIs are clear and visible.",1),Ce("DS_LEAD_04","Leadership",["no_variance_review"],"Root causes are ignored.","Root causes are closed and verified.",1.1),Ce("DS_LEAD_05","Leadership",["weak_shift_handover"],"Shift handovers are informal.","Shift handovers are structured.",.9),Ce("DS_LEAD_06","Leadership",["no_standard_work"],"Standards vary by shift.","Standards are consistent.",1),Ce("DS_LEAD_07","Leadership",["decision_bottleneck"],"Decisions wait for one person.","Decisions are delegated with limits.",1),Ce("DS_LEAD_08","Leadership",["no_kpi_ownership"],"Capacity planning is weak.","Capacity planning controls intake.",1),Ce("DS_LEAD_09","Leadership",["no_meeting_to_action"],"Meetings do not close actions.","Meetings close actions with owners.",1),Ce("DS_LEAD_10","Leadership",["no_product_testing_rhythm"],"Improvement ideas die.","Improvement ideas become controlled experiments.",.9),Ce("DS_INNOV_01","Innovation",["sku_complexity_tax"],"SKU count grows uncontrolled.","SKU complexity is managed intentionally.",1.1),Ce("DS_INNOV_02","Innovation",["no_product_testing_rhythm"],"We rarely trial new materials.","We run controlled trials for new options.",1),Ce("DS_INNOV_03","Innovation",["pack_size_profit_blindspot"],"Sustainability is ignored.","Sustainability is part of the roadmap.",1),Ce("DS_INNOV_04","Innovation",["slow_bug_fix"],"Tooling upgrades are delayed.","Tooling upgrades are planned with ROI.",1),Ce("DS_INNOV_05","Innovation",["slow_bug_fix"],"Process improvements are random.","Process improvements are systematic.",1),Ce("DS_INNOV_06","Innovation",["no_market_feedback_loop"],"Product designs stay the same.","Designs evolve with customer needs.",.9),Ce("DS_INNOV_07","Innovation",["changeover_black_hole"],"Changeover reduction is not pursued.","Changeover reduction is a key project.",1),Ce("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"Customer feedback is unstructured.","Feedback drives innovation priorities.",.9),Ce("DS_INNOV_09","Innovation",["value_story_gap"],"No premium finishes or features are offered.","Premium features are developed to increase margin.",.9),Ce("DS_INNOV_10","Innovation",["no_product_testing_rhythm"],"Innovation is seen as cost.","Innovation is treated as strategic survival.",1),Ce("DS_RISK_01","Risk",["traceability_gap"],"Traceability is weak.","Traceability is strong (batch IDs and lots).",1.2),Ce("DS_RISK_02","Risk",["hygiene_drift"],"Food-grade controls are informal.","Food-grade controls are strict.",1.1),Ce("DS_RISK_03","Risk",["compliance_blocker_risk"],"Compliance documents are scattered.","Compliance documents are controlled.",1),Ce("DS_RISK_04","Risk",["hygiene_drift"],"Safety depends on personal discipline.","Safety is enforced by routine.",1),Ce("DS_RISK_05","Risk",["compliance_blocker_risk"],"Environmental waste is unmanaged.","Waste is managed compliantly.",1),Ce("DS_RISK_06","Risk",["ip_brand_protection_gap"],"Artwork/IP terms are unclear.","Artwork/IP terms are documented.",.9),Ce("DS_RISK_07","Risk",["disaster_recovery_gap"],"Recalls would be chaotic.","Recalls are controlled through traceability.",1),Ce("DS_RISK_08","Risk",["contract_gap"],"Acceptance criteria are unclear.","Acceptance criteria are defined in writing.",1),Ce("DS_RISK_09","Risk",["no_variance_review"],"Incident reporting is delayed.","Incident reporting is immediate.",.9),Ce("DS_RISK_10","Risk",["compliance_blocker_risk"],"Audit readiness is low.","Audit readiness is maintained continuously.",1),Ce("DS_PEOPLE_01","People",["weak_shift_handover"],"Quality varies by shift.","Quality is consistent due to training and standards.",1.1),Ce("DS_PEOPLE_02","People",["training_gap"],"Operators guess machine settings.","Operators follow standard settings.",1),Ce("DS_PEOPLE_03","People",["cross_function_breakdown"],"Fatigue drives defects.","Fatigue is managed.",1),Ce("DS_PEOPLE_04","People",["role_clarity_gap"],"No one clearly owns yield.","Yield ownership is explicit by shift and line.",1),Ce("DS_PEOPLE_05","People",["hero_operator_dependence"],"Turnover disrupts output.","Retention is planned and supported.",.9),Ce("DS_PEOPLE_06","People",["weak_shift_handover"],"Handovers lose key information.","Handovers are disciplined.",.9),Ce("DS_PEOPLE_07","People",["blame_culture"],"Incentives reward speed only.","Incentives reward quality and safety too.",1),Ce("DS_PEOPLE_08","People",["training_gap"],"Training is informal.","Training is structured and certified.",1),Ce("DS_PEOPLE_09","People",["low_psych_safety"],"Morale issues are ignored.","Morale is monitored and improved.",.9),Ce("DS_PEOPLE_10","People",["fear_index"],"Safety culture varies by team.","Safety culture is consistent.",1)],du=["all"],j0=["Critical","Watch","Stable","Strong","Emergency"],Qfe=[{pillar:"Operations",leak:"Scrap Storm, Downtime Drain, and Changeover Tax are reducing usable output while hidden defects trigger re-runs.",strength:"Operations are controlled with standard settings, in-process QC, moisture discipline, and schedule adherence.",hook:"Scrap Storm",kpi:"OEE %, Scrap/reject %, Changeover minutes, Downtime hours/week, First-pass quality %, Schedule adherence %",signal_tags:["waste_not_costed","downtime_drain","changeover_black_hole"],cost:"Unstable settings, weak QC gates, and unmanaged setup losses convert paid machine time into reject volume.",cliffhanger:"Fix Mode installs defect baselines, changeover standards, and first-pass controls to recover capacity quickly."},{pillar:"Money",leak:"Yield Blindness, Resin Price Shock exposure, and Energy Leak are compressing margin despite strong throughput activity.",strength:"Money systems are SKU-level with true costing, yield visibility, energy tracking, and disciplined working-capital control.",hook:"Yield Blindness",kpi:"Unit cost/SKU, Yield %, Energy cost per kg, Gross margin/SKU, Inventory days, DSO",signal_tags:["costing_gap","yield_bleed","energy_burn_spiral"],cost:"Margin is being diluted by unpriced volatility, hidden consumables, and slow cash conversion cycles.",cliffhanger:"Fix Mode builds a unit-cost and pricing buffer engine so resin and energy volatility do not erase margin."},{pillar:"Market",leak:"Spec Drift Disputes and Commodity Trap behavior are weakening trust and forcing price-led negotiations.",strength:"Market delivery is proof-driven: specs are signed, OTIF is stable, and compliance evidence supports premium positioning.",hook:"Spec Drift Disputes",kpi:"OTIF %, Complaint rate/closure time, Tender win %, Repeat order %, Price realization, Customer concentration %",signal_tags:["spec_drift_discount","pricing_positioning_gap","weak_proof_pack"],cost:"Unclear specs and weak documentation trigger returns, disputes, and buyer confidence erosion.",cliffhanger:"Fix Mode installs spec-lock and proof-pack routines that increase repeat orders and reduce discount pressure."},{pillar:"Leadership",leak:"Firefighting Factory and Silo Wars are blocking root-cause closure and creating recurring quality and schedule failures.",strength:"Leadership runs with clear KPIs, structured handovers, delegated decisions, and weekly closure on recurring losses.",hook:"Firefighting Factory",kpi:"Action closure %, Schedule adherence %, Root-cause closure %, Handover compliance %, KPI update timeliness %",signal_tags:["panic_scheduling","cross_function_breakdown","no_variance_review"],cost:"Reactive approvals and unclear ownership allow the same defects and delays to repeat across shifts.",cliffhanger:"Fix Mode installs ownership cadence and root-cause closure so production behavior becomes predictable."},{pillar:"Innovation",leak:"SKU Explosion Chaos and Tooling Upgrade Gaps are increasing setup drag while value-add opportunities are missed.",strength:"Innovation is intentional: SKU rationalization, tooling ROI upgrades, sustainability trials, and premium features are planned.",hook:"SKU Explosion Chaos",kpi:"New product trials/quarter, % revenue from improved SKUs, Active SKU count, Changeover reduction %, Tooling ROI",signal_tags:["sku_complexity_tax","slow_bug_fix","no_product_testing_rhythm"],cost:"Unmanaged SKU growth and delayed upgrades trap the plant in low-margin work with high operational friction.",cliffhanger:"Fix Mode launches a 30-day SKU and tooling optimization sprint tied to margin and throughput gains."},{pillar:"Risk",leak:"Food-Grade Liability, Recall Nightmare exposure, and safety inconsistencies are creating severe downside risk.",strength:"Risk controls are audit-ready with traceability, contamination prevention, compliance packs, and documented acceptance terms.",hook:"Recall Nightmare",kpi:"Safety incidents #, Traceability completeness %, Audit findings #, Contamination events #, Recall/return %",signal_tags:["traceability_gap","hygiene_drift","compliance_blocker_risk"],cost:"One contaminated batch or documentation failure can trigger recalls, penalties, and long-term account loss.",cliffhanger:"Fix Mode hardens traceability, safety, and compliance evidence so incidents are contained before they scale."},{pillar:"People",leak:"Shift Variance Tax and Training Void are causing inconsistent settings, unstable yield, and bad-batch recurrence.",strength:"People systems stabilize outcomes with operator certification, handover discipline, and incentives tied to quality and safety.",hook:"Shift Variance Tax",kpi:"Operator certification %, Training hours/month, Turnover %, Absenteeism %, Shift variance (scrap/OEE), Safety training %",signal_tags:["training_gap","weak_shift_handover","role_clarity_gap"],cost:"When settings depend on operator memory, defects and downtime surge whenever shifts or staffing patterns change.",cliffhanger:"Fix Mode installs standards, certification, and shift ownership so quality is consistent every shift."}],Xfe="Film & Bag Manufacturing (poly bags, shrink film, liners)",Jfe="Rigid Packaging (bottles, jerrycans, containers)",Zfe="Injection Molding (caps, parts, household items)",ege="Printing & Lamination (labels, flexible packs, pouches)",tge="Recycled Plastics (regrind, washing, pelletizing)",ige="Industrial Packaging (drums, crates, bulk packaging accessories)",ql=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_PLASTICS_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:j0,business_size_fit:du,text:i[r],type:"mission_brief"})),nge=[...ql("S1",["Plastics & packaging manufacturing",Xfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, which often signals Inconsistent Gauge Leak and Changeover Tax. Film lines make money through stable settings and long runs; when gauge drifts or setups interrupt flow, output falls while scrap spikes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs gauge controls, fast setup routines, and first-run QC gates that reduce waste quickly.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically Yield Blindness plus Resin Price Shock exposure. Without true yield and consumption visibility, margins are guesswork. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds per-kg unit costing and pricing buffers so resin volatility stops eroding margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often Spec Drift Disputes around thickness, strength, seal, and print quality. Cost: {COST_IMPACT} through returns and weakened repeat confidence. Cliffhanger: Fix Mode deploys a signed spec-lock routine that prevents avoidable disputes.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - production may be reactive and standards may vary by shift. Cost: {COST_IMPACT} as hidden scrap and schedule misses compound. Cliffhanger: Fix Mode installs shift handovers, daily KPI visibility, and closure discipline.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - a sign of commodity pressure and weak product evolution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day film upgrade sprint (performance + sustainability options) to improve pricing power.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - weak traceability can turn one bad batch into a return cascade. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens batch IDs and QC evidence so issues are isolated fast.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - likely operator setting variation and uneven training. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets standard settings, certification, and quality-linked incentives across shifts."}),...ql("S2",[Jfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, commonly indicating Overheat Warp and Quality Bounce-Back. In rigid packaging, unstable settings create leaks, thickness issues, and weak neck finishes that become costly returns. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs in-process leak/thickness tests and stable setting windows per SKU.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often Energy Leak plus Working Capital Choke. Cost: {COST_IMPACT} through high power burn and excess finished stock. Cliffhanger: Fix Mode adds energy-per-kg tracking and demand-led production rules that free cash and protect margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually Compliance Confidence Gap for food or chemical buyers. Cost: {COST_IMPACT} in contract loss and pricing pressure. Cliffhanger: Fix Mode builds a compliance proof pack that strengthens buyer trust immediately.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - planning discipline may be weak and decisions too centralized. Cost: {COST_IMPACT} through avoidable downtime and late delivery. Cliffhanger: Fix Mode enforces schedule adherence and delegated decision limits.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed premium differentiation in closures, ergonomics, and recyclable materials. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a product-tier sprint to shift mix toward premium margins.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - contamination and traceability risk remain high in rigid containers. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs cleanliness and traceability controls that reduce contract-ending incidents.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - shift variance is likely driving quality swings. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies operators and standardizes settings so quality is shift-proof."}),...ql("S3",[Zfe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often signaling Mold/Die Bottleneck and Maintenance Neglect Spiral. Worn or poorly maintained tooling causes flash, short shots, and unstable cycle time. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds mold care cadence and first-article approvals to reduce scrap and downtime.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically Yield Blindness and Bad Batch Tax from weak mix discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs material mix control and SKU-level costing to stabilize margins.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - buyers are questioning consistency (fit, tolerance, repeatability). Cost: {COST_IMPACT} through replacement risk and lost repeat contracts. Cliffhanger: Fix Mode creates quality proof routines and rapid defect-closure loops.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - mold scheduling and machine ownership may be unclear. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns machine ownership and scheduling rules that minimize avoidable changeover loss.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - product line evolution is lagging while market competition intensifies. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day higher-margin SKU sprint with test-and-validate discipline.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - tooling/IP and acceptance responsibility may be under-documented. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens contract clauses for tooling ownership and defect accountability.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - operator improvisation is likely driving unstable quality. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces machine-setting SOPs and operator certification tied to defect and uptime metrics."}),...ql("S4",[ege],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, commonly indicating late defect capture in color, registration, adhesion, or seal integrity. Cost: {COST_IMPACT} when misprints are discovered after long runs. Cliffhanger: Fix Mode installs first-run approvals and in-process QC checkpoints to stop expensive reprints.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - often hidden consumables bleed and waste-heavy reprint cycles. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode tracks inks, solvents, sleeves, and blades by job so pricing matches real delivery cost.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - weak artwork sign-off and proof discipline are triggering disputes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode establishes signed proof workflows that cut conflict and improve trust.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - sales specs and production execution may be misaligned. Cost: {COST_IMPACT} via avoidable rework and delays. Cliffhanger: Fix Mode introduces job-ticket handoffs that translate specs into execution clarity.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - premium finishes and advanced pack formats are under-leveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a premium-packaging sprint to improve margin per job.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - food-contact and solvent-safety controls may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens compliance checks and solvent handling SOPs to reduce major incident exposure.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - setup skill variation is likely causing costly misprints. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies setup roles and enforces checklist-based start-up quality."}),...ql("S5",[tge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating unstable feedstock quality and inconsistent processing controls. Cost: {COST_IMPACT} via pellet variability and rejection risk. Cliffhanger: Fix Mode implements feedstock grading and contamination controls to stabilize output quality.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - yield uncertainty and high energy intensity are eroding value capture. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs yield and energy-per-kg controls to protect pricing and margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - buyers are discounting due to inconsistent pellet specifications. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates batch certificates and spec sheets that strengthen buyer confidence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - variable inputs are driving reactive planning and weak KPI ownership. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns ownership for contamination, yield, and uptime with weekly closure cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - quality upgrades and blend innovation are being underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day quality upgrade sprint to move into higher-value recycled markets.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - environmental compliance exposure is high in waste, wastewater, and emissions handling. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode implements compliance checklists and documentation to reduce shutdown risk.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - sorting discipline and training consistency are weak points. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode ties training and incentives to contamination reduction and stable pellet quality."}),...ql("S6",[ige],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating handling damage and inconsistent strength control. Industrial packs fail expensively when load performance is not managed tightly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs load-testing and handling standards to reduce transit failures.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - margin is under pressure from energy intensity, material loss, and loose payment terms. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces unit-cost and cash-protection rules so bulk orders stay profitable.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - industrial buyers require reliability proof and compliance confidence. Cost: {COST_IMPACT} in lost contracts when documentation is weak. Cliffhanger: Fix Mode builds tender-grade proof systems that improve win rates and pricing leverage.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - stage ownership and schedule discipline may be weak across shifts. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns stage owners and enforces schedule adherence to stabilize delivery.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - value-add opportunities in closures, tamper features, and recycled-content tiers are underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day product-tier sprint to increase price strength.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - liability from spill or transit failure is material and can escalate quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens testing and acceptance documentation to reduce legal and contract exposure.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - operator discipline and quality sign-offs are inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training and stage sign-off controls so reliability is repeatable."})],age=Qfe.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_PLASTICS_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:du,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_PLASTICS_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:du,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_PLASTICS_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:j0,business_size_fit:du,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_PLASTICS_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:j0,business_size_fit:du,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),rge=[...age,...nge],_i={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},sge=[{action_id:"ACT_PLASTICS_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["waste_not_costed"],title:"Scrap Storm Baseline (Top 5 defects by SKU + shift)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["scrap_rate"],proof_required:["defect_pareto"],impact_score:9},{action_id:"ACT_PLASTICS_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["downtime_drain"],title:"Downtime Drain Log (unplanned stops + causes)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["uptime"],proof_required:["downtime_board"],impact_score:9},{action_id:"ACT_PLASTICS_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["changeover_black_hole"],title:"Changeover Tax Sprint (standard setup checklist)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["changeover_minutes"],proof_required:["setup_checklist"],impact_score:8},{action_id:"ACT_PLASTICS_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["supplier_variance_risk"],title:"Material Moisture Control (storage + conditioning routine)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["defect_rate"],proof_required:["moisture_sop"],impact_score:8},{action_id:"ACT_PLASTICS_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"In-Process QC Gate (first 10 units approval per run)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["rerun_rate"],proof_required:["qc_signoff"],impact_score:9},{action_id:"ACT_PLASTICS_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["energy_burn_spiral"],title:"Energy Leak Check (peak usage + idle running audit)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["energy_per_kg"],proof_required:["energy_audit"],impact_score:8},{action_id:"ACT_PLASTICS_MARKET_7_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["spec_drift_discount"],title:"Spec Lock Pack (gauge, dimensions, seal, print) + sign-off",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["dispute_rate"],proof_required:["signed_spec_sheets"],impact_score:8},{action_id:"ACT_PLASTICS_OPS_7_06",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["inventory_blindspot"],title:"Consumables Staging (inks/additives/blades/solvents)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["stoppage_incidents"],proof_required:["staging_list"],impact_score:7},{action_id:"ACT_PLASTICS_MARKET_7_02",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["complaint_handling_gap"],title:"Customer Complaint 48-hour Closure Rule",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["complaint_closure_time"],proof_required:["closure_log"],impact_score:8},{action_id:"ACT_PLASTICS_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["weak_shift_handover"],title:"Daily 15-min Shift Handover (yield, defects, downtime)",days:7,effort:"S",default_owner_by_size:_i,kpi_links:["shift_variance"],proof_required:["handover_notes"],impact_score:7},{action_id:"ACT_PLASTICS_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"True Unit Cost Engine per SKU (resin + energy + labor + overhead)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["margin_per_sku"],proof_required:["costing_sheet"],impact_score:9},{action_id:"ACT_PLASTICS_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["no_kpi_ownership"],title:"OEE Dashboard per line (availability, performance, quality)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["oee"],proof_required:["oee_dashboard"],impact_score:8},{action_id:"ACT_PLASTICS_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Preventive Maintenance Calendar (critical machines first)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["unplanned_downtime"],proof_required:["pm_logs"],impact_score:9},{action_id:"ACT_PLASTICS_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["sku_complexity_tax"],title:"SKU Rationalization (cut low-margin chaos SKUs)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["changeover_minutes","profitability"],proof_required:["sku_rationalization_list"],impact_score:8},{action_id:"ACT_PLASTICS_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Quality System Upgrade (specs, tests, traceability, batch IDs)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["return_rate"],proof_required:["quality_sop_pack"],impact_score:9},{action_id:"ACT_PLASTICS_MONEY_30_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["cashflow_visibility_gap"],title:"Working Capital Control (inventory min/max + credit terms)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["inventory_days","dso"],proof_required:["working_capital_policy"],impact_score:8},{action_id:"ACT_PLASTICS_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],title:"Tender & Compliance Proof Pack (certs, tests, track record)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["tender_win_rate"],proof_required:["bid_pack"],impact_score:8},{action_id:"ACT_PLASTICS_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Shift Certification (operators trained on standard settings)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["shift_variance"],proof_required:["operator_certification_list"],impact_score:8},{action_id:"ACT_PLASTICS_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],title:"Waste Strategy (regrind rules + disposal compliance)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["waste_cost"],proof_required:["waste_sop"],impact_score:7},{action_id:"ACT_PLASTICS_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["no_product_testing_rhythm"],title:"Innovation Sprint (one packaging/material upgrade pilot)",days:30,effort:"M",default_owner_by_size:_i,kpi_links:["new_revenue_share"],proof_required:["pilot_results"],impact_score:8}],E4={questions:Yfe,library:rge,actions:sge},Te=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),oge=[Te("QS_OPS_01","Operations",["no_standard_work"],"The same recipe sometimes gives different results.","Batch results are consistent because controls are tight.",1.2),Te("QS_OPS_02","Operations",["quality_built_late"],"Quality issues are usually found after production.","Quality is checked early with first-run gates to prevent waste.",1.1),Te("QS_MONEY_01","Money",["costing_gap"],"We set prices mainly from competitors and intuition.","We set prices using true SKU cost and margin rules.",1.2),Te("QS_MONEY_02","Money",["discounting_leak"],"Discounts are used often to move stock.","Discounts are controlled and tied to volume and terms.",1),Te("QS_MARKET_01","Market",["low_repeat_orders"],"Customers sometimes complain about scent or performance changes.","Customers experience consistent scent and performance.",1.1),Te("QS_MARKET_02","Market",["value_story_gap"],"Our packaging is functional but not a strong shelf seller.","Packaging builds trust and improves conversion.",1),Te("QS_LEAD_01","Leadership",["panic_scheduling"],"Production often reacts to urgent orders and surprises.","Production follows a realistic plan that the factory respects.",1.1),Te("QS_LEAD_02","Leadership",["no_variance_review"],"Problems repeat because we move on quickly.","Problems are closed to root cause so they stop repeating.",1),Te("QS_INNOV_01","Innovation",["no_product_testing_rhythm"],"We mostly copy what sells in the market.","We differentiate with clear positioning and product tiers.",1),Te("QS_INNOV_02","Innovation",["sku_complexity_tax"],"We keep adding SKUs to please everyone.","We manage SKUs to protect consistency and margin.",1),Te("QS_RISK_01","Risk",["traceability_gap"],"Traceability is limited when a complaint happens.","Every unit can be traced to batch and raw lots.",1.2),Te("QS_RISK_02","Risk",["label_risk"],"Labels and claims are designed mainly for marketing impact.","Labels and claims are controlled to avoid compliance trouble.",1.1),Te("QS_PEOPLE_01","People",["weak_shift_handover"],"Quality varies depending on who is on shift.","Quality is consistent because SOPs and training are strong.",1),Te("QS_PEOPLE_02","People",["training_gap"],"Staff learn mainly by doing and adapting.","Staff learn through structured training and certification.",1),Te("DS_OPS_01","Operations",["no_standard_work"],"Batch outcomes vary more than we would like.","Batch outcomes are consistent because controls are stable.",1.1),Te("DS_OPS_02","Operations",["no_standard_work"],"Mixing steps are experience-based.","Mixing steps are documented and followed.",1),Te("DS_OPS_03","Operations",["measurement_blindspot"],"pH and viscosity checks are occasional.","pH and viscosity checks are routine and recorded.",1),Te("DS_OPS_04","Operations",["measurement_blindspot"],"Fragrance strength varies across batches.","Fragrance loading is controlled and consistent.",1),Te("DS_OPS_05","Operations",["measurement_blindspot"],"Fill weights drift during runs.","Fill weights are monitored and corrected quickly.",1.1),Te("DS_OPS_06","Operations",["hygiene_drift"],"Changeover cleaning is rushed.","Changeover cleaning is standardized to prevent carryover.",1),Te("DS_OPS_07","Operations",["inventory_blindspot"],"Raw material stockouts happen mid-run.","Raw materials are staged before starting.",1),Te("DS_OPS_08","Operations",["quality_built_late"],"QC happens mostly after production.","QC gates prevent full-run waste.",1.1),Te("DS_OPS_09","Operations",["order_fulfillment_instability"],"Packaging failures show up in transit.","Packaging integrity is tested before dispatch.",1),Te("DS_OPS_10","Operations",["reactive_maintenance"],"Downtime is accepted as normal.","Downtime is logged, analyzed, and reduced.",1),Te("DS_MONEY_01","Money",["costing_gap"],"True cost per SKU is not clear.","True cost per SKU is known and reviewed.",1.2),Te("DS_MONEY_02","Money",["yield_bleed"],"Yield per batch is not measured precisely.","Yield is tracked and improved by SKU and batch.",1.1),Te("DS_MONEY_03","Money",["shrinkage_leak"],"Shrinkage and spill losses are not measured.","Shrinkage is tracked and reduced.",1),Te("DS_MONEY_04","Money",["supplier_variance_risk"],"Ingredient price changes hit margin suddenly.","Pricing rules protect margin from volatility.",1),Te("DS_MONEY_05","Money",["discounting_leak"],"Discounts are used to move stock.","Discounts are strategic and controlled.",1),Te("DS_MONEY_06","Money",["sku_complexity_tax"],"Small inefficient runs are common.","Production planning reduces small-batch inefficiency.",.9),Te("DS_MONEY_07","Money",["inventory_blindspot"],"Expiry write-offs happen often.","Inventory rotation prevents expiry losses.",1),Te("DS_MONEY_08","Money",["pricing_margin_blindspot"],"Returns and refunds are treated as normal.","Returns and refunds trigger corrective cost action.",1),Te("DS_MONEY_09","Money",["credit_terms_risk"],"Credit terms are loose and unmanaged.","Credit terms protect cashflow and collections.",1),Te("DS_MONEY_10","Money",["pricing_margin_blindspot"],"Profit is judged by sales volume.","Profit is judged by margin per SKU.",1.1),Te("DS_MARKET_01","Market",["spec_drift_discount"],"Specs and expectations can be informal.","Specs and claims are locked and controlled.",1.1),Te("DS_MARKET_02","Market",["value_story_gap"],"Brand consistency varies by batch.","Brand consistency is protected across batches.",1),Te("DS_MARKET_03","Market",["complaint_handling_gap"],"Complaints are handled slowly.","Complaints are closed fast with root cause.",1),Te("DS_MARKET_04","Market",["value_story_gap"],"Packaging is mostly functional.","Packaging is a trust and conversion asset.",1),Te("DS_MARKET_05","Market",["pricing_positioning_gap"],"We compete mainly on price.","We compete on value and differentiation.",1.1),Te("DS_MARKET_06","Market",["channel_dependency"],"Distribution is narrow and fragile.","Distribution is diversified and planned.",1),Te("DS_MARKET_07","Market",["no_market_feedback_loop"],"Reviews are not monitored consistently.","Reviews and feedback are tracked and used.",.9),Te("DS_MARKET_08","Market",["pricing_positioning_gap"],"Product tiers are unclear.","Product tiers protect margin and positioning.",1),Te("DS_MARKET_09","Market",["channel_dependency"],"Customer concentration is high.","Customer base is diversified.",1),Te("DS_MARKET_10","Market",["ip_brand_protection_gap"],"Counterfeit risk is ignored.","Counterfeit protection is active.",.9),Te("DS_LEAD_01","Leadership",["panic_scheduling"],"The factory runs on urgent surprises.","The factory runs on disciplined planning.",1.1),Te("DS_LEAD_02","Leadership",["no_standard_work"],"Standards vary by person and shift.","Standards are consistent across shifts.",1),Te("DS_LEAD_03","Leadership",["cross_function_breakdown"],"Departments blame each other.","Cross-functional problem solving happens.",1),Te("DS_LEAD_04","Leadership",["no_meeting_to_action"],"Meetings do not close actions.","Meetings close actions with owners and deadlines.",1),Te("DS_LEAD_05","Leadership",["decision_bottleneck"],"Founder approves everything.","Decisions are delegated with limits.",1),Te("DS_LEAD_06","Leadership",["no_kpi_ownership"],"KPIs are unclear or hidden.","KPIs are visible daily.",1),Te("DS_LEAD_07","Leadership",["no_variance_review"],"Root causes are rarely closed.","Root causes are closed systematically.",1),Te("DS_LEAD_08","Leadership",["hiring_mismatch"],"Training is informal.","Training is structured and tracked.",.9),Te("DS_LEAD_09","Leadership",["planning_gap"],"Demand planning is weak.","Demand planning guides production.",1),Te("DS_LEAD_10","Leadership",["no_accountability_loop"],"Quality ownership is unclear.","Quality ownership is explicit by stage and shift.",1),Te("DS_INNOV_01","Innovation",["no_product_testing_rhythm"],"Product line is mostly copycat.","Product line has clear differentiation.",1),Te("DS_INNOV_02","Innovation",["sku_complexity_tax"],"SKU count keeps growing without control.","SKU count is managed intentionally.",1),Te("DS_INNOV_03","Innovation",["no_market_feedback_loop"],"Trends are noticed late.","Trends are tracked and tested early.",.9),Te("DS_INNOV_04","Innovation",["pack_size_profit_blindspot"],"Packaging is basic.","Packaging innovation increases value.",1),Te("DS_INNOV_05","Innovation",["no_product_testing_rhythm"],"R&D is seen as a cost.","R&D is treated as survival.",1),Te("DS_INNOV_06","Innovation",["no_product_testing_rhythm"],"New launches are mostly guesses.","New launches are controlled trials.",1),Te("DS_INNOV_07","Innovation",["low_margin_skus"],"Weak products are rarely removed.","Products that drain margin are cut quickly.",.9),Te("DS_INNOV_08","Innovation",["pack_size_profit_blindspot"],"No premium tier exists.","Premium tiers protect margin.",.9),Te("DS_INNOV_09","Innovation",["no_market_feedback_loop"],"Customer feedback is ignored.","Customer feedback drives upgrades.",.9),Te("DS_INNOV_10","Innovation",["slow_bug_fix"],"Performance improvements are rare.","Performance improvements are routine.",.9),Te("DS_RISK_01","Risk",["traceability_gap"],"Traceability is limited.","Traceability is complete and fast.",1.2),Te("DS_RISK_02","Risk",["label_risk"],"Labels and claims are mainly marketing-driven.","Labels and claims are compliance-controlled.",1.1),Te("DS_RISK_03","Risk",["hygiene_drift"],"Hygiene controls are informal.","Hygiene controls are enforced.",1.1),Te("DS_RISK_04","Risk",["hygiene_drift"],"Contamination risk is not measured.","Contamination risk is managed systematically.",1),Te("DS_RISK_05","Risk",["disaster_recovery_gap"],"A product recall would be chaotic.","A recall would be controlled and fast.",1),Te("DS_RISK_06","Risk",["compliance_blocker_risk"],"SDS/MSDS coverage is incomplete.","SDS/MSDS coverage is complete.",1),Te("DS_RISK_07","Risk",["hygiene_drift"],"Chemical storage is casual.","Chemical storage is safe and audited.",1),Te("DS_RISK_08","Risk",["fear_index"],"Safety incidents are under-reported.","Incidents and near-misses are reported early.",.9),Te("DS_RISK_09","Risk",["contract_gap"],"Distributor contracts are weak.","Distributor contracts define terms clearly.",.9),Te("DS_RISK_10","Risk",["ip_brand_protection_gap"],"IP and brand protection are weak.","IP and brand protection are active.",.9),Te("DS_PEOPLE_01","People",["training_gap"],"Operators rely on improvisation.","Operators follow SOPs and critical limits.",1.1),Te("DS_PEOPLE_02","People",["weak_shift_handover"],"Shift quality varies.","Shift quality is consistent.",1),Te("DS_PEOPLE_03","People",["cross_function_breakdown"],"Fatigue leads to mistakes.","Fatigue is managed to protect quality.",1),Te("DS_PEOPLE_04","People",["role_clarity_gap"],"Batch accountability is unclear.","Batch accountability is clear per line and shift.",1),Te("DS_PEOPLE_05","People",["training_gap"],"Training is informal.","Training is structured and certified.",1),Te("DS_PEOPLE_06","People",["hero_operator_dependence"],"Staff turnover disrupts quality.","Retention is managed to protect stability.",.9),Te("DS_PEOPLE_07","People",["blame_culture"],"Incentives reward speed only.","Incentives reward quality and yield.",1),Te("DS_PEOPLE_08","People",["weak_shift_handover"],"Handovers lose critical details.","Handovers are disciplined and complete.",.9),Te("DS_PEOPLE_09","People",["fear_index"],"QC is ignored under pressure.","QC is protected under pressure.",1),Te("DS_PEOPLE_10","People",["low_psych_safety"],"Safety culture varies by team.","Safety culture is consistent.",.9)],uu=["all"],K0=["Critical","Watch","Stable","Strong","Emergency"],lge=[{pillar:"Operations",leak:"Batch Drift, Formula Roulette, and Fill-Weight Leak are creating unstable quality and hidden unit loss.",strength:"Operations are controlled with locked batch sheets, in-process QC, sanitation discipline, and stable filling controls.",hook:"Batch Drift",kpi:"Batch pass %, Fill-weight variance, Defect rate by SKU, Changeover minutes, Downtime hours, Packaging leak %",signal_tags:["no_standard_work","quality_built_late","measurement_blindspot"],cost:"Inconsistent mixing and late defect discovery cause re-runs, rejects, and avoidable overfill or underfill loss.",cliffhanger:"Fix Mode installs batch-sheet lock, first-run QC gates, and fill-weight control routines that stabilize output."},{pillar:"Money",leak:"COGS Mirage, Yield Blindness, and Ingredient Price Shock exposure are compressing margin despite volume growth.",strength:"Money control is SKU-level with true COGS, yield tracking, disciplined discounts, and protected cash conversion.",hook:"COGS Mirage",kpi:"COGS/SKU, Yield %, Shrinkage %, Gross margin/SKU, Inventory days, DSO",signal_tags:["costing_gap","yield_bleed","supplier_variance_risk"],cost:"Untracked yield and volatility in ingredients, packaging, and credit terms turn healthy sales into weak cash outcomes.",cliffhanger:"Fix Mode builds true unit costing and pricing guardrails so promo and volatility no longer erase margin."},{pillar:"Market",leak:"Trust Collapse and Scent/Performance Drift are weakening repeat purchases and increasing review and return pressure.",strength:"Market performance is consistent: specs are controlled, complaints close quickly, and packaging reinforces brand trust.",hook:"Trust Collapse",kpi:"Repeat purchase %, Complaints per 1,000 + closure time, OTIF %, Price realization, Channel mix, Concentration %",signal_tags:["low_repeat_orders","complaint_handling_gap","value_story_gap"],cost:"One inconsistent batch can trigger review spirals, retailer rejection, and forced discounting across channels.",cliffhanger:"Fix Mode deploys claim-safe positioning and complaint-to-correction loops that rebuild repeat demand."},{pillar:"Leadership",leak:"Firefighting Factory behavior and No Standard Syndrome keep production reactive and defect recurrence high.",strength:"Leadership is systemized with clear ownership, shift handovers, visible KPIs, and weekly root-cause closure.",hook:"Firefighting Factory",kpi:"Schedule adherence %, Root-cause closure %, Action closure %, KPI update compliance %, Delegation coverage %",signal_tags:["panic_scheduling","no_kpi_ownership","no_variance_review"],cost:"Weak planning and delayed decisions create stockouts, overstock, and repeat quality failures that consume management time.",cliffhanger:"Fix Mode installs planning cadence and ownership loops so recurring problems are closed instead of recycled."},{pillar:"Innovation",leak:"Copycat Syndrome and SKU Explosion Chaos are increasing complexity while differentiation and premium margin fade.",strength:"Innovation is intentional: SKU mix is curated, product trials are controlled, and packaging upgrades support premium tiers.",hook:"SKU Explosion Chaos",kpi:"New product trials/quarter, % revenue from improved SKUs, SKU rationalization score, Premium tier share %",signal_tags:["sku_complexity_tax","no_product_testing_rhythm","pack_size_profit_blindspot"],cost:"Unfocused launches and excessive variants raise setup loss and dilute margin without building lasting market advantage.",cliffhanger:"Fix Mode launches a 30-day differentiation sprint focused on fewer stronger SKUs and premium packaging value."},{pillar:"Risk",leak:"Regulatory Cliff and Batch Traceability Blackout leave the business exposed to claims, recalls, and legal penalties.",strength:"Risk controls are audit-ready with traceability, compliant labels/claims, hygiene standards, and SDS coverage.",hook:"Regulatory Cliff",kpi:"Traceability completeness %, Audit findings #, Safety incidents #, Safety complaint response time, SDS coverage %",signal_tags:["compliance_blocker_risk","traceability_gap","label_risk"],cost:"Weak compliance and traceability create high downside risk where one complaint can escalate into costly brand and legal damage.",cliffhanger:"Fix Mode hardens compliance gates, traceability records, and incident response routines before a recall event occurs."},{pillar:"People",leak:"Training Void and Shift Variance Tax are causing formula inconsistency, fatigue defects, and weak accountability.",strength:"People systems stabilize quality through certification, shift discipline, clear batch ownership, and safe issue reporting.",hook:"Shift Variance Tax",kpi:"Training hours/worker, Certification %, Shift variance (yield/defects), Turnover %, Absenteeism %, Safety completion %",signal_tags:["training_gap","weak_shift_handover","role_clarity_gap"],cost:"When operators improvise and handovers are weak, yield and quality swing by shift and defect loops persist.",cliffhanger:"Fix Mode installs operator certification, role ownership, and shift handover standards to make quality consistent."}],cge="Laundry Detergent & Multipurpose Cleaners (powder/liquid)",dge="Bar Soap & Bath Soap (beauty/medicated)",uge="Personal Care & Cosmetics (lotions, creams, oils, hair products)",pge="Institutional / Bulk Supply (hotels, hospitals, schools)",fge="Natural/Organic & Sensitive-Skin Brands",gge="Distributors / Private Label Manufacturing",zl=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_SOAP_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:K0,business_size_fit:uu,text:i[r],type:"mission_brief"})),hge=[...zl("S1",["Soap / detergents / cosmetics production",cge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often showing Batch Drift plus Fill-Weight Leak. When concentration, pH, viscosity, or fill controls drift, product quality becomes unpredictable and complaints rise. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs batch-sheet lock, first-run QC gates, and fill-weight controls that stabilize quality and margin.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - typically Ingredient Price Shock exposure plus COGS Mirage. If true unit cost and volatility buffers are missing, higher sales can still mean weaker profit. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds true unit-cost and margin-protection pricing rules tied to ingredient volatility.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually Commodity Trap and Trust Collapse behavior. In detergents, inconsistent performance and scent quickly destroy repeat demand. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode establishes clear value positioning and proof-backed consistency that protects repeat sales.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - production may be reactive and standards may shift by operator. Cost: {COST_IMPACT} through recurring defects and planning chaos. Cliffhanger: Fix Mode installs handover rhythm, KPI visibility, and closure discipline to prevent repeat failures.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - copycat products and weak differentiation are limiting margin power. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day premium and refill-pack sprint to improve value perception and pricing strength.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - claim and chemical safety exposure can trigger regulatory and reputation shocks. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces label compliance, SDS coverage, and safety SOPs across production and handling.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - training gaps in critical controls are likely driving unstable batch outcomes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets operator certification and quality-linked incentives to reduce variability by shift."}),...zl("S2",[dge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often pointing to Formula Roulette and Changeover Contamination. Bar and bath soaps need stable curing, fragrance retention, and finish quality to avoid rejects. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys controlled batch sheets, cleaning standards, and first-run checks to reduce rejects quickly.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - ingredient volatility and shrinkage are reducing unit economics. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces yield visibility and true per-bar costing so pricing reflects real delivery cost.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - brand positioning is weak and price pressure is high. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a clear product story and packaging upgrade path that supports premium pricing.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - standard work and quality discipline may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs daily quality boards and root-cause closure cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - missed variants and tier strategy are limiting growth. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day tier design sprint across standard, premium, and specialty bars.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - medicated claims and compliance exposure may be under-controlled. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces claim-approval and label-compliance workflows.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - skill inconsistency is likely causing quality variation. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs training checklists and certified process ownership."}),...zl("S3",[uge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, commonly showing Sanitation Slip and Batch Drift. Cosmetics brands are trust-sensitive, and stability issues can quickly become return and review crises. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens hygiene controls, in-process checks, and changeover discipline.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - dead stock and weak SKU economics are likely trapping cash. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates SKU profitability ranking and expiry control routines to stop inventory decay.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - review sensitivity and scent/performance inconsistency are undermining trust. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs complaint-response workflows and batch-linked proof assets that rebuild confidence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - launch governance and documentation discipline may be weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces approval gates and controlled trial protocols before full-scale launch.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - premium feel and trend alignment are under-leveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day premiumization sprint around one hero product and stronger shelf design.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - skin-reaction and compliance risk need stronger controls. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces ingredient disclosure controls and traceability for complaint events.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - hygiene and critical control training may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies staff on sanitation and batch-critical checkpoints."}),...zl("S4",[pge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating fill inconsistency and packaging integrity risk. Institutional buyers require reliable output and leak-free delivery. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs integrity checks and dispatch QC to protect contract reliability.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - contract pricing and long payment terms may be creating cash stress. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces contract pricing rules, billing cadence, and collections discipline.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - institutional growth is being limited by weak tender and compliance proof. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a bid-grade proof pack that improves close rates and retention.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - delivery systems may be reactive under contract pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode establishes delivery calendars and ownership rules to stabilize service levels.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - refill and dispenser system opportunities may be underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day institutional system-pack sprint to improve contract stickiness.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - compliance and safety requirements in institutional channels are high stakes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs acceptance, SDS, and compliance-control routines to reduce contract exposure.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - pressure periods may trigger QC shortcuts. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode protects QC accountability even under tight delivery windows."}),...zl("S5",[fge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, commonly indicating Batch Drift and hygiene inconsistency. Sensitive-skin products fail fast when process control is weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs stability and sanitation controls so natural claims stay reliable.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - expensive ingredients and small-batch inefficiency are pressuring margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets minimum viable batch economics and true unit costing to protect profitability.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - negative reactions and reviews can escalate quickly in this segment. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys trust-safe messaging and rapid complaint response routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - creative energy may be outrunning process discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs product governance and QC gate discipline before scale.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - premium packaging and repeat-buy systems are underdeveloped. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day premium trust sprint across packaging, bundles, and hero SKUs.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - sensitive-skin claims need strict evidence and disclosure controls. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces compliant claims and ingredient transparency checkpoints.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - hygiene and critical-control training gaps may be exposing quality risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces certification and explicit quality ownership per batch."}),...zl("S6",[gge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating Label Chaos and Changeover Contamination in multi-client runs. Private label work demands exact execution across formula, artwork, and packaging specs. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode implements job-ticket lock and controlled changeovers to eliminate avoidable mix-ups.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - private-label margin is likely eroding from underpricing and small-run complexity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates tiered private-label pricing and MOQs tied to true profitability.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - concentration risk and weak differentiation are limiting negotiating power. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a diversification and reliability-positioning plan to attract stronger buyers.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - multi-client scheduling may be chaotic without capacity governance. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs capacity planning and weekly closure routines to stabilize delivery.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - operational innovation in fast changeovers and premium options is underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day reliability + premium-options sprint to raise margin per run.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - claim responsibility, compliance, and contract ambiguity can trigger major disputes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces compliance gates and acceptance clauses across private-label contracts.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - high-SKU complexity requires stronger training and role accountability. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes training and ownership so accuracy survives pressure."})],mge=lge.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_SOAP_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:uu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_SOAP_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:uu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_SOAP_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:K0,business_size_fit:uu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_SOAP_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:K0,business_size_fit:uu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),yge=[...mge,...hge],vi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},_ge=[{action_id:"ACT_SOAP_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["no_standard_work"],title:"Batch Sheet Lock (recipe weights + steps + critical limits)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["batch_pass_rate"],proof_required:["signed_batch_sheets"],impact_score:9},{action_id:"ACT_SOAP_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Fill-Weight Audit (overfill cost + underfill complaints)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["fill_weight_variance"],proof_required:["fill_weight_log"],impact_score:8},{action_id:"ACT_SOAP_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["hygiene_drift"],title:"Changeover Cleaning Checklist (no residue carryover)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["contamination_incidents"],proof_required:["cleaning_checklist_photos"],impact_score:8},{action_id:"ACT_SOAP_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["inventory_blindspot"],title:"Raw Material Staging (no stockout mid-run)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["stoppage_incidents"],proof_required:["staging_list"],impact_score:8},{action_id:"ACT_SOAP_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"First-10 Units QC Gate (approve before full run)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["rerun_rate"],proof_required:["qc_signoff"],impact_score:9},{action_id:"ACT_SOAP_MARKET_7_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["complaint_handling_gap"],title:"Complaint 48-Hour Closure Rule + Batch Link",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["complaint_closure_time"],proof_required:["closure_log"],impact_score:8},{action_id:"ACT_SOAP_RISK_7_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["label_risk"],title:"Label Control Rule (artwork + claims + batch codes)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["label_error_rate"],proof_required:["label_master_file"],impact_score:8},{action_id:"ACT_SOAP_OPS_7_06",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Downtime Log (top 5 causes this week)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["uptime"],proof_required:["downtime_board"],impact_score:7},{action_id:"ACT_SOAP_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["yield_bleed"],title:"Simple Yield Baseline per SKU",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["yield_percent"],proof_required:["yield_sheet"],impact_score:8},{action_id:"ACT_SOAP_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["weak_shift_handover"],title:"Daily 15-min Shift Handover (yield, defects, stockouts)",days:7,effort:"S",default_owner_by_size:vi,kpi_links:["shift_variance"],proof_required:["handover_notes"],impact_score:7},{action_id:"ACT_SOAP_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"True COGS Engine per SKU (ingredients + packaging + labor + overhead)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["margin_per_sku"],proof_required:["costing_template"],impact_score:9},{action_id:"ACT_SOAP_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Traceability System (raw lot -> batch -> finished SKU)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["traceability_completeness"],proof_required:["batch_coding_sop"],impact_score:9},{action_id:"ACT_SOAP_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_definition_gap"],title:"QC Standards Pack (pH, viscosity, fragrance, appearance)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["first_pass_qc_rate"],proof_required:["qc_sop_pack"],impact_score:9},{action_id:"ACT_SOAP_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["sku_complexity_tax"],title:"SKU Rationalization (remove low-margin high-complexity items)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["sku_profitability_score"],proof_required:["sku_decision_list"],impact_score:8},{action_id:"ACT_SOAP_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["order_fulfillment_instability"],title:"Distribution Discipline (channel plan + stock rotation)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["expiry_writeoffs"],proof_required:["channel_plan"],impact_score:8},{action_id:"ACT_SOAP_MONEY_30_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["credit_terms_risk"],title:"Credit & Collections System (terms, follow-up, penalties)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["dso"],proof_required:["collections_policy"],impact_score:8},{action_id:"ACT_SOAP_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["order_fulfillment_instability"],title:"Packaging Integrity Upgrade (seals, caps, leak tests)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["packaging_leak_rate"],proof_required:["leak_test_results"],impact_score:8},{action_id:"ACT_SOAP_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],title:"Safety + SDS/MSDS Coverage (chemicals, burns, storage)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["safety_incidents"],proof_required:["sds_register"],impact_score:9},{action_id:"ACT_SOAP_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Training & Certification Ladder (compounders, fillers, QC)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["operator_certification_coverage"],proof_required:["certification_list"],impact_score:8},{action_id:"ACT_SOAP_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["no_product_testing_rhythm"],title:"Innovation Sprint (one premium tier or trend product pilot)",days:30,effort:"M",default_owner_by_size:vi,kpi_links:["premium_revenue_share"],proof_required:["pilot_results"],impact_score:8}],N4={questions:oge,library:yge,actions:_ge},Ae=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),vge=[Ae("QS_OPS_01","Operations",["no_standard_work"],"When production is busy, we rely on supervisor experience to keep things moving.","When production is busy, we rely on a visible batch sheet so everyone stays aligned.",1.1),Ae("QS_OPS_02","Operations",["quality_built_late"],"We dispatch as soon as orders are ready to keep cash moving.","We dispatch when curing and quality timing is satisfied to protect repeat orders.",1.2),Ae("QS_MONEY_01","Money",["costing_gap"],"Delivery pricing is negotiated per customer depending on distance and relationship.","Delivery pricing follows a standard rule that protects trip economics.",1.1),Ae("QS_MONEY_02","Money",["pricing_margin_blindspot"],"We track performance mainly by units sold this week.","We track performance mainly by margin per product line and cash collected.",1.2),Ae("QS_MARKET_01","Market",["spec_drift_discount"],"Customers usually describe what they want by call or chat and we deliver.","Customers usually confirm a simple spec sheet so site expectations are aligned.",1.2),Ae("QS_MARKET_02","Market",["channel_dependency"],"Our best customers come through referrals and contractors we know.","Our best customers come through referrals plus stable channels we intentionally manage.",1),Ae("QS_LEAD_01","Leadership",["no_variance_review"],"When issues appear, we handle them quickly and move to the next order.","When issues appear, we update the standard so the issue reduces over time.",1),Ae("QS_LEAD_02","Leadership",["decision_bottleneck"],"Payments and approvals feel safer when controlled by one or two key people.","Payments and approvals move faster when clear limits are delegated.",1.1),Ae("QS_INNOV_01","Innovation",["no_product_testing_rhythm"],"We add new products when customers ask frequently.","We add new products after a small trial proves demand and margin.",1),Ae("QS_INNOV_02","Innovation",["pack_size_profit_blindspot"],"We focus on popular standard items most of the time.","We protect time for at least one premium line that increases pricing power.",1),Ae("QS_RISK_01","Risk",["traceability_gap"],"Quality confidence comes from experience and customer trust over time.","Quality confidence comes from experience plus simple batch and test documentation.",1.1),Ae("QS_RISK_02","Risk",["hygiene_drift"],"Safety is mostly handled through common sense and careful workers.","Safety is handled through common sense plus routine checks and PPE discipline.",1.1),Ae("QS_PEOPLE_01","People",["training_gap"],"New workers learn fastest by working alongside experienced staff.","New workers learn fastest with shadowing plus a short checklist for critical steps.",1),Ae("QS_PEOPLE_02","People",["cross_function_breakdown"],"Output improves most when workers push hard to meet orders.","Output improves most when workers push hard while quality steps stay protected.",1),Ae("DS_OPS_01","Operations",["measurement_blindspot"],"Mix decisions are adjusted based on how materials feel that day.","Mix decisions are adjusted using a consistent measurement routine.",1.1),Ae("DS_OPS_02","Operations",["measurement_blindspot"],"Water is added until the mix looks right.","Water is added to a target ratio and recorded.",1.1),Ae("DS_OPS_03","Operations",["quality_built_late"],"Curing time is flexible when customers need urgent delivery.","Curing time is protected with a minimum standard.",1.2),Ae("DS_OPS_04","Operations",["reactive_maintenance"],"Molds are replaced only when they obviously fail.","Molds are inspected and maintained routinely.",1),Ae("DS_OPS_05","Operations",["quality_built_late"],"Strength checks happen mainly on complaints or big orders.","Strength checks happen on a routine schedule.",1.1),Ae("DS_OPS_06","Operations",["waste_not_costed"],"Breakage is accepted as part of loading and delivery.","Breakage is tracked by stage and reduced deliberately.",1),Ae("DS_OPS_07","Operations",["flow_instability"],"Yard stacking depends on available space each day.","Yard stacking follows a planned layout and rotation.",1),Ae("DS_OPS_08","Operations",["reactive_maintenance"],"Machines are fixed when they break.","Machines are maintained to reduce breakdowns.",1),Ae("DS_OPS_09","Operations",["quality_built_late"],"QC happens mostly at dispatch.","QC includes first-batch checks to prevent mass defects.",1),Ae("DS_OPS_10","Operations",["planning_gap"],"We prioritize speed only when demand is high.","We prioritize speed while protecting quality-critical steps.",.9),Ae("DS_MONEY_01","Money",["costing_gap"],"Cement usage is monitored mainly by eye and experience.","Cement usage is monitored against expected batch consumption.",1.1),Ae("DS_MONEY_02","Money",["costing_gap"],"Transport cost is assumed and adjusted when fuel rises.","Transport cost per trip is tracked and priced by rule.",1.1),Ae("DS_MONEY_03","Money",["discounting_leak"],"Discounts are applied whenever customers hesitate.","Discounts are tied to volume, terms, and margin rules.",1),Ae("DS_MONEY_04","Money",["credit_terms_risk"],"We allow flexible payment terms to keep customers.","We allow structured payment terms to protect cash flow.",1),Ae("DS_MONEY_05","Money",["pricing_margin_blindspot"],"We measure success by output and sales volume.","We measure success by profit per line and cash collected.",1.1),Ae("DS_MONEY_06","Money",["waste_not_costed"],"Material losses are treated as normal operations.","Material losses are tracked and investigated as variance.",1),Ae("DS_MONEY_07","Money",["inventory_blindspot"],"Inventory is produced whenever the team is free.","Inventory is produced based on demand and stock policy.",1),Ae("DS_MONEY_08","Money",["purchase_panic"],"Spare parts are bought when breakdowns happen.","Spare parts are planned for critical equipment.",.9),Ae("DS_MONEY_09","Money",["pricing_margin_blindspot"],"Pricing is based mainly on competitor rates.","Pricing is based on market rates plus cost and margin targets.",1),Ae("DS_MONEY_10","Money",["payment_delay_chokehold"],"Collections are handled when customers are ready.","Collections follow a routine and escalation rule.",1),Ae("DS_MARKET_01","Market",["spec_drift_discount"],"Specs are agreed mostly through conversation and trust.","Specs are agreed through simple written confirmation.",1.1),Ae("DS_MARKET_02","Market",["pricing_positioning_gap"],"Customers accept some variation as long as delivery is fast.","Customers accept premium pricing when consistency is visible.",1),Ae("DS_MARKET_03","Market",["order_fulfillment_instability"],"Delivery dates are estimated from current workload.","Delivery dates are committed based on a dispatch plan.",1.1),Ae("DS_MARKET_04","Market",["complaint_handling_gap"],"Complaints are handled case by case.","Complaints are logged and closed to prevent repetition.",1),Ae("DS_MARKET_05","Market",["channel_dependency"],"Most sales come from relationships only.","Sales come from relationships plus stable channels.",1),Ae("DS_MARKET_06","Market",["pricing_positioning_gap"],"We serve all customer types equally.","We focus on segments that improve margin and repeat business.",1),Ae("DS_MARKET_07","Market",["sku_complexity_tax"],"Product variety helps capture more orders.","Product variety helps when it is controlled and profitable.",.9),Ae("DS_MARKET_08","Market",["pricing_positioning_gap"],"We win customers mainly through price.","We win through reliability, proof, and service.",1.1),Ae("DS_MARKET_09","Market",["weak_proof_pack"],"Marketing is mostly word of mouth.","Marketing uses referrals plus simple proof assets.",.9),Ae("DS_MARKET_10","Market",["planning_gap"],"Seasonality is handled as it comes.","Seasonality is planned with stock and pricing adjustments.",1),Ae("DS_LEAD_01","Leadership",["panic_scheduling"],"Production plans change daily from urgent orders.","Production plans adapt, but the core schedule is protected.",1.1),Ae("DS_LEAD_02","Leadership",["no_standard_work"],"Quality is enforced mainly through supervision.","Quality is enforced through supervision plus visible standards.",1),Ae("DS_LEAD_03","Leadership",["decision_bottleneck"],"Decisions feel safer when centralized.","Decisions move faster when delegated with limits.",1),Ae("DS_LEAD_04","Leadership",["no_meeting_to_action"],"Meetings happen when issues arise.","Reviews happen routinely with action owners.",1),Ae("DS_LEAD_05","Leadership",["hero_operator_dependence"],"Problems are solved by the most experienced person.","Problems are solved by updating systems anyone can repeat.",1),Ae("DS_LEAD_06","Leadership",["priority_whiplash"],"Teams focus only on today's orders.","Teams focus on today while protecting next-month stability.",.9),Ae("DS_LEAD_07","Leadership",["no_kpi_ownership"],"KPIs are checked when needed.","KPIs are checked daily and weekly with visibility.",1),Ae("DS_LEAD_08","Leadership",["hiring_mismatch"],"Hiring prioritizes availability and willingness.","Hiring prioritizes availability plus skill tests for critical roles.",.9),Ae("DS_LEAD_09","Leadership",["training_planning_gap"],"Training happens informally while working.","Training happens informally plus critical-step checklists.",.9),Ae("DS_LEAD_10","Leadership",["no_accountability_loop"],"Accountability is shared without clear owners.","Accountability has clear owners per shift and process.",1),Ae("DS_INNOV_01","Innovation",["no_product_testing_rhythm"],"We introduce products when competitors do.","We introduce products when pilots prove demand and margin.",1),Ae("DS_INNOV_02","Innovation",["pack_size_profit_blindspot"],"Premium products feel risky because demand is uncertain.","Premium products are tested because they protect pricing power.",.9),Ae("DS_INNOV_03","Innovation",["slow_bug_fix"],"Processes improve only when breakdowns force change.","Processes improve through routine experiments.",.9),Ae("DS_INNOV_04","Innovation",["value_story_gap"],"Branding is secondary to production capacity.","Branding supports production with trust and price strength.",.9),Ae("DS_INNOV_05","Innovation",["slow_bug_fix"],"Molds are upgraded only when they fail completely.","Molds are upgraded when ROI is clear.",1),Ae("DS_INNOV_06","Innovation",["sku_complexity_tax"],"We keep many options to satisfy all customers.","We keep options that are profitable and controllable.",1),Ae("DS_INNOV_07","Innovation",["value_story_gap"],"Delivery is only a cost we endure.","Delivery is a value-add service that improves repeat orders.",.9),Ae("DS_INNOV_08","Innovation",["low_margin_skus"],"We rarely measure true product winners.","We rank products by profit and scale winners.",1),Ae("DS_INNOV_09","Innovation",["no_variance_review"],"Quality improvements happen mainly after complaints.","Quality improvements happen before complaints through QA routines.",.9),Ae("DS_INNOV_10","Innovation",["no_product_testing_rhythm"],"We avoid changes that might disrupt production.","We adopt small safe changes that compound over time.",.9),Ae("DS_RISK_01","Risk",["hygiene_drift"],"Safety is managed mainly through careful behavior.","Safety is managed through behavior plus routine checks.",1),Ae("DS_RISK_02","Risk",["hygiene_drift"],"Dust is controlled only as needed.","Dust is controlled with consistent practices.",1),Ae("DS_RISK_03","Risk",["contract_gap"],"Contracts are simple and relationship-based.","Contracts include acceptance, rejection, and defect rules.",1.1),Ae("DS_RISK_04","Risk",["traceability_gap"],"Product claims rely on experience and reputation.","Product claims are supported by testing and traceability.",1),Ae("DS_RISK_05","Risk",["contract_gap"],"Disputes are settled mainly by negotiation.","Disputes are reduced through clear documentation.",1),Ae("DS_RISK_06","Risk",["fear_index"],"Incidents are handled quietly to avoid noise.","Incidents are logged so they reduce over time.",.9),Ae("DS_RISK_07","Risk",["hygiene_drift"],"Equipment hazards are handled only through supervision.","Equipment hazards are handled through supervision plus SOPs.",.9),Ae("DS_RISK_08","Risk",["compliance_blocker_risk"],"Compliance is handled when inspectors appear.","Compliance is managed proactively to avoid panic.",1),Ae("DS_RISK_09","Risk",["traceability_gap"],"Batch details are remembered by staff.","Batch details are recorded for traceability.",1.1),Ae("DS_RISK_10","Risk",["compliance_blocker_risk"],"Environmental concerns are occasional issues.","Environmental concerns are managed to prevent escalations.",.9),Ae("DS_PEOPLE_01","People",["training_gap"],"Skills are built mainly through experience.","Skills are built through experience plus training checklists.",1),Ae("DS_PEOPLE_02","People",["hero_operator_dependence"],"The best workers carry most quality load.","The system carries quality instead of a few stars.",1),Ae("DS_PEOPLE_03","People",["cross_function_breakdown"],"Overtime is a normal way to meet demand.","Overtime is used carefully to avoid quality drop.",1),Ae("DS_PEOPLE_04","People",["role_clarity_gap"],"Performance is judged mostly by how hard people work.","Performance is judged by output plus quality consistency.",1),Ae("DS_PEOPLE_05","People",["weak_shift_handover"],"Handovers happen naturally through conversation.","Handovers follow a quick structure each shift.",1),Ae("DS_PEOPLE_06","People",["low_psych_safety"],"Motivation comes only from daily pay and stability.","Motivation includes pay plus recognition and growth.",.9),Ae("DS_PEOPLE_07","People",["role_clarity_gap"],"People handle roles flexibly without clear ownership.","People handle roles flexibly with clear ownership of critical steps.",1),Ae("DS_PEOPLE_08","People",["blame_culture"],"Mistakes are corrected quickly and work continues.","Mistakes are corrected and process is improved to prevent repeats.",1),Ae("DS_PEOPLE_09","People",["onboarding_gap"],"New workers start quickly with minimal onboarding.","New workers start quickly with a short onboarding routine.",.9),Ae("DS_PEOPLE_10","People",["hero_operator_dependence"],"The team relies mostly on a strong supervisor.","The team relies on supervision plus standards that hold without one person.",1)],pu=["all"],F0=["Critical","Watch","Stable","Strong","Emergency"],bge=[{pillar:"Operations",leak:"Curing Debt, Water Ratio Roulette, and Mold Drift are driving rejects, breakage, and inconsistent site performance.",strength:"Operations run on controlled mix ratios, curing compliance, mold discipline, and stage QC from batch start to dispatch.",hook:"Curing Debt",kpi:"Output/shift, Reject %, Strength pass %, Dimensional pass %, Curing compliance %, Downtime hours",signal_tags:["measurement_blindspot","quality_built_late","reactive_maintenance"],cost:"Rushed curing and mix inconsistency create hidden defects that surface later as site rejections and replacements.",cliffhanger:"Fix Mode locks ratio, curing, and first-batch checks so quality stabilizes without sacrificing throughput."},{pillar:"Money",leak:"Cement Burn, Ghost Transport Cost, and Margin Mirage are turning busy weeks into weak cash outcomes.",strength:"Money control is line-specific with true unit costing, transport economics, controlled credits, and shrinkage visibility.",hook:"Cement Burn",kpi:"Unit cost/SKU, Cement usage per batch, Margin by line %, Transport cost/trip, DSO, Shrinkage variance",signal_tags:["costing_gap","pricing_margin_blindspot","payment_delay_chokehold"],cost:"Unpriced delivery realities and material variance drain margin even when sales volume appears strong.",cliffhanger:"Fix Mode installs per-line costing and credit discipline so volume converts to cash, not leakage."},{pillar:"Market",leak:"Spec Drift Disputes and Site Rejection risk are weakening contractor trust and forcing price-only negotiations.",strength:"Market performance is reliable with signed specs, dispatch consistency, and clear proof of quality and strength.",hook:"Site Rejection Nightmare",kpi:"OTIF %, Site rejection %, Complaint rate + closure time, Repeat customer %, Channel mix, Concentration %",signal_tags:["spec_drift_discount","order_fulfillment_instability","low_repeat_orders"],cost:"Inconsistent specs, late dispatch, and weak proof assets trigger returns, rumors, and contractor churn.",cliffhanger:"Fix Mode deploys spec-lock and proof-pack discipline that rebuilds trust and protects price realization."},{pillar:"Leadership",leak:"Firefighting Yard behavior and No Standard Syndrome keep recurring issues alive and decision speed too slow.",strength:"Leadership runs with visible KPI cadence, delegated limits, and weekly root-cause closure.",hook:"Firefighting Yard",kpi:"Schedule adherence %, Action closure %, Root-cause closure %, Delegation coverage %, KPI update compliance %",signal_tags:["panic_scheduling","decision_bottleneck","no_kpi_ownership"],cost:"Without stable ownership and standard routines, yard variability compounds into chronic delay and quality risk.",cliffhanger:"Fix Mode sets production rhythm, owners, and closure rules so performance is repeatable under pressure."},{pillar:"Innovation",leak:"Product Mix Chaos and Tooling Upgrade Gaps are increasing complexity while premium potential remains untapped.",strength:"Innovation is disciplined with SKU rationalization, mold/tool ROI upgrades, and premium product testing cadence.",hook:"Product Mix Chaos",kpi:"New trials/quarter, Premium share %, Mold/tooling uptime %, SKU health score, Bundle adoption %",signal_tags:["sku_complexity_tax","slow_bug_fix","no_product_testing_rhythm"],cost:"Too many uncontrolled SKUs and outdated molds lock the yard into low-margin commodity behavior.",cliffhanger:"Fix Mode launches a 30-day premium-line and tooling-improvement sprint tied to margin and consistency."},{pillar:"Risk",leak:"Strength Liability, Dust Exposure, and Contract ambiguity are creating preventable legal and safety downside.",strength:"Risk is controlled with traceability, acceptance terms, safety checks, and compliance-ready records.",hook:"Strength Liability",kpi:"Safety incidents #, PPE compliance %, Dust checks %, Contract disputes # + resolution time, Traceability completeness %",signal_tags:["contract_gap","traceability_gap","compliance_blocker_risk"],cost:"One structural failure, incident, or undocumented dispute can erase hard-won profit and damage long-term trust.",cliffhanger:"Fix Mode hardens traceability, contract terms, and safety routines before disputes or incidents escalate."},{pillar:"People",leak:"Shift Variance Tax and Training Void are causing inconsistent strength, reject spikes, and avoidable fatigue errors.",strength:"People systems stabilize output through role certification, shift handovers, and quality-linked accountability.",hook:"Shift Variance Tax",kpi:"Training hours/worker, Certification %, Shift variance day vs night, Turnover %, Absenteeism %",signal_tags:["training_gap","weak_shift_handover","role_clarity_gap"],cost:"When critical steps rely on memory and hero operators, quality swings and defects scale with workload pressure.",cliffhanger:"Fix Mode installs certification, handover standards, and shift ownership to make quality less person-dependent."}],xge="Manual Yard Bricks (small-scale clay bricks / hand-mold)",kge="Concrete Blocks (hollow/solid blocks, machine-vibro)",Sge="Pavers / Kerbs / Precast (high mix + high QC demand)",wge="Cement Tiles / Terrazzo / Floor Tiles",Cge="Roofing Tiles (concrete tiles, decorative roofing pieces)",Tge="Multi-Product Yard (blocks + pavers + tiles + custom orders)",Wl=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_BRICKS_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:F0,business_size_fit:pu,text:i[r],type:"mission_brief"})),Age=[...Wl("S1",["Bricks / blocks / cement products",xge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often appearing as Curing Debt and Stockyard Chaos in manual yards. When drying and curing controls drift, bricks may look fine today but fail later and trigger replacements. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys yard-zone controls, batch tags, and stacking discipline so quality stays stable without slowing output.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - usually Margin Mirage and Ghost Transport Cost. High activity does not always convert to cash when delivery economics are unclear. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs simple unit-cost and trip-pricing rules so every delivery protects margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - contractor trust is at risk when timing and quality vary. Cost: {COST_IMPACT} through lower repeat confidence and forced discounts. Cliffhanger: Fix Mode builds a contractor promise system with signed specs and delivery-slot reliability.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - urgent orders may be overriding quality discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode establishes weekly planning and non-negotiable quality gates that hold during rush periods.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - differentiation is weak and price pressure is increasing. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day premium-brick promise sprint built around consistency and service value.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - manual yards face safety and documentation risk during disputes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs acceptance terms and safety routines that reduce costly incidents and arguments.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - training gaps in drying and stacking discipline are likely. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces critical-step checklists so quality is not dependent on one expert."}),...Wl("S2",[kge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating Water Ratio Roulette and Mold Drift. In block production, inconsistent mix and worn molds drive strength swings and dimension failures. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks mix ratios, mold checks, and first-batch QC to stabilize output immediately.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - Cement Burn and Underquote behavior may be reducing margin on large orders. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds per-block costing with cement variance and delivery economics included.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - site rejection risk rises when size, edge, or curing consistency slips. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds site-spec confirmation and dispatch QC routines that reduce rejection risk.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - shift standards may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs KPI boards and shift handovers that keep quality stable across teams.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - premium variants and bundled services are under-leveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day premium block and delivery-bundle sprint to improve price strength.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - strength liability and dust exposure are material risks. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens traceability and safety discipline to reduce disputes and incidents.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - knowledge gaps in mixing and curing are likely creating variability. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns training and incentives to strength-pass and reject reduction."}),...Wl("S3",[Sge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, commonly appearing as Batch Blindness and Breakage Tax. Precast value depends on precision and handling discipline, and small edge damage compounds quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a handling, stacking, and curing control sprint that reduces breakage fast.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - transport leakage and inventory freeze may be tying up cash. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode ranks product-line profitability and sets stock rules that free working capital.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - color, pattern, and thickness drift can trigger expensive disputes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs sample/spec lock and batch consistency checks to reduce rejections.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - high SKU mix may be overwhelming planning discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces weekly production prioritization around top-margin SKUs first.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - premium pattern and finish opportunities are underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day signature collection sprint to lift price and repeat demand.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - acceptance criteria and delivery proof may be too weak for dispute protection. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces acceptance documentation and dispatch evidence discipline.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - handling skill variation is likely driving breakage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs handling certification and role ownership at yard stages."}),...Wl("S4",[wge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often showing as finish variance and curing drift. Tile buyers judge visual consistency immediately, and small defects carry large rejection risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs finish QC, curing protection, and batch tags to reduce visible defects.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - rework and waste are likely hiding true unit economics. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds per-tile costing and rework tracking so profitability becomes visible and controllable.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - quality rumors spread quickly in tile channels. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates consistency proof packs and acceptance standards that protect reputation.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - QA enforcement may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs daily quality boards and stop-the-line authority on defects.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - premium finishes and design variations are underdeveloped. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day premium tile trial to lift margin and differentiation.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - dust and dispute exposure remain high without stronger controls. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces dust control and acceptance documentation routines.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - finishing skill variance is likely affecting consistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds finishing certification and stage handover standards."}),...Wl("S5",[Cge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often indicating Crack Cascade and Mold Drift. Roofing tiles fail expensively when curing and mold condition are weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys mold maintenance, curing controls, and load-handling routines to reduce installation-time failures.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - breakage and delivery losses may be absorbing margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs delivery pricing and breakage-stage tracking so transport stays profitable.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - roofing channels are trust-sensitive and failure spreads quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a reliability proof pack for contractors and installers.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - reactive planning and weak QA gates are likely. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces QA gates that stop defective tiles from leaving the yard.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - premium styles and partner-install options are underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day premium roofing line and partner bundle pilot.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - handling and dust safety exposure remains high. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs hazard routines and accountability checks across loading and yard operations.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - handling and curing discipline training may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies critical roles and links incentives to breakage reduction."}),...Wl("S6",[Tge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, commonly Product Mix Chaos and Downtime Drain. Multi-product yards lose flow when frequent changeovers and inconsistent standards stack up. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets production priority around top-margin SKUs first and stabilizes flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - margin visibility is likely weak across product lines with different cost structures. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs per-line costing so drain products are cut and winners are scaled.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - customer clarity and consistency may be weak across categories. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds clear tiers and one unified proof pack across blocks, pavers, and tiles.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - founder bottleneck and planning drift are likely increasing with complexity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs delegation limits, cadence planning, and KPI boards.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - product additions may be reactive instead of margin-led. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a disciplined one-winner-per-quarter innovation rhythm.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - complexity raises dispute and safety exposure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces traceability, acceptance criteria, and safety standards across all lines.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - multi-line handovers and role clarity likely need tightening. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates role-based certification across mix, cure, finish, and dispatch."})],Ege=bge.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_BRICKS_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:pu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_BRICKS_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:pu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_BRICKS_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:F0,business_size_fit:pu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_BRICKS_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:F0,business_size_fit:pu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),Nge=[...Ege,...Age],bi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},Mge=[{action_id:"ACT_BRICKS_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Water Ratio Lock (measuring tools + visible batch sheet)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["reject_rate"],proof_required:["signed_batch_logs"],impact_score:9},{action_id:"ACT_BRICKS_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"Curing Protection Rule (no dispatch before minimum cure)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["return_rate"],proof_required:["curing_tags"],impact_score:9},{action_id:"ACT_BRICKS_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["waste_not_costed"],title:"Breakage Audit (yard/load/road/offload map)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["breakage_rate"],proof_required:["breakage_map"],impact_score:8},{action_id:"ACT_BRICKS_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Mold Check & Repair Sprint (top 10 molds)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["dimensional_pass_rate"],proof_required:["mold_checklist_photos"],impact_score:8},{action_id:"ACT_BRICKS_MARKET_7_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["spec_drift_discount"],title:"Site Spec Sheet (size/strength/curing expectations signed)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["site_rejection_rate"],proof_required:["signed_spec_sheet"],impact_score:8},{action_id:"ACT_BRICKS_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"Transport Pricing Reality Check (trip cost + minimum order)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["margin_per_order"],proof_required:["delivery_cost_sheet"],impact_score:8},{action_id:"ACT_BRICKS_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_kpi_ownership"],title:"Daily Output + Reject Board (visible at yard)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["output_stability"],proof_required:["daily_board_photo"],impact_score:7},{action_id:"ACT_BRICKS_MONEY_7_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["waste_not_costed"],title:"Materials Gate (cement/sand receipt + usage tracking)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["cement_variance"],proof_required:["usage_log"],impact_score:8},{action_id:"ACT_BRICKS_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"First-Article QC (first 20 units tested per batch)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["defect_escape_rate"],proof_required:["qc_signoff"],impact_score:8},{action_id:"ACT_BRICKS_PEOPLE_7_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["weak_shift_handover"],title:"15-min Shift Handover (mix issues/materials/breakdowns)",days:7,effort:"S",default_owner_by_size:bi,kpi_links:["shift_variance"],proof_required:["handover_notes"],impact_score:7},{action_id:"ACT_BRICKS_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"True Unit Cost Engine (by product line + delivery)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["margin_per_sku"],proof_required:["costing_model"],impact_score:9},{action_id:"ACT_BRICKS_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Batch Traceability (batch IDs + curing tags + delivery link)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["traceability_completeness"],proof_required:["traceability_sop"],impact_score:9},{action_id:"ACT_BRICKS_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_definition_gap"],title:"Strength Testing Routine (schedule + acceptance thresholds)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["strength_test_pass_rate"],proof_required:["test_logs"],impact_score:8},{action_id:"ACT_BRICKS_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Preventive Maintenance Calendar (mixer/vibro/molds)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["downtime_reduction"],proof_required:["pm_logs"],impact_score:8},{action_id:"ACT_BRICKS_OPS_30_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],title:"Stockyard Layout System (stacking/FIFO/damage prevention)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["breakage_rate","dispatch_time"],proof_required:["yard_map"],impact_score:8},{action_id:"ACT_BRICKS_MONEY_30_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["credit_terms_risk"],title:"Credit + Collections Policy (terms, follow-up, stop-work rule)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["dso"],proof_required:["collections_policy"],impact_score:8},{action_id:"ACT_BRICKS_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],title:"Market Differentiation Pack (strength guarantee + proof)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["price_realization"],proof_required:["proof_pack"],impact_score:8},{action_id:"ACT_BRICKS_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["sku_complexity_tax"],title:"SKU Rationalization (remove low-margin chaos items)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["changeover_time_reduction"],proof_required:["sku_decision_list"],impact_score:8},{action_id:"ACT_BRICKS_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"People Certification (mixing, curing, QC, machine operation)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["operator_certification_coverage"],proof_required:["certification_list"],impact_score:8},{action_id:"ACT_BRICKS_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["no_product_testing_rhythm"],title:"Innovation Sprint (1 premium line trial)",days:30,effort:"M",default_owner_by_size:bi,kpi_links:["premium_share"],proof_required:["pilot_results"],impact_score:8}],M4={questions:vge,library:Nge,actions:Mge},Ee=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Pge=[Ee("QS_OPS_01","Operations",["no_standard_work"],"When the line is busy, we rely on operator experience to keep flow smooth.","When the line is busy, we rely on a simple checklist to keep flow consistent.",1.1),Ee("QS_OPS_02","Operations",["quality_built_late"],"We prefer to ship as soon as bottles or ice are ready to keep momentum.","We prefer to ship when quick quality gates are satisfied to protect repeat demand.",1.1),Ee("QS_MONEY_01","Money",["costing_gap"],"Delivery and fuel costs are handled as part of doing business.","Delivery and fuel costs are tracked and priced into each route.",1.1),Ee("QS_MONEY_02","Money",["pricing_margin_blindspot"],"We review costs when cash feels tight.","We review costs on a routine schedule to prevent surprises.",1),Ee("QS_MARKET_01","Market",["channel_dependency"],"Retailers usually decide what sells best based on what they ask for.","We usually decide what to push based on what moves fastest and pays best.",1),Ee("QS_MARKET_02","Market",["order_fulfillment_instability"],"We rely on relationships to maintain shelf space.","We rely on relationships plus a simple rotation routine to protect shelf health.",1),Ee("QS_LEAD_01","Leadership",["no_variance_review"],"Problems are handled quickly so production can continue.","Problems are handled and standards are updated so they reduce over time.",1),Ee("QS_LEAD_02","Leadership",["decision_bottleneck"],"Approvals feel safest when controlled by one or two key people.","Approvals feel smoother when decision limits are delegated.",1.1),Ee("QS_INNOV_01","Innovation",["no_product_testing_rhythm"],"We add new bottle sizes or offers when demand asks for them often.","We add new offers after a small test proves demand and margin.",1),Ee("QS_INNOV_02","Innovation",["pack_size_profit_blindspot"],"Our focus is producing core products consistently.","Our focus is producing core products plus building one premium advantage.",1),Ee("QS_RISK_01","Risk",["traceability_gap"],"Quality confidence comes from experience and customer trust.","Quality confidence comes from experience plus records that make issues traceable.",1.1),Ee("QS_RISK_02","Risk",["hygiene_drift"],"Hygiene is maintained through routine habits and supervision.","Hygiene is maintained through habits plus verified cleaning steps.",1.1),Ee("QS_PEOPLE_01","People",["training_gap"],"New staff learn best by working alongside experienced staff.","New staff learn best by shadowing plus a short role checklist.",1),Ee("QS_PEOPLE_02","People",["hero_operator_dependence"],"Strong workers are the backbone of quality.","Strong workers plus clear standards keep quality stable when teams change.",1),Ee("DS_OPS_01","Operations",["quality_definition_gap"],"Filter changes happen when output or taste signals it is needed.","Filter changes happen on tracked hours or volume.",1),Ee("DS_OPS_02","Operations",["hygiene_drift"],"Cleaning happens when the team finds a gap.","Cleaning happens on planned cycles with sign-off.",1),Ee("DS_OPS_03","Operations",["measurement_blindspot"],"Fill checks are done when something looks off.","Fill checks are done on a timed sampling routine.",1),Ee("DS_OPS_04","Operations",["quality_definition_gap"],"Caps are checked mainly by feel and speed.","Caps are checked with periodic sampling standards.",1),Ee("DS_OPS_05","Operations",["label_risk"],"Label and date coding is handled as a routine step.","Label and date coding includes quick verification each batch.",1),Ee("DS_OPS_06","Operations",["no_stop_codes"],"Downtime is treated as part of production life.","Downtime is logged with causes so it reduces over time.",1.1),Ee("DS_OPS_07","Operations",["flow_instability"],"Storage is arranged based on available space.","Storage is arranged by rotation and dispatch speed.",.9),Ee("DS_OPS_08","Operations",["waste_not_costed"],"Ice storage is managed by keep-it-cold and move-fast habits.","Ice storage is managed by a simple melt-loss control routine.",1),Ee("DS_OPS_09","Operations",["measurement_blindspot"],"Batch differences are handled by adjusting on the fly.","Batch differences are handled by referencing target specs and records.",1),Ee("DS_OPS_10","Operations",["quality_built_late"],"QC is strongest at the end before dispatch.","QC includes early gates to prevent mass waste.",1.1),Ee("DS_MONEY_01","Money",["energy_burn_spiral"],"Power costs are reviewed mainly when bills spike.","Power costs are tracked daily and linked to output.",1.1),Ee("DS_MONEY_02","Money",["energy_burn_spiral"],"Generator and diesel use is managed as needed.","Generator and diesel use is tracked as cost per unit.",1),Ee("DS_MONEY_03","Money",["pricing_margin_blindspot"],"Pricing follows competitor rates and market pressure.","Pricing uses market rates plus true unit cost and margin targets.",1.1),Ee("DS_MONEY_04","Money",["costing_gap"],"Delivery costs are negotiated route by route.","Delivery costs are priced by rule using route economics.",1),Ee("DS_MONEY_05","Money",["credit_terms_risk"],"Credit is offered to keep retailers loyal.","Credit is offered within terms that protect cashflow.",1),Ee("DS_MONEY_06","Money",["payment_delay_chokehold"],"Collections happen when leverage allows.","Collections follow a routine with escalation rules.",1),Ee("DS_MONEY_07","Money",["shrinkage_leak"],"Shrinkage is accepted as normal small loss.","Shrinkage is tracked as variance and reduced.",1),Ee("DS_MONEY_08","Money",["discounting_leak"],"Discounts are used when movement slows.","Discounts are tied to volume, terms, and margin protection.",1),Ee("DS_MONEY_09","Money",["reactive_maintenance"],"Maintenance spending happens when breakdowns force it.","Maintenance spending is planned to prevent breakdowns.",1),Ee("DS_MONEY_10","Money",["pricing_margin_blindspot"],"Performance is judged by sales volume and market presence.","Performance is judged by margin per SKU and cash collected.",1.1),Ee("DS_MARKET_01","Market",["spec_drift_discount"],"Retail specs are handled through relationship understanding.","Retail specs are locked with a simple written confirmation.",1),Ee("DS_MARKET_02","Market",["value_story_gap"],"Shelf space is maintained through relationships.","Shelf space is maintained through relationships plus rotation checks.",1),Ee("DS_MARKET_03","Market",["order_fulfillment_instability"],"Out-of-stock is handled with quick restocking when possible.","Out-of-stock is handled through reorder triggers and dispatch discipline.",1.1),Ee("DS_MARKET_04","Market",["complaint_handling_gap"],"Complaints are resolved case-by-case.","Complaints are logged and closed to prevent repeats.",1),Ee("DS_MARKET_05","Market",["channel_dependency"],"Most growth comes from adding more shops.","Growth comes from adding more profitable shops and routes.",1),Ee("DS_MARKET_06","Market",["weak_proof_pack"],"Marketing is mostly word-of-mouth and visibility.","Marketing uses referrals plus trust-proof assets.",.9),Ee("DS_MARKET_07","Market",["pricing_positioning_gap"],"Sales are driven mainly by price competitiveness.","Sales are driven by reliability, service, and trust.",1.1),Ee("DS_MARKET_08","Market",["sku_complexity_tax"],"Product mix expands when customers ask.","Product mix expands when profitability and operations can support it.",.9),Ee("DS_MARKET_09","Market",["measurement_blindspot"],"Route performance is judged by feel and effort.","Route performance is judged by margin and reorder behavior.",1),Ee("DS_MARKET_10","Market",["planning_gap"],"Seasonality is handled as it comes.","Seasonality is planned with route and stock adjustments.",1),Ee("DS_LEAD_01","Leadership",["decision_bottleneck"],"The owner stays close to daily operations for control.","The owner designs systems so daily operations run without constant presence.",1),Ee("DS_LEAD_02","Leadership",["decision_bottleneck"],"Decisions feel safest when centralized.","Decisions feel faster when delegated with limits.",1),Ee("DS_LEAD_03","Leadership",["no_kpi_ownership"],"Targets focus on output and deliveries.","Targets focus on output, quality, and cash collection.",1),Ee("DS_LEAD_04","Leadership",["no_variance_review"],"Problems are solved by the most experienced person.","Problems are solved by updating standard work.",1),Ee("DS_LEAD_05","Leadership",["no_meeting_to_action"],"Meetings happen when issues pile up.","Reviews happen routinely with action owners.",1),Ee("DS_LEAD_06","Leadership",["hiring_mismatch"],"Hiring prioritizes availability and willingness.","Hiring prioritizes availability plus skills for critical roles.",.9),Ee("DS_LEAD_07","Leadership",["training_planning_gap"],"Training happens informally during work.","Training happens informally plus structured checklists.",.9),Ee("DS_LEAD_08","Leadership",["role_clarity_gap"],"QC authority depends on leadership presence.","QC authority is protected even under pressure.",1),Ee("DS_LEAD_09","Leadership",["cross_function_breakdown"],"Sales and production coordinate as needed.","Sales and production coordinate through a shared schedule.",1),Ee("DS_LEAD_10","Leadership",["pricing_margin_blindspot"],"Success is measured by growth and visibility.","Success is measured by stable margins and repeat demand.",.9),Ee("DS_INNOV_01","Innovation",["sku_complexity_tax"],"New SKUs are introduced to match competitors.","New SKUs are introduced after pilots prove margin.",1),Ee("DS_INNOV_02","Innovation",["pack_size_profit_blindspot"],"Packaging is chosen mainly for affordability and availability.","Packaging is chosen for affordability plus trust and shelf impact.",1),Ee("DS_INNOV_03","Innovation",["value_story_gap"],"Delivery is treated as a necessary cost.","Delivery is treated as a value-add service.",.9),Ee("DS_INNOV_04","Innovation",["no_market_feedback_loop"],"Retail expansion is prioritized first.","Institutional and B2B channels are tested intentionally.",.9),Ee("DS_INNOV_05","Innovation",["slow_bug_fix"],"Changes are avoided to reduce production disruption.","Small safe improvements are adopted to compound gains.",.9),Ee("DS_INNOV_06","Innovation",["pack_size_profit_blindspot"],"Core product movement is the only focus.","Core product movement plus one premium differentiator is the focus.",1),Ee("DS_INNOV_07","Innovation",["no_market_feedback_loop"],"Customer feedback is handled mainly through sales conversations.","Customer feedback is used to improve product and process.",.9),Ee("DS_INNOV_08","Innovation",["value_story_gap"],"Brand assets are minimal and practical.","Brand assets include trust signals and proof visuals.",.9),Ee("DS_INNOV_09","Innovation",["sku_complexity_tax"],"Multiple sizes are kept to capture demand widely.","Sizes are kept when operations can deliver them consistently.",1),Ee("DS_INNOV_10","Innovation",["no_product_testing_rhythm"],"Innovation happens when spare time appears.","Innovation happens on planned sprints.",1),Ee("DS_RISK_01","Risk",["hygiene_drift"],"Hygiene is enforced through supervision and experience.","Hygiene is enforced through supervision plus verified records.",1.1),Ee("DS_RISK_02","Risk",["compliance_blocker_risk"],"Water testing happens when required or when concerns arise.","Water testing happens on schedule with documentation.",1.1),Ee("DS_RISK_03","Risk",["traceability_gap"],"Traceability is handled through memory and routine.","Traceability is handled through batch and shift coding.",1),Ee("DS_RISK_04","Risk",["no_variance_review"],"Issues are corrected quickly to protect the brand.","Issues are corrected and logged to prevent repeats.",.9),Ee("DS_RISK_05","Risk",["compliance_blocker_risk"],"Compliance is handled when needed.","Compliance is managed proactively.",1),Ee("DS_RISK_06","Risk",["label_risk"],"Labels are designed mainly for marketing clarity.","Labels are designed for marketing clarity plus compliance checks.",1),Ee("DS_RISK_07","Risk",["hygiene_drift"],"Safety is maintained by careful workers.","Safety is maintained by workers plus routine checks.",.9),Ee("DS_RISK_08","Risk",["disaster_recovery_gap"],"Recall events are considered unlikely and not emphasized.","Recall readiness is planned as a protection tool.",1),Ee("DS_RISK_09","Risk",["contract_gap"],"Contract terms are managed through relationships.","Contract terms define returns, rejection, and acceptance criteria.",.9),Ee("DS_RISK_10","Risk",["fear_index"],"Incidents are handled quickly and quietly.","Incidents are handled quickly and used to strengthen controls.",.9),Ee("DS_PEOPLE_01","People",["hero_operator_dependence"],"Strong workers keep quality stable.","Strong workers plus standards keep quality stable.",1),Ee("DS_PEOPLE_02","People",["weak_shift_handover"],"Shifts differ naturally in speed and approach.","Shifts differ, so handovers and checklists protect consistency.",1),Ee("DS_PEOPLE_03","People",["cross_function_breakdown"],"Overtime is normal during high demand.","Overtime is controlled to protect quality.",1),Ee("DS_PEOPLE_04","People",["training_gap"],"People learn best by doing on the job.","People learn by doing plus quick structured guidance.",1),Ee("DS_PEOPLE_05","People",["role_clarity_gap"],"Accountability is shared across the team.","Accountability has clear owners per shift and line.",1),Ee("DS_PEOPLE_06","People",["blame_culture"],"Mistakes are corrected and production continues.","Mistakes are corrected and process is updated.",1),Ee("DS_PEOPLE_07","People",["low_psych_safety"],"Motivation comes from stable income.","Motivation comes from stable income plus recognition and growth.",.9),Ee("DS_PEOPLE_08","People",["hero_operator_dependence"],"Staff turnover is handled when it happens.","Staff turnover is reduced through training and role clarity.",.9),Ee("DS_PEOPLE_09","People",["training_gap"],"Quality checks depend on experienced staff.","Quality checks are teachable and consistent.",.9),Ee("DS_PEOPLE_10","People",["hero_operator_dependence"],"The team relies on a strong supervisor.","The team relies on supervision plus visible standards.",1)],fu=["all"],B0=["Critical","Watch","Stable","Strong","Emergency"],Ige=[{pillar:"Operations",leak:"Purity Drift, Fill-Volume Leak, and Cap Seal Roulette are creating hidden loss and unstable customer experience.",strength:"Operations are stable with filter-hour controls, verified CIP, calibrated filling, and stage-based quality gates.",hook:"Fill-Volume Leak",kpi:"Units/hour, Fill variance (ml), Leak rate %, CIP compliance %, Filter schedule compliance %, Downtime minutes/day",signal_tags:["measurement_blindspot","quality_definition_gap","hygiene_drift"],cost:"Inconsistent controls in filling, sealing, and sanitation convert production volume into rework, leaks, and complaint risk.",cliffhanger:"Fix Mode locks calibration, sanitation cadence, and early QC sampling so quality stabilizes within days."},{pillar:"Money",leak:"COGS Mirage, Power Bleed, and route-cost blind spots are eroding margin while sales appear healthy.",strength:"Money control is SKU-level with true unit costing, route economics, disciplined collections, and shrinkage tracking.",hook:"Power Bleed",kpi:"Unit cost/SKU, Power cost per unit, Delivery cost per route, Margin/SKU, Shrinkage variance, DSO",signal_tags:["costing_gap","energy_burn_spiral","payment_delay_chokehold"],cost:"Unpriced power and delivery variance plus delayed collections cause revenue growth to decouple from cash growth.",cliffhanger:"Fix Mode builds a cost-and-cash control loop so route growth translates into margin and collections."},{pillar:"Market",leak:"Trust Collapse risk and Route Blindness are weakening repeat demand, shelf rotation, and price control.",strength:"Market execution is disciplined: clear service-level routines, route profitability tracking, and complaint closure speed.",hook:"Route Blindness",kpi:"OTIF %, Stockout %, Route margin, Complaints per 1,000 + closure time, Repeat retailer %, Price realization",signal_tags:["channel_dependency","order_fulfillment_instability","complaint_handling_gap"],cost:"Without route and shelf discipline, you lose rotation, absorb returns, and get trapped in low-price negotiations.",cliffhanger:"Fix Mode installs route-margin maps and rotation routines that improve retention and price strength."},{pillar:"Leadership",leak:"Firefighting Plant behavior and approval bottlenecks are causing recurring quality drift and missed delivery promises.",strength:"Leadership runs with delegated limits, visible KPIs, and routine root-cause closure across production and dispatch.",hook:"Firefighting Plant",kpi:"Schedule adherence %, Weekly action closure %, Root-cause closure %, Delegation coverage %, KPI update compliance %",signal_tags:["decision_bottleneck","no_variance_review","no_meeting_to_action"],cost:"When decisions and standards depend on personalities, defects and delays repeat and management attention gets consumed.",cliffhanger:"Fix Mode enforces ownership cadence and closure rules so problems are prevented, not recycled."},{pillar:"Innovation",leak:"SKU Chaos and Packaging Premium Gaps are increasing complexity while differentiation and margin power stay weak.",strength:"Innovation is intentional with focused SKU mix, controlled pilots, better packaging signals, and service bundles.",hook:"SKU Chaos",kpi:"New channel tests/quarter, SKU count vs profit concentration, Packaging upgrade adoption %, Premium tier share %",signal_tags:["sku_complexity_tax","pack_size_profit_blindspot","no_product_testing_rhythm"],cost:"Uncontrolled assortment growth adds setup loss and working-capital drag without improving customer preference.",cliffhanger:"Fix Mode launches a 30-day SKU and packaging sprint that protects simplicity while lifting value perception."},{pillar:"Risk",leak:"Contamination exposure and Traceability Blackouts leave the business vulnerable to recall events and compliance shocks.",strength:"Risk controls are audit-ready with testing cadence, traceability records, hygiene verification, and clear acceptance terms.",hook:"Traceability Blackout",kpi:"Water test compliance %, Traceability completeness %, Audit findings #, Nonconformance response time, Safety incidents #",signal_tags:["traceability_gap","compliance_blocker_risk","hygiene_drift"],cost:"A single quality incident without traceability and testing proof can trigger major account, regulatory, and reputation loss.",cliffhanger:"Fix Mode hardens testing, coding, and incident protocols so complaints are contained before they scale."},{pillar:"People",leak:"Shift Variance Tax and Training Void are making quality person-dependent and increasing fatigue defects.",strength:"People systems stabilize output with role certification, structured handovers, and accountability linked to quality KPIs.",hook:"Shift Variance Tax",kpi:"Training hours/worker, Role certification %, Shift defect variance, Turnover %, Absenteeism %, Safety training %",signal_tags:["training_gap","weak_shift_handover","hero_operator_dependence"],cost:"When critical controls rely on memory and hero operators, quality swings by shift and corrective rework becomes normal.",cliffhanger:"Fix Mode installs certification ladders, shift ownership, and handover discipline to keep quality stable."}],Oge="Small Plant Bottled Water (manual/semi-automatic)",Lge="Automated Bottling Line (higher volume)",Rge="Sachet Water (high volume, price-sensitive)",Dge="Ice Blocks / Ice Cubes (standalone)",jge="Bottled Water + Ice (combined plant)",Kge="Institutional Supply (schools, hospitals, offices, events)",Fge="Distributor / Private Label Bottling",_o=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_WATER_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:B0,business_size_fit:fu,text:i[r],type:"mission_brief"})),Bge=[..._o("S1",["Bottled water / ice production",Oge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often showing Filter Fatigue and Cap Seal Roulette in small plants. These leaks look minor but steadily convert finished units into complaints and returns. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs filter-hour tracking, seal sampling, and fill controls that stabilize output fast.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - usually Power Bleed plus COGS Mirage. Without true unit economics, daily production activity can still produce weak cash. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets unit-cost and margin rules tied to power and packaging volatility.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - often Brand Blur and Shelf Death dynamics. Product exists, but shelf trust and rotation are fragile. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a retailer rotation and proof-pack routine that improves repeat orders.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - a firefighting cadence is likely causing standards to drift when pressure rises. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs KPI rhythm and action closure so quality holds even without founder intervention.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - growth options beyond core stock movement are underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day channel and service bundle sprint to improve stickiness and margin.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - weak testing and traceability create high downside from even one contamination rumor. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens testing cadence and batch coding before incidents escalate.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - training gaps are likely driving shift-level variation. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds role certification and handover structure so quality is no longer person-dependent."}),..._o("S2",[Lge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, typically Downtime Drain plus Fill-Volume Leak. In automated lines, small calibration drift and micro-stoppages compound into major capacity loss. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs calibration logs, PM discipline, and early QC gates to recover output.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - high-volume flow is being diluted by route inefficiency and discount leakage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode maps route profitability and locks pricing guardrails to protect margin at scale.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - distribution growth may be masking weak shelf reliability and service consistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates territory controls that increase repeat performance across channels.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - complexity likely exceeds current delegation and escalation design. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets decision limits and KPI cadence so operational speed does not compromise control.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - SKU and packaging mix may be growing without a margin lens. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode drives SKU discipline and packaging upgrades tied to price realization.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - scale amplifies traceability and recall risk when controls are weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode implements audit-ready coding and incident response routines across all lines.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - operator capability variance is likely translating into downtime and defects. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies critical roles and links incentives to quality plus uptime."}),..._o("S3",[Rge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, usually sanitation and seal-consistency gaps that create high-volume defect exposure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs hygiene verification and seal sampling that protects trust in low-margin, high-speed runs.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - thin pricing and power intensity are compressing unit economics. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode ties power-per-unit tracking to pricing and route discipline so volume stays profitable.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - sachet markets punish inconsistency quickly, and trust failure spreads fast. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds visible trust cues and complaint closure loops that protect repeat demand.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - daily standard enforcement may be uneven under throughput pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs shift-level ownership and hard quality gates that survive volume spikes.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - differentiation options like service bundles and branded assurance are underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day value-upgrade sprint that reduces pure price dependence.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - compliance and testing discipline are critical survival controls in sachet categories. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces test schedules, documentation, and response playbooks.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - training and shift consistency gaps are likely driving avoidable defect loops. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs fast role training and handover controls to stabilize execution."}),..._o("S4",[Dge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often Cold Chain Gap plus melt-loss handling issues. In standalone ice operations, timing and storage discipline decide usable output. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs melt-loss tracking, storage SOPs, and dispatch timing controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - route fuel and melt loss are likely cancelling expected margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds route pricing rules and minimum-order thresholds to protect contribution per trip.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - reliability expectations are high in fisheries, bars, and events, and service variance is penalized quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds schedule-based delivery offers that improve retention.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - planning gaps are likely causing late-night emergencies and preventable dispatch conflicts. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs daily dispatch planning and action closure routines.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - service innovation like cooler rental and recurring delivery plans is underleveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 30-day service-bundle sprint to increase stickiness and margin.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - hygiene handling and documentation gaps can quickly damage account confidence. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces handling SOPs and evidence logs across storage and transport.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - handling discipline and fatigue patterns are likely creating preventable melt and damage loss. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode assigns role accountability and shift controls around storage and loading."}),..._o("S5",[jge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, commonly showing scheduling collision between bottling and ice lines. Cost: {COST_IMPACT} as one line surge disrupts the other. Cliffhanger: Fix Mode introduces shared capacity planning and priority rules that protect both outputs.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - blended reporting may be hiding one line subsidizing the other. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode separates per-line costing and route economics so decisions reflect true margin.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - cross-sell opportunities are underused and channel promises may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode structures bundle offers that increase customer stickiness across both products.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - mixed-line complexity likely exceeds current coordination routines. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets role clarity and weekly cadence to reduce operational conflict.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - combined-service differentiation is not being fully captured. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day bundled service sprint targeting events and institutions.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - hygiene and traceability demands are elevated when two lines share infrastructure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens dual-line hygiene and coding controls to contain risk.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - cross-line training and handovers are likely weak points. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode cross-trains teams and standardizes handovers to reduce line bottlenecks."}),..._o("S6",[Kge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, where reliability gaps in delivery and quality checks are threatening contract confidence. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode establishes delivery calendars with pre-dispatch quality gates.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - institutional credit terms and delayed collections are likely choking cashflow. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode implements contract payment controls and collection escalation rules.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - weak tender proof and service evidence are limiting account growth. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds compliance-grade bid packs and reliability metrics for renewals.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - service delivery may still rely on heroics instead of repeatable systems. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets ownership and SLA rhythm so contracts are executed predictably.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - dispenser, subscription, and SLA offerings are underdeveloped. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a contract-service innovation sprint to raise retention and order value.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - institutional channels demand strict compliance and audit readiness. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces documentation and acceptance controls that reduce penalty risk.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - SOP discipline and role-level accountability need strengthening under contract pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies roles and protects quality ownership under deadline load."}),..._o("S7",[Fge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, often Label Chaos plus traceability weaknesses across client SKUs. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs private-label job tickets, spec locks, and batch-code discipline to prevent costly mix-ups.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - underquoting small custom runs and special requests is likely collapsing margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates private-label pricing tiers and MOQ rules tied to profitability.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - concentration risk is high when one account dominates private-label volume. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys account diversification and reliability-led positioning to attract stronger clients.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - documentation-heavy execution may be running without enough planning discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs weekly capacity governance and action closure by account.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - operational innovation in changeovers, premium packs, and service options is underleveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 30-day reliability-plus-premium sprint to lift margin per run.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - claim responsibility and acceptance ambiguity can trigger expensive disputes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces compliance gates and contract clauses for claims, changes, and acceptance.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - high-SKU complexity is exposing training and handover weaknesses. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes role training and accountability so accuracy holds under pressure."})],Uge=Ige.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_WATER_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:fu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_WATER_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:fu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_WATER_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:B0,business_size_fit:fu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_WATER_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:B0,business_size_fit:fu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),qge=[...Uge,...Bge],xi={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},zge=[{action_id:"ACT_WATER_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Fill-Volume Audit (overfill/underfill)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["fill_variance","overfill_cost"],proof_required:["fill_check_log","recalibration_record"],impact_score:9},{action_id:"ACT_WATER_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_definition_gap"],title:"Leak Check Gate (cap/seal sampling per hour)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["leak_rate"],proof_required:["leak_sampling_log"],impact_score:9},{action_id:"ACT_WATER_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_definition_gap"],title:"Filter Hours Tracker (simple wall chart/spreadsheet)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["taste_drift","complaint_rate"],proof_required:["filter_tracker"],impact_score:8},{action_id:"ACT_WATER_RISK_7_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift"],title:"CIP Discipline Sprint (checklist + sign-off)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["contamination_risk"],proof_required:["cip_records"],impact_score:9},{action_id:"ACT_WATER_MONEY_7_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["energy_burn_spiral"],title:"Power Cost Snapshot (kWh/diesel to cost per unit)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["power_cost_per_unit"],proof_required:["daily_power_sheet"],impact_score:8},{action_id:"ACT_WATER_MONEY_7_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["pricing_margin_blindspot"],title:"Route Profit Quick Map (top 5 routes by margin)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["route_margin"],proof_required:["route_margin_sheet"],impact_score:8},{action_id:"ACT_WATER_MARKET_7_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["order_fulfillment_instability"],title:"Retail Shelf Rotation Rule (expiry + FIFO checks)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["expiry_returns"],proof_required:["retailer_visit_log"],impact_score:7},{action_id:"ACT_WATER_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["waste_not_costed"],title:"Ice Melt Loss Check (storage temp + handling discipline)",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["melt_loss"],proof_required:["melt_loss_log"],impact_score:8},{action_id:"ACT_WATER_MARKET_7_02",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["complaint_handling_gap"],title:"Complaint 48-Hour Closure Rule",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["complaint_closure_time"],proof_required:["complaint_register"],impact_score:8},{action_id:"ACT_WATER_PEOPLE_7_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["weak_shift_handover"],title:"15-min Shift Handover",days:7,effort:"S",default_owner_by_size:xi,kpi_links:["shift_variance"],proof_required:["handover_notes"],impact_score:7},{action_id:"ACT_WATER_MONEY_30_01",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["costing_gap"],title:"True Unit Cost Engine (by SKU + delivery)",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["margin_per_sku"],proof_required:["costing_model"],impact_score:9},{action_id:"ACT_WATER_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Batch Traceability System (date/shift/line codes)",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["traceability_completeness"],proof_required:["coding_sop","sample_labels"],impact_score:9},{action_id:"ACT_WATER_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["reactive_maintenance"],title:"Preventive Maintenance Calendar",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["downtime_reduction"],proof_required:["pm_logs"],impact_score:8},{action_id:"ACT_WATER_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["compliance_blocker_risk"],title:"Water Testing Schedule + Records",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["test_compliance"],proof_required:["testing_register"],impact_score:9},{action_id:"ACT_WATER_MONEY_30_02",industry:"manufacturing",line_type:["all"],pillar:"Money",signal_tags:["payment_delay_chokehold"],title:"Collections Policy (terms + follow-up + stop-delivery)",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["dso"],proof_required:["collections_policy"],impact_score:8},{action_id:"ACT_WATER_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["sku_complexity_tax"],title:"SKU Rationalization",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["sku_profit_concentration"],proof_required:["sku_decision_list"],impact_score:8},{action_id:"ACT_WATER_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["value_story_gap"],title:"Service Bundles (scheduled delivery/subscriptions)",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["retention_rate"],proof_required:["bundle_offers"],impact_score:8},{action_id:"ACT_WATER_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["weak_proof_pack"],title:"Quality Proof Pack (tamper seal + test cadence + batch code)",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["price_power"],proof_required:["trust_assets"],impact_score:8},{action_id:"ACT_WATER_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"People Certification Ladder",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["certification_coverage"],proof_required:["role_certification_list"],impact_score:8},{action_id:"ACT_WATER_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["flow_instability"],title:"Ice Cold-Chain Upgrade",days:30,effort:"M",default_owner_by_size:xi,kpi_links:["melt_loss"],proof_required:["storage_sop","handling_upgrades"],impact_score:8}],P4={questions:Pge,library:qge,actions:zge},Ne=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"retail",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Wge=[Ne("QS_OPS_01","Operations",["inventory_accuracy_gap","stockout_tax"],"We remember what sizes and colors are available by experience.","We check a simple SKU-size list before promising.",1.1),Ne("QS_OPS_02","Operations",["no_standard_work","offer_measurement_gap"],"New arrivals go to the floor as soon as they come.","New arrivals follow a routine (tag -> price -> display -> photo).",1),Ne("QS_MONEY_01","Money",["pricing_margin_blindspot","category_margin_blindspot"],"A good week is when sales were high.","A good week is when margin stayed healthy and controlled.",1),Ne("QS_MONEY_02","Money",["discounting_leak","pricing_inconsistency"],"Discounts depend on the customer and the moment.","Discounts follow simple bands so profit stays safe.",1.1),Ne("QS_MARKET_01","Market",["followup_gap"],"Customers come back when they remember us.","We use a small VIP and follow-up habit that brings them back.",1),Ne("QS_MARKET_02","Market",["no_market_feedback_loop"],"We post products when we have time.","We post on a schedule so online sales stay steady.",1),Ne("QS_LEAD_01","Leadership",["decision_bottleneck","approval_bottleneck"],"Most decisions still need the owner.","We use rules so the team can decide quickly.",1),Ne("QS_LEAD_02","Leadership",["no_variance_review"],"We solve issues fast and move on.","We adjust the system so the issue does not repeat.",1),Ne("QS_INNOV_01","Innovation",["no_testing_rhythm"],"We buy what looks good and feels right.","We test small quantities and scale what sells fast.",1),Ne("QS_INNOV_02","Innovation",["bundle_engine_missing"],"We mostly sell single items.","We often sell complete looks or bundles.",1),Ne("QS_RISK_01","Risk",["policy_vagueness","contract_gap"],"Returns are handled case-by-case to keep customers happy.","Returns follow clear rules that protect profit and fairness.",1),Ne("QS_RISK_02","Risk",["shrinkage_leak"],"Missing items are assumed to be part of business.","Missing items trigger a simple check system.",1),Ne("QS_PEOPLE_01","People",["training_gap","onboarding_gap"],"Staff learn mainly by observing and adapting.","Staff learn through a checklist and scripts so service stays consistent.",1),Ne("QS_PEOPLE_02","People",["incentive_misalignment"],"Sales is measured mainly by revenue.","Sales includes margin and low-return behavior.",1),Ne("DS_OPS_01","Operations",["inventory_accuracy_gap"],"I find items by memory and scanning racks.","I find items by labeled sections and SKU logic.",1),Ne("DS_OPS_02","Operations",["stockout_tax"],"Sizes are tracked informally in my head.","Sizes are tracked with a simple SKU-size matrix.",1),Ne("DS_OPS_03","Operations",["no_standard_work"],"New arrivals go straight to the floor.","New arrivals follow tag, price, and photo routine.",1),Ne("DS_OPS_04","Operations",["pricing_inconsistency"],"Tagging happens when customers ask.","Tagging is mandatory before display.",1),Ne("DS_OPS_05","Operations",["offer_measurement_gap"],"Photos are taken when time allows.","Photos happen as part of receiving workflow.",1),Ne("DS_OPS_06","Operations",["no_market_feedback_loop"],"Displays are changed when they look boring.","Displays are changed based on selling performance.",.9),Ne("DS_OPS_07","Operations",["safe_handling_gap","shrinkage_leak"],"Fitting room flow is informal.","Fitting room follows a count and flow routine.",1),Ne("DS_OPS_08","Operations",["slow_mover_attachment"],"Dead stock stays until someone loves it.","Dead stock triggers bundle or markdown ladder actions.",1),Ne("DS_OPS_09","Operations",["dispatch_delivery_instability"],"Online orders are handled in chats only.","Online orders follow confirm, pack, dispatch, and proof steps.",1),Ne("DS_OPS_10","Operations",["hero_staff_dependence"],"If one key staff is absent, chaos increases.","Work stays consistent regardless of who is on shift.",1),Ne("DS_MONEY_01","Money",["pricing_inconsistency"],"Pricing is based on what competitors charge today.","Pricing starts from cost plus target margin rules.",1),Ne("DS_MONEY_02","Money",["discounting_leak"],"Discounts are used to speed up decisions.","Discounts are used inside set bands.",1),Ne("DS_MONEY_03","Money",["pricing_margin_blindspot"],"Profit is whatever remains after expenses.","Profit is tracked by category margin and leak costs.",1.1),Ne("DS_MONEY_04","Money",["discounting_leak","slow_mover_attachment"],"Markdown happens when stock feels stuck.","Markdown follows an age-based ladder.",1),Ne("DS_MONEY_05","Money",["purchase_panic","slow_mover_attachment"],"Buying is driven by what looks good.","Buying follows open-to-buy budgets and tests.",1),Ne("DS_MONEY_06","Money",["policy_vagueness","returns_damage_blindspot"],"Returns are mostly customer-happiness decisions.","Returns follow rules that protect profit.",1),Ne("DS_MONEY_07","Money",["cash_recon_gap"],"Cash and momo are checked when something feels off.","Cash and momo are reconciled daily.",1),Ne("DS_MONEY_08","Money",["slow_mover_attachment"],"I keep a wide variety even if it moves slowly.","I protect cash by managing turns and dead stock.",1),Ne("DS_MONEY_09","Money",["supplier_terms_weak"],"Supplier terms are accepted as given.","Supplier terms are negotiated and tracked.",.9),Ne("DS_MONEY_10","Money",["discounting_leak","bundle_engine_missing"],"Promotions are mostly price cuts.","Promotions are bundles and value offers to protect margin.",.9),Ne("DS_MARKET_01","Market",["followup_gap"],"Repeat customers happen naturally.","Repeat customers are built through VIP and follow-up routines.",1),Ne("DS_MARKET_02","Market",["value_story_gap"],"Our brand is a bit of everything.","Our brand is clear on style and price point.",1),Ne("DS_MARKET_03","Market",["no_market_feedback_loop"],"We post when we remember.","We post on a schedule.",1),Ne("DS_MARKET_04","Market",["followup_gap"],"We rely on walk-ins and referrals.","We capture contacts and follow up.",1),Ne("DS_MARKET_05","Market",["value_story_gap"],"Customers bargain a lot.","Customers accept our price because value is clear.",1),Ne("DS_MARKET_06","Market",["bundle_engine_missing"],"We sell what is available today.","We sell looks that solve occasions.",.9),Ne("DS_MARKET_07","Market",["weak_proof_pack"],"Reviews happen by chance.","Reviews are requested systematically.",1),Ne("DS_MARKET_08","Market",["followup_gap"],"Online inquiries are answered when free.","Online inquiries follow templates and response targets.",1),Ne("DS_MARKET_09","Market",["no_market_feedback_loop"],"I do not track which items bring customers back.","I track repeat drivers and feature them.",.9),Ne("DS_MARKET_10","Market",["value_story_gap"],"We avoid showing prices publicly.","We use clear pricing to reduce friction and time waste.",.9),Ne("DS_LEAD_01","Leadership",["kpi_cadence_gap"],"Targets live in my head.","Targets are visible and reviewed weekly.",1),Ne("DS_LEAD_02","Leadership",["no_variance_review"],"I solve problems personally.","I build systems so problems do not repeat.",1),Ne("DS_LEAD_03","Leadership",["approval_bottleneck","decision_bottleneck"],"Discount and refund exceptions need me.","Discount and refund exceptions follow limits and rules.",1),Ne("DS_LEAD_04","Leadership",["training_planning_gap"],"Staff learn mainly in the moment.","Staff learn via short checklists and scripts.",.9),Ne("DS_LEAD_05","Leadership",["accountability_soft"],"Performance is judged by effort.","Performance is judged by outcomes and standards.",1),Ne("DS_LEAD_06","Leadership",["meeting_no_action"],"Meetings are how we stay aligned.","Dashboards reduce meeting time.",.9),Ne("DS_LEAD_07","Leadership",["no_variance_review"],"Mistakes are handled emotionally.","Mistakes are handled by root-cause.",1),Ne("DS_LEAD_08","Leadership",["role_clarity_gap"],"I delegate tasks.","I delegate ownership outcomes.",.9),Ne("DS_LEAD_09","Leadership",["priority_whiplash"],"We change direction often.","We run weekly plans and stick to them.",.9),Ne("DS_LEAD_10","Leadership",["fear_silence"],"Feedback is avoided to keep peace.","Feedback is used to protect standards.",.9),Ne("DS_INNOV_01","Innovation",["no_testing_rhythm"],"We buy new styles in bulk when excited.","We test small and scale winners.",1),Ne("DS_INNOV_02","Innovation",["no_testing_rhythm"],"Newness depends on supplier availability.","Newness follows a planned drop rhythm.",1),Ne("DS_INNOV_03","Innovation",["bundle_engine_missing"],"Styling is optional and personal.","Styling is a repeatable script plus bundle system.",.9),Ne("DS_INNOV_04","Innovation",["no_testing_rhythm"],"We rarely run experiments.","We run small offer tests monthly.",1),Ne("DS_INNOV_05","Innovation",["discounting_leak"],"We rely on discounts to move stock.","We rely on bundles and value to move stock.",.9),Ne("DS_INNOV_06","Innovation",["offer_measurement_gap"],"Product naming is casual.","Product naming is consistent for search and conversion.",.9),Ne("DS_INNOV_07","Innovation",["service_inconsistency"],"Size guidance is try-and-see.","Size guidance is structured to reduce returns.",.9),Ne("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"Customer feedback is taken personally.","Customer feedback is used to improve buying.",.9),Ne("DS_INNOV_09","Innovation",["offer_measurement_gap"],"We do not use much automation.","We use templates and tools to reduce mistakes.",.9),Ne("DS_INNOV_10","Innovation",["no_market_feedback_loop"],"We do not build repeatable basics.","We build repeatable winners and exclusives.",.9),Ne("DS_RISK_01","Risk",["shrinkage_leak"],"Missing items are normal sometimes.","Missing items trigger shrink checks.",1),Ne("DS_RISK_02","Risk",["shrinkage_leak","safe_handling_gap"],"Fitting room is flexible.","Fitting room has controls and count-in-out.",1),Ne("DS_RISK_03","Risk",["policy_vagueness"],"Returns are negotiated case-by-case.","Returns follow clear policy.",1),Ne("DS_RISK_04","Risk",["cash_recon_gap"],"Refund approvals are informal.","Refund approvals are controlled and recorded.",1),Ne("DS_RISK_05","Risk",["supplier_doc_gap","supplier_selection_undisciplined"],"We trust supplier authenticity.","We verify authenticity for risk categories.",1),Ne("DS_RISK_06","Risk",["contract_gap"],"Online deliveries rely on chat proof.","Online deliveries use clear proof-of-delivery.",1),Ne("DS_RISK_07","Risk",["data_security_gap"],"Customer contacts are stored casually.","Customer data is stored securely with access control.",.9),Ne("DS_RISK_08","Risk",["pricing_inconsistency"],"Discounts can be changed by anyone.","Discount changes have limits per role.",1),Ne("DS_RISK_09","Risk",["returns_damage_blindspot"],"Damage or wear on returns is subjective.","Return checks use a consistent checklist.",1),Ne("DS_RISK_10","Risk",["contract_gap","policy_vagueness"],"Disputes are solved by giving in.","Disputes are reduced by clear terms and proof.",1),Ne("DS_PEOPLE_01","People",["incentive_misalignment"],"Sales is praised mainly for closing deals.","Sales is praised for profitable low-return closing.",1),Ne("DS_PEOPLE_02","People",["incentive_misalignment"],"Staff discount to keep customers happy.","Staff use value scripts to protect price.",1),Ne("DS_PEOPLE_03","People",["service_inconsistency"],"Staff service style is personal.","Staff use minimum scripts for consistency.",1),Ne("DS_PEOPLE_04","People",["training_gap"],"Upselling feels pushy.","Upselling is styling help and value.",.9),Ne("DS_PEOPLE_05","People",["incentive_misalignment"],"Incentives reward revenue.","Incentives reward margin and quality.",1),Ne("DS_PEOPLE_06","People",["onboarding_gap"],"New hires learn by shadowing only.","New hires learn by checklist plus shadowing.",1),Ne("DS_PEOPLE_07","People",["blame_culture"],"Mistakes are punished to prevent repeats.","Mistakes are analyzed to remove system causes.",1),Ne("DS_PEOPLE_08","People",["accountability_soft"],"Reviews happen when problems arise.","Reviews happen routinely.",.9),Ne("DS_PEOPLE_09","People",["hero_staff_dependence"],"One star staff member carries the store.","The store performs regardless of who is on shift.",1),Ne("DS_PEOPLE_10","People",["blame_culture"],"High performers can break rules.","Standards are protected consistently.",.9)],Vu=["all"],Ah=["Critical","Watch","Stable","Strong","Emergency"],Vge=[{pillar:"Operations",strength:"Stock is controlled by SKU-size-color, arrivals follow receive-tag-price-display-photo flow, and fulfillment uses proof before handover.",hook:"Size and Flow Discipline",kpi:"Stock accuracy %, Sell-through %, Stockouts top20, Catalogue completeness %, Dead stock UGX"},{pillar:"Money",strength:"Category margins are visible, markdown and discount controls are active, and daily cash/momo reconciliation protects decision accuracy.",hook:"Margin-to-Cash Visibility",kpi:"Gross margin by category, Markdown %, Discount %, Recon variance, Return loss UGX"},{pillar:"Market",strength:"Customer retention is systemized through VIP follow-up, social proof, response discipline, and clear value positioning.",hook:"Trust and Repeat Engine",kpi:"Repeat rate %, AOV, Referral %, Lead response time, Conversion %"},{pillar:"Leadership",strength:"The boutique runs on visible KPIs, delegated limits, and weekly closure on recurring operational and margin leaks.",hook:"Cadence Over Heroics",kpi:"KPI review compliance %, Decision latency, Task closure %, Repeat incident rate"},{pillar:"Innovation",strength:"Drop rhythm, bundle offers, and small controlled tests are used to scale winners without creating inventory chaos.",hook:"Measured Newness Loop",kpi:"Drops/week, Bundle adoption %, Test win rate, New item revenue %"},{pillar:"Risk",strength:"Shrinkage, returns fraud, supplier authenticity, and dispute exposure are controlled by simple but enforced evidence routines.",hook:"Retail Loss Firewall",kpi:"Shrinkage %, Fraud returns %, Counterfeit incidents, Dispute rate %"},{pillar:"People",strength:"Incentives are aligned to margin and low returns, onboarding is structured, and selling behavior is consistent across staff.",hook:"Consistent Profit Behavior",kpi:"Margin/staff, Return rate by staff, Onboarding completion %, Service consistency score"}],Hge=[{id:"OPS_01",pillar:"Operations",signal_tags:["inventory_accuracy_gap","stockout_tax","hero_staff_dependence"],hook:"Size Chaos",leak:"Stock may exist, but not in the right sizes/colors or not quickly confirmable, causing immediate lost sales and buyer frustration.",cost:"Size chaos leaks conversion and repeat trust; many boutiques lose 5-15% of potential peak-period sales from size mismatch and slow confirmation.",cliffhanger:"Fix Mode will lock SKU-size truth and reorder triggers so availability is factual, not guesswork.",kpi:"Stock accuracy %, Lost sales due to size gaps",actionPack:"OPS-P1"},{id:"OPS_02",pillar:"Operations",signal_tags:["no_standard_work","pricing_inconsistency"],hook:"Tagging Drift",leak:"Items reach display without consistent tags or prices, creating checkout delays, bargaining pressure, and pricing disputes.",cost:"Tag drift weakens price confidence and increases shrink risk; the leak compounds in every busy hour.",cliffhanger:"Fix Mode will enforce no-tag-no-floor discipline with tag audits and accountability.",kpi:"Untagged item count, Price dispute rate",actionPack:"OPS-P2"},{id:"OPS_03",pillar:"Operations",signal_tags:["offer_measurement_gap","no_market_feedback_loop"],hook:"Catalogue Gap",leak:"New arrivals are not consistently photographed and listed, so online demand cannot convert.",cost:"Catalogue gaps create direct revenue loss online and slower inventory turns offline.",cliffhanger:"Fix Mode will install a catalogue machine from receiving to posting within 24-48 hours.",kpi:"Catalogue completeness %, Online conversion %",actionPack:"OPS-P3"},{id:"OPS_04",pillar:"Operations",signal_tags:["safe_handling_gap","shrinkage_leak"],hook:"Fitting Room Friction",leak:"Try-on flow is informal, reducing conversion while increasing damage and shrink exposure.",cost:"Fitting room friction leaks both conversion and control; profit disappears through low close rates and avoidable losses.",cliffhanger:"Fix Mode will install count-in-out control and style-assist flow to convert more fittings into sales.",kpi:"Fitting conversion %, Fitting incidents",actionPack:"OPS-P4"},{id:"OPS_05",pillar:"Operations",signal_tags:["slow_mover_attachment"],hook:"Dead Rack Syndrome",leak:"Slow movers remain untouched while cash is trapped and newness weakens.",cost:"Dead rack syndrome forces markdown panic and blocks cash from restocking winners.",cliffhanger:"Fix Mode will identify dead stock and apply controlled markdown and bundle recovery rules.",kpi:"Dead stock UGX, Sell-through 30d",actionPack:"OPS-P5"},{id:"MNY_01",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],hook:"Margin Mirage",leak:"Revenue looks active while category-level margin is unclear once markdowns, returns, and shrink are included.",cost:"Margin mirage commonly hides 2-8% revenue leakage when category economics are not visible.",cliffhanger:"Fix Mode will build a margin map and leak bridge so every loss has an owner.",kpi:"Gross margin by category, Net margin estimate",actionPack:"MNY-P1"},{id:"MNY_02",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],hook:"Markdown Panic",leak:"Discount and markdown decisions are reactive, training buyers to wait and negotiate.",cost:"Pricing power erodes quickly; small discount drift can erase most profit in thin-margin periods.",cliffhanger:"Fix Mode will install discount bands and markdown ladder discipline.",kpi:"Discount %, Markdown compliance",actionPack:"MNY-P2"},{id:"MNY_03",pillar:"Money",signal_tags:["purchase_panic","slow_mover_attachment","supplier_terms_weak"],hook:"Buying Hangover",leak:"Buying decisions are over-driven by trend excitement and weak test-to-scale controls.",cost:"Buying hangover traps cash in slow styles and forces margin-killing clearance behavior.",cliffhanger:"Fix Mode will enforce open-to-buy limits and test quantity buying.",kpi:"Overbuy rate, Inventory turns",actionPack:"MNY-P4"},{id:"MNY_04",pillar:"Money",signal_tags:["cash_recon_gap"],hook:"Cash Drawer Drift",leak:"Cash and momo are not reconciled with enough daily discipline, allowing variance to normalize.",cost:"Small unresolved variances become permanent leakage and weaken trust in the numbers.",cliffhanger:"Fix Mode will enforce daily reconciliation and variance reason coding.",kpi:"Daily recon variance UGX, Cash exceptions",actionPack:"MNY-P3"},{id:"MNY_05",pillar:"Money",signal_tags:["returns_damage_blindspot","policy_vagueness"],hook:"Return Refund Bleed",leak:"Return and refund decisions are inconsistent, creating avoidable cost and fraud exposure.",cost:"Return refund bleed reduces net margin and adds dispute handling load across staff.",cliffhanger:"Fix Mode will install exchange-first design and return condition controls.",kpi:"Return rate %, Return loss UGX",actionPack:"MNY-P5"},{id:"MKT_01",pillar:"Market",signal_tags:["followup_gap"],hook:"One-Time Buyer Curse",leak:"Customer return behavior is left to chance instead of a repeat engine.",cost:"No retention system means constant replacement of buyers and unstable growth.",cliffhanger:"Fix Mode will set VIP follow-up cadence that turns one-time buyers into repeat demand.",kpi:"Repeat rate %, Repeat revenue %",actionPack:"MKT-P1"},{id:"MKT_02",pillar:"Market",signal_tags:["value_story_gap"],hook:"Brand Blur",leak:"Positioning is unclear, so customers compare mostly by price and convenience.",cost:"Brand blur reduces conversion quality and pricing strength over time.",cliffhanger:"Fix Mode will align content, scripts, and offers to a clear identity.",kpi:"Conversion %, Price realization",actionPack:"MKT-P4"},{id:"MKT_03",pillar:"Market",signal_tags:["no_market_feedback_loop","followup_gap"],hook:"Content Drought",leak:"Posting and response behavior is inconsistent, causing online lead leakage.",cost:"Content drought and slow responses reduce online conversion and traffic compounding.",cliffhanger:"Fix Mode will install cadence and response SLA to stabilize digital sales.",kpi:"Posts/week, Response time, Online sales %",actionPack:"MKT-P4"},{id:"MKT_04",pillar:"Market",signal_tags:["weak_proof_pack","value_story_gap"],hook:"Trust Gap",leak:"Social proof and confidence signals are weak, increasing hesitation and bargaining pressure.",cost:"Trust gaps reduce conversion and force lower price acceptance.",cliffhanger:"Fix Mode will build social proof and trust scripts that defend margin.",kpi:"Reviews/week, Trust conversion rate",actionPack:"MKT-P2"},{id:"LDR_01",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],hook:"KPI Darkness",leak:"Key numbers are not visible or routinely reviewed, delaying leak detection and response.",cost:"Late detection inflates losses across stockouts, discount drift, and return costs.",cliffhanger:"Fix Mode will put reality on the wall and force weekly closure.",kpi:"KPI review compliance %, Repeat incident rate",actionPack:"LDR-P1"},{id:"LDR_02",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],hook:"Approval Bottleneck",leak:"Frontline decisions wait for owner approvals, slowing service and creating inconsistent customer experience.",cost:"Decision latency leaks sales and increases dispute escalation.",cliffhanger:"Fix Mode will deploy approval limits so speed improves without control loss.",kpi:"Decision latency, Approval backlog",actionPack:"LDR-P2"},{id:"LDR_03",pillar:"Leadership",signal_tags:["no_variance_review","training_planning_gap"],hook:"Repeat Leak Tax",leak:"Known issues repeat because fixes are reactive and not embedded into standards.",cost:"Repeat leak tax multiplies payroll effort and margin loss every month.",cliffhanger:"Fix Mode will enforce root-cause closure with coaching and ownership.",kpi:"Task closure %, Repeat leak rate",actionPack:"LDR-P3"},{id:"INN_01",pillar:"Innovation",signal_tags:["no_testing_rhythm"],hook:"Drop Stagnation",leak:"Newness rhythm is inconsistent, reducing customer check-in frequency and launch momentum.",cost:"Stagnant drops reduce return traffic and weaken category freshness.",cliffhanger:"Fix Mode will launch micro-test drop rhythm tied to sell-through.",kpi:"Drops/week, Sell-through 14d",actionPack:"INN-P1"},{id:"INN_02",pillar:"Innovation",signal_tags:["bundle_engine_missing","service_inconsistency"],hook:"Outfit Engine Missing",leak:"Selling single items instead of complete looks is capping AOV and confidence-driven conversion.",cost:"Missing outfit engine reduces basket size and repeat styling demand.",cliffhanger:"Fix Mode will standardize bundles and styling scripts.",kpi:"Bundle adoption %, AOV",actionPack:"MKT-P3"},{id:"INN_03",pillar:"Innovation",signal_tags:["no_market_feedback_loop","purchase_panic"],hook:"Trend Blindness",leak:"Style decisions lag actual customer demand, causing overstock in wrong trends.",cost:"Trend blindness creates buying hangover and markdown pressure.",cliffhanger:"Fix Mode will tie buying decisions to demand feedback and test results.",kpi:"Test-to-scale ratio, New item revenue %",actionPack:"INN-P1"},{id:"RSK_01",pillar:"Risk",signal_tags:["shrinkage_leak","safe_handling_gap"],hook:"Shrink Tax",leak:"Missing items and fitting-floor loss patterns are normalized instead of investigated.",cost:"Shrink tax often behaves like a 0.5-3% inventory-value leak per month in weak-control boutiques.",cliffhanger:"Fix Mode will lock shrink controls and exception accountability.",kpi:"Shrinkage %, Inventory accuracy",actionPack:"RSK-P1"},{id:"RSK_02",pillar:"Risk",signal_tags:["policy_vagueness","returns_damage_blindspot"],hook:"Returns Fraud Loop",leak:"Return checks and policy enforcement are inconsistent, creating abuse and avoidable refund loss.",cost:"Returns fraud loop adds direct margin loss and staff conflict overhead.",cliffhanger:"Fix Mode will enforce returns firewall and condition checklist discipline.",kpi:"Fraud return rate, Return loss UGX",actionPack:"RSK-P2"},{id:"RSK_03",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],hook:"Counterfeit Landmine",leak:"Supplier authenticity is under-controlled in high-risk categories like branded shoes and bags.",cost:"One counterfeit incident can trigger refund waves and trust collapse.",cliffhanger:"Fix Mode will install supplier authenticity firewall and evidence logging.",kpi:"Counterfeit incidents, Supplier defect rate",actionPack:"RSK-P3"},{id:"RSK_04",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],hook:"Dispute Tax",leak:"Unclear terms and weak proof create recurring refund, delivery, and exchange disputes.",cost:"Dispute tax appears as settlement discounts, delayed cash, and reputation drag.",cliffhanger:"Fix Mode will standardize terms, receipt proof, and dispute closure workflow.",kpi:"Dispute rate %, Chargeback incidents",actionPack:"RSK-P4"},{id:"PPL_01",pillar:"People",signal_tags:["incentive_misalignment","discounting_leak"],hook:"Discount Culture",leak:"Sales behavior uses discounting as the default close tool, weakening price discipline and margin quality.",cost:"Discount culture turns growth into low-quality revenue and unstable profitability.",cliffhanger:"Fix Mode will realign incentives and scripts to protect margin per close.",kpi:"Discount by staff %, Margin per staff",actionPack:"PPL-P1"},{id:"PPL_02",pillar:"People",signal_tags:["training_gap","service_inconsistency","onboarding_gap"],hook:"Scriptless Selling",leak:"Sales and styling behavior varies too much by person, causing uneven conversion and return outcomes.",cost:"Scriptless selling lowers AOV and increases avoidable returns and dispute handling.",cliffhanger:"Fix Mode will standardize scripts and certify role behavior.",kpi:"Service consistency score, Return rate by staff",actionPack:"PPL-P2"}],Gge=e=>[{id:`LIB_FASHION_${e.id}_LEAK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Ah,business_size_fit:Vu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0},{id:`LIB_FASHION_${e.id}_HOOK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Ah,business_size_fit:Vu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0}],$ge=Vge.flatMap(e=>[{id:`LIB_FASHION_${e.pillar.toUpperCase()}_STR`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Stable","Strong"],business_size_fit:Vu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_FASHION_${e.pillar.toUpperCase()}_KPI`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:Ah,business_size_fit:Vu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]),Yge=["Fashion & boutique","Fashion & Boutique"],Qge="Women's Boutique (casual + office + occasion)",Xge="Men's Fashion (smart casual + formal)",Jge="Kids & Family Wear",Zge="Shoes / Bags / Accessories Boutique",ehe="Streetwear & Trend Drops",the="Bridal / Occasion / Formal Wear",ihe="Thrift / Resale (mitumba / curated secondhand)",nhe="Tailoring / Bespoke + Boutique Hybrid",ahe="Online-First Boutique (WhatsApp/IG/TikTok sales)",Ya=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_FASHION_${e}_${r.toUpperCase()}`,industry:"retail",line_type:t,pillar:r,signal_tags:[],severity_fit:Ah,business_size_fit:Vu,text:i[r],type:"mission_brief"})),rhe=[...Ya("S0",Yge,{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. This usually appears as daily stock uncertainty, weak size matching, and avoidable floor friction. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 7-day stabilization sprint and a 30-day control build tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. This often creates Margin Mirage: sales move while net profit and restock cash stay under pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens margin map, markdown discipline, and cash controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Fashion growth depends on repeat trust and content rhythm; when this slips, conversion decays quietly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs retention, proof, and conversion systems.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. The boutique may be busy but paying for repeats because closure discipline is weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces KPI cadence, delegation, and no-repeat control.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Newness and offer learning may be too ad hoc to compound. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches measured drop and bundle experiments.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Shrinkage, return fraud, and authenticity risks can escalate quickly if controls stay informal. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a practical loss-prevention firewall.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Service quality and pricing behavior likely vary by person more than by standard. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives, scripts, and certification."}),...Ya("S1",[Qge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Women's boutique performance is leaking through size truth and catalogue speed gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures size availability and arrival-to-listing flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Markdown panic and discount drift may be flattening category profit. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces margin-safe markdown rules.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat trust likely weakens when styling confidence and follow-up are inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds repeat and social-proof loops.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Decision speed and weekly control may be under pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode defines ownership and approvals.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bundle and drop experimentation is likely below potential. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches high-ROI offer tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Return dispute and shrinkage controls may be too informal for current volume. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens returns and floor controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Styling and close quality may vary too much by staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes scripts and incentives."}),...Ya("S2",[Xge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Men's fashion models often leak through fit availability and slow-moving category buildup. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures fast-fit stock and rack rotation.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin may be leaking via uncontrolled discounting and weak markdown sequencing. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode stabilizes pricing discipline.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Brand clarity and repeat routines may be under-structured. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a clear value story and retention rhythm.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. KPI visibility and owner dependency may be slowing execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs cadence and delegation limits.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Outfit engine and offer testing likely need structure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches controlled bundle tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Policy inconsistency may be increasing disputes and avoidable loss. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces policy and proof standards.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Sales behavior may be too price-driven versus value-led. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives to margin quality."}),...Ya("S3",[Jge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Kids/family models are highly exposed to size mismatch and return flow breakdown. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks size matrix and return controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin can disappear through high return costs and overbuying. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces buying and return economics.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat cycles with parents may be underleveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds parent-focused retention loops.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Standards may vary by shift and rush periods. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode reinforces routine ownership.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Pack offers and repeat basics may be under-optimized. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs bundle and basics tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Return fraud and shrink exposure are likely above safe levels. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs a practical fraud firewall.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Policy enforcement consistency may be weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies role behavior."}),...Ya("S4",[Zge],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Shoes/bags/accessories models leak when tagging, authenticity, and fast mover control are weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures high-risk SKU flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin may be eroding through discount pressure and returns settlements. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode restores price confidence and return boundaries.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Trust proof may be insufficient for higher-ticket conversion. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds social proof and authenticity messaging.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Approvals and policy consistency may slow the floor. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sharpens delegation and controls.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bundle and styling opportunity may be underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches look-based selling systems.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Counterfeit and dispute exposure is often high in this model. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens supplier firewall and evidence trails.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Price defense and product trust communication may vary by seller. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode trains trust-led scripts."}),...Ya("S5",[ehe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Streetwear models leak quickly when drop rhythm and fulfilment consistency break. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs drop and dispatch discipline.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Hype-driven buying may be creating cash traps in slow styles. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces micro-test buying.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Content cadence and proof velocity may be too low for demand cycles. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds content + response SLAs.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Execution may be too reactive to trend spikes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates weekly operating rhythm.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Test-to-scale decisions may be weakly governed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces winner-scaling logic.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Shrink and dispute exposure rises with high-volume drops. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens drop-day controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Shift quality can drift under drop pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes scripts and accountability."}),...Ya("S6",[the],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Occasion/formal models leak through weak appointment flow and return-policy inconsistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures quote-to-fit flow and quality checks.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. High-ticket margin may be leaking through exception discounts and returns. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces price and policy boundaries.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Trust and proof gaps can stall premium conversion. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens premium proof stack.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Owner dependency may be limiting service speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode delegates decision rails.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Service productization may be underdeveloped. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds premium service offers.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Dispute exposure is high when terms are verbal. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode documents terms and proof.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Premium service consistency may vary by staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies customer journey behavior."}),...Ya("S7",[ihe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Resale models leak through sorting/tagging inconsistency and dead-rack buildup. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces intake-to-floor speed and rack controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin confusion and markdown panic can eat resale gains quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds pricing and markdown discipline.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Trust and newness signals may be inconsistent for repeat traffic. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds proof and drop cadence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Execution may depend too heavily on one curator. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode distributes standards and ownership.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Curation tests and bundle strategy may be underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches rapid curation experiments.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Return disputes and shrink risk can rise in mixed-condition stock. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens intake evidence and returns checks.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Consistency in grading and selling language may vary too much. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies intake and sales scripts."}),...Ya("S8",[nhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Tailoring-plus-boutique models leak through handoff and status-tracking gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks intake-to-delivery job flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Underpriced labor and return exceptions may be reducing blended margins. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode maps service + product economics.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Conversion may be leaking from weak quote follow-up and low proof content. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a conversion pipeline.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Cross-team handoff friction may be slowing consistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode defines handoff ownership.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Productized service tiers may be missing. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates tiered service offers.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Dispute exposure rises where terms and proofs are informal. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs dispute-safe documentation.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Service quality may depend on individual stars. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes capabilities across staff."}),...Ya("S9",[ahe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Online-first models leak through catalogue delays and weak fulfillment proof. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures listing-to-delivery flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin can leak fast through discount pressure and return costs. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode protects unit economics per order.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Response speed and trust proof are likely limiting conversion. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces SLA and proof content loops.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Decision and coordination cadence may be too reactive for online pace. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns daily control rhythm.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offer testing likely needs tighter cadence. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches data-backed offer sprints.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Delivery and refund disputes can escalate quickly without proof standards. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys dispute-proof workflows.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Consistent response and selling scripts may be uneven across online handlers. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies digital sales behavior."})],she=[...$ge,...Hge.flatMap(Gge),...rhe],rL={solo:"Owner",micro:"Owner",small:"Store Manager",small_med:"Store Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},ohe=[{code:"OPS-P1",pillar:"Operations",signal_tags:["inventory_accuracy_gap","stockout_tax","restock_delay"],title7:"SKU-Size Truth + Top-20 Fast Mover Counts",title30:"SKU-Size Matrix + Reorder Triggers by Size/Color",kpi7:"stockout_rate_top20",kpi30:"inventory_accuracy",proof7:["top20_sheet","daily_size_count_log"],proof30:["sku_size_matrix","reorder_rules"],impact7:9,impact30:10},{code:"OPS-P2",pillar:"Operations",signal_tags:["no_standard_work","pricing_inconsistency"],title7:"No Tag No Floor + Tagging Station Discipline",title30:"Tag Standard + Daily Tag Audits",kpi7:"untagged_items_count",kpi30:"price_dispute_rate",proof7:["tag_station_photo","untagged_exception_log"],proof30:["tag_standard","tag_audit_log"],impact7:8,impact30:9},{code:"OPS-P3",pillar:"Operations",signal_tags:["offer_measurement_gap","no_market_feedback_loop"],title7:"Catalogue Machine (Receive > Tag > Photo > List)",title30:"Drop Calendar + Content Templates",kpi7:"catalogue_completeness",kpi30:"online_conversion_rate",proof7:["arrival_catalogue_log","listing_links"],proof30:["drop_calendar","content_template_pack"],impact7:8,impact30:9},{code:"OPS-P4",pillar:"Operations",signal_tags:["safe_handling_gap","shrinkage_leak"],title7:"Fitting Room Count-In-Out + Damage Prevention Rule",title30:"Try-On Styling Flow + Fitting Conversion Tracking",kpi7:"fitting_room_incidents",kpi30:"fitting_conversion_rate",proof7:["fitting_policy","incident_log"],proof30:["style_assist_script","fitting_conversion_sheet"],impact7:8,impact30:8},{code:"OPS-P5",pillar:"Operations",signal_tags:["slow_mover_attachment"],title7:"Dead Rack Identification + Rack Reset",title30:"Dead Stock Markdown Ladder + Bundle Recovery Plan",kpi7:"dead_stock_value",kpi30:"sell_through_30d",proof7:["dead_rack_list","before_after_rack_photos"],proof30:["markdown_ladder","recovery_report"],impact7:8,impact30:9},{code:"MNY-P1",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],title7:"Category Margin Map + Price Rule Baseline",title30:"Weekly Profit Leak Review by Category",kpi7:"gross_margin_by_category",kpi30:"net_margin_estimate",proof7:["margin_map","price_rules_sheet"],proof30:["weekly_leak_log","margin_review_notes"],impact7:9,impact30:10},{code:"MNY-P2",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],title7:"Discount Guardrails + Approval Bands",title30:"Age-Based Markdown Ladder Compliance",kpi7:"discount_rate",kpi30:"markdown_compliance",proof7:["discount_policy","approval_log"],proof30:["markdown_ladder","markdown_audit"],impact7:8,impact30:9},{code:"MNY-P3",pillar:"Money",signal_tags:["cash_recon_gap"],title7:"Daily Cash + Momo Reconciliation + Variance Log",title30:"Refund Approval Controls + Weekly Spot Audits",kpi7:"daily_recon_variance",kpi30:"refund_exception_count",proof7:["daily_recon_sheets","variance_log"],proof30:["refund_sop","audit_notes"],impact7:9,impact30:9},{code:"MNY-P4",pillar:"Money",signal_tags:["purchase_panic","slow_mover_attachment","supplier_terms_weak"],title7:"Open-to-Buy Budget + Test Quantity Rule",title30:"Supplier Terms Tracker + OTB Compliance Rhythm",kpi7:"overbuy_rate",kpi30:"inventory_turns",proof7:["otb_sheet","purchase_test_rule"],proof30:["supplier_terms_tracker","otb_compliance_log"],impact7:8,impact30:9},{code:"MNY-P5",pillar:"Money",signal_tags:["returns_damage_blindspot","policy_vagueness"],title7:"Exchange-First Policy + Return Quarantine Checks",title30:"Return Reason Coding + Return Loss Reduction Loop",kpi7:"return_rate",kpi30:"return_loss_value",proof7:["returns_policy","quarantine_log"],proof30:["return_reason_report","loss_reduction_actions"],impact7:8,impact30:9},{code:"MKT-P1",pillar:"Market",signal_tags:["followup_gap"],title7:"VIP List + Weekly WhatsApp Follow-Up Rhythm",title30:"Tiered VIP Perks + Repeat Triggers",kpi7:"repeat_customer_rate",kpi30:"repeat_revenue_percent",proof7:["vip_list","followup_templates"],proof30:["vip_tier_plan","repeat_trigger_sheet"],impact7:8,impact30:9},{code:"MKT-P2",pillar:"Market",signal_tags:["weak_proof_pack","value_story_gap"],title7:"Social Proof Engine (Reviews + Customer Looks)",title30:"Proof Wall + Trust Content Highlights",kpi7:"reviews_per_week",kpi30:"trust_conversion_rate",proof7:["review_requests","customer_photo_consent_log"],proof30:["proof_wall_links","trust_content_calendar"],impact7:7,impact30:8},{code:"MKT-P3",pillar:"Market",signal_tags:["bundle_engine_missing","service_inconsistency"],title7:"Outfit Bundle Board + Styling Script Launch",title30:"Bundle Training + AOV Lift Tracking",kpi7:"bundle_adoption_rate",kpi30:"average_order_value",proof7:["bundle_board","styling_scripts"],proof30:["bundle_training_log","aov_report"],impact7:8,impact30:9},{code:"MKT-P4",pillar:"Market",signal_tags:["no_market_feedback_loop","followup_gap"],title7:"Content Cadence + Response SLA",title30:"Drop Story Calendar + Channel Conversion Review",kpi7:"content_cadence_compliance",kpi30:"online_sales_percent",proof7:["posting_schedule","response_sla_log"],proof30:["drop_story_calendar","channel_conversion_report"],impact7:8,impact30:8},{code:"LDR-P1",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],title7:"KPI Wall + Weekly Performance Review",title30:"Leak Review Cadence + Action Closure Tracker",kpi7:"kpi_update_compliance",kpi30:"task_closure_rate",proof7:["kpi_wall_photo","weekly_review_notes"],proof30:["closure_tracker","repeat_leak_report"],impact7:8,impact30:9},{code:"LDR-P2",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck","policy_vagueness"],title7:"Delegation Limits for Discount and Refund Decisions",title30:"Approval Matrix + Decision Latency Tracking",kpi7:"decision_latency",kpi30:"approval_backlog",proof7:["delegation_rules","decision_log"],proof30:["approval_matrix","latency_dashboard"],impact7:8,impact30:8},{code:"LDR-P3",pillar:"Leadership",signal_tags:["training_planning_gap","no_variance_review","accountability_soft"],title7:"Standards Coaching: Scripts + Policy Enforcement",title30:"Role Scorecards + Repeat-Leak Elimination Routine",kpi7:"coaching_sessions_done",kpi30:"repeat_incident_rate",proof7:["coaching_log","policy_briefs"],proof30:["role_scorecards","root_cause_actions"],impact7:7,impact30:8},{code:"INN-P1",pillar:"Innovation",signal_tags:["no_testing_rhythm"],title7:"Drop Rhythm + Micro-Test Plan",title30:"Monthly Test-to-Scale Pipeline",kpi7:"drops_per_week",kpi30:"test_win_rate",proof7:["drop_plan","test_sheet"],proof30:["test_scale_pipeline","win_loss_report"],impact7:7,impact30:8},{code:"INN-P2",pillar:"Innovation",signal_tags:["supplier_selection_undisciplined","no_market_feedback_loop"],title7:"Private Label or Exclusive Sourcing Candidate List",title30:"Repeatable Winner Program (Exclusive Basics)",kpi7:"exclusive_candidate_count",kpi30:"repeatable_winner_revenue_percent",proof7:["candidate_list","supplier_shortlist"],proof30:["winner_program_doc","revenue_split_report"],impact7:6,impact30:8},{code:"INN-P3",pillar:"Innovation",signal_tags:["bundle_engine_missing","service_inconsistency"],title7:"Experience Upgrade Pilot (Styling Session + Size Guide)",title30:"Productized Styling Service + Booking Flow",kpi7:"styling_session_count",kpi30:"experience_conversion_rate",proof7:["pilot_script","session_log"],proof30:["service_menu","booking_flow"],impact7:7,impact30:8},{code:"RSK-P1",pillar:"Risk",signal_tags:["shrinkage_leak","safe_handling_gap"],title7:"Shrinkage Controls (Tagging + Fitting + Access Rules)",title30:"Shrinkage Dashboard + Weekly Exception Review",kpi7:"shrinkage_percent",kpi30:"inventory_accuracy",proof7:["shrink_controls_sheet","fitting_check_log"],proof30:["shrink_dashboard","exception_review_notes"],impact7:9,impact30:9},{code:"RSK-P2",pillar:"Risk",signal_tags:["policy_vagueness","returns_damage_blindspot"],title7:"Returns Fraud Firewall (Policy + Condition Checklist)",title30:"Returns Fraud Trend Reduction Loop",kpi7:"fraud_flagged_returns",kpi30:"returns_fraud_rate",proof7:["returns_firewall_policy","condition_checklist_records"],proof30:["fraud_trend_report","closure_actions"],impact7:8,impact30:9},{code:"RSK-P3",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],title7:"Supplier Authenticity Firewall",title30:"Supplier Authenticity Scorecard + Incident SOP",kpi7:"authenticity_check_coverage",kpi30:"supplier_defect_incidents",proof7:["approved_supplier_list","auth_check_log"],proof30:["supplier_auth_scorecard","incident_sop"],impact7:8,impact30:9},{code:"RSK-P4",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],title7:"Dispute Defense (Terms + Receipts + Delivery Proof)",title30:"Dispute Trend Elimination Workflow",kpi7:"dispute_rate",kpi30:"chargeback_dispute_incidents",proof7:["terms_sheet","receipt_and_pod_samples"],proof30:["dispute_log","elimination_actions"],impact7:8,impact30:8},{code:"PPL-P1",pillar:"People",signal_tags:["incentive_misalignment"],title7:"Incentives Aligned to Margin + Low Returns",title30:"Staff Incentive Outcome Review by Role",kpi7:"incentive_alignment_score",kpi30:"margin_per_staff",proof7:["incentive_rules_doc","staff_brief_record"],proof30:["incentive_outcome_report","review_notes"],impact7:8,impact30:9},{code:"PPL-P2",pillar:"People",signal_tags:["training_gap","onboarding_gap","service_inconsistency"],title7:"Onboarding + Certification (Styling, Policy, Catalogue)",title30:"Weekly Training Cadence + Service Script Audits",kpi7:"onboarding_completion",kpi30:"service_consistency_score",proof7:["onboarding_checklists","certification_sheet"],proof30:["training_log","script_audit_results"],impact7:8,impact30:9}],lhe=ohe.flatMap(e=>{const t=e.code.replace(/-/g,"_"),i=["all"],n={action_id:`ACT_FASHION_${t}_7`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title7,days:7,effort:"S",default_owner_by_size:rL,kpi_links:[e.kpi7],proof_required:e.proof7,impact_score:e.impact7},r={action_id:`ACT_FASHION_${t}_30`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title30,days:30,effort:"M",default_owner_by_size:rL,kpi_links:[e.kpi30],proof_required:e.proof30,impact_score:e.impact30};return[n,r]}),I4={questions:Wge,library:she,actions:lhe},Me=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"retail",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),che=[Me("QS_OPS_01","Operations",["inventory_accuracy_gap"],"We confirm stock by looking around the yard and shelves.","We confirm stock using a simple list/bin system before promising.",1.1),Me("QS_OPS_02","Operations",["dispatch_delivery_instability"],"Deliveries are managed by calls and memory.","Deliveries follow a small pick-list plus proof-of-delivery habit.",1),Me("QS_MONEY_01","Money",["pricing_margin_blindspot"],"A good day is when money moved a lot.","A good day is when we can explain margin clearly on what moved.",1),Me("QS_MONEY_02","Money",["discounting_leak"],"Discounts depend on the conversation and urgency.","Discounts follow a small rule so pricing stays consistent.",1.1),Me("QS_MARKET_01","Market",["followup_gap"],"Contractors mostly return when they remember us.","We use a small follow-up habit that keeps them returning.",1),Me("QS_MARKET_02","Market",["value_story_gap"],"Quotes are mostly verbal or WhatsApp without tracking.","Quotes are recorded so we can follow up and close.",1),Me("QS_LEAD_01","Leadership",["no_variance_review"],"When issues happen, we fix quickly and move on.","When issues happen, we adjust a small system so it stops repeating.",1),Me("QS_LEAD_02","Leadership",["decision_bottleneck"],"Decisions often wait for one key person.","Decisions follow simple rules even when the owner is away.",1.1),Me("QS_INNOV_01","Innovation",["no_testing_rhythm"],"We sell mostly the same way we always have.","We test small bundles and packages to lift profit safely.",1),Me("QS_INNOV_02","Innovation",["no_market_feedback_loop"],"Stock mix changes mainly by supplier availability.","Stock mix changes based on what moves and what customers ask for.",1),Me("QS_RISK_01","Risk",["supplier_doc_gap"],"We trust supplier quality unless customers complain.","We verify key products and suppliers as routine.",1.1),Me("QS_RISK_02","Risk",["policy_vagueness"],"Returns and disputes are handled case-by-case.","Returns and disputes follow clear written rules.",1),Me("QS_PEOPLE_01","People",["training_gap"],"Staff learn mainly by observing and adapting.","Staff learn through a checklist plus coaching so output stays consistent.",1),Me("QS_PEOPLE_02","People",["incentive_misalignment"],"Sales performance is mainly judged by revenue.","Sales performance includes margin and error rates.",1),Me("DS_OPS_01","Operations",["inventory_accuracy_gap"],"We locate items by memory and walking the yard.","We locate items using zones, labels, and bin logic.",1),Me("DS_OPS_02","Operations",["receiving_slippage"],"Receiving is mostly offload now and sort later.","Receiving follows a quick check and record first.",1),Me("DS_OPS_03","Operations",["stockout_tax"],"We notice stockouts when customers ask.","We notice stockouts through a fast-mover routine.",1),Me("DS_OPS_04","Operations",["dispatch_delivery_instability"],"Similar sizes and brands sit together without clear separation.","Similar sizes and brands are separated to prevent wrong picks.",1),Me("DS_OPS_05","Operations",["dispatch_delivery_instability"],"Deliveries are prepared from what the driver remembers.","Deliveries are prepared with a pick list and load check.",1),Me("DS_OPS_06","Operations",["returns_damage_blindspot"],"Returns go back to shelf quickly.","Returns go to quarantine first and then are decided.",1),Me("DS_OPS_07","Operations",["safe_handling_gap"],"Breakage is treated as part of business.","Breakage is logged by cause and reduced by rules.",1),Me("DS_OPS_08","Operations",["slow_mover_attachment"],"Dead stock stays until someone buys it someday.","Dead stock triggers a cleanup plan (bundle, discount, transfer).",1),Me("DS_OPS_09","Operations",["shrinkage_leak"],"Yard access is flexible depending on who is around.","Yard access follows simple controls (who, when, record).",1),Me("DS_OPS_10","Operations",["hero_staff_dependence"],"If the storekeeper is away, stock truth becomes harder.","Stock truth stays reliable regardless of who is present.",1),Me("DS_MONEY_01","Money",["pricing_inconsistency"],"Pricing is adjusted based on market mood and customer pressure.","Pricing starts from a price book with controlled flexibility.",1),Me("DS_MONEY_02","Money",["discounting_leak"],"Discounts are used to close deals faster.","Discounts are used within guardrails to protect margin.",1),Me("DS_MONEY_03","Money",["pricing_margin_blindspot"],"Profit is what remains after paying bills.","Profit is tracked by category margin and leak costs.",1.1),Me("DS_MONEY_04","Money",["cash_recon_gap"],"Cash and momo are checked when something feels off.","Cash and momo are reconciled daily as routine.",1),Me("DS_MONEY_05","Money",["category_margin_blindspot"],"Delivery cost is treated as a general expense.","Delivery cost per order is visible and managed.",1),Me("DS_MONEY_06","Money",["credit_terms_risk"],"Credit is given when the customer feels trustworthy.","Credit follows deposit, limit, and days rules.",1),Me("DS_MONEY_07","Money",["payment_delay_chokehold"],"Credit follow-up is informal reminders.","Credit follow-up is a schedule with cut-off rules.",1),Me("DS_MONEY_08","Money",["supplier_terms_weak"],"Supplier price changes are handled as they come.","Supplier price changes trigger fast price-book updates.",1),Me("DS_MONEY_09","Money",["returns_damage_blindspot"],"Returns and breakage are absorbed quietly.","Returns and breakage are measured so they reduce over time.",1),Me("DS_MONEY_10","Money",["slow_mover_attachment"],"Big purchases happen when there is a good deal.","Big purchases happen when turns and cash cycle support them.",1),Me("DS_MARKET_01","Market",["followup_gap"],"Repeat customers happen naturally.","Repeat customers are supported by a follow-up habit.",1),Me("DS_MARKET_02","Market",["segment_blindspot"],"We sell to anyone who walks in.","We prioritize key segments like contractors and institutions.",.9),Me("DS_MARKET_03","Market",["followup_gap"],"Quotes are mostly verbal or chat-based.","Quotes are logged and tracked.",1),Me("DS_MARKET_04","Market",["followup_gap"],"Referrals are left to chance.","Referrals are requested as part of service.",.9),Me("DS_MARKET_05","Market",["complaint_handling_gap"],"Complaints are solved and forgotten.","Complaints are logged and used to improve systems.",1),Me("DS_MARKET_06","Market",["value_story_gap"],"Customers mainly choose us based on price.","Customers mainly choose us based on reliability, trust, and stock.",1),Me("DS_MARKET_07","Market",["no_market_feedback_loop"],"We do not track which products drive repeat orders.","We track what repeat customers buy most.",1),Me("DS_MARKET_08","Market",["contract_gap"],"Contractor relationships are informal.","Contractor relationships follow simple tiers and terms.",.9),Me("DS_MARKET_09","Market",["followup_gap"],"Online inquiries are answered when free.","Online inquiries follow templates and speed targets.",1),Me("DS_MARKET_10","Market",["offer_measurement_gap"],"Promotions are rare and ad hoc.","Promotions are tested and measured.",.9),Me("DS_LEAD_01","Leadership",["kpi_cadence_gap"],"Targets are discussed verbally.","Targets are visible and tracked.",1),Me("DS_LEAD_02","Leadership",["no_variance_review"],"Problems are solved by extra effort.","Problems are solved by workflow improvement.",1),Me("DS_LEAD_03","Leadership",["decision_bottleneck"],"Exceptions need the owner often.","Exceptions follow limits and rules.",1),Me("DS_LEAD_04","Leadership",["training_planning_gap"],"Training happens mainly in the moment.","Training happens as short weekly sessions.",.9),Me("DS_LEAD_05","Leadership",["accountability_soft"],"Performance is judged by effort and loyalty.","Performance is judged by outcomes and accuracy.",1),Me("DS_LEAD_06","Leadership",["meeting_no_action"],"Meetings are how we stay aligned.","Dashboards reduce meetings.",.9),Me("DS_LEAD_07","Leadership",["fear_silence"],"Mistakes lead to blame to stop repeats.","Mistakes lead to root cause to stop repeats.",1),Me("DS_LEAD_08","Leadership",["role_clarity_gap"],"Delegation is giving tasks.","Delegation is giving ownership of outcomes.",.9),Me("DS_LEAD_09","Leadership",["policy_vagueness"],"Discount and credit rules are flexible.","Discount and credit rules are consistent.",1),Me("DS_LEAD_10","Leadership",["fear_silence"],"Feedback is avoided to keep peace.","Feedback is used to protect standards.",.9),Me("DS_INNOV_01","Innovation",["bundle_engine_missing"],"Bundles are offered only when asked.","Bundles are offered as a standard option.",1),Me("DS_INNOV_02","Innovation",["no_market_feedback_loop"],"Stock mix changes mainly based on supplier availability.","Stock mix changes based on demand patterns.",1),Me("DS_INNOV_03","Innovation",["pricing_inconsistency"],"Pricing changes are communicated informally.","Pricing changes are updated centrally and communicated clearly.",.9),Me("DS_INNOV_04","Innovation",["slow_mover_attachment"],"We keep slow movers just in case.","We clear slow movers to release cash.",1),Me("DS_INNOV_05","Innovation",["offer_measurement_gap"],"Quotes are built from scratch each time.","Quotes use templates for common project types.",1),Me("DS_INNOV_06","Innovation",["offer_measurement_gap"],"Tools and software feel optional.","Tools and software are used to reduce mistakes and speed service.",.9),Me("DS_INNOV_07","Innovation",["training_planning_gap"],"Staff work in their own styles.","Staff follow minimum standard workflows.",.9),Me("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"Customer feedback is taken personally.","Customer feedback is used as improvement input.",.9),Me("DS_INNOV_09","Innovation",["no_testing_rhythm"],"We rarely run experiments.","We run small tests monthly.",1),Me("DS_INNOV_10","Innovation",["offer_measurement_gap"],"Display and merchandising are based on neatness.","Display and merchandising are based on conversion.",.9),Me("DS_RISK_01","Risk",["supplier_doc_gap"],"We trust quality unless customers complain.","We verify key products and suppliers as routine.",1.1),Me("DS_RISK_02","Risk",["shrinkage_leak"],"High-value items are accessible to many staff.","High-value items have access controls.",1),Me("DS_RISK_03","Risk",["policy_vagueness"],"Returns are negotiated case-by-case.","Returns follow clear written rules.",1),Me("DS_RISK_04","Risk",["inventory_accuracy_gap"],"Stock counts happen when something is missing.","Stock counts happen routinely.",1),Me("DS_RISK_05","Risk",["supplier_doc_gap"],"Supplier disputes are handled informally.","Supplier disputes use documented receiving evidence.",1),Me("DS_RISK_06","Risk",["contract_gap"],"Delivery disputes rely on phone calls.","Delivery disputes rely on POD evidence.",1),Me("DS_RISK_07","Risk",["safe_handling_gap"],"Safety is handled carefully but informally.","Safety has simple written practices and PPE habits.",.9),Me("DS_RISK_08","Risk",["cash_recon_gap"],"Cash controls rely mostly on trust.","Cash controls rely on reconciliation and approvals.",1),Me("DS_RISK_09","Risk",["pricing_inconsistency"],"Staff can adjust prices freely when needed.","Price adjustments follow limits.",1),Me("DS_RISK_10","Risk",["no_variance_review"],"Incidents are handled quietly.","Incidents are logged and prevented.",.9),Me("DS_PEOPLE_01","People",["incentive_misalignment"],"Sales are praised mainly for closing deals.","Sales are praised for closing profitable low-dispute deals.",1),Me("DS_PEOPLE_02","People",["accountability_soft"],"Yard staff are praised mostly for speed.","Yard staff are praised for accuracy and low damage.",1),Me("DS_PEOPLE_03","People",["service_inconsistency"],"Staff handle customers in their own way.","Staff use minimum scripts to reduce confusion and disputes.",.9),Me("DS_PEOPLE_04","People",["cross_team_friction"],"Conflicts are avoided to keep peace.","Conflicts are addressed early to protect output.",.9),Me("DS_PEOPLE_05","People",["incentive_misalignment"],"Incentives are mostly sales-based.","Incentives include quality and margin metrics.",1),Me("DS_PEOPLE_06","People",["onboarding_gap"],"New hires learn mainly by shadowing.","New hires learn by checklist plus shadowing.",1),Me("DS_PEOPLE_07","People",["blame_culture"],"Mistakes are punished to prevent repeats.","Mistakes are analyzed to remove system causes.",1),Me("DS_PEOPLE_08","People",["accountability_soft"],"Performance reviews happen when problems arise.","Performance reviews happen routinely.",.9),Me("DS_PEOPLE_09","People",["hero_staff_dependence"],"Customers depend on one trusted staff member.","Service is consistent regardless of who serves.",1),Me("DS_PEOPLE_10","People",["blame_culture"],"High performers are kept even if they break rules.","Standards are protected consistently.",.9)],Hu=["all"],Eh=["Critical","Watch","Stable","Strong","Emergency"],dhe=[{pillar:"Operations",strength:"Stock is structured by category, size, and brand; dispatch follows pick-load-POD discipline; returns and damages are quarantined and root-caused.",hook:"Stock Truth + Dispatch Discipline",kpi:"Stock accuracy %, Stockout frequency (Top 30), Delivery accuracy %, Breakage %, Dead stock UGX"},{pillar:"Money",strength:"Category margin is visible, discount guardrails are active, credit is controlled by rules, and cash/momo is reconciled daily.",hook:"Margin-to-Cash Control",kpi:"Gross margin by category, Discount %, Daily recon variance, DSO, Bad debt %"},{pillar:"Market",strength:"Contractor and repeat demand are managed through quote tracking, follow-up cadence, and reliability-led service positioning.",hook:"Repeat and Contractor Flywheel",kpi:"Repeat customer %, Quote-to-sale %, AOV, Referral %, Lead response time"},{pillar:"Leadership",strength:"Execution runs on visible KPIs, defined approval limits, and weekly root-cause closure for recurring leaks.",hook:"Cadence Over Chaos",kpi:"KPI update compliance %, Decision latency, Task closure %, Incident repeat rate"},{pillar:"Innovation",strength:"Offer growth is test-driven through project kits, standardized quote templates, and lightweight automation of error-prone workflows.",hook:"Measured Offer and Process Improvement",kpi:"Offer tests/month, Bundle adoption %, New offer revenue %, Time per quote/order"},{pillar:"Risk",strength:"Supplier verification, shrinkage controls, POD-backed dispute handling, and basic safety routines are consistently enforced.",hook:"Counterfeit + Dispute + Shrinkage Shield",kpi:"Counterfeit incidents, Shrinkage %, Dispute %, Safety incidents, Compliance checks"},{pillar:"People",strength:"Incentives reinforce margin and accuracy, onboarding is structured, and role-level performance is reviewed with clear ownership.",hook:"Profit-Safe Team Behavior",kpi:"Sales margin/staff, Returns/errors by staff, Onboarding completion %, Performance variance"}],uhe=[{id:"OPS_P1",pillar:"Operations",signal_tags:["inventory_accuracy_gap","receiving_slippage","hero_staff_dependence"],hook:"Phantom Stock",leak:"Stock appears available in conversation but is not consistently traceable by location, count, and movement records.",cost:"Phantom stock drives search delays, missed sales, and shrinkage blind spots; this typically behaves like a 1-5% monthly profit leak in hardware retail.",cliffhanger:"Fix Mode will lock stock truth using zone labeling, receiving controls, and fast-mover count discipline.",kpi:"Stock accuracy %, Stock confirmation time",actionPack:"OPS-P1"},{id:"OPS_P2",pillar:"Operations",signal_tags:["stockout_tax","restock_delay"],hook:"Stockout Tax",leak:"Fast-moving construction essentials are discovered as out-of-stock at point-of-sale instead of being protected by reorder triggers.",cost:"In project-led buying, stockouts can redirect full job spend to competitors; common impact is 2-6% of monthly sales at risk.",cliffhanger:"Fix Mode will secure Top-30 fast movers with min/max and daily low-stock actions.",kpi:"Top-30 stockouts/week, Fill rate",actionPack:"OPS-P1"},{id:"OPS_P3",pillar:"Operations",signal_tags:["dispatch_delivery_instability","contract_gap"],hook:"Dispatch Drift",leak:"Delivery preparation depends on memory and calls, increasing wrong-item and wrong-quantity shipments.",cost:"Every dispatch error burns re-delivery fuel, delays payment, and triggers settlement discounts; this often compounds into recurring monthly margin loss.",cliffhanger:"Fix Mode will enforce pick-list, load-check, and POD discipline to stop avoidable delivery rework.",kpi:"Delivery accuracy %, Dispute rate %",actionPack:"OPS-P2"},{id:"OPS_P4",pillar:"Operations",signal_tags:["returns_damage_blindspot","safe_handling_gap"],hook:"Breakage Bleed",leak:"Breakage and returns are treated as routine instead of quarantined, measured, and eliminated by cause.",cost:"Unmanaged breakage becomes a daily profit drip in cement, tile, paint, and fragile categories; typical drag is 0.5-2.5% of sales.",cliffhanger:"Fix Mode will isolate breakage causes and enforce handling and stacking controls.",kpi:"Breakage %, Returns %",actionPack:"OPS-P3"},{id:"OPS_P5",pillar:"Operations",signal_tags:["slow_mover_attachment"],hook:"Slow-Mover Cemetery",leak:"Cash is trapped in low-turn inventory while fast movers risk starving, forcing reactive purchasing behavior.",cost:"Dead stock weakens restock power and increases discount pressure; trapped cash frequently reaches 5-25% of inventory value.",cliffhanger:"Fix Mode will rank dead stock by value and launch controlled cleanup without destroying price integrity.",kpi:"Dead stock UGX, Inventory turns",actionPack:"OPS-P1"},{id:"MNY_P1",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],hook:"Margin Mirage",leak:"Sales activity is visible, but net margin is unclear once discounts, breakage, delivery, and credit leakage are included.",cost:"Margin mirage typically hides 2-8% revenue leakage when costs are not mapped by category.",cliffhanger:"Fix Mode will build a category margin bridge so every leak has a number and owner.",kpi:"Gross margin by category, Net margin estimate",actionPack:"MNY-P1"},{id:"MNY_P2",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],hook:"Discount Drift",leak:"Discounting behavior varies by pressure and person, training customers to negotiate margin down.",cost:"A 3-5% unmanaged price drift can erase a large share of monthly profit in thin-margin categories.",cliffhanger:"Fix Mode will install discount bands and approvals that protect close rates and margin.",kpi:"Discount %, Price variance",actionPack:"MNY-P2"},{id:"MNY_P3",pillar:"Money",signal_tags:["cash_recon_gap"],hook:"Cash Drawer Drift",leak:"Cash and momo movement is not reconciled with enough daily rigor, allowing variance to normalize.",cost:"Small unresolved variances become a permanent monthly tax and reduce decision accuracy.",cliffhanger:"Fix Mode will enforce daily reconciliation and variance reason coding.",kpi:"Daily recon variance UGX, Cash exceptions",actionPack:"MNY-P3"},{id:"MNY_P4",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold"],hook:"Credit Sinkhole",leak:"Credit grows faster than collections discipline, starving restock cash and supplier leverage.",cost:"Unmanaged AR reduces cash velocity and raises default risk; typical impact includes larger 30+ and 60+ aging buckets.",cliffhanger:"Fix Mode will enforce credit tiers, collection cadence, and cutoff rules.",kpi:"DSO, Overdue AR %",actionPack:"MNY-P4"},{id:"MNY_P5",pillar:"Money",signal_tags:["supplier_terms_weak","category_margin_blindspot"],hook:"Supplier Price Whiplash",leak:"Supplier price changes are reaching the counter faster than price-book updates, compressing margin silently.",cost:"Delayed update cycles can make high-volume SKUs look healthy while net contribution drops weekly.",cliffhanger:"Fix Mode will tighten supplier-price to shelf-price update speed and protect margin.",kpi:"Price update lead time, Margin by category",actionPack:"MNY-P1"},{id:"MKT_P1",pillar:"Market",signal_tags:["followup_gap"],hook:"One-Time Buyer Curse",leak:"The shop depends too heavily on walk-ins and chance repeat behavior instead of a structured follow-up system.",cost:"Without repeat protection, acquisition effort resets continuously and compounding revenue weakens.",cliffhanger:"Fix Mode will build repeat and referral loops tied to contractor and buyer records.",kpi:"Repeat customer %, Referral %",actionPack:"MKT-P2"},{id:"MKT_P2",pillar:"Market",signal_tags:["value_story_gap"],hook:"Price-Comparison War",leak:"Customer choice is being driven mainly by price because trust and reliability proof are under-leveraged.",cost:"Price-only positioning increases churn and compresses margin over time.",cliffhanger:"Fix Mode will deploy trust proof and value scripts that reduce price pressure.",kpi:"AOV, Repeat rate, Complaint rate",actionPack:"MKT-P2"},{id:"MKT_P3",pillar:"Market",signal_tags:["followup_gap","segment_blindspot"],hook:"Quote Leakage",leak:"Quotes are sent but not tracked and followed, so high-intent buyers drift to faster or more organized competitors.",cost:"Quote leakage is silent churn: pipeline effort spent without close-rate conversion.",cliffhanger:"Fix Mode will install quote logging and follow-up cadence to raise conversion quickly.",kpi:"Quote-to-sale %, Lead response time",actionPack:"MKT-P1"},{id:"LDR_P1",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],hook:"KPI Darkness",leak:"Critical indicators are not visible enough for early intervention, so leak detection happens late.",cost:"Late detection amplifies stockout, discount, and dispute losses that could have been prevented.",cliffhanger:"Fix Mode will install a KPI wall and daily cadence with named owners.",kpi:"KPI update compliance, Incident repeat rate",actionPack:"LDR-P1"},{id:"LDR_P2",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],hook:"Approval Bottleneck",leak:"Discount, credit, refund, and exception decisions queue behind one person, slowing execution.",cost:"Decision latency creates lost sales, delayed resolution, and avoidable customer friction.",cliffhanger:"Fix Mode will implement approval limits and delegation boundaries that keep control without delay.",kpi:"Decision latency, Approval backlog",actionPack:"LDR-P2"},{id:"LDR_P3",pillar:"Leadership",signal_tags:["no_variance_review","accountability_soft"],hook:"Repeat Leak Tax",leak:"Known issues recur because fixes rely on effort bursts instead of system closure routines.",cost:"Recurring incidents multiply payroll effort and margin loss every month.",cliffhanger:"Fix Mode will enforce root-cause closure on top recurring leaks.",kpi:"Task closure %, Repeat incident rate",actionPack:"LDR-P3"},{id:"INN_P1",pillar:"Innovation",signal_tags:["bundle_engine_missing","no_testing_rhythm"],hook:"No Bundle Engine",leak:"Project bundles and offer tests are underused, limiting AOV growth and structured upsell.",cost:"Without tested bundles, each sale carries lower realized margin and slower learning velocity.",cliffhanger:"Fix Mode will launch high-probability project-kit experiments and track outcomes.",kpi:"Bundle adoption %, AOV",actionPack:"INN-P1"},{id:"INN_P2",pillar:"Innovation",signal_tags:["offer_measurement_gap","no_market_feedback_loop"],hook:"Manual Chaos",leak:"Too many critical steps rely on memory and ad hoc communication, increasing repeat errors.",cost:"Manual chaos drives hidden rework time and slower quote/order throughput.",cliffhanger:"Fix Mode will standardize templates and lightweight automation in high-error workflows.",kpi:"Workflow error rate, Time per quote/order",actionPack:"INN-P2"},{id:"INN_P3",pillar:"Innovation",signal_tags:["slow_mover_attachment","no_market_feedback_loop"],hook:"Stagnant Assortment",leak:"Stock mix is not being refreshed fast enough by demand signals, so slow movers linger and winners starve.",cost:"Stagnant assortment traps cash and lowers conversion in active project categories.",cliffhanger:"Fix Mode will align assortment refresh to turns and repeat-demand data.",kpi:"Fast-mover share %, Inventory turns",actionPack:"INN-P2"},{id:"RSK_P1",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],hook:"Counterfeit Landmine",leak:"Product authenticity controls are too weak for high-risk lines and supplier variance scenarios.",cost:"A single counterfeit event can trigger refunds, contractor distrust, and lasting reputation damage.",cliffhanger:"Fix Mode will activate an approved-supplier firewall and verification routine.",kpi:"Counterfeit incidents, Supplier defect rate",actionPack:"RSK-P1"},{id:"RSK_P2",pillar:"Risk",signal_tags:["shrinkage_leak","inventory_accuracy_gap"],hook:"Yard Shrink",leak:"Stock movement and access controls are too loose, allowing small losses to normalize.",cost:"Yard shrink often behaves like a 0.5-3% inventory-value leak per month when controls are weak.",cliffhanger:"Fix Mode will lock access, high-risk counting, and variance accountability.",kpi:"Shrinkage %, Inventory accuracy",actionPack:"RSK-P2"},{id:"RSK_P3",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],hook:"Dispute Tax",leak:"Delivery and returns disputes are recurring because terms and proof standards are inconsistent.",cost:"Dispute tax appears as settlement discounts, delayed cash, re-delivery cost, and trust erosion.",cliffhanger:"Fix Mode will standardize terms, POD evidence, and return handling to reduce disputes sharply.",kpi:"Dispute %, Return dispute %",actionPack:"RSK-P3"},{id:"RSK_P4",pillar:"Risk",signal_tags:["safe_handling_gap","no_variance_review"],hook:"Safety Exposure",leak:"Handling and stacking safety controls rely on caution rather than repeatable routines and logging.",cost:"Incidents can create stock loss, downtime, liability exposure, and preventable operational shocks.",cliffhanger:"Fix Mode will implement basic safety routines and incident prevention cadence.",kpi:"Safety incidents, Audit pass rate",actionPack:"RSK-P4"},{id:"PPL_P1",pillar:"People",signal_tags:["training_gap","onboarding_gap"],hook:"Shortcut Culture",leak:"Operational shortcuts are filling process gaps, increasing dispatch errors, disputes, and inconsistent service quality.",cost:"Shortcut culture feels fast but creates a recurring loss loop across errors, rework, and trust damage.",cliffhanger:"Fix Mode will install onboarding and role-level certification that preserves speed and quality.",kpi:"Error rate/staff, Onboarding completion %",actionPack:"PPL-P2"},{id:"PPL_P2",pillar:"People",signal_tags:["incentive_misalignment","accountability_soft"],hook:"Incentive Misalignment",leak:"Volume-only incentives are pushing discounting and risky selling behavior that weakens net profitability.",cost:"Misaligned incentives increase margin leakage and service disputes even when sales volume looks strong.",cliffhanger:"Fix Mode will align incentives to margin, accuracy, and low-dispute outcomes.",kpi:"Margin per staff, Returns/errors by staff",actionPack:"PPL-P1"}],phe=e=>[{id:`LIB_HARDWARE_${e.id}_LEAK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Eh,business_size_fit:Hu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0},{id:`LIB_HARDWARE_${e.id}_HOOK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Eh,business_size_fit:Hu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0}],fhe=dhe.flatMap(e=>[{id:`LIB_HARDWARE_${e.pillar.toUpperCase()}_STR`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Stable","Strong"],business_size_fit:Hu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_HARDWARE_${e.pillar.toUpperCase()}_KPI`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:Eh,business_size_fit:Hu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]),ghe=["Hardware & Building Materials Shop","Hardware & building materials shop"],hhe="General Hardware Retail",mhe="Building Materials Yard (cement, steel, bricks, aggregates)",yhe="Paints & Finishes Shop",_he="Plumbing & Electrical Focus",vhe="Contractor / Project Supply",bhe="Wholesale / Bulk Distributor",vo=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_HARDWARE_${e}_${r.toUpperCase()}`,industry:"retail",line_type:t,pillar:r,signal_tags:[],severity_fit:Eh,business_size_fit:Hu,text:i[r],type:"mission_brief"})),xhe=[...vo("S0",ghe,{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Day-to-day this usually appears as stock uncertainty, dispatch errors, and avoidable handling loss. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 7-day stabilization sprint and a 30-day control build tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. This often creates Margin Mirage: sales activity rises but net cash and margin remain under pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode rebuilds category margin truth, pricing guardrails, and credit control.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Hardware growth is repeating trust at speed; when this slips, quote conversion and repeat orders weaken. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs contractor follow-up and repeat-order systems.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. The business may be solving issues fast but paying for repeats. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces KPI cadence, decision limits, and closure discipline.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offer and workflow improvements may be too ad hoc to compound. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches measured project-kit and process experiments.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Counterfeit, shrinkage, dispute, or safety exposure can escalate quickly in this model. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens verification, POD evidence, and control routines.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Outcome quality likely varies by person rather than by system. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives, onboarding, and role ownership to stabilize performance."}),...vo("S1",[hhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. General hardware performance is likely leaking through stock truth and dispatch discipline gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures fast-mover flow and dispatch accuracy.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin is likely thinning through discount drift and hidden cost leakage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces category margin and pricing controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat demand may be weaker than expected due to inconsistent follow-up and value signaling. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs repeat and referral routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Approval friction and low KPI visibility may be slowing execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode restores speed with delegated limits and KPI cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bundle and quote-template opportunities are likely underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a project-kit conversion sprint.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Supplier and dispute controls may be too informal for current transaction volume. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds verification and dispute-proof routines.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Staff outcomes may be driven by individual style instead of standards. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes incentives and onboarding."}),...vo("S2",[mhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Yard-heavy models often leak through movement control, dispatch errors, and breakage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs yard count discipline and dispatch proof.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Gross sales can hide major loss from breakage, delivery rework, and delayed collections. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode maps true order margin after handling and delivery.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Contractor trust likely drops when yard reliability and delivery accuracy slip. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds contractor SLA and follow-up controls.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Firefighting yard operations may be replacing planned control. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces routine ownership by shift and zone.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Project package and route optimization gains may be missed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs operational upgrades with measured ROI.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Shrinkage and safety exposure are usually the largest preventable losses in yard models. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode activates access, count, and safety audit discipline.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Yard and dispatch quality may vary by team and pressure level. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies handling and dispatch behaviors."}),...vo("S3",[yhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Paint and finishes models leak quickly when fast shades/sizes stock out and returns are loosely controlled. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode protects fast-turn SKU control.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Price inconsistency and discount drift can quietly flatten category margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode tightens price-book speed and discount rules.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Value proof and follow-up may be too weak to sustain repeat trade conversion. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds trust scripts and repeat loops.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Decisions and exceptions may be over-centralized. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode defines decision limits for front-line speed.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Kit offers and display optimization opportunities may be underexploited. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs conversion-focused offer tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Supplier and dispute controls may not be strong enough for high-choice retail categories. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens supplier and return evidence loops.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Selling discipline and product guidance quality may vary by staff member. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes scripts and coaching."}),...vo("S4",[_he],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Plumbing/electrical models are vulnerable to wrong-size picks and receiving drift. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode tightens SKU separation and pick accuracy controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. High SKU complexity with weak price discipline can leak margin quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces category pricing and margin visibility.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat trust may be leaking through inconsistent quote and follow-up speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys quote tracking and contractor follow-up cadence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Role and decision boundaries may be creating preventable delays. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs ownership clarity and approval limits.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Standard kits and template quoting are likely underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds kit and template adoption into routine.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Counterfeit and supplier-quality exposure is elevated in spec-sensitive categories. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens supplier firewall and verification checks.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Inconsistent product guidance can increase returns and disputes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode trains role-specific advisory behavior."}),...vo("S5",[vhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Project-supply operations usually leak through quote-to-delivery handoff and exception chaos. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode stabilizes quote, dispatch, and POD execution.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Credit and collection pressure likely threatens restock cash and supplier leverage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces credit tiers and collections cadence.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Project conversion may be leaking through weak quote follow-up discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs a contractor conversion engine.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Approval bottlenecks can delay project response and close rates. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode defines delegated approval rails.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Standard project templates and bundles are likely under-structured. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches project template and bundle optimization.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Dispute and contract exposure typically rise as project sizes grow. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens dispute defense and term clarity.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. High-pressure project fulfillment may amplify shortcut behavior. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode reinforces training and accountability controls."}),...vo("S6",[bhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bulk models leak heavily from stock turns, dispatch errors, and handling losses if discipline slips. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs scale-safe stock and dispatch control.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Volume can hide thin margin when delivery and credit economics are not controlled per order. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces per-order economics and AR defense.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Wholesale trust and retention may weaken under service inconsistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures repeat account reliability routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Scale pressure may outgrow current KPI and decision systems. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns scorecards and delegation for scale.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Standardized bundle and quote operations can unlock faster profitable growth. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches high-impact process experiments.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Bulk movement increases shrinkage, dispute, and safety exposure if controls lag. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys high-volume risk controls and audit cadence.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Team variance at scale can create expensive operational instability. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes training and performance ownership."})],khe=[...fhe,...uhe.flatMap(phe),...xhe],sL={solo:"Owner",micro:"Owner",small:"Store Manager",small_med:"Store Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},She=[{code:"OPS-P1",pillar:"Operations",signal_tags:["inventory_accuracy_gap","stockout_tax","restock_delay","slow_mover_attachment"],title7:"Top-30 Fast Movers + Daily Stock Truth Count",title30:"ABC Cycle Counts + Reorder Triggers (Top-50 SKUs)",kpi7:"stockout_rate_top30",kpi30:"inventory_accuracy",proof7:["top30_fast_movers","daily_count_sheet","labeled_zone_photos"],proof30:["abc_count_plan","variance_log","min_max_rules"],impact7:9,impact30:10},{code:"OPS-P2",pillar:"Operations",signal_tags:["dispatch_delivery_instability","contract_gap"],title7:"Dispatch Pick List + Load Check + POD Discipline",title30:"Route Cost Visibility + Delivery SOP by Product Type",kpi7:"delivery_accuracy",kpi30:"fuel_cost_per_order",proof7:["pick_list_samples","pod_samples","wrong_item_log"],proof30:["route_cost_tracker","delivery_sop","dispute_log"],impact7:8,impact30:9},{code:"OPS-P3",pillar:"Operations",signal_tags:["returns_damage_blindspot","safe_handling_gap"],title7:"Breakage/Returns Quarantine + Cause Logging",title30:"Supplier Defect Loop + Handling/Stacking Standards",kpi7:"breakage_rate",kpi30:"returns_rate",proof7:["quarantine_photo","breakage_returns_log"],proof30:["supplier_defect_scorecard","handling_training_log"],impact7:8,impact30:9},{code:"OPS-P4",pillar:"Operations",signal_tags:["receiving_slippage","supplier_doc_gap"],title7:"Receiving Checklist (SKU/size/qty/condition) + Evidence Capture",title30:"Supplier Receiving Accuracy Scorecard + Correction Cadence",kpi7:"receiving_error_rate",kpi30:"supplier_otif",proof7:["receiving_checklists","receiving_photos"],proof30:["supplier_scorecard","supplier_correction_notes"],impact7:7,impact30:8},{code:"OPS-P5",pillar:"Operations",signal_tags:["kpi_cadence_gap","no_variance_review"],title7:"Open/Close Routine + Exception Log",title30:"Routine Compliance Tracker + Shift Handover Discipline",kpi7:"open_close_compliance",kpi30:"incident_repeat_rate",proof7:["open_close_sheet","exception_log"],proof30:["compliance_tracker","handover_log"],impact7:7,impact30:8},{code:"MNY-P1",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot","pricing_inconsistency","supplier_terms_weak"],title7:"Category Margin Map + Top-50 Price Book",title30:"Weekly Margin Leak Review + Price Update Cadence",kpi7:"gross_margin_by_category",kpi30:"net_margin_estimate",proof7:["margin_map_sheet","price_book"],proof30:["margin_leak_log","price_update_log"],impact7:9,impact30:10},{code:"MNY-P2",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],title7:"Discount Guardrails + Approval Limits",title30:"Discount Drift Audit + Scripted Value-Based Selling",kpi7:"discount_rate",kpi30:"price_variance",proof7:["discount_policy","approval_log"],proof30:["discount_drift_report","sales_script_brief"],impact7:8,impact30:9},{code:"MNY-P3",pillar:"Money",signal_tags:["cash_recon_gap"],title7:"Daily Cash + Momo + Bank Reconciliation",title30:"Cash Audit Spot Checks + Refund SOP",kpi7:"daily_recon_variance",kpi30:"cash_exception_count",proof7:["daily_reconciliation_sheets","variance_log"],proof30:["audit_notes","refund_sop"],impact7:9,impact30:9},{code:"MNY-P4",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold","payment_terms_risk"],title7:"Credit Tiers + AR Aging + Collections Cadence",title30:"Credit Cutoff Enforcement + Collections Escalation Ladder",kpi7:"ar_overdue_percent",kpi30:"dso",proof7:["credit_policy","ar_aging_sheet","collections_log"],proof30:["cutoff_rule_evidence","escalation_log"],impact7:9,impact30:10},{code:"MNY-P5",pillar:"Money",signal_tags:["category_margin_blindspot","dispatch_delivery_instability"],title7:"Delivery Cost per Order Visibility",title30:"Delivery Cost Recovery Through Pricing/Minimum-Order Rules",kpi7:"delivery_cost_per_order",kpi30:"order_margin_after_delivery",proof7:["delivery_cost_sheet","sample_orders"],proof30:["pricing_adjustment_rules","margin_after_delivery_report"],impact7:7,impact30:8},{code:"MKT-P1",pillar:"Market",signal_tags:["followup_gap","segment_blindspot"],title7:"Contractor Register + Quote Follow-up Engine",title30:"Contractor Tier Program + Quote Conversion Cadence",kpi7:"quote_to_sale_conversion",kpi30:"repeat_revenue_percent",proof7:["contractor_register","quote_log","followup_templates"],proof30:["contractor_tier_doc","conversion_report"],impact7:8,impact30:9},{code:"MKT-P2",pillar:"Market",signal_tags:["followup_gap","value_story_gap"],title7:"Repeat Buyer and Referral Routine",title30:"Segmented Follow-up Calendar + Repeat Trigger Rules",kpi7:"repeat_customer_rate",kpi30:"referral_rate",proof7:["followup_log","referral_ask_script"],proof30:["followup_calendar","repeat_trigger_sheet"],impact7:7,impact30:8},{code:"MKT-P3",pillar:"Market",signal_tags:["bundle_engine_missing","offer_measurement_gap"],title7:"Project Kits (roof/plumbing/painting) + Offer Test",title30:"Standard Project Quote Templates + Bundle Optimization",kpi7:"bundle_adoption_rate",kpi30:"average_order_value",proof7:["project_kit_list","test_results_week1"],proof30:["quote_templates","bundle_performance_report"],impact7:8,impact30:8},{code:"LDR-P1",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],title7:"KPI Wall + Daily 10-minute Standup",title30:"Weekly Root-Cause Closure on Top 3 Leaks",kpi7:"kpi_update_compliance",kpi30:"repeat_leak_rate",proof7:["kpi_wall_photo","standup_notes"],proof30:["root_cause_actions","closure_evidence"],impact7:8,impact30:9},{code:"LDR-P2",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck","policy_vagueness"],title7:"Delegation Limits for Discount/Credit/Refund Decisions",title30:"Approval Matrix + Decision Latency Tracker",kpi7:"decision_latency",kpi30:"approval_backlog",proof7:["delegation_rules","decision_examples"],proof30:["approval_matrix","latency_report"],impact7:8,impact30:8},{code:"LDR-P3",pillar:"Leadership",signal_tags:["training_planning_gap","accountability_soft","no_variance_review"],title7:"Role Scorecards + Weekly Coaching Start",title30:"Performance Cadence + Role Ownership Audit",kpi7:"scorecard_coverage",kpi30:"task_closure_rate",proof7:["role_scorecards","coaching_notes"],proof30:["coaching_calendar","ownership_audit"],impact7:7,impact30:8},{code:"INN-P1",pillar:"Innovation",signal_tags:["no_testing_rhythm","bundle_engine_missing"],title7:"Run One Measured Offer Experiment",title30:"Monthly Experiment Pipeline + Win/Loss Library",kpi7:"experiments_run",kpi30:"experiment_win_rate",proof7:["experiment_sheet","baseline_vs_result"],proof30:["experiment_pipeline","win_loss_library"],impact7:6,impact30:8},{code:"INN-P2",pillar:"Innovation",signal_tags:["offer_measurement_gap","no_market_feedback_loop","training_planning_gap"],title7:"Automation Lite (templates, labels, quote format)",title30:"Workflow Standardization with Training and Adoption Tracking",kpi7:"template_adoption",kpi30:"workflow_error_rate",proof7:["templates_pack","usage_log_week1"],proof30:["workflow_sop_pack","adoption_report"],impact7:7,impact30:8},{code:"RSK-P1",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],title7:"Counterfeit and Supplier Firewall",title30:"Supplier Verification Scorecards + Defect Response SOP",kpi7:"counterfeit_incidents",kpi30:"supplier_defect_rate",proof7:["approved_supplier_list","verification_checklist"],proof30:["supplier_scorecards","defect_response_sop"],impact7:9,impact30:9},{code:"RSK-P2",pillar:"Risk",signal_tags:["shrinkage_leak","inventory_accuracy_gap"],title7:"Yard Shrinkage Controls (access + high-risk counts)",title30:"Shrinkage Dashboard + Weekly Variance Reviews",kpi7:"shrinkage_percent",kpi30:"inventory_accuracy",proof7:["access_rules","high_risk_count_log"],proof30:["shrinkage_dashboard","variance_review_notes"],impact7:8,impact30:9},{code:"RSK-P3",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],title7:"Dispute Defense: Terms + POD + Returns SOP",title30:"Dispute Trend Elimination Loop",kpi7:"dispute_rate",kpi30:"return_dispute_rate",proof7:["written_terms","pod_samples","returns_sop"],proof30:["dispute_log","closure_actions"],impact7:8,impact30:8},{code:"RSK-P4",pillar:"Risk",signal_tags:["safe_handling_gap","no_variance_review"],title7:"Safety Basics (PPE/stacking/handling) + Incident Log",title30:"Safety Audit Rhythm + Corrective Action Tracker",kpi7:"safety_incidents",kpi30:"safety_audit_pass_rate",proof7:["safety_rules","incident_log"],proof30:["audit_results","corrective_actions"],impact7:7,impact30:8},{code:"PPL-P1",pillar:"People",signal_tags:["incentive_misalignment","accountability_soft"],title7:"Profit-Aligned Incentives (margin + low errors + low disputes)",title30:"Incentive Outcome Review by Staff",kpi7:"incentive_alignment_score",kpi30:"returns_by_staff",proof7:["incentive_rules","staff_brief"],proof30:["staff_outcome_report","incentive_review_notes"],impact7:8,impact30:9},{code:"PPL-P2",pillar:"People",signal_tags:["onboarding_gap","training_gap","service_inconsistency"],title7:"Onboarding Checklist + Role Certification Start",title30:"Weekly Training Cadence + Coverage Matrix",kpi7:"onboarding_completion",kpi30:"performance_variance_by_shift",proof7:["onboarding_checklist","initial_skill_checks"],proof30:["training_log","coverage_matrix"],impact7:8,impact30:9}],whe=She.flatMap(e=>{const t=e.code.replace(/-/g,"_"),i=["all"],n={action_id:`ACT_HARDWARE_${t}_7`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title7,days:7,effort:"S",default_owner_by_size:sL,kpi_links:[e.kpi7],proof_required:e.proof7,impact_score:e.impact7},r={action_id:`ACT_HARDWARE_${t}_30`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title30,days:30,effort:"M",default_owner_by_size:sL,kpi_links:[e.kpi30],proof_required:e.proof30,impact_score:e.impact30};return[n,r]}),O4={questions:che,library:khe,actions:whe},Pe=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"retail",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Che=[Pe("QS_OPS_01","Operations",["inventory_accuracy_gap"],"When a customer asks for a model, I quickly check around the shelves.","I check a simple list/system to confirm stock before I speak.",1.1),Pe("QS_OPS_02","Operations",["no_standard_work"],"Repairs are tracked mostly by memory and WhatsApp messages.","Repairs are tracked using a job card or log with clear stages.",1.1),Pe("QS_MONEY_01","Money",["pricing_margin_blindspot"],"I feel the business is doing well when cash moved a lot today.","I feel the business is doing well when I can explain today's margin clearly.",1),Pe("QS_MONEY_02","Money",["discounting_leak"],"Discounts depend on the conversation and urgency.","Discounts follow a small rule with bands and approval limits.",1),Pe("QS_MARKET_01","Market",["followup_gap"],"Most customers are one-time buyers unless they return by chance.","We have a small follow-up habit that brings people back.",1),Pe("QS_MARKET_02","Market",["value_story_gap"],"Customers mostly choose us because of price.","Customers mostly choose us because they trust our clarity and service.",1),Pe("QS_LEAD_01","Leadership",["no_variance_review"],"When things go wrong, we talk it out until everyone understands.","When things go wrong, we change a small system so it stops repeating.",1),Pe("QS_LEAD_02","Leadership",["decision_bottleneck"],"Decisions usually wait for one key person.","Decisions are guided by simple rules even when the owner is away.",1.1),Pe("QS_INNOV_01","Innovation",["no_testing_rhythm"],"We keep selling what has always sold; changing offers feels risky.","We test small offers and bundles to increase profit safely.",1),Pe("QS_INNOV_02","Innovation",["offer_measurement_gap"],"Display arrangement is mostly based on what looks neat.","Display arrangement is based on what converts and moves fast.",1),Pe("QS_RISK_01","Risk",["supplier_doc_gap"],"We mostly trust supplier and device story as long as it looks okay.","We verify key details (IMEI, condition, parts source) as routine.",1.1),Pe("QS_RISK_02","Risk",["policy_vagueness"],"Warranty terms are explained verbally depending on the situation.","Warranty terms are written so disputes reduce.",1),Pe("QS_PEOPLE_01","People",["training_gap"],"Good staff learn mainly by observing and adapting.","Good staff learn through a short checklist and coaching.",1),Pe("QS_PEOPLE_02","People",["incentive_misalignment"],"Sales performance is mainly measured by money collected and deals closed.","Sales performance includes returns, attach rate, and margin quality.",1),Pe("DS_OPS_01","Operations",["inventory_accuracy_gap"],"We locate phones by remembering where they were placed.","We locate phones using labels/sections or a simple log.",1),Pe("DS_OPS_02","Operations",["receiving_slippage"],"New stock is added to shelves first and recorded later.","New stock is recorded first and then displayed.",1),Pe("DS_OPS_03","Operations",["restock_delay"],"We notice missing accessories when customers ask.","We notice missing accessories through a routine count of fast movers.",1),Pe("DS_OPS_04","Operations",["returns_damage_blindspot"],"A phone is ready to sell once it powers on.","A phone is ready to sell after a short quality checklist test.",1),Pe("DS_OPS_05","Operations",["no_standard_work"],"Repairs are tracked by conversation threads.","Repairs are tracked by status steps from intake to handover.",1),Pe("DS_OPS_06","Operations",["supplier_doc_gap"],"Parts are used if they fit and work.","Parts are used if they fit, work, and pass a sourcing rule.",1),Pe("DS_OPS_07","Operations",["policy_vagueness"],"Returns are handled after urgent dispatches.","Returns follow a standard flow and are logged by reason.",1),Pe("DS_OPS_08","Operations",["receiving_slippage"],"Staff handle receiving based on experience.","Staff handle receiving using a short checklist.",1),Pe("DS_OPS_09","Operations",["restock_delay"],"We reorder accessories when the shelf looks empty.","We reorder accessories when top items hit a defined low point.",1),Pe("DS_OPS_10","Operations",["hero_staff_dependence"],"If the owner is away, operations slow down.","If the owner is away, workflow still runs consistently.",1),Pe("DS_MONEY_01","Money",["pricing_inconsistency"],"I price based on the day's market mood and customer pressure.","I price from a baseline list with controlled flexibility.",1),Pe("DS_MONEY_02","Money",["discounting_leak"],"Discounts are used to end negotiations quickly.","Discounts are used when they protect volume and margin.",1),Pe("DS_MONEY_03","Money",["pricing_margin_blindspot"],"I know profit by feel after paying bills.","I know profit using a simple daily or weekly margin view.",1),Pe("DS_MONEY_04","Money",["cash_recon_gap"],"Cash and momo are checked when something feels off.","Cash and momo are reconciled daily as routine.",1),Pe("DS_MONEY_05","Money",["returns_damage_blindspot"],"Refunds and returns are handled case by case without logs.","Refunds and returns are logged so patterns become visible.",1),Pe("DS_MONEY_06","Money",["policy_vagueness"],"Warranty issues are treated as customer service moments only.","Warranty issues are tracked as measurable cost signals.",1),Pe("DS_MONEY_07","Money",["credit_terms_risk"],"Installment sales happen when the customer seems trustworthy.","Installment sales happen with deposit, terms, and limits.",1),Pe("DS_MONEY_08","Money",["payment_terms_risk"],"Supplier debt is paid when pressure comes.","Supplier payments follow a plan aligned to cash cycle.",.9),Pe("DS_MONEY_09","Money",["pricing_margin_blindspot"],"Repairs are priced mainly by competitor rates.","Repairs are priced by parts, time, risk, and warranty tier.",1),Pe("DS_MONEY_10","Money",["slow_mover_attachment"],"We buy stock whenever we see a good deal.","We buy stock when it matches movement and cash reality.",1),Pe("DS_MARKET_01","Market",["followup_gap"],"We assume customers will return if they liked us.","We run a small follow-up habit so they return.",1),Pe("DS_MARKET_02","Market",["followup_gap"],"Our marketing is mostly being visible and waiting.","Our marketing includes capturing and nurturing leads.",1),Pe("DS_MARKET_03","Market",["segment_blindspot"],"We rely on walk-ins and referrals mostly.","We track which channels bring better buyers.",.9),Pe("DS_MARKET_04","Market",["value_story_gap"],"Customers mainly ask about price first.","Customers mainly ask about trust, condition, and warranty clarity.",1),Pe("DS_MARKET_05","Market",["followup_gap"],"We do not record who bought what.","We record buyer basics for repeat and upsell.",1),Pe("DS_MARKET_06","Market",["bundle_engine_missing"],"Accessory selling depends on each staff mood and timing.","Accessory selling follows a simple attach script.",1),Pe("DS_MARKET_07","Market",["value_story_gap"],"We do not actively request reviews.","We request reviews as part of the process.",.9),Pe("DS_MARKET_08","Market",["pricing_positioning_gap"],"We sell many categories without a clear identity.","We lead with one clear identity and trust promise.",1),Pe("DS_MARKET_09","Market",["followup_gap"],"Online inquiries are answered when free.","Online inquiries follow templates and response-time targets.",1),Pe("DS_MARKET_10","Market",["complaint_handling_gap"],"Complaints are handled privately and forgotten.","Complaints are logged and used to improve the system.",1),Pe("DS_LEAD_01","Leadership",["kpi_cadence_gap"],"Targets are discussed verbally.","Targets are visible and tracked.",1),Pe("DS_LEAD_02","Leadership",["no_variance_review"],"Problems are solved by working harder.","Problems are solved by changing the workflow.",1),Pe("DS_LEAD_03","Leadership",["decision_bottleneck"],"Exceptions require the owner most times.","Exceptions follow a rulebook.",1),Pe("DS_LEAD_04","Leadership",["training_planning_gap"],"Staff learn mostly by observation.","Staff learn through short training and checklists.",1),Pe("DS_LEAD_05","Leadership",["accountability_soft"],"Performance is judged by effort and loyalty.","Performance is judged by outcomes and quality.",1),Pe("DS_LEAD_06","Leadership",["meeting_no_action"],"Meetings are the main way we align.","Dashboards reduce meetings because truth stays visible.",.9),Pe("DS_LEAD_07","Leadership",["fear_silence"],"Mistakes lead to blame so people do not repeat them.","Mistakes lead to root cause so process improves.",1),Pe("DS_LEAD_08","Leadership",["role_clarity_gap"],"Delegation means giving tasks.","Delegation means giving ownership of outcomes.",.9),Pe("DS_LEAD_09","Leadership",["policy_vagueness"],"Everyone can change pricing if needed.","Pricing changes follow clear limits.",1),Pe("DS_LEAD_10","Leadership",["fear_silence"],"Staff feedback is rare to avoid tension.","Staff feedback is frequent to improve quality.",.9),Pe("DS_INNOV_01","Innovation",["bundle_engine_missing"],"Bundles are offered when customers ask.","Bundles are offered as a default option.",1),Pe("DS_INNOV_02","Innovation",["no_testing_rhythm"],"We copy offers from nearby shops.","We test offers based on our buyer behavior.",1),Pe("DS_INNOV_03","Innovation",["offer_measurement_gap"],"Display is rearranged occasionally.","Display is optimized using sales evidence.",.9),Pe("DS_INNOV_04","Innovation",["slow_mover_attachment"],"We hesitate to stop slow movers.","We clear slow movers routinely to free cash.",1),Pe("DS_INNOV_05","Innovation",["pricing_inconsistency"],"Repairs are one-price-fits-all.","Repairs have clear tiers by speed and warranty.",1),Pe("DS_INNOV_06","Innovation",["offer_measurement_gap"],"We avoid new systems because they may slow us.","We adopt small systems that remove repeat mistakes.",.9),Pe("DS_INNOV_07","Innovation",["training_planning_gap"],"Training is informal.","Training is planned in short weekly sessions.",.9),Pe("DS_INNOV_08","Innovation",["no_market_feedback_loop"],"We rely on memory for customer history.","We store customer history to improve selling.",1),Pe("DS_INNOV_09","Innovation",["no_testing_rhythm"],"We rarely run experiments.","We run small experiments monthly.",1),Pe("DS_INNOV_10","Innovation",["value_story_gap"],"We focus on selling products only.","We focus on selling confidence and experience.",.9),Pe("DS_RISK_01","Risk",["supplier_doc_gap"],"Devices are accepted if they look clean and work.","Devices are accepted after key verification steps.",1.1),Pe("DS_RISK_02","Risk",["supplier_doc_gap"],"IMEI and serial are recorded when needed.","IMEI and serial are recorded always.",1.1),Pe("DS_RISK_03","Risk",["policy_vagueness"],"Warranty is flexible to satisfy customers.","Warranty is clear and written to reduce disputes.",1),Pe("DS_RISK_04","Risk",["supplier_selection_undisciplined"],"Parts sourcing is based on availability.","Parts sourcing follows trusted supplier rules.",1),Pe("DS_RISK_05","Risk",["shrinkage_leak"],"High-value stock is accessible to many staff.","High-value stock access is controlled.",1),Pe("DS_RISK_06","Risk",["contract_gap"],"Refund decisions are negotiated each time.","Refund decisions follow defined steps.",.9),Pe("DS_RISK_07","Risk",["inventory_accuracy_gap"],"Stock counts happen when something is missing.","Stock counts happen as routine.",1),Pe("DS_RISK_08","Risk",["cash_recon_gap"],"Cash handling relies on trust.","Cash handling relies on controls and reconciliation.",1),Pe("DS_RISK_09","Risk",["data_security_gap"],"Customer records are stored in chats.","Customer records are stored in a secure place.",.9),Pe("DS_RISK_10","Risk",["no_variance_review"],"Security incidents are handled quietly.","Security incidents are logged and prevented systematically.",1),Pe("DS_PEOPLE_01","People",["incentive_misalignment"],"Sales is rewarded mostly for closing deals.","Sales is rewarded for deals that do not bounce back as returns.",1),Pe("DS_PEOPLE_02","People",["accountability_soft"],"Technicians are praised mostly for speed.","Technicians are praised for first-time fix quality.",1),Pe("DS_PEOPLE_03","People",["service_inconsistency"],"Staff handle customers in their own style.","Staff use minimum trust and clarity scripts.",.9),Pe("DS_PEOPLE_04","People",["cross_team_friction"],"Conflicts are avoided to keep peace.","Conflicts are surfaced early to protect output.",.9),Pe("DS_PEOPLE_05","People",["training_planning_gap"],"Training is optional.","Training is routine.",1),Pe("DS_PEOPLE_06","People",["onboarding_gap"],"New hires learn by shadowing only.","New hires learn through checklist plus shadowing.",1),Pe("DS_PEOPLE_07","People",["blame_culture"],"Mistakes are punished.","Mistakes are analyzed.",1),Pe("DS_PEOPLE_08","People",["accountability_soft"],"Staff performance is reviewed when problems arise.","Staff performance is reviewed routinely.",.9),Pe("DS_PEOPLE_09","People",["hero_staff_dependence"],"Customers depend on one trusted staff member.","Shop experience is consistent regardless of who serves.",1),Pe("DS_PEOPLE_10","People",["blame_culture"],"High performers are kept even if they create issues.","Culture is protected even when hard decisions are needed.",.9)],Gu=["all"],cw=["Critical","Watch","Stable","Strong","Emergency"],The=[{pillar:"Operations",strength:"Stock is traceable by model and serial, repairs run on staged job control, accessories are counted daily, and open-close routines protect execution consistency.",hook:"Stock Truth Engine",kpi:"Inventory accuracy %, Repair cycle time, First-time QC pass %, Comeback rate %, Top-20 accessory stockouts"},{pillar:"Money",strength:"Margin is controlled by category, discount guardrails are active, cash and momo are reconciled daily, and warranty-credit leakage is measured.",hook:"Margin-to-Cash Discipline",kpi:"Gross margin by category, Net margin estimate, Discount %, Daily recon variance, DSO, Warranty cost per 100 sales"},{pillar:"Market",strength:"Repeat demand is systemized through trust signals, lead capture, follow-up cadence, and attach-rate scripts across channels.",hook:"Trust and Repeat Flywheel",kpi:"Repeat customer %, Attach rate, Lead-to-sale conversion %, Referral %, AOV, Review trend"},{pillar:"Leadership",strength:"The shop runs on visible KPIs, delegated decisions, scorecard accountability, and weekly closure of recurring leak patterns.",hook:"Cadence Over Chaos",kpi:"KPI update compliance %, Decision latency, Task closure %, Repeat incident rate, Scorecard coverage %"},{pillar:"Innovation",strength:"Growth improvements are test-driven with offer experiments, service productization, and simple automation that reduces error and speeds service.",hook:"Measured Improvement Loop",kpi:"Experiments/month, Bundle adoption %, New offer revenue %, Workflow error reduction %, Conversion trend"},{pillar:"Risk",strength:"Risk is contained with IMEI discipline, approved parts control, written warranty rules, shrinkage controls, and dispute evidence routines.",hook:"Dispute and Fraud Firewall",kpi:"IMEI logged %, Shrinkage %, Dispute rate, Warranty dispute rate, Supplier defect rate, Security incidents"},{pillar:"People",strength:"People performance is stable through role-based incentives, technician quality targets, onboarding checklists, and regular coaching.",hook:"Profit-Safe Behavior System",kpi:"First-time fix %, Returns by salesperson, Onboarding completion %, Turnover %, Training completion %"}],Ahe=[{id:"OPS_P1",pillar:"Operations",signal_tags:["inventory_accuracy_gap","supplier_doc_gap"],hook:"Inventory Ghost",leak:"Device stock is not reliably traceable in real time, so search time, missing units, and wrong availability promises are increasing.",cost:"Inventory ghosting can consume 1-5% of monthly profit, and one missing high-value phone can erase a full day of margin.",cliffhanger:"Fix Mode locks stock truth and IMEI discipline so every device has a clear record and location trail.",kpi:"Inventory accuracy %, IMEI log coverage"},{id:"OPS_P2",pillar:"Operations",signal_tags:["restock_delay","stockout_tax"],hook:"Accessory Graveyard",leak:"Fast-moving accessories are missing at point of sale, reducing attach rate and forcing customers to buy elsewhere.",cost:"Missing accessories quietly remove 5-20% of potential margin per phone transaction in many shops.",cliffhanger:"Fix Mode secures Top-30 accessory availability and attach scripts to protect daily margin.",kpi:"Attach rate %, Top-30 stockouts/week"},{id:"OPS_P3",pillar:"Operations",signal_tags:["no_standard_work","returns_damage_blindspot"],hook:"Repair Black Hole",leak:"Repairs are moving without visible stage control, creating delays, rework, and customer disputes at handover.",cost:"Untracked repairs produce repeated labor loss, longer turnaround, and comeback-driven trust erosion.",cliffhanger:"Fix Mode installs job cards, approvals, and QC gates so repair flow becomes predictable.",kpi:"Repair cycle time, Comeback rate"},{id:"OPS_P4",pillar:"Operations",signal_tags:["receiving_slippage","supplier_selection_undisciplined"],hook:"Receiving Drift",leak:"Device and part receiving is inconsistent on condition and serial checks, importing avoidable disputes into the shop.",cost:"Receiving drift creates wrong pricing, supplier friction, and downstream warranty losses that look random.",cliffhanger:"Fix Mode enforces receiving and grading discipline before bad stock enters active inventory.",kpi:"Receiving error rate, Supplier defect rate"},{id:"OPS_P5",pillar:"Operations",signal_tags:["kpi_cadence_gap","hero_staff_dependence"],hook:"Routine Drift",leak:"Daily open-close controls are weak, so cash, stock movements, and pending repair statuses diverge by shift.",cost:"Small routine misses compound into monthly leakage, missed handovers, and decision delays.",cliffhanger:"Fix Mode deploys non-negotiable open-close routines to stabilize day-to-day control.",kpi:"Open-close compliance %, Shift handover compliance %"},{id:"MNY_P1",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],hook:"Margin Mirage",leak:"Sales activity is high but true category-level profit is unclear, so hidden losses remain unmanaged.",cost:"Without a margin map, shops often leak 2-8% of revenue through unmanaged discounts, returns, and warranty costs.",cliffhanger:"Fix Mode builds a category margin bridge so each leak gets a number, owner, and deadline.",kpi:"Gross margin by category, Net margin estimate"},{id:"MNY_P2",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],hook:"Discount Drift",leak:"Pricing and discount behavior varies by urgency and negotiation, steadily training customers to push margin down.",cost:"A 3-5% unmanaged price drift can erase most profit in thin-margin phone and accessory sales.",cliffhanger:"Fix Mode installs discount bands and approval limits that preserve margin without killing close rates.",kpi:"Discount rate %, Price variance"},{id:"MNY_P3",pillar:"Money",signal_tags:["cash_recon_gap"],hook:"Cash Drawer Drift",leak:"Cash and momo movement is not reconciled with enough rigor, creating daily variance and weak financial truth.",cost:"Small daily variances become a permanent monthly tax and distort business decisions.",cliffhanger:"Fix Mode enforces daily reconciliation and exception logging so cash truth is restored.",kpi:"Daily reconciliation variance, Cash exceptions"},{id:"MNY_P4",pillar:"Money",signal_tags:["policy_vagueness","returns_damage_blindspot"],hook:"Warranty Bleed",leak:"Warranty and return boundaries are unclear, driving avoidable repairs, refunds, and dispute settlements.",cost:"Warranty bleed can consume 10-30% of realized profit in used or refurbished-heavy models when unmanaged.",cliffhanger:"Fix Mode clarifies warranty tiers and tracks cost per 100 sales to stop preventable exceptions.",kpi:"Warranty cost/100 sales, Warranty dispute rate"},{id:"MNY_P5",pillar:"Money",signal_tags:["credit_terms_risk","payment_terms_risk"],hook:"Credit Sinkhole",leak:"Installment and account terms are expanding faster than collections discipline, weakening restock cash.",cost:"Credit sinkholes turn booked sales into delayed cash, increasing stock starvation and borrowing pressure.",cliffhanger:"Fix Mode installs deposit, limit, and AR cadence controls to protect cash velocity.",kpi:"DSO, Overdue AR %"},{id:"MKT_P1",pillar:"Market",signal_tags:["value_story_gap","policy_vagueness"],hook:"Trust Erosion",leak:"Shoppers are not receiving consistent trust proof on condition, authenticity, and warranty clarity.",cost:"Weak trust signals force price-only decisions, reduce AOV, and increase post-sale disputes.",cliffhanger:"Fix Mode builds a trust engine that increases confidence and price resilience.",kpi:"Repeat customer %, Warranty dispute rate"},{id:"MKT_P2",pillar:"Market",signal_tags:["followup_gap","segment_blindspot"],hook:"Lead Leak",leak:"Lead capture and response times are inconsistent, so high-intent inquiries go cold before conversion.",cost:"Slow response can erase channel ROI and bleed daily sales to faster competitors.",cliffhanger:"Fix Mode installs capture templates and response SLAs to convert more inquiries.",kpi:"Lead response SLA, Lead-to-sale conversion %"},{id:"MKT_P3",pillar:"Market",signal_tags:["bundle_engine_missing","service_inconsistency"],hook:"Attach Rate Collapse",leak:"Phone sales are closing without consistent accessory attach behavior, reducing realized margin per transaction.",cost:"Missed attach opportunities make each phone sale less profitable and increase dependency on unit volume.",cliffhanger:"Fix Mode installs bundle defaults and scripts that lift basket value without discount wars.",kpi:"Attach rate %, AOV"},{id:"MKT_P4",pillar:"Market",signal_tags:["followup_gap","complaint_handling_gap"],hook:"One-Time Buyer Curse",leak:"Follow-up, review requests, and referral loops are weak, so repeat demand is left to chance.",cost:"Without a repeat engine, customer acquisition cost rises and growth stays fragile.",cliffhanger:"Fix Mode converts one-time buyers into repeat and referral behavior through simple routines.",kpi:"Repeat rate %, Referral rate %"},{id:"LDR_P1",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],hook:"KPI Darkness",leak:"Critical numbers are not visible daily, so leak detection is delayed and decisions stay reactive.",cost:"Late detection inflates the cost of stockouts, discount drift, disputes, and AR slippage.",cliffhanger:"Fix Mode installs KPI wall cadence so action happens before losses compound.",kpi:"KPI update compliance %, Repeat incident rate"},{id:"LDR_P2",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],hook:"Approval Bottleneck",leak:"Discount, refund, and warranty exceptions are waiting too long for central approval.",cost:"Decision latency creates missed closes, delayed resolution, and avoidable customer friction.",cliffhanger:"Fix Mode introduces delegation limits that preserve control and restore speed.",kpi:"Decision latency, Exception backlog"},{id:"LDR_P3",pillar:"Leadership",signal_tags:["training_planning_gap","accountability_soft"],hook:"Repeat Leak Tax",leak:"Scorecards and coaching are inconsistent, so known issues repeat by staff, shift, and stress level.",cost:"Payroll effort rises without matching quality and margin outcomes when accountability is soft.",cliffhanger:"Fix Mode ties coaching and scorecards to leak reduction outcomes.",kpi:"Scorecard coverage %, Task closure rate"},{id:"INN_P1",pillar:"Innovation",signal_tags:["no_testing_rhythm","bundle_engine_missing"],hook:"Offer Stagnation",leak:"Offers are changing by instinct instead of measured tests, slowing growth learning.",cost:"No experiment rhythm means missed margin opportunities and slower adaptation to market behavior.",cliffhanger:"Fix Mode creates monthly offer experiments with clear win-loss decisions.",kpi:"Experiments/month, Win rate %"},{id:"INN_P2",pillar:"Innovation",signal_tags:["pricing_inconsistency","no_standard_work"],hook:"Service Productization Gap",leak:"Repair services are not packaged by tier, so delivery promises and pricing vary excessively.",cost:"Unstructured services undercharge complexity and increase dispute probability.",cliffhanger:"Fix Mode productizes repair tiers to raise margin and predictability.",kpi:"Repair tier adoption %, Margin per repair job"},{id:"INN_P3",pillar:"Innovation",signal_tags:["offer_measurement_gap","no_market_feedback_loop"],hook:"Automation Lite Gap",leak:"Manual workflows are creating repeat mistakes because templates and simple systems are underused.",cost:"Manual drift increases handling time and correction cost across sales and repair workflows.",cliffhanger:"Fix Mode applies lightweight automation to remove recurring errors quickly.",kpi:"Template adoption %, Workflow error rate"},{id:"RSK_P1",pillar:"Risk",signal_tags:["supplier_doc_gap","inventory_accuracy_gap"],hook:"Stolen Device Landmine",leak:"IMEI and intake verification gaps increase exposure to high-impact legal and reputational incidents.",cost:"A single stolen-device event can trigger outsized financial and trust loss relative to shop size.",cliffhanger:"Fix Mode builds an IMEI firewall that prevents unknown-device intake risk.",kpi:"IMEI logged %, Stolen-device incidents"},{id:"RSK_P2",pillar:"Risk",signal_tags:["supplier_selection_undisciplined","supplier_doc_gap"],hook:"Fake Parts Comeback Loop",leak:"Part authenticity controls are weak, increasing repeat failures and warranty labor burn.",cost:"Fake or unstable parts generate rework loops that consume technician time and customer trust.",cliffhanger:"Fix Mode enforces approved parts and supplier-quality discipline to break comeback loops.",kpi:"Supplier defect rate, Comeback rate"},{id:"RSK_P3",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],hook:"Dispute Tax",leak:"Return and warranty disputes are rising because acceptance boundaries and evidence are weak.",cost:"Dispute tax appears as refunds, rework time, negative reviews, and reduced repeat trust.",cliffhanger:"Fix Mode installs written rules and evidence flows to cut dispute frequency.",kpi:"Dispute rate, Chargeback/refund rate"},{id:"RSK_P4",pillar:"Risk",signal_tags:["shrinkage_leak","cash_recon_gap"],hook:"Silent Shrink",leak:"High-value stock and cash controls are too loose, enabling silent leakage through movement and custody gaps.",cost:"Shrinkage often runs 0.5-3% of inventory value monthly in weak-control environments.",cliffhanger:"Fix Mode strengthens access, counts, and reconciliation so leakage becomes visible and controllable.",kpi:"Shrinkage %, Reconciliation exceptions"},{id:"PPL_P1",pillar:"People",signal_tags:["incentive_misalignment","accountability_soft"],hook:"Volume-Only Incentive Trap",leak:"Staff are rewarded for speed and revenue, not margin quality, attach quality, and low-return behavior.",cost:"Incentive mismatch drives discounting, overselling, and avoidable return cycles.",cliffhanger:"Fix Mode realigns incentives to profit-safe behaviors across sales and repairs.",kpi:"Returns by staff %, Attach rate %, Margin by staff"},{id:"PPL_P2",pillar:"People",signal_tags:["onboarding_gap","training_gap"],hook:"Training-by-Shadowing Drift",leak:"Onboarding relies too much on informal observation, creating high variance in service and quality outcomes.",cost:"Weak onboarding increases ramp-time errors, comebacks, and turnover-related instability.",cliffhanger:"Fix Mode introduces certification checklists that stabilize quality regardless of who is on shift.",kpi:"Onboarding completion %, First-time fix %, Turnover %"}],Ehe=e=>[{id:`LIB_ELECTRONICS_${e.id}_LEAK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:Gu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_ELECTRONICS_${e.id}_HOOK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:cw,business_size_fit:Gu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi}],Nhe=The.flatMap(e=>[{id:`LIB_ELECTRONICS_${e.pillar.toUpperCase()}_STR`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Stable","Strong"],business_size_fit:Gu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_ELECTRONICS_${e.pillar.toUpperCase()}_KPI`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:cw,business_size_fit:Gu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]),Mhe=["Electronics & Phone Shop","Electronics & phone shop"],Phe="New Phones Retail",Ihe="Used / Refurbished Phones",Ohe="Repairs & Service Center",Lhe="Accessories-Focused Shop",Rhe="Corporate / Institutional Supply (Phones/Gadgets)",Dhe="Online / Instagram / WhatsApp Phone Shop",bo=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_ELECTRONICS_${e}_${r.toUpperCase()}`,industry:"retail",line_type:t,pillar:r,signal_tags:[],severity_fit:cw,business_size_fit:Gu,text:i[r],type:"mission_brief"})),jhe=[...bo("S0",Mhe,{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. In electronics retail this usually appears as stock confusion, repair delays, and accessory misses. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a 7-day containment sprint and 30-day control build tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. This pattern often creates busy days with thin profit and weak cash velocity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode maps margin leakage and enforces pricing, warranty, and reconciliation discipline.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Trust and repeat behavior are likely leaking through inconsistent follow-up and offer execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs a repeat-order and lead-conversion engine.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. The shop is likely solving today while paying for the same issues tomorrow. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets KPI cadence, decision limits, and closure discipline.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Improvement may be happening by instinct, not measured tests. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs monthly offer and workflow experiments with clear win criteria.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Exposure is building across device verification, authenticity, disputes, or shrinkage controls. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens verification and evidence routines before a trust event occurs.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Execution quality likely varies by person and pressure, increasing returns and rework. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives, training, and ownership to stabilize outcomes."}),...bo("S1",[Phe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. New-phone retail wins on stock reliability and attach execution, and both appear unstable. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures fast-mover flow and attach discipline.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Price drift and discount pressure are likely compressing realized margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs price guardrails and category margin control.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Competing on price alone is weakening repeat trust and value perception. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys a trust-first sales and follow-up engine.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Decision friction is likely slowing front-line execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets approval limits and daily KPI control.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bundle and display innovation appears underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a conversion-focused bundle sprint.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Warranty and dispute exposure are likely rising with inconsistent policy clarity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens policy and evidence controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Sales behavior may be rewarding speed over profit quality. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives to margin-safe selling."}),...bo("S2",[Ihe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Used/refurb models leak fast when grading and QC discipline drift. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs intake grading and pre-sale QC gates.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Warranty and rework costs are likely erasing expected margin on units sold. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode makes warranty cost visible and controllable.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Trust volatility is likely suppressing repeat demand and pricing confidence. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a condition-proof trust layer.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Standards may vary by staff and shift. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs role-level controls and routine closure.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offer design may be stagnant while market confidence requires clear tiers. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches condition and warranty tier optimization.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Stolen-device and authenticity exposure are likely elevated. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode activates IMEI firewall and supplier verification routines.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Technician and sales consistency appears uneven. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies quality-critical behaviors."}),...bo("S3",[Ohe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repair center performance is likely trapped in workflow gaps and comeback loops. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode applies staged job control and QC lock.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Repair pricing and warranty boundaries may be under-protecting margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs tiered pricing and warranty guardrails.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Service trust can degrade quickly when turnaround promises slip. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode ties promise accuracy to customer follow-up.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Owner dependency likely limits throughput and closure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys delegated control and KPI cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Service productization opportunities are likely underleveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds repair offers that scale predictably.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Parts and dispute exposure can escalate quickly in repair-heavy models. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens parts control and dispute defense.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. First-time fix consistency likely varies by technician. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode links coaching and incentives to comeback reduction."}),...bo("S4",[Lhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Accessories-led stores leak through fast-mover stockouts and weak count discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures Top-30 flow and daily stock truth.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Small-ticket price drift is likely compounding into major margin loss. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces price guardrails and leak tracking.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Basket growth is likely capped by weak bundle and script execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs attach and bundle conversion routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. KPI visibility likely lags behind transaction velocity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys a high-frequency KPI rhythm.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offer experimentation may be too slow for category speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches monthly offer tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Shrink and authenticity exposure are likely under-controlled. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens access and supplier verification.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Sales behavior likely varies too much by staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives to quality margin outcomes."}),...bo("S5",[Rhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Institutional fulfillment likely suffers from documentation and execution drift. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks intake-to-delivery controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. AR and exception pricing are likely weakening cash velocity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs contract-grade credit and pricing discipline.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Account retention likely depends on reliability proof that is currently inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates a key-account trust and follow-up cadence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Cross-function alignment may be too weak for account-level SLA expectations. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns teams on shared account KPIs.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Service packaging for B2B may be underdeveloped. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode productizes account offers and support tiers.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Contract and dispute exposure are likely rising with weak evidence routines. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces documentation and dispute SOP controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Team role boundaries may be unclear under account pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets scorecards and ownership clarity."}),...bo("S6",[Dhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Online-heavy flow likely leaks through response and handover inconsistencies. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode structures lead, order, and dispatch workflows.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Payment and refund friction can quietly erode channel profitability. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures reconciliation and refund controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Digital conversion is likely limited by slow response and weak trust proof. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys response SLAs and social proof routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Digital operations may depend too much on a few people and ad-hoc decisions. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes ownership and KPI cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offer testing and channel learning may be too reactive. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a monthly conversion experiment loop.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Delivery, refund, and record-keeping exposure is likely elevated. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens dispute-proof records and policy controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Response quality likely varies by who is on chat or counter. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs scripts, coaching, and role-level standards."})],Khe=[...Nhe,...Ahe.flatMap(Ehe),...jhe],oL={solo:"Owner",micro:"Owner",small:"Store Manager",small_med:"Store Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},Fhe=[{code:"OPS_P1",pillar:"Operations",signal_tags:["inventory_accuracy_gap","supplier_doc_gap"],title7:"Stock Truth + IMEI Discipline (label + log all devices)",title30:"ABC Cycle Counts + Variance Root-Cause + IMEI audit loop",kpi7:"inventory_accuracy",kpi30:"imei_log_coverage",proof7:["labeled_stock_photo","imei_serial_log"],proof30:["cycle_count_report","variance_root_cause_log"],impact7:9,impact30:9},{code:"OPS_P2",pillar:"Operations",signal_tags:["restock_delay","stockout_tax"],title7:"Top 30 Accessories Count + Reorder Trigger",title30:"Fast-Mover Min/Max + Dead-Stock Cleanup Plan",kpi7:"top30_stockouts",kpi30:"attach_rate",proof7:["top30_sheet","daily_count_log"],proof30:["min_max_sheet","dead_stock_action_list"],impact7:8,impact30:8},{code:"OPS_P3",pillar:"Operations",signal_tags:["no_standard_work","returns_damage_blindspot"],title7:"Repair Job Cards + QC Before Handover",title30:"Repair SOP Library + Comeback Elimination Sprint",kpi7:"repair_cycle_time",kpi30:"repair_comeback_rate",proof7:["repair_job_cards","repair_qc_checklist"],proof30:["repair_sop_pack","comeback_root_cause_log"],impact7:9,impact30:9},{code:"OPS_P4",pillar:"Operations",signal_tags:["receiving_slippage","supplier_selection_undisciplined"],title7:"Receiving & Grading Checklist (model/condition/serial)",title30:"Approved Supplier + Device Grading Consistency Program",kpi7:"receiving_error_rate",kpi30:"supplier_defect_rate",proof7:["receiving_forms","grading_samples"],proof30:["approved_supplier_list","supplier_scorecard"],impact7:8,impact30:8},{code:"OPS_P5",pillar:"Operations",signal_tags:["kpi_cadence_gap","hero_staff_dependence"],title7:"Daily Open/Close Routine (cash, stock, pending repairs)",title30:"Routine Compliance Tracker + Shift Handover Controls",kpi7:"open_close_compliance",kpi30:"handover_compliance",proof7:["open_close_checklist","pending_repairs_log"],proof30:["routine_compliance_report","handover_notes"],impact7:7,impact30:8},{code:"MNY_P1",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],title7:"Margin Map by Category (phones/accessories/repairs)",title30:"Weekly Margin Bridge + Leak Ownership Review",kpi7:"gross_margin_by_category",kpi30:"net_margin_estimate",proof7:["category_margin_sheet","cost_assumption_notes"],proof30:["margin_bridge_report","leak_owner_actions"],impact7:9,impact30:10},{code:"MNY_P2",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],title7:"Pricing Guardrails + Discount Bands",title30:"Price List Standardization + Discount Drift Monitor",kpi7:"discount_rate",kpi30:"price_variance",proof7:["discount_policy","sales_discount_audit"],proof30:["price_list","discount_drift_report"],impact7:8,impact30:9},{code:"MNY_P3",pillar:"Money",signal_tags:["cash_recon_gap"],title7:"Cash + Momo Daily Reconciliation + Variance Log",title30:"Cash-Control SOP + Weekly Spot Audit",kpi7:"daily_recon_variance",kpi30:"cash_exception_count",proof7:["reconciliation_sheet","variance_reasons_log"],proof30:["cash_control_sop","audit_spotcheck_notes"],impact7:9,impact30:9},{code:"MNY_P4",pillar:"Money",signal_tags:["policy_vagueness","returns_damage_blindspot"],title7:"Warranty/Returns Cost Tracker + Rule Clarification",title30:"Warranty Tier Model + Return Cause Elimination Loop",kpi7:"warranty_cost_per_100_sales",kpi30:"warranty_dispute_rate",proof7:["warranty_cost_log","written_warranty_rules"],proof30:["warranty_tier_matrix","return_cause_closure_log"],impact7:8,impact30:9},{code:"MNY_P5",pillar:"Money",signal_tags:["credit_terms_risk","payment_terms_risk"],title7:"Installment/Credit Rules (deposit, limits, terms)",title30:"AR Aging Cadence + Escalation Rules",kpi7:"credit_rule_compliance",kpi30:"dso",proof7:["credit_terms_doc","active_credit_list"],proof30:["ar_aging_report","collections_cadence_log"],impact7:9,impact30:10},{code:"MKT_P1",pillar:"Market",signal_tags:["value_story_gap","policy_vagueness"],title7:"Trust Engine: quality proof + clear warranty language",title30:"Trust Proof Pack + Sales Script Standardization",kpi7:"trust_signal_compliance",kpi30:"repeat_customer_rate",proof7:["warranty_board_photo","quality_check_script"],proof30:["trust_proof_pack","sales_script_samples"],impact7:7,impact30:8},{code:"MKT_P2",pillar:"Market",signal_tags:["followup_gap","segment_blindspot"],title7:"Lead Capture + Response SLA (WhatsApp/online)",title30:"Lead Pipeline Tracker + Channel Conversion Review",kpi7:"lead_response_sla",kpi30:"lead_to_sale_conversion",proof7:["lead_capture_sheet","response_template"],proof30:["pipeline_report","channel_conversion_report"],impact7:8,impact30:8},{code:"MKT_P3",pillar:"Market",signal_tags:["bundle_engine_missing","service_inconsistency"],title7:"Attach Rate Script + 3 Bundle Offers",title30:"Bundle Catalog by Buyer Type + Attach Coaching Loop",kpi7:"attach_rate",kpi30:"average_order_value",proof7:["bundle_offers","attach_script"],proof30:["bundle_catalog","attach_coaching_notes"],impact7:8,impact30:8},{code:"MKT_P4",pillar:"Market",signal_tags:["followup_gap","complaint_handling_gap"],title7:"Reviews + Referral Ask Routine",title30:"Referral Engine + Complaint-to-Recovery Loop",kpi7:"review_volume",kpi30:"referral_rate",proof7:["review_request_log","referral_ask_script"],proof30:["referral_tracker","recovery_case_log"],impact7:7,impact30:8},{code:"LDR_P1",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],title7:"KPI Wall + Daily 10-min Standup",title30:"KPI Cadence Compliance + Weekly Leak Review",kpi7:"kpi_update_compliance",kpi30:"repeat_incident_rate",proof7:["kpi_wall_photo","standup_notes"],proof30:["kpi_cadence_log","weekly_leak_review_notes"],impact7:8,impact30:9},{code:"LDR_P2",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],title7:"Approval Limits for Discount/Refund/Warranty Exceptions",title30:"Delegation Matrix + Decision Latency Dashboard",kpi7:"decision_latency",kpi30:"approval_bottleneck_cases",proof7:["approval_limit_doc","exception_log"],proof30:["delegation_matrix","decision_latency_report"],impact7:8,impact30:8},{code:"LDR_P3",pillar:"Leadership",signal_tags:["training_planning_gap","accountability_soft"],title7:"Role Scorecards + Weekly Coaching Start",title30:"Performance Coaching Cadence + Ownership Audit",kpi7:"scorecard_coverage",kpi30:"task_closure_rate",proof7:["role_scorecards","coaching_notes_week1"],proof30:["coaching_calendar","ownership_audit"],impact7:7,impact30:8},{code:"INN_P1",pillar:"Innovation",signal_tags:["no_testing_rhythm","bundle_engine_missing"],title7:"Run 1 Offer Experiment (bundle/warranty tier)",title30:"Monthly Offer Test Pipeline + Win/Loss Log",kpi7:"experiments_run",kpi30:"experiment_win_rate",proof7:["experiment_plan","week1_results"],proof30:["experiment_pipeline","win_loss_log"],impact7:6,impact30:8},{code:"INN_P2",pillar:"Innovation",signal_tags:["pricing_inconsistency","no_standard_work"],title7:"Productize Repair Services (tiered turnaround + warranty)",title30:"Repair Service Catalog + Promise Tracking",kpi7:"repair_tier_adoption",kpi30:"repair_margin_per_job",proof7:["repair_tier_sheet","service_terms_display"],proof30:["service_catalog","promise_vs_actual_report"],impact7:7,impact30:8},{code:"INN_P3",pillar:"Innovation",signal_tags:["offer_measurement_gap","no_market_feedback_loop"],title7:"Automation Lite: structured templates for order, repair, and follow-up",title30:"POS/Sheets/Labels rollout with usage discipline",kpi7:"template_adoption",kpi30:"workflow_error_rate",proof7:["structured_templates","adoption_log_week1"],proof30:["system_usage_report","error_rate_before_after"],impact7:7,impact30:8},{code:"RSK_P1",pillar:"Risk",signal_tags:["supplier_doc_gap","inventory_accuracy_gap"],title7:"IMEI/Serial Mandatory Logging + Intake Verification",title30:"IMEI Firewall Audit + Incident Escalation Rules",kpi7:"imei_log_coverage",kpi30:"stolen_device_incidents",proof7:["imei_intake_log","verification_checklist"],proof30:["imei_audit_report","incident_escalation_policy"],impact7:9,impact30:9},{code:"RSK_P2",pillar:"Risk",signal_tags:["supplier_selection_undisciplined","supplier_doc_gap"],title7:"Approved Parts List + Unknown Parts Quarantine",title30:"Supplier Defect Scorecard + Authenticity Checks",kpi7:"unknown_parts_rate",kpi30:"supplier_defect_rate",proof7:["approved_parts_list","quarantine_log"],proof30:["supplier_scorecard","auth_check_records"],impact7:8,impact30:9},{code:"RSK_P3",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],title7:"Written Warranty/Return Rules + Dispute Register",title30:"Dispute Response SOP + Evidence Archive",kpi7:"dispute_rate",kpi30:"warranty_dispute_rate",proof7:["written_policy","dispute_register"],proof30:["dispute_sop","evidence_archive"],impact7:8,impact30:8},{code:"RSK_P4",pillar:"Risk",signal_tags:["shrinkage_leak","cash_recon_gap"],title7:"High-Value Access Controls + Spot Counts",title30:"Shrinkage Dashboard + Security Incident Review",kpi7:"shrinkage_percent",kpi30:"security_incidents",proof7:["access_control_rules","spot_count_log"],proof30:["shrinkage_dashboard","incident_review_notes"],impact7:8,impact30:9},{code:"PPL_P1",pillar:"People",signal_tags:["incentive_misalignment","accountability_soft"],title7:"Profit-Safe Incentives (margin + attach + low returns)",title30:"Incentive Alignment Review + Staff Score Outcomes",kpi7:"incentive_alignment_score",kpi30:"returns_rate_by_staff",proof7:["incentive_rule_doc","staff_brief_note"],proof30:["incentive_review","staff_outcome_report"],impact7:8,impact30:9},{code:"PPL_P2",pillar:"People",signal_tags:["onboarding_gap","training_gap"],title7:"Onboarding Checklist + Technician/Sales Skill Check",title30:"Certification Matrix + Weekly Training Cadence",kpi7:"onboarding_completion",kpi30:"first_time_fix_rate",proof7:["onboarding_checklist","skill_check_results"],proof30:["certification_matrix","training_log"],impact7:8,impact30:9}],Bhe=Fhe.flatMap(e=>{const t=e.code.replace(/-/g,"_"),i=["all"],n={action_id:`ACT_ELECTRONICS_${t}_7`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title7,days:7,effort:"S",default_owner_by_size:oL,kpi_links:[e.kpi7],proof_required:e.proof7,impact_score:e.impact7},r={action_id:`ACT_ELECTRONICS_${t}_30`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title30,days:30,effort:"M",default_owner_by_size:oL,kpi_links:[e.kpi30],proof_required:e.proof30,impact_score:e.impact30};return[n,r]}),L4={questions:Che,library:Khe,actions:Bhe},Ie=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"retail",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Uhe=[Ie("QS_OPS_01","Operations",["restock_delay"],"When stock is low, I reorder based on what customers asked for recently.","When stock is low, I reorder based on reorder rules and fast-mover thresholds.",1.1),Ie("QS_OPS_02","Operations",["dispatch_delivery_instability"],"On delivery days, we adjust routes based on who is calling urgently.","On delivery days, we mostly follow planned routes and handle urgencies by exception.",1),Ie("QS_MONEY_01","Money",["credit_terms_risk"],"I am comfortable giving credit when I trust the relationship.","I am comfortable giving credit when limits and terms are clear and enforced.",1),Ie("QS_MONEY_02","Money",["discounting_leak"],"I use discounts when I feel it will secure the order quickly.","I use discounts when it fits a planned strategy and margin still holds.",1.1),Ie("QS_MARKET_01","Market",["value_story_gap"],"Customers stay mainly because they know us and we relate well.","Customers stay mainly because service is consistent: availability and delivery reliability.",1),Ie("QS_MARKET_02","Market",["followup_gap"],"We focus on gaining new outlets whenever the team has time.","We focus on protecting repeat orders first, then gaining new outlets.",1),Ie("QS_LEAD_01","Leadership",["no_variance_review"],"We solve issues as they arise and move on quickly.","We solve issues and document fixes so they do not repeat.",1),Ie("QS_LEAD_02","Leadership",["decision_bottleneck"],"Most decisions come to me because I see the full picture.","Some decisions are delegated with limits so work moves without waiting.",1.1),Ie("QS_INNOV_01","Innovation",["no_testing_rhythm"],"We improve by experience and doing what seems practical.","We improve by running small tests and keeping what proves results.",1),Ie("QS_INNOV_02","Innovation",["offer_measurement_gap"],"We use tools/apps when necessary, but the team can manage without them.","We use tools/apps where they prevent errors and increase speed.",1),Ie("QS_RISK_01","Risk",["shrinkage_leak"],"We notice shrinkage when stock just seems to reduce.","We notice shrinkage through cycle counts and variance tracking.",1.1),Ie("QS_RISK_02","Risk",["contract_gap"],"Disputes are handled case-by-case depending on the customer.","Disputes are handled with proof-of-delivery and a clear policy.",1),Ie("QS_PEOPLE_01","People",["hero_staff_dependence"],"The best performers keep things moving because they know the work well.","The best performers keep things moving because the system supports anyone to perform well.",1),Ie("QS_PEOPLE_02","People",["incentive_misalignment"],"Sales reps are mainly judged by how much they sell.","Sales reps are judged by sales plus collections and service discipline.",1),Ie("DS_OPS_01","Operations",["restock_delay"],"We detect stock needs when customers start asking more.","We detect stock needs through reorder alerts and fast-mover rules.",1),Ie("DS_OPS_02","Operations",["receiving_slippage"],"Receiving is mainly confirm quantity and store quickly.","Receiving includes checks for pack size, damage, and SKU accuracy.",1),Ie("DS_OPS_03","Operations",["inventory_accuracy_gap"],"Items are stored where space is available.","Items are stored by location logic so picking stays fast and accurate.",1),Ie("DS_OPS_04","Operations",["dispatch_delivery_instability"],"Picking depends on who is on shift.","Picking follows a consistent pick-pack-check routine.",1),Ie("DS_OPS_05","Operations",["inventory_accuracy_gap"],"Stock counts happen when we suspect an issue.","Stock counts happen on a scheduled cycle count plan.",1),Ie("DS_OPS_06","Operations",["expiry_rotation_gap"],"Near-expiry items are noticed when they become slow to move.","Near-expiry items are flagged early and actioned through push/transfer/markdown.",1),Ie("DS_OPS_07","Operations",["returns_damage_blindspot"],"Returns are handled after urgent dispatches.","Returns are quarantined and processed quickly to protect inventory truth.",1),Ie("DS_OPS_08","Operations",["dispatch_delivery_instability"],"Delivery routes change often due to urgent calls.","Delivery routes are planned and urgencies are managed with a controlled exception rule.",1),Ie("DS_OPS_09","Operations",["dispatch_delivery_instability"],"Dispatch speed matters most.","Dispatch accuracy matters most because corrections cost more than speed.",1),Ie("DS_OPS_10","Operations",["contract_gap"],"We use informal notes to track deliveries.","We use structured POD confirmations to reduce disputes.",1),Ie("DS_MONEY_01","Money",["pricing_inconsistency"],"Pricing changes depending on the conversation.","Pricing follows bands and approval boundaries.",1),Ie("DS_MONEY_02","Money",["discounting_leak"],"Discounts are used when stock is high or sales are slow.","Discounts are used when a planned promo still protects margin.",1),Ie("DS_MONEY_03","Money",["payment_terms_risk"],"Credit is mainly a relationship tool.","Credit is a controlled tool with limits, terms, and consequences.",1.1),Ie("DS_MONEY_04","Money",["payment_delay_chokehold"],"Collections happen when cash is urgently needed.","Collections happen weekly through an agreed cadence.",1),Ie("DS_MONEY_05","Money",["pricing_margin_blindspot"],"I judge a good month by sales volume.","I judge a good month by profit and cash collected.",1.1),Ie("DS_MONEY_06","Money",["returns_damage_blindspot"],"Returns and damages are part of business.","Returns and damages are measured and reduced as a margin project.",1),Ie("DS_MONEY_07","Money",["slow_mover_attachment"],"We buy slow items if supplier pricing looks attractive.","We buy slow items only when data shows movement.",1),Ie("DS_MONEY_08","Money",["category_margin_blindspot"],"Fuel costs are treated as a general expense.","Fuel costs are tracked per route and drop to reveal leakage.",1),Ie("DS_MONEY_09","Money",["cash_recon_gap"],"Cash is reconciled when time allows.","Cash is reconciled daily because small variances become big leaks.",1),Ie("DS_MONEY_10","Money",["offer_measurement_gap"],"Promo spending is decided by opportunity.","Promo spending is tracked through ROI.",.9),Ie("DS_MARKET_01","Market",["value_story_gap"],"Customers trust us mainly because they know us personally.","Customers trust us mainly because service remains consistent.",1),Ie("DS_MARKET_02","Market",["followup_gap"],"We visit outlets when there is a need.","We visit outlets on a planned cadence by segment.",1),Ie("DS_MARKET_03","Market",["service_inconsistency"],"Merchandising happens when we have time.","Merchandising is a routine tied to key SKUs.",.9),Ie("DS_MARKET_04","Market",["followup_gap"],"We focus on increasing outlets.","We focus on increasing repeat orders and basket size.",1),Ie("DS_MARKET_05","Market",["complaint_handling_gap"],"Complaints are solved through quick calls.","Complaints are logged and reduced through root-cause fixes.",1),Ie("DS_MARKET_06","Market",["segment_blindspot"],"We serve all customer types similarly.","We tailor service by customer segment.",.9),Ie("DS_MARKET_07","Market",["channel_dependency"],"We depend on 1-2 big customers to stabilize volume.","We diversify customers to reduce concentration risk.",1.1),Ie("DS_MARKET_08","Market",["no_market_feedback_loop"],"We assume customers order what they need.","We proactively recommend replenishment from buying patterns.",1),Ie("DS_MARKET_09","Market",["pricing_margin_blindspot"],"We measure success by total sales.","We measure success by repeat rate, availability, and collections.",1),Ie("DS_MARKET_10","Market",["pricing_positioning_gap"],"We react when competitors undercut price.","We compete through availability, reliability, and value bundles.",1),Ie("DS_LEAD_01","Leadership",["no_variance_review"],"When issues happen, we fix quickly and move on.","When issues happen, we fix and update the playbook.",1),Ie("DS_LEAD_02","Leadership",["decision_bottleneck"],"People ask me before making decisions to avoid mistakes.","People decide within limits so work continues without waiting.",1),Ie("DS_LEAD_03","Leadership",["priority_whiplash"],"Targets shift when market conditions change.","Targets stay stable enough to build discipline and learning.",.9),Ie("DS_LEAD_04","Leadership",["meeting_no_action"],"Meetings help us align.","Dashboards reduce meetings because the truth is visible.",.9),Ie("DS_LEAD_05","Leadership",["cross_team_friction"],"Sales and warehouse work in parallel.","Sales and warehouse share KPIs to reduce conflict.",1),Ie("DS_LEAD_06","Leadership",["incentive_misalignment"],"Incentives reward volume.","Incentives reward profitable volume plus collections and reliability.",1),Ie("DS_LEAD_07","Leadership",["fear_silence"],"Errors are handled quietly to maintain harmony.","Errors are surfaced early to prevent costly repeats.",1),Ie("DS_LEAD_08","Leadership",["training_planning_gap"],"Training is informal: learn by watching.","Training is structured with SOP check-offs.",.9),Ie("DS_LEAD_09","Leadership",["approval_bottleneck"],"The business feels stable when I am present.","The business feels stable because routines run without me.",1),Ie("DS_LEAD_10","Leadership",["no_kpi_ownership"],"We judge performance by effort.","We judge performance by measurable outcomes.",1),Ie("DS_INNOV_01","Innovation",["no_testing_rhythm"],"We improve by experience and instinct.","We improve by testing small changes and tracking results.",1),Ie("DS_INNOV_02","Innovation",["sku_clutter"],"New SKUs are added when customers request them.","New SKUs are added after movement and margin tests.",1),Ie("DS_INNOV_03","Innovation",["slow_mover_attachment"],"We keep slow movers just in case.","We rationalize SKUs to protect cash and focus.",1),Ie("DS_INNOV_04","Innovation",["offer_measurement_gap"],"We adopt tech when problems become painful.","We adopt tech early where it prevents repeat errors.",.9),Ie("DS_INNOV_05","Innovation",["offer_measurement_gap"],"Promotions are planned around pressure periods.","Promotions run as measured experiments with clear learning.",1),Ie("DS_INNOV_06","Innovation",["no_market_feedback_loop"],"We rely on reps to remember customer details.","We store customer patterns in a system to scale.",.9),Ie("DS_INNOV_07","Innovation",["bundle_engine_missing"],"Delivery disputes are solved through calls and negotiation.","Disputes are reduced by improving POD discipline and policy clarity.",.9),Ie("DS_INNOV_08","Innovation",["planning_gap"],"We prioritize growth first and systems later.","We build systems alongside growth so growth does not create chaos.",1),Ie("DS_INNOV_09","Innovation",["offer_measurement_gap"],"We measure innovation by number of ideas.","We measure innovation by measurable leak reduction.",.9),Ie("DS_INNOV_10","Innovation",["training_planning_gap"],"We assume staff adapt to changes naturally.","We roll out changes with training and simple checklists.",.9),Ie("DS_RISK_01","Risk",["shrinkage_leak"],"Shrinkage is expected in business.","Shrinkage is measured and treated as preventable leakage.",1.1),Ie("DS_RISK_02","Risk",["inventory_accuracy_gap"],"Stock access is flexible so work moves fast.","Stock access is controlled so accountability stays clear.",1),Ie("DS_RISK_03","Risk",["credit_contract_gap"],"Credit defaults are part of sales risk.","Credit defaults are reduced through limits and collections rhythm.",1),Ie("DS_RISK_04","Risk",["contract_gap"],"Disputes are handled through relationships.","Disputes are handled through POD and defined rules.",1),Ie("DS_RISK_05","Risk",["supplier_doc_gap"],"Supplier authenticity is assumed.","Supplier authenticity is verified through approved lists and checks.",1),Ie("DS_RISK_06","Risk",["cash_recon_gap"],"Cash handling is trusted.","Cash handling is controlled by segregation and reconciliation.",1),Ie("DS_RISK_07","Risk",["no_variance_review"],"Incidents are solved but not logged.","Incidents are logged so patterns are removed.",.9),Ie("DS_RISK_08","Risk",["policy_vagueness"],"Returns are accepted to keep customers happy.","Returns are accepted with policy to avoid abuse.",.9),Ie("DS_RISK_09","Risk",["no_variance_review"],"Stock discrepancies are corrected quietly.","Stock discrepancies are investigated to prevent repeat.",1),Ie("DS_RISK_10","Risk",["role_clarity_gap"],"We rely on good staff to avoid losses.","We rely on controls so losses reduce even when staff changes.",1),Ie("DS_PEOPLE_01","People",["role_clarity_gap"],"Reps are trusted to manage customers in their own way.","Reps follow a cadence so performance is consistent.",1),Ie("DS_PEOPLE_02","People",["accountability_soft"],"Collections depend on each rep relationship style.","Collections follow an agreed schedule and escalation routine.",1),Ie("DS_PEOPLE_03","People",["service_inconsistency"],"Drivers handle delivery issues on the spot.","Drivers follow POD routines to reduce disputes.",1),Ie("DS_PEOPLE_04","People",["training_gap"],"Warehouse training happens mostly through experience.","Warehouse training follows SOP plus check-offs.",1),Ie("DS_PEOPLE_05","People",["hero_staff_dependence"],"Strong people carry the team.","Systems help average people perform strongly and consistently.",.9),Ie("DS_PEOPLE_06","People",["incentive_misalignment"],"Incentives reward sales volume.","Incentives reward sales, collections, and service discipline.",1),Ie("DS_PEOPLE_07","People",["fear_silence"],"Mistakes are corrected quietly to avoid conflict.","Mistakes are used to improve process reliability.",1),Ie("DS_PEOPLE_08","People",["accountability_soft"],"We keep staff mostly based on loyalty.","We keep staff based on reliability and accuracy outcomes.",.9),Ie("DS_PEOPLE_09","People",["cross_team_friction"],"Performance varies by supervision and mood.","Performance stays stable because routines are clear.",1),Ie("DS_PEOPLE_10","People",["fear_silence"],"People avoid reporting issues to keep peace.","People report issues early because prevention is rewarded.",1)],$u=["all"],dw=["Critical","Watch","Stable","Strong","Emergency"],qhe=[{pillar:"Operations",strength:"Operations run with stock truth, disciplined replenishment, pick-pack-check execution, planned routes, and POD-backed delivery reliability.",hook:"Stock Discipline Engine",kpi:"Fill Rate %, OTIF %, Stockout incidents/week (Top SKUs), Inventory Accuracy %, Pick Accuracy %, Fuel/drop"},{pillar:"Money",strength:"Money is controlled through SKU margin visibility, discount guardrails, AR cadence, daily reconciliation, and inventory cash-release rules.",hook:"Margin-to-Cash Control",kpi:"Gross Margin % by SKU, Net Margin %, DSO, Discount %, Reconciliation variance, Inventory turns"},{pillar:"Market",strength:"Market execution is stable with repeat-order protection, segmented visit cadence, shelf availability discipline, and fast complaint closure.",hook:"Repeat Revenue Flywheel",kpi:"Repeat order rate, Churn %, Active outlet count, Share-of-shelf sample, Complaint closure time"},{pillar:"Leadership",strength:"Leadership runs on visible KPIs, action closure, delegated approvals, cross-functional alignment, and policy enforcement.",hook:"Cadence Over Chaos",kpi:"Action closure %, Decision latency, KPI update compliance %, Repeat incident rate, Shared KPI attainment %"},{pillar:"Innovation",strength:"Innovation is practical and measured: test-and-learn cycles, structured order capture, SKU focus, and data discipline tied to margin outcomes.",hook:"Compounding Improvement Loop",kpi:"Tests/month, Order error rate, New channel contribution %, Bundle adoption %, Data completeness %"},{pillar:"Risk",strength:"Risk controls are active with shrinkage checks, AR defenses, POD dispute controls, cash governance, supplier compliance, and continuity routines.",hook:"Leakage Shield System",kpi:"Shrinkage %, AR default %, Disputes/month, Reconciliation exceptions, Compliance pass %, Incident closure time"},{pillar:"People",strength:"People performance is consistent through scorecards, targeted training, cross-coverage, speak-up safety, and onboarding structure.",hook:"Behavior-to-Profit Alignment",kpi:"Collections/rep, POD %, Pick errors/100 lines, Training coverage %, Turnover %, Shift variance"}],zhe=[{id:"OPS_A",pillar:"Operations",signal_tags:["stockout_tax","restock_delay"],hook:"Stockout Tax",leak:"Fast movers are starving while demand is present, forcing firefighting replenishment and lost repeat baskets.",cost:"Top-SKU stockouts in FMCG commonly bleed 2-6% of monthly sales through lost repeats and emergency restocking.",cliffhanger:"Fix Mode rebuilds Top-SKU replenishment so availability becomes automatic, not emotional.",kpi:"Fill Rate %, Top-SKU stockout incidents/week"},{id:"OPS_B",pillar:"Operations",signal_tags:["inventory_accuracy_gap","shrinkage_leak"],hook:"Inventory Fog",leak:"System stock and physical stock are drifting, creating phantom availability and wrong purchase decisions.",cost:"Uncontrolled variance typically hides 0.5-3% of inventory value monthly, plus downstream stockout loss.",cliffhanger:"Fix Mode turns stock guessing into stock truth with cycle count cadence and variance ownership.",kpi:"Inventory Accuracy %, Shrinkage %"},{id:"OPS_C",pillar:"Operations",signal_tags:["dispatch_delivery_instability","receiving_slippage"],hook:"Pick Error Leak",leak:"Warehouse accuracy is inconsistent, so wrong picks and redeliveries are consuming delivery capacity.",cost:"Even low dispatch error rates create repeat fuel, labor, and trust loss that compounds every week.",cliffhanger:"Fix Mode enforces pick-pack-check and dispatch audits so wrong supply stops being normal.",kpi:"Pick Accuracy %, Wrong-supply return rate %"},{id:"OPS_D",pillar:"Operations",signal_tags:["dispatch_delivery_instability","contract_gap"],hook:"Route Bleeding",leak:"Routes are consuming fuel/time with weak sequencing and missing POD, increasing disputes and re-deliveries.",cost:"Route inefficiency of 10-20% is common and shows up as fuel burn, fewer drops/day, and avoidable disputes.",cliffhanger:"Fix Mode tightens route design and POD discipline so delivery stops behaving like a gamble.",kpi:"Fuel/drop, Drops/day, POD %"},{id:"OPS_E",pillar:"Operations",signal_tags:["returns_damage_blindspot","expiry_rotation_gap"],hook:"Silent Margin Erosion",leak:"Returns, damage, and expiry are being processed as routine noise instead of root-caused loss.",cost:"Unmanaged returns/damages often consume 1-4% of monthly sales, with expiry quietly wiping category profit.",cliffhanger:"Fix Mode isolates top loss reasons and installs quarantine + FEFO routines to stop recurrence.",kpi:"Returns %, Damage %, Expiry loss UGX/month"},{id:"OPS_F",pillar:"Operations",signal_tags:["receiving_slippage","supplier_terms_weak"],hook:"Receiving Blindspot",leak:"Supplier and receiving errors are entering stock truth, then resurfacing later as disputes and stockouts.",cost:"Supplier OTIF volatility drives rush purchases and avoidable emergency costs while accuracy declines.",cliffhanger:"Fix Mode locks receiving checks and supplier scorecards so supplier chaos stops cascading internally.",kpi:"Supplier OTIF %, Receiving error rate"},{id:"MNY_A",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],hook:"Margin Mirage",leak:"Sales activity is high, but discounts, returns, shrinkage, fuel, and credit losses are swallowing net margin.",cost:"Unmeasured margin killers can leak 2-8% of revenue, and higher volume often amplifies the leak.",cliffhanger:"Fix Mode builds a margin bridge so every leak has an owner, a number, and a deadline.",kpi:"Net Margin %, Leak UGX/month"},{id:"MNY_B",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],hook:"Discount Addiction",leak:"Pricing and discounting behavior is inconsistent, training customers to negotiate instead of buying value.",cost:"A 3-5% unmanaged discount drift can erase a major share of profit in thin-margin FMCG models.",cliffhanger:"Fix Mode installs discount guardrails so discounting becomes strategic, not emotional.",kpi:"Discount %, Gross Margin %"},{id:"MNY_C",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold"],hook:"Credit Sinkhole",leak:"Receivables are growing faster than collections, forcing the business to finance customer working capital.",cost:"Weak AR discipline typically bleeds 1-3% of revenue through delays/defaults and triggers emergency borrowing.",cliffhanger:"Fix Mode converts collections into routine operations with tiered credit controls.",kpi:"DSO, Overdue AR %"},{id:"MNY_D",pillar:"Money",signal_tags:["cash_recon_gap","shrinkage_leak"],hook:"Cash Handling Ghosts",leak:"Small reconciliation variances are accumulating and hiding true business performance.",cost:"Minor daily cash variances compound into material monthly loss and distort decision quality.",cliffhanger:"Fix Mode locks reconciliation truth and exception control so numbers can be trusted again.",kpi:"Reconciliation variance, Cash exceptions/week"},{id:"MNY_E",pillar:"Money",signal_tags:["offer_measurement_gap","discounting_leak"],hook:"Promo Burn",leak:"Promotions are moving volume without clear margin contribution or repeat-order lift.",cost:"20-60% of promo spend often fails to produce profit improvement when ROI discipline is missing.",cliffhanger:"Fix Mode converts promos into measured experiments so only profitable campaigns survive.",kpi:"Promo ROI, Margin during promo %"},{id:"MNY_F",pillar:"Money",signal_tags:["slow_mover_attachment","supplier_terms_weak"],hook:"Cash Freeze Purchase",leak:"Slow-moving stock is trapping cash while winners are underfunded and restocking power weakens.",cost:"Dead stock commonly traps 5-25% of inventory value, driving stockouts and borrowing pressure.",cliffhanger:"Fix Mode releases trapped cash and resets buying logic around fast-moving winners.",kpi:"Inventory turns, Dead stock value UGX"},{id:"MKT_A",pillar:"Market",signal_tags:["followup_gap","service_inconsistency"],hook:"Silent Churn",leak:"Repeat customers are quietly reducing order frequency and basket size without formal churn events.",cost:"Losing key repeat accounts can erase months of growth and leave inventory mix unstable.",cliffhanger:"Fix Mode finds repeat-order breakers and launches a protection routine for key accounts.",kpi:"Repeat order rate %, Churn %"},{id:"MKT_B",pillar:"Market",signal_tags:["segment_blindspot","followup_gap"],hook:"Coverage Waste",leak:"Visit effort is spread evenly, so high-value outlets are under-served while low-return coverage consumes time.",cost:"Unsegmented coverage depresses sales/rep productivity and makes repeat demand fragile.",cliffhanger:"Fix Mode applies outlet segmentation and visit cadence to protect high-value demand first.",kpi:"Visit compliance %, Sales/rep/day"},{id:"MKT_C",pillar:"Market",signal_tags:["value_story_gap","stockout_tax"],hook:"Shelf Neglect Leak",leak:"Shelf visibility and availability are inconsistent, giving competitors easier replacement access.",cost:"Weak shelf execution causes gradual volume erosion even when price is competitive.",cliffhanger:"Fix Mode restores shelf discipline where it matters most for repeat pull-through.",kpi:"Share-of-shelf sample, Shelf stockout %"},{id:"MKT_D",pillar:"Market",signal_tags:["channel_dependency","planning_gap"],hook:"Expansion Chaos",leak:"Territory and channel expansion is outpacing service reliability and working-capital control.",cost:"Uncontrolled expansion increases delivery failures, disputes, and AR stress simultaneously.",cliffhanger:"Fix Mode expands only where reliability and margin are sustainable.",kpi:"OTIF %, DSO, Disputes/month"},{id:"MKT_E",pillar:"Market",signal_tags:["complaint_handling_gap","service_inconsistency"],hook:"Complaint Loop",leak:"Complaint resolution is reactive and non-learning, allowing repeat service failures to compound.",cost:"Unresolved complaints increase churn probability and weaken pricing power over time.",cliffhanger:"Fix Mode eliminates top complaint causes so trust stops bleeding.",kpi:"Complaint closure time, Repeat complaint %"},{id:"MKT_F",pillar:"Market",signal_tags:["bundle_engine_missing","value_story_gap"],hook:"Basket Blindness",leak:"Average order value is shrinking because bundle and cross-sell mechanics are weak.",cost:"Lower basket size raises cost-to-serve per UGX sold and forces harder new-customer acquisition.",cliffhanger:"Fix Mode builds bundle plays that grow basket size without discount addiction.",kpi:"Average order value, Bundle adoption %"},{id:"LDR_A",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],hook:"KPI Darkness",leak:"Core leaks stay hidden because the business is operating without a stable KPI truth wall.",cost:"Late detection inflates the cost of stockouts, overdue AR, shrinkage, and failed delivery recovery.",cliffhanger:"Fix Mode installs visible KPI cadence so action becomes faster and cheaper.",kpi:"KPI update compliance %, Alert response time"},{id:"LDR_B",pillar:"Leadership",signal_tags:["meeting_no_action","no_variance_review"],hook:"Repeat Leak Tax",leak:"Recurring issues are discussed but not structurally closed, so the business keeps paying the same tax.",cost:"Repeat stockouts, disputes, and returns create permanent margin drain when closure discipline is weak.",cliffhanger:"Fix Mode enforces proof-of-fix so repeated incidents decline instead of recycling.",kpi:"Action closure %, Repeat incidents"},{id:"LDR_C",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],hook:"Approval Gridlock",leak:"Centralized approvals are delaying dispatch, pricing, and collections decisions that should move in real time.",cost:"Decision latency converts speed into revenue leakage and worsens service reliability.",cliffhanger:"Fix Mode removes approval bottlenecks without losing control.",kpi:"Decision latency, OTIF %"},{id:"LDR_D",pillar:"Leadership",signal_tags:["cross_team_friction","cross_function_breakdown"],hook:"Internal Friction Leak",leak:"Sales, warehouse, and finance are optimizing locally instead of to shared profit outcomes.",cost:"Cross-team misalignment silently wastes payroll time and drives customer trust decay.",cliffhanger:"Fix Mode aligns teams around shared KPIs so conflict stops consuming margin.",kpi:"Shared KPI attainment %, Cross-team issue cycle time"},{id:"LDR_E",pillar:"Leadership",signal_tags:["policy_vagueness","accountability_soft"],hook:"Policy Drift",leak:"Credit, discount, and return rules exist but are inconsistently enforced under pressure.",cost:"Policy loopholes become margin loopholes and are quickly exploited by both teams and customers.",cliffhanger:"Fix Mode enforces policy through workflow and exception tracking.",kpi:"Policy compliance %, Exception rate"},{id:"LDR_F",pillar:"Leadership",signal_tags:["training_planning_gap","role_clarity_gap"],hook:"Performance Guessing",leak:"Coaching and performance decisions are made without consistent role-level scorecards.",cost:"Payroll is spent on activity while performance variance stays high.",cliffhanger:"Fix Mode converts performance into measurable scorecards and coaching loops.",kpi:"Scorecard coverage %, Productivity variance"},{id:"INN_A",pillar:"Innovation",signal_tags:["no_testing_rhythm"],hook:"No Test Rhythm",leak:"Improvements are being guessed, not tested, so change effort does not reliably move KPIs.",cost:"Untested changes waste time and money while measured improvements are delayed.",cliffhanger:"Fix Mode installs a test-and-learn rhythm that compounds measurable gains.",kpi:"Tests/month, Improvement win rate"},{id:"INN_B",pillar:"Innovation",signal_tags:["offer_measurement_gap","no_standard_work"],hook:"App Without Process",leak:"Order capture remains unstructured, creating recurring wrong orders and avoidable dispute load.",cost:"Unstructured ordering multiplies correction costs and customer frustration.",cliffhanger:"Fix Mode structures order capture so errors fall and scaling becomes easier.",kpi:"Order error rate, Tool adoption %"},{id:"INN_C",pillar:"Innovation",signal_tags:["sku_clutter","bundle_engine_missing"],hook:"Assortment Chaos",leak:"SKU sprawl and weak bundle design are increasing complexity while suppressing basket growth.",cost:"Slow movers trap cash and starve fast movers, reducing both turns and order value.",cliffhanger:"Fix Mode rationalizes assortment and installs profitable bundle logic.",kpi:"Inventory turns, Average order value"},{id:"INN_D",pillar:"Innovation",signal_tags:["planning_gap","dispatch_delivery_instability"],hook:"Route Intelligence Gap",leak:"Routing performance is not measured consistently, so inefficiencies persist unchanged.",cost:"10-20% logistics inefficiency is common when route design is unmanaged.",cliffhanger:"Fix Mode makes route performance measurable and continuously improvable.",kpi:"Fuel/drop, Drops/day"},{id:"INN_E",pillar:"Innovation",signal_tags:["no_kpi_ownership","no_market_feedback_loop"],hook:"Data Discipline Gap",leak:"Metrics are fragmented, so teams debate numbers and react late to known leak patterns.",cost:"Bad data produces expensive decisions and delayed leak detection.",cliffhanger:"Fix Mode standardizes trusted data flows and alert-driven response.",kpi:"Data completeness %, Alert response time"},{id:"INN_F",pillar:"Innovation",signal_tags:["supplier_terms_weak","supplier_selection_undisciplined"],hook:"Supplier Collaboration Gap",leak:"Supplier variability is forcing emergency operations instead of predictable planning.",cost:"Unstable supply drives stockouts, emergency purchases, and avoidable cash strain.",cliffhanger:"Fix Mode aligns supplier collaboration to planning reality and peak demand.",kpi:"Supplier OTIF %, Stockout rate"},{id:"RSK_A",pillar:"Risk",signal_tags:["shrinkage_leak","inventory_accuracy_gap"],hook:"Shrinkage Fog",leak:"Shrinkage is being absorbed as normal, not attacked as preventable loss.",cost:"Uncontrolled shrinkage often runs 0.5-3% of inventory value, plus secondary stockout impact.",cliffhanger:"Fix Mode applies simple controls and counts that reduce shrinkage quickly.",kpi:"Shrinkage %, Inventory accuracy %"},{id:"RSK_B",pillar:"Risk",signal_tags:["credit_contract_gap","payment_delay_chokehold"],hook:"AR Exposure",leak:"Credit exposure is rising faster than collection control, converting growth into financial risk.",cost:"Slow AR velocity weakens restocking power and raises default plus borrowing exposure.",cliffhanger:"Fix Mode installs AR defense tiers and escalation routines before defaults spike.",kpi:"DSO, Default rate %"},{id:"RSK_C",pillar:"Risk",signal_tags:["contract_gap","dispatch_delivery_instability"],hook:"Dispute Tax",leak:"Weak POD and unclear dispute rules are creating short-supply claims and forced settlement discounts.",cost:"Disputes consume delivery time, reduce repeat confidence, and erode realized margin.",cliffhanger:"Fix Mode locks POD and dispute policy so trust and margin are protected.",kpi:"POD %, Dispute rate"},{id:"RSK_D",pillar:"Risk",signal_tags:["cash_recon_gap"],hook:"Cash Control Exposure",leak:"Cash custody and reconciliation controls are too loose for current transaction volume.",cost:"Weak controls create silent leakage and decision-quality decay through unreliable numbers.",cliffhanger:"Fix Mode hardens reconciliation and audit trails so cash truth is non-negotiable.",kpi:"Reconciliation variance, Cash exception count"},{id:"RSK_E",pillar:"Risk",signal_tags:["supplier_doc_gap","compliance_blocker_risk"],hook:"Authenticity & Compliance Risk",leak:"Supplier verification and compliance evidence are weak, increasing product and regulatory exposure.",cost:"One authenticity or compliance incident can trigger rapid demand and reputation damage.",cliffhanger:"Fix Mode establishes verification and compliance routines before a trust event occurs.",kpi:"Compliance pass %, Approved supplier coverage %"},{id:"RSK_F",pillar:"Risk",signal_tags:["safe_handling_gap","disaster_recovery_gap"],hook:"Continuity Fragility",leak:"Critical incident readiness is weak across safety, data, and business continuity controls.",cost:"One major event can erase months of profit without continuity and response discipline.",cliffhanger:"Fix Mode installs practical continuity and incident control so disruptions stay survivable.",kpi:"Incident closure time, Critical-risk coverage %"},{id:"PPL_A",pillar:"People",signal_tags:["incentive_misalignment","role_clarity_gap"],hook:"Incentive Misfire",leak:"Current incentives reward behavior that can grow sales while weakening profit and service quality.",cost:"When incentives ignore collections and discipline, discount leakage and risky credit rise together.",cliffhanger:"Fix Mode aligns scorecards and incentives to profitable growth behaviors.",kpi:"Collections ratio, Discount %"},{id:"PPL_B",pillar:"People",signal_tags:["service_inconsistency","contract_gap"],hook:"Last-Mile Behavior Risk",leak:"Rep and driver execution variance is causing disputes, wrong deliveries, and avoidable trust loss.",cost:"Behavior drift at the last mile increases disputes and repeat-order erosion.",cliffhanger:"Fix Mode standardizes rep-driver discipline with proof-based compliance.",kpi:"POD %, Delivery dispute rate"},{id:"PPL_C",pillar:"People",signal_tags:["training_gap","training_planning_gap"],hook:"Warehouse Error Drift",leak:"Warehouse errors are repeating because training is informal and standards are not certified.",cost:"Untrained routines create recurring pick errors, re-deliveries, and wasteful correction time.",cliffhanger:"Fix Mode installs warehouse SOP certification so error rates fall quickly.",kpi:"Pick accuracy %, Error rate/100 lines"},{id:"PPL_D",pillar:"People",signal_tags:["hero_staff_dependence","onboarding_gap"],hook:"Single Point Failure",leak:"Critical tasks rely on too few people, so absence instantly destabilizes throughput and quality.",cost:"Hidden fragility cost appears as downtime, rushed errors, and leadership overload.",cliffhanger:"Fix Mode builds cross-coverage so operations remain stable when key staff are absent.",kpi:"Coverage %, Staffing-related downtime"},{id:"PPL_E",pillar:"People",signal_tags:["fear_silence","blame_culture"],hook:"Hidden Leak Culture",leak:"Teams avoid reporting issues early, so small leaks grow quietly into expensive incidents.",cost:"Delayed issue reporting amplifies repeat failures, disputes, and rework costs.",cliffhanger:"Fix Mode creates safe reporting and no-blame closure discipline that removes repeat leaks.",kpi:"Issues reported/week, Repeat incident %"},{id:"PPL_F",pillar:"People",signal_tags:["onboarding_gap","peak_season_burnout"],hook:"Ramp-Time Loss",leak:"Weak onboarding and retention controls are increasing early-stage errors and turnover disruption.",cost:"Poor onboarding inflates ramp-time losses and raises avoidable mistakes in customer-facing workflows.",cliffhanger:"Fix Mode installs onboarding and retention controls to protect consistency as the team grows.",kpi:"Ramp time, Turnover %"}],Whe=e=>[{id:`LIB_FMCG_${e.id}_LEAK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:$u,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_FMCG_${e.id}_HOOK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:dw,business_size_fit:$u,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi}],Vhe=qhe.flatMap(e=>[{id:`LIB_FMCG_${e.pillar.toUpperCase()}_STR`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Stable","Strong"],business_size_fit:$u,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_FMCG_${e.pillar.toUpperCase()}_KPI`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:dw,business_size_fit:$u,text:e.kpi,type:"kpi",kpi_text:e.kpi}]),Hhe="FMCG wholesale & distribution",Ghe="Cash & Carry Wholesaler (walk-in shop, bulk buying)",$he="Route-to-Market Distributor (van sales to retailers)",Yhe="Sub-Distributor / Agent Network (many small resellers)",Qhe="Modern Trade / Key Accounts (supermarkets, chains)",Xhe="Importer + Regional Distributor (cross-border + bulk)",Jhe="Cold-Chain / Perishables Distributor (dairy, frozen, chilled)",xo=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_FMCG_${e}_${r.toUpperCase()}`,industry:"retail",line_type:t,pillar:r,signal_tags:[],severity_fit:dw,business_size_fit:$u,text:i[r],type:"mission_brief"})),Zhe=[...xo("S0",[Hhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Day-to-day this usually appears as stockouts, dispatch errors, and route firefighting. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode starts a 7-day stabilization sprint and a 30-day control build tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}, a familiar pattern where sales momentum hides margin and cash leakage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode maps and closes your highest-value margin leaks first.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. This often shows as silent churn, weaker repeat orders, and price pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks repeat-order protection and service reliability routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. The business is likely spending too much energy on recovery instead of prevention. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs KPI cadence, action closure, and delegated control.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Improvement is likely happening inconsistently, with weak test discipline and SKU clutter. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs measured experiments and scales only what works.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Exposure is building across shrinkage, AR, disputes, or compliance controls. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys practical controls that reduce downside quickly.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Execution quality is likely varying by person, shift, or pressure cycle. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns scorecards, training, and accountability to stabilize output."}),...xo("A",[Ghe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. In cash-and-carry models, availability and stock truth decide trust; when either breaks, walk-in conversion drops. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode will lock Top SKU replenishment and cycle-count truth in 7 days.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Cash-and-carry should print cash, but discount drift and dead-stock freezes quietly weaken liquidity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode will deploy margin bridge control and cash-release actions.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat buying in this model depends on predictable availability, not only relationship goodwill. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates a repeat-order protection shelf strategy.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Without cadence, buying and restocking swing between overbuy and stockout. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs weekly KPI rhythm and ownership.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Growth upside is likely trapped in weak assortment discipline and untested bundle plays. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a focused assortment and bundle sprint.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Shrinkage and cash-control risk are likely under-measured in this high-transaction format. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens access, reconciliation, and audit trails.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Warehouse and checkout behavior likely varies by individual habit. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs role check-offs and scorecard accountability."}),...xo("B",[$he],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Route models leak through low drop density, failed deliveries, and POD gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode rebuilds route logic and POD discipline to recover fuel and trust.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Route sales often look strong while AR and delivery economics silently erode cash. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces route-level profitability and AR cadence.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Customers reduce orders when route reliability or stock consistency drops. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode protects repeat demand with service-level routing.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Owner-driven approvals are likely slowing execution on route-critical decisions. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys delegated limits and shared KPIs.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Route-to-market innovation may be lagging where digital capture and route batching should be compounding gains. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs an execution-tech sprint.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Dispute and cash-handling risk are elevated in last-mile workflows. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens POD, dispute, and custody controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Rep and driver behaviors are likely driving leak variance across routes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives to profitable delivery discipline."}),...xo("C",[Yhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. In agent networks, stock visibility and replenishment rhythm are usually the first control gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates network stock visibility and replenishment triggers.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Many small accounts can hide large AR and leakage exposure when controls are loose. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode applies tiered credit and disciplined collections.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Coverage without consistency can dilute trust faster than it grows reach. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode identifies high-value agents and stabilizes service execution.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Network performance likely lacks a standard scorecard and enforcement rhythm. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs a network execution playbook.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Upside is likely blocked by weak standardization and limited learn loops across agents. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode productizes what works and scales it.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Agent models face elevated authenticity, pricing-drift, and leakage risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys control points and verification rules.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Agent behavior and compliance variance are likely creating margin inconsistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives and compliance routines."}),...xo("D",[Qhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. In modern trade, OTIF and execution documentation are non-negotiable. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs OTIF control and proof discipline to reduce penalties.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Chargebacks and long payment terms can quietly choke cash despite volume growth. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a cash-conversion defense and penalty prevention system.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Growth here depends on shelf execution and service reliability, not relationship strength alone. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets promo and shelf routines that preserve margin.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Key-account execution likely suffers from weak cross-functional closure rhythm. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns sales, ops, and finance around shared KPIs.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Promo and assortment decisions may be under-measured in profitability terms. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys ROI-based trade activation rules.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Penalty, compliance, and dispute exposure is elevated when execution proof is weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens compliance and acceptance evidence flows.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Merchandiser and account execution variance is likely causing avoidable penalties. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds role scorecards and compliance training."}),...xo("E",[Xhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Long lead-time models leak through forecast misses that create either stockouts or cash-frozen overstock. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs demand and replenishment discipline.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. FX swings, duties, and term mismatch are likely compressing realized margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode applies margin protection rules tied to landed cost and terms.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Territory growth may be masking weak cost-to-serve economics by region. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode identifies profitable territories after real delivery cost.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Regional complexity likely exceeds current delegation and KPI discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs branch-level scorecards and cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. SKU sprawl may be replacing disciplined portfolio strategy. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode rationalizes assortment to protect turns and margin.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Authenticity, border compliance, and leakage exposure are likely elevated. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds verification and compliance control points.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Branch variance may be creating uneven service and collections outcomes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes routines across territories."}),...xo("F",[Jhe],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. In perishables, temperature and rotation discipline decide whether margin survives. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs cold-chain checks and FEFO actions immediately.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Spoilage, returns, and emergency logistics likely form the largest hidden margin leak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode quantifies and contains spoilage in 7 days.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Perishable customers punish inconsistency quickly, so trust decay is fast and expensive. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode rebuilds reliability where repeat orders are won or lost.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. This model likely needs tighter check discipline and non-negotiable routines. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds compliance cadence that survives pressure.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Packaging, route timing, and handling improvements may be underexploited. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode prioritizes high-ROI operational innovation.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Food safety and reputation downside are severe when controls fail. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces incident response and audit readiness.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Handling discipline and training consistency are likely core stability gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies critical handling roles and ownership."})],eme=[...Vhe,...zhe.flatMap(Whe),...Zhe],lL={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},tme=[{code:"OPS-A",pillar:"Operations",signal_tags:["stockout_tax","restock_delay"],title7:"Top 30 Fast Movers + Daily Stockout Board",title30:"Reorder Points + Supplier Lead-Time Calendar (Top 50 SKUs)",kpi7:"stockout_rate_top30",kpi30:"fill_rate_top50",proof7:["top_sku_list","stockout_board"],proof30:["rop_sheet","supplier_calendar"],impact7:9,impact30:10},{code:"OPS-B",pillar:"Operations",signal_tags:["inventory_accuracy_gap","shrinkage_leak"],title7:"Cycle Count Sprint + Variance Log",title30:"ABC Cycle Count Program + Bin Ownership",kpi7:"inventory_accuracy",kpi30:"shrinkage_percent",proof7:["cycle_count_sheet","variance_log"],proof30:["abc_count_plan","bin_owner_matrix"],impact7:8,impact30:9},{code:"OPS-C",pillar:"Operations",signal_tags:["dispatch_delivery_instability","receiving_slippage"],title7:"Pick-Pack-Check Rule + 10 Dispatch Audits/Day",title30:"Warehouse SOP Pack + Location/Bin Labeling",kpi7:"pick_accuracy",kpi30:"order_cycle_time",proof7:["dispatch_checklist","dispatch_audit_log"],proof30:["warehouse_sop_pack","bin_layout_map"],impact7:8,impact30:9},{code:"OPS-D",pillar:"Operations",signal_tags:["dispatch_delivery_instability","contract_gap"],title7:"Route Quick Fix + POD on Every Delivery",title30:"Route Density Scheduling + Dispute Playbook",kpi7:"pod_completion",kpi30:"fuel_cost_per_drop",proof7:["route_plan_before_after","pod_samples"],proof30:["route_schedule","dispute_playbook"],impact7:8,impact30:9},{code:"OPS-E",pillar:"Operations",signal_tags:["returns_damage_blindspot","expiry_rotation_gap"],title7:"Returns Quarantine + 30/60/90 Near-Expiry Rescue List",title30:"FEFO Rule + Returns Root-Cause Elimination Sprint",kpi7:"returns_rate",kpi30:"expiry_loss_ugx",proof7:["quarantine_photo","near_expiry_sheet"],proof30:["fefo_sop","returns_root_cause_log"],impact7:9,impact30:9},{code:"OPS-F",pillar:"Operations",signal_tags:["receiving_slippage","supplier_terms_weak"],title7:"Receiving Checklist + Supplier OTIF Snapshot",title30:"Supplier Scorecard + Delivery Commitment Calendar",kpi7:"supplier_otif",kpi30:"receiving_error_rate",proof7:["receiving_checklist","supplier_otif_snapshot"],proof30:["supplier_scorecard","delivery_commitment_sheet"],impact7:7,impact30:8},{code:"MNY-A",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],title7:"Margin Bridge + Top 3 Leak Freeze",title30:"SKU Margin Dashboard + Monthly Leak Ownership Review",kpi7:"net_margin_percent",kpi30:"leak_value_ugx",proof7:["margin_bridge","top_leak_actions"],proof30:["sku_margin_dashboard","owner_review_notes"],impact7:9,impact30:10},{code:"MNY-B",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],title7:"Price List + Discount Approval Guardrails",title30:"Segment Pricing Policy + Price Drift Monitoring",kpi7:"discount_rate",kpi30:"price_variance",proof7:["price_list","discount_approval_log"],proof30:["segment_pricing_policy","price_drift_report"],impact7:8,impact30:9},{code:"MNY-C",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold"],title7:"AR Aging Freeze + Collections Cadence",title30:"Credit Tiers + Escalation Ladder",kpi7:"overdue_percent",kpi30:"dso",proof7:["ar_aging","blocked_accounts"],proof30:["credit_tier_policy","collections_escalation_log"],impact7:9,impact30:10},{code:"MNY-D",pillar:"Money",signal_tags:["cash_recon_gap","shrinkage_leak"],title7:"Daily Cash/Momo/Bank Reconciliation + Variance Log",title30:"Cash SOP + Segregation of Duties + Audit Spot Checks",kpi7:"recon_variance",kpi30:"cash_exception_count",proof7:["daily_reconciliation_sheet","variance_log"],proof30:["cash_sop","audit_spot_checks"],impact7:9,impact30:9},{code:"MNY-E",pillar:"Money",signal_tags:["offer_measurement_gap","discounting_leak"],title7:"Promo ROI Baseline + Stop Non-Profitable Promo",title30:"Promo ROI Approval Template + A/B Promo Calendar",kpi7:"promo_roi",kpi30:"promo_margin_impact",proof7:["promo_cost_sheet","promo_stop_decision"],proof30:["promo_roi_template","ab_test_results"],impact7:7,impact30:8},{code:"MNY-F",pillar:"Money",signal_tags:["slow_mover_attachment","supplier_terms_weak"],title7:"Dead Stock Action List + Slow-Mover Purchase Freeze",title30:"Inventory Aging Dashboard + Supplier Terms Reset",kpi7:"dead_stock_value",kpi30:"inventory_turns",proof7:["dead_stock_list","purchase_freeze_note"],proof30:["aging_dashboard","supplier_terms_summary"],impact7:8,impact30:9},{code:"MKT-A",pillar:"Market",signal_tags:["followup_gap","service_inconsistency"],title7:"Top 50 Customer Repeat Order Protection Sweep",title30:"Key Account Health Score + Churn Triggers",kpi7:"repeat_order_rate",kpi30:"customer_churn_rate",proof7:["top_customer_outreach_log","declining_account_list"],proof30:["account_health_scoreboard","churn_trigger_rules"],impact7:8,impact30:9},{code:"MKT-B",pillar:"Market",signal_tags:["segment_blindspot","followup_gap"],title7:"A/B/C Outlet Segmentation + Visit Cadence",title30:"Territory Coverage Map + Activation Tracker",kpi7:"visit_compliance",kpi30:"active_outlet_count",proof7:["abc_outlet_list","visit_cadence_plan"],proof30:["territory_map","activation_report"],impact7:7,impact30:8},{code:"MKT-C",pillar:"Market",signal_tags:["value_story_gap","stockout_tax"],title7:"Top 10 SKU Shelf Audit + Availability Fix",title30:"Merchandising Standards + Weekly Shelf Audit Loop",kpi7:"shelf_stockout_rate",kpi30:"share_of_shelf",proof7:["shelf_audit_photos","availability_fix_log"],proof30:["merch_sop","weekly_audit_summary"],impact7:7,impact30:8},{code:"MKT-D",pillar:"Market",signal_tags:["channel_dependency","planning_gap"],title7:"One Controlled Channel Expansion Test",title30:"Channel Strategy + Service Level by Channel",kpi7:"new_channel_sales",kpi30:"profit_by_channel",proof7:["channel_test_plan","test_results"],proof30:["channel_strategy_doc","channel_margin_report"],impact7:6,impact30:8},{code:"MKT-E",pillar:"Market",signal_tags:["complaint_handling_gap","service_inconsistency"],title7:"Complaint Log + 24h/48h Closure SLA",title30:"Complaint Root-Cause Closure System",kpi7:"complaint_closure_time",kpi30:"repeat_complaint_rate",proof7:["complaint_register","sla_tracker"],proof30:["root_cause_closure_log","repeat_issue_report"],impact7:8,impact30:9},{code:"MKT-F",pillar:"Market",signal_tags:["bundle_engine_missing","value_story_gap"],title7:"Top 5 Cross-Sell Bundles + Rep Offer Script",title30:"Segment Bundle Catalog + Margin Tracking",kpi7:"average_order_value",kpi30:"bundle_adoption_rate",proof7:["bundle_sheet","rep_script"],proof30:["bundle_catalog","bundle_margin_report"],impact7:7,impact30:8},{code:"LDR-A",pillar:"Leadership",signal_tags:["kpi_cadence_gap","no_kpi_ownership"],title7:"7 Core KPI Truth Wall (daily/weekly update)",title30:"Dashboard Cadence + KPI Threshold Alerts",kpi7:"kpi_update_compliance",kpi30:"kpi_alert_response_time",proof7:["kpi_wall_photo","owner_assignments"],proof30:["dashboard_screens","alert_log"],impact7:8,impact30:8},{code:"LDR-B",pillar:"Leadership",signal_tags:["meeting_no_action","no_variance_review"],title7:"Action Tracker + Top 5 Repeat Leak Closures",title30:"Weekly Root-Cause Cadence + No-Repeat Rule",kpi7:"action_closure_rate",kpi30:"repeat_incident_rate",proof7:["action_tracker","proof_of_fix"],proof30:["root_cause_notes","repeat_incident_trend"],impact7:9,impact30:9},{code:"LDR-C",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],title7:"Decision Stall Map + 7-Day Delegation Test",title30:"Delegation Matrix + Decision Latency Review",kpi7:"stalled_decisions_count",kpi30:"decision_latency",proof7:["decision_stall_list","delegated_decision_log"],proof30:["delegation_matrix","decision_latency_report"],impact7:8,impact30:9},{code:"LDR-D",pillar:"Leadership",signal_tags:["cross_team_friction","cross_function_breakdown"],title7:"Sales-Ops-Finance 15-min Shared KPI Standup",title30:"Weekly Joint Planning + Shared Outcome Incentives",kpi7:"standup_compliance",kpi30:"shared_kpi_improvement",proof7:["standup_notes","shared_kpi_board"],proof30:["joint_planning_minutes","incentive_alignment_note"],impact7:8,impact30:9},{code:"LDR-E",pillar:"Leadership",signal_tags:["policy_vagueness","accountability_soft"],title7:"Credit/Discount/Returns Policy Publish + Compliance Audit",title30:"Policy Workflow Controls + Exception Tracking",kpi7:"policy_compliance_percent",kpi30:"exception_rate",proof7:["policy_docs","policy_audit_samples"],proof30:["workflow_rules","exception_report"],impact7:8,impact30:8},{code:"LDR-F",pillar:"Leadership",signal_tags:["training_planning_gap","role_clarity_gap"],title7:"Role Scorecards + 1 Coaching Session per Role",title30:"Monthly Coaching Cadence + Promotion-by-Scorecard",kpi7:"scorecard_coverage",kpi30:"performance_variance",proof7:["role_scorecards","coaching_notes"],proof30:["coaching_calendar","promotion_criteria"],impact7:7,impact30:8},{code:"INN-A",pillar:"Innovation",signal_tags:["no_testing_rhythm"],title7:"Run 1 Measured Improvement Experiment",title30:"Experiment Pipeline (2 tests/month)",kpi7:"tests_run",kpi30:"improvement_win_rate",proof7:["experiment_sheet","before_after_results"],proof30:["test_pipeline_board","learning_library"],impact7:6,impact30:8},{code:"INN-B",pillar:"Innovation",signal_tags:["offer_measurement_gap","no_standard_work"],title7:"Structured Order Capture Template Pilot",title30:"Digital Order Capture Rollout + POD Integration",kpi7:"order_error_rate",kpi30:"tool_adoption_percent",proof7:["order_template","pilot_audit"],proof30:["app_usage_report","pod_integration_evidence"],impact7:7,impact30:8},{code:"INN-C",pillar:"Innovation",signal_tags:["sku_clutter","bundle_engine_missing"],title7:"Slow-Mover Freeze + 2 Bundle Offers",title30:"SKU Rationalization + Segment Bundle Catalog",kpi7:"average_order_value",kpi30:"inventory_turns",proof7:["slow_mover_freeze","bundle_offer_sheet"],proof30:["sku_keep_kill_list","bundle_adoption_report"],impact7:7,impact30:8},{code:"INN-D",pillar:"Innovation",signal_tags:["planning_gap","dispatch_delivery_instability"],title7:"Measure Route Core Metrics (drops/km/fuel)",title30:"Route Optimization Framework + Driver Board",kpi7:"drops_per_day",kpi30:"fuel_per_drop",proof7:["route_metric_sheet","inefficiency_fix_note"],proof30:["optimized_routes","driver_board_photo"],impact7:7,impact30:8},{code:"INN-E",pillar:"Innovation",signal_tags:["no_kpi_ownership","no_market_feedback_loop"],title7:"Single Source Data Sheet + Core Metrics Discipline",title30:"Automated Alerts (stockout/AR/expiry) + Review Rhythm",kpi7:"data_completeness",kpi30:"alert_response_time",proof7:["single_source_sheet","metric_update_log"],proof30:["alert_rules","weekly_review_notes"],impact7:7,impact30:8},{code:"INN-F",pillar:"Innovation",signal_tags:["supplier_terms_weak","supplier_selection_undisciplined"],title7:"Top SKU Forecast Share + Delivery Window Commitments",title30:"Supplier SLA Reviews + Peak-Season Joint Plan",kpi7:"supplier_otif",kpi30:"stockout_rate",proof7:["supplier_forecast_notes","delivery_window_agreements"],proof30:["supplier_sla_reviews","peak_plan_doc"],impact7:6,impact30:8},{code:"RSK-A",pillar:"Risk",signal_tags:["shrinkage_leak","inventory_accuracy_gap"],title7:"High-Risk Zone Lock + Variance Audit",title30:"Routine Shrinkage Audits + Segregation Controls",kpi7:"shrinkage_percent",kpi30:"inventory_accuracy",proof7:["zone_access_rules","variance_audit"],proof30:["audit_schedule","segregation_matrix"],impact7:8,impact30:9},{code:"RSK-B",pillar:"Risk",signal_tags:["credit_contract_gap","payment_delay_chokehold"],title7:"Overdue Freeze + Credit Limits",title30:"Credit Scoring Tiers + Default Prevention Playbook",kpi7:"overdue_balance",kpi30:"default_rate",proof7:["credit_freeze_list","credit_limits"],proof30:["credit_tiering_model","default_playbook"],impact7:9,impact30:9},{code:"RSK-C",pillar:"Risk",signal_tags:["contract_gap","dispatch_delivery_instability"],title7:"POD Mandatory + Dispute Log SLA",title30:"Dispute Policy + Driver POD Compliance Audits",kpi7:"pod_completion",kpi30:"dispute_rate",proof7:["pod_samples","dispute_log"],proof30:["dispute_policy","driver_audit_results"],impact7:8,impact30:8},{code:"RSK-D",pillar:"Risk",signal_tags:["cash_recon_gap"],title7:"Cash Reconciliation Discipline + Custody Time Limits",title30:"Cash SOP + Weekly Exception Audit",kpi7:"recon_variance",kpi30:"cash_exception_count",proof7:["cash_recon_log","deposit_timing_log"],proof30:["cash_sop","weekly_exception_audit"],impact7:8,impact30:8},{code:"RSK-E",pillar:"Risk",signal_tags:["supplier_doc_gap","compliance_blocker_risk"],title7:"Approved Supplier List + Compliance Document Organizer",title30:"Supplier Verification Procedure + Product Compliance Checklist",kpi7:"approved_supplier_coverage",kpi30:"compliance_pass_rate",proof7:["approved_supplier_list","compliance_folder_snapshot"],proof30:["verification_procedure","compliance_checklist"],impact7:7,impact30:8},{code:"RSK-F",pillar:"Risk",signal_tags:["safe_handling_gap","disaster_recovery_gap"],title7:"Top 5 Business-Killer Risk Sheet + Backup Critical Records",title30:"Continuity Plan + Safety Incident Log + Insurance Review",kpi7:"critical_risk_coverage",kpi30:"incident_closure_time",proof7:["risk_sheet","record_backup_proof"],proof30:["continuity_plan","incident_log","insurance_review_note"],impact7:7,impact30:8},{code:"PPL-A",pillar:"People",signal_tags:["incentive_misalignment","role_clarity_gap"],title7:"Rep/Driver/Warehouse Scorecards (profit-safe behaviors)",title30:"Incentives Tied to Scorecards + Coaching Rhythm",kpi7:"scorecard_coverage",kpi30:"collections_ratio",proof7:["role_scorecards","scorecard_baseline"],proof30:["incentive_policy","coaching_logs"],impact7:8,impact30:9},{code:"PPL-B",pillar:"People",signal_tags:["service_inconsistency","contract_gap"],title7:"Rep/Driver Discipline Reset (route + POD + order format)",title30:"Behavior Audits + Escalation for Repeat Non-Compliance",kpi7:"pod_completion",kpi30:"delivery_dispute_rate",proof7:["discipline_checklist","pod_compliance_log"],proof30:["behavior_audit_report","escalation_records"],impact7:7,impact30:8},{code:"PPL-C",pillar:"People",signal_tags:["training_gap","training_planning_gap"],title7:"Warehouse Pick-Pack-Check Training Sprint",title30:"Warehouse SOP Certification Matrix + Cross-Shift Audits",kpi7:"pick_accuracy",kpi30:"warehouse_error_rate",proof7:["training_attendance","skill_checkoff"],proof30:["certification_matrix","shift_audit_log"],impact7:8,impact30:9},{code:"PPL-D",pillar:"People",signal_tags:["hero_staff_dependence","onboarding_gap"],title7:"Single-Point-Failure Task Map + Cross-Train 2 Tasks",title30:"Coverage Matrix + Backup Role Assignments",kpi7:"critical_coverage_gaps",kpi30:"staffing_downtime_incidents",proof7:["single_point_failure_map","cross_training_log"],proof30:["coverage_matrix","backup_role_assignments"],impact7:7,impact30:8},{code:"PPL-E",pillar:"People",signal_tags:["fear_silence","blame_culture"],title7:"Safe Reporting Channel + Fix One Reported Issue Fast",title30:"No-Blame Incident Review Cadence + Repeat Leak Removal",kpi7:"issues_reported_count",kpi30:"repeat_incident_rate",proof7:["safe_reporting_channel","first_issue_fix_proof"],proof30:["incident_review_notes","repeat_leak_elimination_log"],impact7:7,impact30:8},{code:"PPL-F",pillar:"People",signal_tags:["onboarding_gap","peak_season_burnout"],title7:"Role Onboarding Checklist + First-7-Day Success Criteria",title30:"30-60-90 Onboarding + Top Performer Retention Plan",kpi7:"new_hire_error_rate",kpi30:"turnover_rate",proof7:["onboarding_checklist","first_week_scorecard"],proof30:["30_60_90_plan","retention_actions"],impact7:7,impact30:8}],ime=tme.flatMap(e=>{const t=e.code.replace(/-/g,"_"),i=["all"],n={action_id:`ACT_FMCG_${t}_7`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title7,days:7,effort:"S",default_owner_by_size:lL,kpi_links:[e.kpi7],proof_required:e.proof7,impact_score:e.impact7},r={action_id:`ACT_FMCG_${t}_30`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title30,days:30,effort:"M",default_owner_by_size:lL,kpi_links:[e.kpi30],proof_required:e.proof30,impact_score:e.impact30};return[n,r]}),R4={questions:Uhe,library:eme,actions:ime},Oe=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"retail",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),nme=[Oe("QS_OPS_01","Operations",["inventory_accuracy_gap","stockout_tax"],"I confirm item availability by checking shelves quickly.","I confirm availability using a simple SKU list first.",1.1),Oe("QS_OPS_02","Operations",["restock_delay","planning_gap"],"Peak season stock planning happens when demand starts rising.","Peak season stock planning happens on a calendar.",1),Oe("QS_MONEY_01","Money",["pricing_margin_blindspot","category_margin_blindspot"],"I feel a week was good when customers were many.","I feel a week was good when profit stayed predictable.",1),Oe("QS_MONEY_02","Money",["discounting_leak","pricing_inconsistency"],"Discounts depend on the customer and the moment.","Discounts follow simple bulk bands.",1.1),Oe("QS_MARKET_01","Market",["followup_gap","channel_dependency"],"Schools and offices buy from us when they remember.","Schools and offices buy because we remind them and make it easy.",1),Oe("QS_MARKET_02","Market",["followup_gap","weak_onboarding"],"WhatsApp orders are answered when we are free.","WhatsApp orders follow response templates and targets.",1),Oe("QS_LEAD_01","Leadership",["decision_bottleneck","approval_bottleneck"],"Most exceptions still need the owner or manager.","We use rules so staff decide quickly.",1),Oe("QS_LEAD_02","Leadership",["no_variance_review","no_meeting_to_action"],"We fix problems fast and move on.","We adjust the process so problems repeat less.",1),Oe("QS_INNOV_01","Innovation",["bundle_engine_missing"],"We sell items one-by-one based on what the customer asks for.","We offer ready bundles and kits to save time.",1),Oe("QS_INNOV_02","Innovation",["service_inconsistency","offer_measurement_gap"],"Services like lamination, covering, and delivery are offered when asked.","Services are offered as part of checkout.",1),Oe("QS_RISK_01","Risk",["supplier_doc_gap","supplier_selection_undisciplined"],"We trust suppliers based on relationship.","We trust suppliers with small verification habits.",1),Oe("QS_RISK_02","Risk",["contract_gap","policy_vagueness"],"Printing mistakes are handled case-by-case.","Printing mistakes follow clear terms and proof.",1),Oe("QS_PEOPLE_01","People",["training_gap","onboarding_gap"],"Staff learn mainly by shadowing.","Staff learn with checklists and scripts.",1),Oe("QS_PEOPLE_02","People",["incentive_misalignment","accountability_soft"],"Staff performance is mainly about sales volume.","Staff performance also includes accuracy and shrink control.",1),Oe("DS_OPS_01","Operations",["inventory_accuracy_gap"],"I find items by memory and scanning shelves.","I find items by category layout and SKU cues.",1),Oe("DS_OPS_02","Operations",["inventory_accuracy_gap","stockout_tax"],"Pack sizes and variants are handled informally.","Pack sizes and variants are tracked clearly.",1),Oe("DS_OPS_03","Operations",["receiving_slippage"],"Receiving is done quickly so stock gets to shelves.","Receiving includes counting and recording before shelving.",1),Oe("DS_OPS_04","Operations",["stockout_tax","restock_delay"],"Stockouts are discovered when customers ask.","Stockouts are spotted using Top 50 checks.",1),Oe("DS_OPS_05","Operations",["planning_gap","restock_delay"],"Peak season buying starts when demand rises.","Peak season buying starts from a calendar plan.",1),Oe("DS_OPS_06","Operations",["offer_measurement_gap"],"Shelves are arranged for neatness.","Shelves are arranged for speed and conversion.",.9),Oe("DS_OPS_07","Operations",["slow_mover_attachment"],"Slow books and items stay until someone eventually buys.","Slow books and items trigger a recovery plan.",1),Oe("DS_OPS_08","Operations",["dispatch_delivery_instability"],"Online orders are picked from chat memory.","Online orders follow a pick checklist.",.9),Oe("DS_OPS_09","Operations",["no_standard_work","contract_gap"],"Printing jobs are managed verbally.","Printing jobs use tickets and a queue.",1),Oe("DS_OPS_10","Operations",["hero_staff_dependence"],"When staff changes, systems slow down.","Systems work the same regardless of staff.",1),Oe("DS_MONEY_01","Money",["pricing_margin_blindspot","pricing_inconsistency"],"Pricing is matched to competitors.","Pricing starts from cost plus target margin rules.",1),Oe("DS_MONEY_02","Money",["discounting_leak"],"Discounts are flexible to close sales.","Discounts follow bulk bands.",1),Oe("DS_MONEY_03","Money",["category_margin_blindspot","pricing_margin_blindspot"],"Profit is what remains after expenses.","Profit is tracked by category and leaks.",1.1),Oe("DS_MONEY_04","Money",["credit_terms_risk"],"Credit is given to keep relationships.","Credit follows limits and due dates.",1),Oe("DS_MONEY_05","Money",["payment_delay_chokehold"],"Debtors are followed up when they delay too much.","Debtors are followed up routinely.",1),Oe("DS_MONEY_06","Money",["shrinkage_leak"],"Shrink is assumed as normal for small items.","Shrink is measured and controlled.",1),Oe("DS_MONEY_07","Money",["cash_recon_gap"],"Cash and momo are checked when something feels off.","Cash and momo are reconciled daily.",1),Oe("DS_MONEY_08","Money",["waste_not_costed"],"Printing pricing is based on market rates.","Printing pricing reflects real cost plus margin.",1),Oe("DS_MONEY_09","Money",["supplier_selection_undisciplined","purchase_panic"],"Buying is driven by what suppliers recommend.","Buying is driven by your sell-through evidence.",.9),Oe("DS_MONEY_10","Money",["discounting_leak","bundle_engine_missing"],"Promotions are mainly price cuts.","Promotions are kits, bundles, and value-adds.",.9),Oe("DS_MARKET_01","Market",["followup_gap"],"Repeat customers happen naturally.","Repeat customers are built through VIP and follow-up.",1),Oe("DS_MARKET_02","Market",["channel_dependency","followup_gap"],"Schools buy when they need supplies.","We maintain a school contract and outreach rhythm.",1),Oe("DS_MARKET_03","Market",["bundle_engine_missing"],"We sell whatever the customer asks for.","We guide customers to bundles and kits for speed.",1),Oe("DS_MARKET_04","Market",["followup_gap"],"We rely mostly on walk-ins.","We capture contacts and follow up.",1),Oe("DS_MARKET_05","Market",["weak_onboarding"],"WhatsApp inquiries are answered when free.","WhatsApp inquiries follow templates and targets.",1),Oe("DS_MARKET_06","Market",["no_market_feedback_loop"],"We rarely ask for referrals.","We ask teachers and parents for referrals routinely.",.9),Oe("DS_MARKET_07","Market",["offer_measurement_gap"],"Display is mostly about neatness.","Display is about conversion and fast movers.",.9),Oe("DS_MARKET_08","Market",["no_market_feedback_loop"],"We do not track repeat buyers.","We track repeat buyers and reward them.",1),Oe("DS_MARKET_09","Market",["planning_gap"],"Back-to-school marketing is last-minute.","Back-to-school marketing is calendar-based.",.9),Oe("DS_MARKET_10","Market",["channel_dependency"],"Office clients buy ad-hoc.","Office clients are managed as accounts.",.9),Oe("DS_LEAD_01","Leadership",["kpi_cadence_gap"],"Targets are mostly in my head.","Targets are visible and reviewed weekly.",1),Oe("DS_LEAD_02","Leadership",["no_variance_review"],"I solve errors personally to protect quality.","I adjust the process to stop repeats.",1),Oe("DS_LEAD_03","Leadership",["approval_bottleneck","decision_bottleneck"],"Discounts and returns need approval often.","Discounts and returns follow limits and rules.",1),Oe("DS_LEAD_04","Leadership",["training_planning_gap"],"Staff learn mainly by shadowing.","Staff learn through checklists and scripts.",.9),Oe("DS_LEAD_05","Leadership",["accountability_soft"],"Performance is judged by effort and busyness.","Performance is judged by outcomes and accuracy.",1),Oe("DS_LEAD_06","Leadership",["meeting_no_action"],"Meetings are the main alignment tool.","Dashboards reduce meeting dependence.",.9),Oe("DS_LEAD_07","Leadership",["no_variance_review"],"Mistakes are corrected and forgotten.","Mistakes lead to small system improvements.",1),Oe("DS_LEAD_08","Leadership",["role_clarity_gap"],"I delegate tasks.","I delegate ownership outcomes.",.9),Oe("DS_LEAD_09","Leadership",["priority_whiplash"],"Priorities shift based on urgent requests.","Priorities follow weekly plans.",.9),Oe("DS_LEAD_10","Leadership",["fear_silence"],"Feedback is avoided to keep peace.","Feedback protects standards.",.9),Oe("DS_INNOV_01","Innovation",["bundle_engine_missing"],"We sell items one-by-one.","We sell kits and bundles.",1),Oe("DS_INNOV_02","Innovation",["service_inconsistency"],"We add services when customers ask.","We offer services as part of checkout.",.9),Oe("DS_INNOV_03","Innovation",["planning_gap","no_testing_rhythm"],"Seasonal items are ordered when demand rises.","Seasonal items are ordered ahead by calendar.",1),Oe("DS_INNOV_04","Innovation",["no_testing_rhythm"],"We rarely test new learning materials or titles.","We micro-test and scale winners.",1),Oe("DS_INNOV_05","Innovation",["discounting_leak"],"We do not run promotions often.","We run simple calendar promotions.",.9),Oe("DS_INNOV_06","Innovation",["bundle_engine_missing"],"We do not have a fast-lane for parents in a hurry.","We have grab-and-go bundles.",.9),Oe("DS_INNOV_07","Innovation",["service_inconsistency","offer_measurement_gap"],"Printing is just a service we provide.","Printing is productized with packages.",.9),Oe("DS_INNOV_08","Innovation",["bundle_engine_missing"],"We do not package school lists by class or school.","We package lists into ready kits.",.9),Oe("DS_INNOV_09","Innovation",["offer_measurement_gap"],"Online selling is occasional.","Online selling follows routines and templates.",.9),Oe("DS_INNOV_10","Innovation",["no_market_feedback_loop"],"We do not collect feedback on missing items.","We collect requested-but-missing lists.",.9),Oe("DS_RISK_01","Risk",["supplier_doc_gap","supplier_selection_undisciplined"],"We trust suppliers based on history.","We verify short deliveries and authenticity.",1),Oe("DS_RISK_02","Risk",["shrinkage_leak"],"Small items disappear sometimes; it happens.","Small items are protected with controls.",1),Oe("DS_RISK_03","Risk",["cash_recon_gap"],"Cash handling is flexible when busy.","Cash handling follows strict close routine.",1),Oe("DS_RISK_04","Risk",["contract_gap","policy_vagueness"],"Printing mistakes are handled case-by-case.","Printing mistakes follow terms and proof steps.",1),Oe("DS_RISK_05","Risk",["policy_vagueness"],"Receipts and invoices are sometimes skipped.","Receipts and invoices are consistent.",.9),Oe("DS_RISK_06","Risk",["receiving_slippage","supplier_doc_gap"],"Supplier deliveries are accepted quickly.","Supplier deliveries are counted and verified.",1),Oe("DS_RISK_07","Risk",["credit_terms_risk","contract_gap"],"Credit is given informally.","Credit is documented and limited.",1),Oe("DS_RISK_08","Risk",["shrinkage_leak"],"Access to stockroom is open.","Access to stockroom is controlled.",1),Oe("DS_RISK_09","Risk",["data_security_gap"],"Customer and school data is kept on personal phones.","Customer and school data is stored securely.",.9),Oe("DS_RISK_10","Risk",["contract_gap","policy_vagueness"],"Disputes are solved by giving discounts.","Disputes are solved using clear terms and proof.",1),Oe("DS_PEOPLE_01","People",["incentive_misalignment"],"Staff success is mainly about sales volume.","Staff success includes accuracy and shrink control.",1),Oe("DS_PEOPLE_02","People",["incentive_misalignment","discounting_leak"],"Staff discounts to keep customers happy.","Staff use bulk bands and scripts.",1),Oe("DS_PEOPLE_03","People",["service_inconsistency"],"Product finding depends on who is on shift.","Product finding is consistent across staff.",1),Oe("DS_PEOPLE_04","People",["bundle_engine_missing","training_gap"],"Staff rarely upsell bundles.","Staff offer kits to save customer time.",.9),Oe("DS_PEOPLE_05","People",["incentive_misalignment"],"Incentives are mostly sales-based.","Incentives include quality and margin metrics.",1),Oe("DS_PEOPLE_06","People",["onboarding_gap","training_gap"],"New hires learn mainly by shadowing.","New hires learn by checklist plus shadowing.",1),Oe("DS_PEOPLE_07","People",["blame_culture"],"Mistakes lead to blame.","Mistakes lead to process improvement.",1),Oe("DS_PEOPLE_08","People",["no_market_feedback_loop"],"Staff do not track requested-but-missing items.","Staff logs customer requests.",.9),Oe("DS_PEOPLE_09","People",["hero_staff_dependence"],"One strong staff carries operations.","The system runs regardless of staff.",1),Oe("DS_PEOPLE_10","People",["blame_culture"],"High performers can bend rules.","Standards are consistent for everyone.",.9)],Yu=["all"],Nh=["Critical","Watch","Stable","Strong","Emergency"],ame=[{pillar:"Operations",strength:"Core items are controlled by SKU and pack-size, receiving is disciplined, shelves are conversion-led, and printing jobs follow ticketed queue flow.",hook:"Stock and Queue Discipline",kpi:"Top-50 stockouts/week, Stock accuracy %, Printing error %, Dead stock UGX"},{pillar:"Money",strength:"Category margins, discount bands, credit discipline, and daily cash plus momo reconciliation keep profit and cash predictable.",hook:"Margin-to-Cash Control",kpi:"Gross margin by category, Discount %, Credit aging, Recon variance UGX, Shrink %"},{pillar:"Market",strength:"Repeat demand is built through school-office account routines, VIP follow-up, bundle offers, and fast response channels.",hook:"Repeat and Contract Engine",kpi:"Repeat rate %, School-office contracts, AOV, Bundle adoption %, Response time"},{pillar:"Leadership",strength:"Execution runs on visible KPIs, clear decision limits, and weekly closure of recurring leak patterns.",hook:"Cadence Over Chaos",kpi:"KPI review compliance, Decision latency, Task closure %, Repeat incident rate"},{pillar:"Innovation",strength:"Seasonal campaigns, service productization, and micro-tests are run systematically to scale what works and stop what leaks.",hook:"Measured Growth Loop",kpi:"Campaign execution score, New tests/month, Service upsell %, Test win rate"},{pillar:"Risk",strength:"Supplier authenticity, short-delivery checks, shrink controls, and dispute-proof routines protect trust and margin.",hook:"Loss and Trust Firewall",kpi:"Counterfeit flags, Short-delivery rate, Shrink %, Dispute %, Cash exceptions"},{pillar:"People",strength:"Incentives, scripts, and onboarding align behavior with margin quality, service consistency, and low error rates.",hook:"Profit-Safe Behavior",kpi:"Margin/staff, Discount by staff %, Training completion %, Service consistency score"}],rme=[{id:"OPS_01",pillar:"Operations",signal_tags:["stockout_tax","restock_delay"],hook:"Stockout Tax",leak:"Core stationery items are discovered missing when customers are already at the counter, especially during exam and school peaks.",cost:"In list-based shopping, one missing item can lose the full basket and future repeat demand.",cliffhanger:"Fix Mode secures Top-50 fast movers and reorder triggers before demand spikes.",kpi:"Top-50 stockouts/week, Seasonal readiness score",actionPack:"OPS-P1"},{id:"OPS_02",pillar:"Operations",signal_tags:["inventory_accuracy_gap"],hook:"SKU Fog",leak:"Stock exists in theory but exact variant or pack-size cannot be confirmed fast enough to close sales confidently.",cost:"SKU fog wastes floor time, creates wrong picks, and weakens trust in availability promises.",cliffhanger:"Fix Mode builds SKU and pack-size truth so confirmation is fast and reliable.",kpi:"Stock accuracy %, Item find time",actionPack:"OPS-P2"},{id:"OPS_03",pillar:"Operations",signal_tags:["offer_measurement_gap"],hook:"Shelf Maze",leak:"Shelf layout is neat but not conversion-led, so customers spend too long searching and buy less.",cost:"Slow item discovery reduces conversion and increases staff interruption load.",cliffhanger:"Fix Mode deploys shelf maps and fast-lane zones optimized for speed and basket size.",kpi:"Customer time-to-find item, In-store conversion %",actionPack:"OPS-P3"},{id:"OPS_04",pillar:"Operations",signal_tags:["no_standard_work","contract_gap"],hook:"Queue Chaos",leak:"Printing and photocopy jobs are managed verbally, causing reprints, delays, and payment disputes.",cost:"Queue chaos turns a high-frequency service into avoidable rework and reputation drag.",cliffhanger:"Fix Mode installs ticketed queue control with proof checkpoints.",kpi:"Print job error %, Disputes/week",actionPack:"OPS-P4"},{id:"OPS_05",pillar:"Operations",signal_tags:["slow_mover_attachment"],hook:"Dead Book Trap",leak:"Slow-moving books and legacy items sit for long periods, tying cash while fast movers starve.",cost:"Dead inventory reduces restock power and forces reactive discounting.",cliffhanger:"Fix Mode runs dead-stock recovery with bundle, markdown, and transfer rules.",kpi:"Dead stock UGX, Inventory turns",actionPack:"OPS-P5"},{id:"MNY_01",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],hook:"Margin Mirage",leak:"Sales look active but category-level profitability is unclear once discounts, shrink, and returns are included.",cost:"Without category margin truth, decisions scale volume while hiding profit loss.",cliffhanger:"Fix Mode builds category margin maps and leak reviews.",kpi:"Gross margin by category, Net margin estimate",actionPack:"MNY-P1"},{id:"MNY_02",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],hook:"Bargain Drift",leak:"Discounting happens by negotiation mood instead of clear bands, compressing margin each day.",cost:"Random discounting trains buyers to negotiate and steadily erodes pricing power.",cliffhanger:"Fix Mode enforces discount bands and bulk pricing guardrails.",kpi:"Discount %, Price variance",actionPack:"MNY-P2"},{id:"MNY_03",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold"],hook:"Credit Sink",leak:"Credit is extended without disciplined limits and collections cadence, trapping cash needed for peak stock.",cost:"Delayed collections weaken restocking power and increase bad debt risk.",cliffhanger:"Fix Mode installs credit tiers, aging visibility, and cutoff rules.",kpi:"Credit outstanding, Aging buckets, DSO",actionPack:"MNY-P3"},{id:"MNY_04",pillar:"Money",signal_tags:["cash_recon_gap","shrinkage_leak"],hook:"Cash Drawer Drift",leak:"Cash and momo reconciliation is inconsistent, so daily variances and small-item shrink become normalized.",cost:"Small unresolved variances become permanent monthly leakage.",cliffhanger:"Fix Mode enforces daily money truth and shrink exception logging.",kpi:"Cash-momo variance UGX/day, Shrink %",actionPack:"MNY-P4"},{id:"MNY_05",pillar:"Money",signal_tags:["waste_not_costed"],hook:"Hidden Service Leak",leak:"Printing and photocopy prices are set by market guess, not by full paper-toner-time cost.",cost:"Busy print desks can destroy margin when service costs are not priced accurately.",cliffhanger:"Fix Mode installs print cost calculators and job-type pricing corrections.",kpi:"Cost per print job, Print margin %",actionPack:"MNY-P5"},{id:"MKT_01",pillar:"Market",signal_tags:["channel_dependency","followup_gap"],hook:"School Contract Miss",leak:"Schools and offices are served ad hoc without a structured account rhythm, so predictable bulk revenue is lost.",cost:"Lack of account discipline weakens repeat volume and planning accuracy.",cliffhanger:"Fix Mode builds school and office contract outreach plus renewal cadence.",kpi:"Contract count, Contract revenue share",actionPack:"MKT-P1"},{id:"MKT_02",pillar:"Market",signal_tags:["followup_gap"],hook:"One-Time Buyer Curse",leak:"Parents and students buy once and disappear because there is no retention follow-up system.",cost:"Replacing buyers repeatedly is more expensive than retaining known buyers.",cliffhanger:"Fix Mode launches VIP and follow-up loops that convert one-time buyers to repeat demand.",kpi:"Repeat rate %, Repeat revenue %",actionPack:"MKT-P3"},{id:"MKT_03",pillar:"Market",signal_tags:["weak_onboarding","followup_gap"],hook:"WhatsApp Blackhole",leak:"Inquiry responses are slow and inconsistent, so high-intent orders are lost to faster competitors.",cost:"In fast retail channels, response latency directly reduces conversion.",cliffhanger:"Fix Mode sets response SLAs and templates for faster close rates.",kpi:"Response time, Inquiry-to-order conversion",actionPack:"MKT-P4"},{id:"MKT_04",pillar:"Market",signal_tags:["bundle_engine_missing"],hook:"Bundle Blindness",leak:"Selling items one-by-one instead of ready kits reduces average order value and checkout speed.",cost:"Missed bundles leave margin on the counter and slow service in peak hours.",cliffhanger:"Fix Mode deploys back-to-school and office kits with scripts.",kpi:"AOV, Bundle adoption %",actionPack:"MKT-P2"},{id:"LDR_01",pillar:"Leadership",signal_tags:["kpi_cadence_gap"],hook:"KPI Darkness",leak:"Weekly truth on stockouts, shrink, margin, and season readiness is not visible enough to drive early correction.",cost:"Late leak detection increases loss size and reaction cost.",cliffhanger:"Fix Mode puts KPI visibility and weekly review cadence in place.",kpi:"KPI review compliance, Leak trend",actionPack:"LDR-P1"},{id:"LDR_02",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],hook:"Approval Bottleneck",leak:"Routine exceptions wait for one decision-maker, slowing sales and resolution speed.",cost:"Decision delay creates checkout friction and lost demand.",cliffhanger:"Fix Mode sets delegation limits and approval matrixes.",kpi:"Decision latency, Approval backlog",actionPack:"LDR-P2"},{id:"LDR_03",pillar:"Leadership",signal_tags:["no_variance_review","training_planning_gap"],hook:"Repeat Leak Tax",leak:"The same mistakes recur because corrective actions are not embedded into standard routines.",cost:"Repeat leak tax drains margin and team energy every week.",cliffhanger:"Fix Mode enforces standards coaching and repeat-leak elimination rituals.",kpi:"Repeat incident rate, Task closure %",actionPack:"LDR-P3"},{id:"INN_01",pillar:"Innovation",signal_tags:["planning_gap","no_testing_rhythm"],hook:"Seasonality Shock",leak:"Season campaigns are reactive and late, causing stock mismatches and missed demand windows.",cost:"Missing seasonal timing weakens both sales and stock efficiency.",cliffhanger:"Fix Mode builds seasonal campaign and pre-buy calendars.",kpi:"Seasonal readiness score, Campaign execution score",actionPack:"INN-P1"},{id:"INN_02",pillar:"Innovation",signal_tags:["service_inconsistency","offer_measurement_gap"],hook:"Service Opportunity Leak",leak:"High-margin add-on services are offered inconsistently and not tracked as a growth lever.",cost:"Service underutilization lowers basket value and customer convenience stickiness.",cliffhanger:"Fix Mode productizes services and tracks upsell performance.",kpi:"Service upsell adoption %, Service revenue %",actionPack:"INN-P2"},{id:"RSK_01",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],hook:"Counterfeit/Piracy Landmine",leak:"Supplier trust is not backed by verification evidence in risk categories like textbooks and branded supplies.",cost:"One counterfeit incident can trigger refund waves and trust collapse with schools and parents.",cliffhanger:"Fix Mode installs approved supplier firewall and authenticity checks.",kpi:"Counterfeit flags, Supplier verification coverage",actionPack:"RSK-P1"},{id:"RSK_02",pillar:"Risk",signal_tags:["shrinkage_leak"],hook:"Theft Tax",leak:"Small items disappear quietly due to weak access and monitoring discipline.",cost:"Small-ticket shrink compounds into large monthly profit erosion.",cliffhanger:"Fix Mode hardens small-item theft controls and shrink dashboards.",kpi:"Shrink incidents, Shrink %",actionPack:"RSK-P2"},{id:"RSK_03",pillar:"Risk",signal_tags:["receiving_slippage","supplier_doc_gap"],hook:"Supplier Short-Delivery",leak:"Supplier deliveries are accepted without rigorous counting and evidence, leaving claim recovery weak.",cost:"Short-delivery losses and invoice errors quietly reduce usable margin.",cliffhanger:"Fix Mode installs receiving verification and claim workflow evidence.",kpi:"Short-delivery rate, Claim recovery rate",actionPack:"RSK-P3"},{id:"RSK_04",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],hook:"Dispute Tax",leak:"Unclear terms for printing and returns create recurring refund and reprint disputes.",cost:"Dispute tax shows up as rework, concessions, and trust erosion.",cliffhanger:"Fix Mode installs terms-proof workflows to reduce arguments and losses.",kpi:"Dispute rate %, Refund-reprint rate",actionPack:"RSK-P4"},{id:"PPL_01",pillar:"People",signal_tags:["training_gap","service_inconsistency"],hook:"Scriptless Selling",leak:"Staff do not consistently guide customers to faster and higher-value purchases like kits and relevant add-ons.",cost:"Scriptless selling lowers conversion speed and average basket value.",cliffhanger:"Fix Mode certifies product navigation and bundle scripts across shifts.",kpi:"AOV, Bundle adoption %, Service consistency score",actionPack:"PPL-P2"},{id:"PPL_02",pillar:"People",signal_tags:["incentive_misalignment","accountability_soft"],hook:"Careless Handling",leak:"Accuracy and control behaviors are under-incentivized, so miscounts, variances, and avoidable errors persist.",cost:"Careless handling increases shrink, disputes, and operational rework.",cliffhanger:"Fix Mode aligns incentives to profitable and accurate behavior.",kpi:"Shrink %, Errors by staff, Margin per staff",actionPack:"PPL-P1"}],sme=e=>[{id:`LIB_STATIONERY_${e.id}_LEAK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Nh,business_size_fit:Yu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0},{id:`LIB_STATIONERY_${e.id}_HOOK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Nh,business_size_fit:Yu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0}],ome=ame.flatMap(e=>[{id:`LIB_STATIONERY_${e.pillar.toUpperCase()}_STR`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Stable","Strong"],business_size_fit:Yu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_STATIONERY_${e.pillar.toUpperCase()}_KPI`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:Nh,business_size_fit:Yu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]),lme=["Stationery & bookstore","Stationery & Bookstore"],cme="School stationery retail (exercise books, pens, geometry sets, bags)",dme="Bookstore (textbooks + novels + reference)",ume="Printing / photocopy + stationery hybrid",pme="Office supply store (B2B + retail)",fme="Wholesale stationery distributor",gme="Religious books & church supply",hme="Kids learning materials / toys + books",mme="Online-first (WhatsApp/IG orders + delivery)",yme="Exam-season pop-up / seasonal heavy store",Qa=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_STATIONERY_${e}_${r.toUpperCase()}`,industry:"retail",line_type:t,pillar:r,signal_tags:[],severity_fit:Nh,business_size_fit:Yu,text:i[r],type:"mission_brief"})),_me=[...Qa("S1",[cme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. School stationery performance is exposed to stockout and season-readiness gaps during list-based demand spikes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures Top-50 readiness and fast confirmation workflows tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Bargain drift and weak credit controls can make busy peak periods cash-starved. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces margin-safe pricing and collections cadence.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat parent and teacher demand likely depends too much on chance rather than a retention system. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a repeat and school-outreach engine.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. The team may react fast but still repeat the same leaks each term. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs KPI cadence and no-repeat routines.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bundle and seasonal campaign opportunities may be underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches kit and season test sprints.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Supplier authenticity and shrink controls may be too informal for peak volume pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens supplier and shrink safeguards.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Service and selling quality likely varies by shift, reducing consistency and speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies scripts and role behavior."}),...Qa("S2",[ume],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Printing hybrids often leak through queue chaos and untracked job flow. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs ticketed queue and proof-before-print controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Hidden service costing can turn high activity into low profit. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces print cost pricing and margin tracking by job type.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Response and reliability gaps can push recurring print customers to faster shops. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets response SLA and account retention routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Decision and standards drift may be inflating reprints and disputes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode defines owner-independent rules and audits.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Service productization likely has room to lift margins. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds service package offers and upsell scripts.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Print dispute and proof gaps can create repeated settlement losses. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs terms-proof dispute defense.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Queue handling and ticket discipline may vary by operator. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies queue SOP behavior."}),...Qa("S3",[dme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bookstore models are vulnerable to dead-stock buildup and slow shelf-turn cycles. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode resets rack economics and reorder discipline.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin and buying discipline may be weak, trapping cash in low-turn titles. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces open-to-buy and markdown ladder controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat reader retention and referral loops may be under-structured. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds reader retention and recommendation routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. KPI visibility may be too weak to catch title-level leaks early. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets weekly title and turn reviews.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. New title testing cadence may be below market pace. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs micro-tests and winner scaling.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Counterfeit/piracy and return disputes can become trust-critical risks. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs supplier verification and policy controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Selling guidance and product navigation may be inconsistent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes scripts and curation behavior."}),...Qa("S4",[pme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Office-supply models leak when account fulfillment and variant control are informal. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode stabilizes account-level stock and delivery execution.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Credit and pricing inconsistency can make B2B growth cash-negative. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode tightens credit and margin governance.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Contract outreach and renewal discipline may be weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds account plans and renewal cadence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Approvals and ownership gaps may delay response to accounts. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces delegation and KPI closure.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bundle and service mix upgrades may be underexploited in B2B. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches office-pack experiments.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Supplier and dispute controls may not be strong enough for account scale. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens verification and proof standards.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Account handling quality may depend too heavily on individual staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies account-service standards."}),...Qa("S5",[fme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Wholesale operations leak through pack-size confusion and dispatch proof gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures SKU-pack truth and dispatch controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Discount drift and credit load can flatten wholesale margin quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode restores pricing and collections discipline.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Account concentration and weak follow-up can reduce order stability. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens account retention cadence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. KPI cadence may be too weak for wholesale complexity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs weekly control rhythms.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Service and offer experimentation may be underpowered. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches measured offer tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Shrink and short-delivery risks can compound at volume. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds receiving and shrink defense.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Accuracy and policy discipline may vary by shift. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes role behavior."}),...Qa("S6",[gme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Religious-book supply can leak via dead stock and weak request tracking. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode improves curation and stock-turn control.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Category margin visibility may be low where demand is uneven. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs category-level margin governance.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Community repeat demand may be underleveraged. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds community follow-up and referral loops.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Decision and standards consistency may need reinforcement. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets weekly cadence and roles.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offer packaging and value-add services may be limited. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs targeted offer tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Supplier authenticity and return policy ambiguity may expose trust. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode tightens supplier and dispute controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Service guidance quality may vary too much across staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies customer support scripts."}),...Qa("S7",[hme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Kids-learning models leak through assortment mismatch and dead stock buildup. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns stock to repeat demand signals.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Buying and markdown discipline may be weakening margin quality. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces test-to-buy controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Parent retention and bundle conversion may be underperforming. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds parent-focused repeat and kit offers.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Workflow consistency may break under peak parent traffic. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode stabilizes standards and ownership.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Product and service experimentation may be too irregular. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches monthly micro-tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Return disputes and shrink can rise in small-item categories. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens controls and policy enforcement.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Script and policy adherence may vary by staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies roles and scripts."}),...Qa("S8",[mme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Online-first models leak through response and fulfillment inconsistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures inquiry-to-delivery flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin can leak quickly through discounting and return disputes online. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode protects per-order economics and refund controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Slow response and weak repeat systems are likely reducing conversion. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces response SLAs and retention routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Coordination may be too reactive for online demand speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns daily control cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offer test cadence may be below growth potential. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches test-to-scale loops.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Delivery and refund disputes can escalate without proof discipline. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs dispute-proof evidence flow.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Response quality may vary by handler. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies online service behavior."}),...Qa("S9",[yme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Seasonal-heavy models leak through late stocking and queue overload. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs peak-readiness and queue controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Peak-period discounting and credit shortcuts may collapse margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode protects peak margin and cash routines.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Peak buyers may not convert to repeat cycles after season. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds post-season retention flows.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Priority and execution pressure may cause repeated mistakes. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces weekly control under pressure.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Seasonal offer and service optimization may be reactive. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode structures campaign and service tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Peak intensity can raise shrink and dispute exposure quickly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens peak-risk controls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Temporary and rush staffing may weaken standards. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks simple role certification."}),...Qa("S0",lme,{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Stationery and bookstore performance usually leaks through stock truth, season planning, and queue control gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 7-day stabilization sprint and a 30-day control build tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. This often creates Margin Mirage: sales move while category margin and cash stability stay weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens pricing, discount, and collections controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Repeat demand and contract reliability are likely under-systemized. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds retention and outreach engines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. The business may be working hard but paying repeat leak tax. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces KPI cadence and action closure.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Offers and services may rely on instinct over measured tests. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a controlled test pipeline.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Supplier, shrink, and dispute controls may be too informal for stable scale. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs practical risk firewalls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Service and policy consistency likely varies by staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives, scripts, and onboarding."})],vme=[...ome,...rme.flatMap(sme),..._me],cL={solo:"Owner",micro:"Owner",small:"Store Manager",small_med:"Store Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},bme=[{code:"OPS-P1",pillar:"Operations",signal_tags:["stockout_tax","restock_delay"],title7:"Top-50 Fast Movers + Min-Max Reorder Triggers",title30:"Weekly Fast-Mover Cycle Count + Supplier Reorder Calendar",kpi7:"stockout_rate_top50",kpi30:"seasonal_readiness_score",proof7:["top50_list","min_max_rules"],proof30:["cycle_count_log","supplier_reorder_calendar"],impact7:9,impact30:10},{code:"OPS-P2",pillar:"Operations",signal_tags:["inventory_accuracy_gap"],title7:"SKU and Pack-Size Truth System",title30:"SKU-Zone Labeling + Accuracy Audits",kpi7:"inventory_accuracy",kpi30:"sku_lookup_time",proof7:["sku_pack_matrix","stock_truth_log"],proof30:["zone_labels_photos","accuracy_audit_log"],impact7:8,impact30:9},{code:"OPS-P3",pillar:"Operations",signal_tags:["offer_measurement_gap"],title7:"Shelf Map + Fast-Lane Layout",title30:"Conversion-Led Shelf Optimization",kpi7:"item_find_time_minutes",kpi30:"in_store_conversion_rate",proof7:["shelf_map","fast_lane_photo"],proof30:["layout_test_report","conversion_tracking"],impact7:7,impact30:8},{code:"OPS-P4",pillar:"Operations",signal_tags:["no_standard_work","contract_gap","dispatch_delivery_instability"],title7:"Printing Queue SOP + Order Ticket Proof",title30:"Proof-Before-Print for Large Jobs + Job-Type Price Table",kpi7:"print_job_error_rate",kpi30:"reprint_rate",proof7:["print_ticket_template","job_queue_log"],proof30:["printing_sop","job_type_price_table"],impact7:8,impact30:9},{code:"OPS-P5",pillar:"Operations",signal_tags:["slow_mover_attachment"],title7:"Dead Stock Identification + Rack Reset",title30:"Dead Books Recovery Plan (Bundle-Markdown-Transfer)",kpi7:"dead_stock_value",kpi30:"inventory_turns",proof7:["dead_stock_list","rack_reset_photos"],proof30:["dead_stock_recovery_plan","recovery_results"],impact7:8,impact30:9},{code:"MNY-P1",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],title7:"Category Margin Map + Price Rules",title30:"Weekly Margin Leak Review by Category",kpi7:"gross_margin_by_category",kpi30:"net_margin_estimate",proof7:["category_margin_sheet","price_rule_baseline"],proof30:["margin_leak_log","weekly_review_notes"],impact7:9,impact30:10},{code:"MNY-P2",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],title7:"Discount Bands + Bulk Pricing Rules",title30:"Discount Compliance Audit by Staff",kpi7:"discount_rate",kpi30:"price_variance",proof7:["discount_policy","bulk_band_sheet"],proof30:["discount_audit","staff_discount_report"],impact7:8,impact30:9},{code:"MNY-P3",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold"],title7:"Credit Rules + Debtor Aging List",title30:"Collections Cadence + Cutoff Enforcement",kpi7:"credit_outstanding",kpi30:"dso",proof7:["credit_policy","debtor_aging_report"],proof30:["collections_log","cutoff_enforcement_log"],impact7:9,impact30:9},{code:"MNY-P4",pillar:"Money",signal_tags:["cash_recon_gap","shrinkage_leak"],title7:"Cash-Momo Reconciliation + Variance Log",title30:"Shrink Controls + Weekly Cash Spot Audits",kpi7:"daily_recon_variance",kpi30:"shrinkage_percent",proof7:["daily_recon_sheet","variance_reason_log"],proof30:["shrink_control_sheet","cash_audit_notes"],impact7:9,impact30:9},{code:"MNY-P5",pillar:"Money",signal_tags:["waste_not_costed"],title7:"Printing Cost Calculator + Pricing Correction",title30:"Service Margin Tracking by Job Type",kpi7:"print_cost_per_job",kpi30:"print_margin_percent",proof7:["printing_cost_sheet","revised_price_table"],proof30:["service_margin_report","job_type_profitability"],impact7:8,impact30:9},{code:"MKT-P1",pillar:"Market",signal_tags:["channel_dependency","followup_gap"],title7:"School and Office Contract Outreach Engine",title30:"Account Plan + Contract Renewal Rhythm",kpi7:"school_office_contract_count",kpi30:"contract_revenue_share",proof7:["account_target_list","outreach_log"],proof30:["account_plan","renewal_tracker"],impact7:8,impact30:9},{code:"MKT-P2",pillar:"Market",signal_tags:["bundle_engine_missing"],title7:"Back-to-School Kits + Sales Scripts",title30:"List-Based Kit Selling Partnerships",kpi7:"bundle_adoption_rate",kpi30:"average_order_value",proof7:["kit_tier_sheet","bundle_display_photo"],proof30:["school_partner_list","kit_order_logs"],impact7:8,impact30:9},{code:"MKT-P3",pillar:"Market",signal_tags:["followup_gap"],title7:"VIP and WhatsApp Retention Engine",title30:"Repeat Trigger Cadence by Segment",kpi7:"repeat_customer_rate",kpi30:"repeat_revenue_percent",proof7:["vip_list","broadcast_templates"],proof30:["segment_trigger_plan","retention_report"],impact7:8,impact30:9},{code:"MKT-P4",pillar:"Market",signal_tags:["weak_onboarding","followup_gap"],title7:"Response SLA + Order Message Templates",title30:"Inquiry-to-Order Pipeline Tracker",kpi7:"response_time_minutes",kpi30:"inquiry_conversion_rate",proof7:["response_sla","chat_templates"],proof30:["pipeline_tracker","conversion_report"],impact7:8,impact30:8},{code:"LDR-P1",pillar:"Leadership",signal_tags:["kpi_cadence_gap"],title7:"KPI Wall + Weekly Review",title30:"Leak Dashboard + Owner Accountability",kpi7:"kpi_update_compliance",kpi30:"repeat_incident_rate",proof7:["kpi_wall_photo","weekly_kpi_notes"],proof30:["leak_dashboard","owner_action_tracker"],impact7:8,impact30:9},{code:"LDR-P2",pillar:"Leadership",signal_tags:["decision_bottleneck","approval_bottleneck"],title7:"Delegation Limits for Discounts, Returns, and Credit",title30:"Approval Matrix + Decision Latency Tracking",kpi7:"decision_latency",kpi30:"approval_backlog",proof7:["delegation_limits_doc","decision_log"],proof30:["approval_matrix","latency_report"],impact7:8,impact30:8},{code:"LDR-P3",pillar:"Leadership",signal_tags:["no_variance_review","training_planning_gap"],title7:"Standards Coaching + Error Audit Loop",title30:"Repeat-Leak Elimination Routine",kpi7:"coaching_sessions_done",kpi30:"task_closure_rate",proof7:["coaching_log","error_audit_sheet"],proof30:["repeat_leak_report","elimination_actions"],impact7:7,impact30:8},{code:"INN-P1",pillar:"Innovation",signal_tags:["planning_gap","no_testing_rhythm"],title7:"Seasonal Campaign Engine (Exam/Back-to-School)",title30:"Season Calendar + Pre-Season Stock Plan",kpi7:"seasonal_execution_score",kpi30:"seasonal_readiness_score",proof7:["season_campaign_plan","campaign_assets"],proof30:["season_calendar","preseason_stock_plan"],impact7:8,impact30:9},{code:"INN-P2",pillar:"Innovation",signal_tags:["service_inconsistency","offer_measurement_gap"],title7:"Service Upsell Engine (Lamination, Covering, Delivery)",title30:"Service Package Menu + Upsell Tracking",kpi7:"service_upsell_rate",kpi30:"service_revenue_percent",proof7:["service_offer_sheet","upsell_script"],proof30:["service_menu","upsell_tracking_report"],impact7:7,impact30:8},{code:"INN-P3",pillar:"Innovation",signal_tags:["no_testing_rhythm","no_market_feedback_loop"],title7:"New Title and Item Micro-Test Pipeline",title30:"Test-to-Scale Decision Framework",kpi7:"tests_run_per_month",kpi30:"test_win_rate",proof7:["micro_test_sheet","test_result_log"],proof30:["scale_framework","winner_scale_report"],impact7:7,impact30:8},{code:"RSK-P1",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],title7:"Anti-Counterfeit and Piracy Supplier Firewall",title30:"Approved Supplier Scorecard + Evidence Folder",kpi7:"counterfeit_flags",kpi30:"supplier_verification_coverage",proof7:["approved_supplier_list","auth_checks_log"],proof30:["supplier_scorecard","evidence_folder_index"],impact7:8,impact30:9},{code:"RSK-P2",pillar:"Risk",signal_tags:["shrinkage_leak"],title7:"Small-Item Theft Control (Display + Access)",title30:"Shrink Dashboard + Exception Review",kpi7:"shrink_incidents",kpi30:"shrinkage_percent",proof7:["high_risk_item_controls","incident_log"],proof30:["shrink_dashboard","exception_review_notes"],impact7:8,impact30:9},{code:"RSK-P3",pillar:"Risk",signal_tags:["receiving_slippage","supplier_doc_gap"],title7:"Supplier Short-Delivery Verification Routine",title30:"Receiving Evidence Trail + Supplier Claim Workflow",kpi7:"short_delivery_rate",kpi30:"supplier_claim_recovery_rate",proof7:["receiving_checklist","short_delivery_log"],proof30:["receiving_evidence_archive","claim_tracker"],impact7:8,impact30:8},{code:"RSK-P4",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness"],title7:"Printing Dispute Defense SOP",title30:"Terms + Proof + Reprint Decision Framework",kpi7:"print_dispute_rate",kpi30:"refund_reprint_rate",proof7:["printing_terms_sheet","job_proof_records"],proof30:["dispute_sop","reprint_decision_log"],impact7:8,impact30:8},{code:"PPL-P1",pillar:"People",signal_tags:["incentive_misalignment","accountability_soft"],title7:"Incentives Aligned to Accuracy + Low Shrink + Service",title30:"Role Scorecards + Incentive Outcome Review",kpi7:"incentive_alignment_score",kpi30:"performance_variance",proof7:["incentive_rules","staff_brief"],proof30:["role_scorecards","incentive_outcome_report"],impact7:8,impact30:9},{code:"PPL-P2",pillar:"People",signal_tags:["training_gap","onboarding_gap","service_inconsistency"],title7:"Product Navigation + Bundle Script Certification",title30:"Onboarding and Service Consistency Cadence",kpi7:"training_completion",kpi30:"service_consistency_score",proof7:["training_checklists","script_certification_log"],proof30:["onboarding_plan","service_audit_log"],impact7:8,impact30:9}],xme=bme.flatMap(e=>{const t=e.code.replace(/-/g,"_"),i=["all"],n={action_id:`ACT_STATIONERY_${t}_7`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title7,days:7,effort:"S",default_owner_by_size:cL,kpi_links:[e.kpi7],proof_required:e.proof7,impact_score:e.impact7},r={action_id:`ACT_STATIONERY_${t}_30`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title30,days:30,effort:"M",default_owner_by_size:cL,kpi_links:[e.kpi30],proof_required:e.proof30,impact_score:e.impact30};return[n,r]}),D4={questions:nme,library:vme,actions:xme},Le=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"retail",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),kme=[Le("QS_OPS_01","Operations",["inventory_accuracy_gap","no_standard_work"],"I confirm a part by looking at the old sample part first.","I confirm a part by asking model, year, and engine details first.",1.1),Le("QS_OPS_02","Operations",["stockout_tax","restock_delay"],"Fast movers are reordered when shelves look low.","Fast movers are reordered using a simple minimum level.",1),Le("QS_MONEY_01","Money",["pricing_margin_blindspot","category_margin_blindspot"],"I feel a day was good when sales were many.","I feel a day was good when margin stayed healthy.",1),Le("QS_MONEY_02","Money",["discounting_leak","pricing_inconsistency"],"Discounts depend on the customer situation.","Discounts follow small bands and scripts.",1),Le("QS_MARKET_01","Market",["channel_dependency","low_repeat_orders"],"Mechanics buy from whoever has the part today.","Mechanics buy from whoever makes buying easy and reliable.",1),Le("QS_MARKET_02","Market",["weak_onboarding","followup_gap"],"WhatsApp inquiries are answered when we are free.","WhatsApp inquiries follow quick reply templates.",1),Le("QS_LEAD_01","Leadership",["approval_bottleneck","decision_bottleneck"],"Returns and discount exceptions need my approval.","Returns and discount exceptions follow clear limits.",1),Le("QS_LEAD_02","Leadership",["no_variance_review","no_meeting_to_action"],"When mistakes happen, we fix quickly and continue.","When mistakes happen, we adjust the process slightly.",1),Le("QS_INNOV_01","Innovation",["bundle_engine_missing"],"Customers usually buy one part at a time.","Customers often buy a job kit (service, brake, etc.).",1),Le("QS_INNOV_02","Innovation",["no_testing_rhythm","supplier_selection_undisciplined"],"New stock lines are added when I see demand.","New lines are micro-tested before scaling.",1),Le("QS_RISK_01","Risk",["supplier_doc_gap","supplier_selection_undisciplined"],"Supplier trust is based on relationship and history.","Supplier trust includes simple verification habits.",1),Le("QS_RISK_02","Risk",["policy_vagueness","contract_gap"],"Warranty and returns are handled case-by-case.","Warranty and returns follow clear rules.",1),Le("QS_PEOPLE_01","People",["training_gap","onboarding_gap"],"Staff learn fitment mainly by experience and shadowing.","Staff learn fitment with checklist plus scripts.",1),Le("QS_PEOPLE_02","People",["incentive_misalignment","accountability_soft"],"Staff performance is judged mainly by sales volume.","Staff performance includes accuracy and low returns.",1),Le("DS_OPS_01","Operations",["inventory_accuracy_gap","no_standard_work"],"We confirm fitment mainly using the old part sample.","We confirm fitment using model, year, and engine first."),Le("DS_OPS_02","Operations",["training_gap","hero_staff_dependence"],"Compatibility knowledge is mostly in peoples heads.","Compatibility is supported by a fitment sheet and catalog."),Le("DS_OPS_03","Operations",["receiving_slippage","inventory_accuracy_gap"],"Receiving is fast so parts reach shelves quickly.","Receiving includes counting, labeling, and bin location."),Le("DS_OPS_04","Operations",["stockout_tax","restock_delay"],"Stockouts are noticed when customers ask.","Stockouts are noticed through Top 50 checks."),Le("DS_OPS_05","Operations",["restock_delay","purchase_panic"],"Reorder decisions happen when shelves look low.","Reorder decisions follow min and max levels."),Le("DS_OPS_06","Operations",["inventory_accuracy_gap"],"Parts are stored by general category only.","Parts are stored by category plus bin codes for speed."),Le("DS_OPS_07","Operations",["policy_vagueness","shrinkage_leak"],"Returns can go back to shelf if they look okay.","Returns pass through quarantine checks."),Le("DS_OPS_08","Operations",["dispatch_delivery_instability","weak_onboarding"],"Online orders are packed from chat memory.","Online orders follow a pick checklist plus photo proof."),Le("DS_OPS_09","Operations",["no_standard_work","supplier_variance_risk"],"Substitutes are offered based on what is available.","Substitutes follow a planned equivalence list."),Le("DS_OPS_10","Operations",["hero_staff_dependence"],"If one key staff is away, operations slow.","The system runs consistently regardless of staff."),Le("DS_MONEY_01","Money",["pricing_margin_blindspot","pricing_inconsistency"],"Pricing is based on what other shops charge.","Pricing starts from cost plus target margins."),Le("DS_MONEY_02","Money",["discounting_leak"],"Discounts are used to close the deal.","Discounts follow bands and scripts."),Le("DS_MONEY_03","Money",["category_margin_blindspot","pricing_margin_blindspot"],"Profit is assumed if sales are high.","Profit is tracked by category and leak drivers."),Le("DS_MONEY_04","Money",["credit_terms_risk"],"Credit is given to keep garage relationships.","Credit is limited, tracked, and enforced."),Le("DS_MONEY_05","Money",["payment_delay_chokehold","credit_terms_risk"],"Debtors are chased when they delay too much.","Debtors follow a routine collections cadence."),Le("DS_MONEY_06","Money",["slow_mover_attachment","purchase_panic"],"Dead stock sits until someone needs it.","Dead stock triggers a release plan."),Le("DS_MONEY_07","Money",["cash_recon_gap"],"Cash and momo are reviewed when something feels off.","Cash and momo are reconciled daily."),Le("DS_MONEY_08","Money",["supplier_selection_undisciplined","purchase_panic"],"Buying is driven by supplier suggestions and trends.","Buying is driven by your own sell-through data."),Le("DS_MONEY_09","Money",["purchase_panic","cashflow_visibility_gap"],"Large purchases happen when a good deal appears.","Large purchases follow an open-to-buy plan."),Le("DS_MONEY_10","Money",["policy_vagueness","contract_gap"],"Refunds are used to calm conflicts quickly.","Refunds follow clear terms and evidence."),Le("DS_MARKET_01","Market",["channel_dependency","low_repeat_orders"],"Mechanics come back if they liked the last deal.","Mechanics come back because we manage them as accounts."),Le("DS_MARKET_02","Market",["value_story_gap","pricing_positioning_gap"],"Our shop sells all parts for all cars.","Our shop is known for specific models and categories."),Le("DS_MARKET_03","Market",["weak_onboarding","followup_gap"],"Quotes are sent when staff are free.","Quotes follow a fast response standard."),Le("DS_MARKET_04","Market",["followup_gap"],"We rely on walk-ins and referrals.","We capture contacts and follow up."),Le("DS_MARKET_05","Market",["weak_proof_pack","supplier_doc_gap"],"Customers fear fakes but we reassure verbally.","We show authenticity proof and warranty clarity."),Le("DS_MARKET_06","Market",["bundle_engine_missing"],"We rarely package job kits.","We commonly package job kits."),Le("DS_MARKET_07","Market",["weak_onboarding","order_fulfillment_instability"],"Delivery happens when requested.","Delivery is offered as a standard option."),Le("DS_MARKET_08","Market",["no_market_feedback_loop","channel_dependency"],"We do not track which mechanics buy most.","We track top mechanics and their preferences."),Le("DS_MARKET_09","Market",["complaint_handling_gap","contract_gap"],"Returns are handled with negotiation.","Returns are handled with rules and proof steps."),Le("DS_MARKET_10","Market",["pricing_positioning_gap","value_story_gap"],"We compete mostly on price.","We compete on reliability, speed, and fitment confidence."),Le("DS_LEAD_01","Leadership",["kpi_cadence_gap"],"Targets are mostly in my head.","Targets are visible and reviewed weekly."),Le("DS_LEAD_02","Leadership",["no_variance_review"],"I fix problems personally to protect quality.","I improve the process to reduce repeats."),Le("DS_LEAD_03","Leadership",["approval_bottleneck","decision_bottleneck"],"Discounts and returns need approval often.","Discounts and returns have clear limits."),Le("DS_LEAD_04","Leadership",["training_planning_gap"],"Training is mainly by shadowing.","Training uses checklists and scripts."),Le("DS_LEAD_05","Leadership",["accountability_soft"],"Performance is judged by busyness.","Performance is judged by outcomes and accuracy."),Le("DS_LEAD_06","Leadership",["meeting_no_action"],"Meetings align us.","Dashboards reduce meetings."),Le("DS_LEAD_07","Leadership",["no_variance_review"],"Mistakes are corrected and forgotten.","Mistakes trigger a small system improvement."),Le("DS_LEAD_08","Leadership",["role_clarity_gap"],"I delegate tasks.","I delegate ownership outcomes."),Le("DS_LEAD_09","Leadership",["priority_whiplash"],"Priorities shift based on urgent requests.","Priorities follow weekly plan."),Le("DS_LEAD_10","Leadership",["fear_silence"],"Feedback is avoided to keep peace.","Feedback protects standards."),Le("DS_INNOV_01","Innovation",["bundle_engine_missing"],"We sell single parts most of the time.","We sell job kits regularly."),Le("DS_INNOV_02","Innovation",["offer_measurement_gap","weak_onboarding"],"Catalog is handled via chat replies.","Catalog exists by model and common jobs."),Le("DS_INNOV_03","Innovation",["no_testing_rhythm"],"We add new lines when we see demand.","We micro-test before scaling."),Le("DS_INNOV_04","Innovation",["service_inconsistency"],"Delivery is optional and irregular.","Delivery is systemized."),Le("DS_INNOV_05","Innovation",["bundle_engine_missing","slow_mover_attachment"],"We rarely use bundles to move slow stock.","We bundle strategically to release cash."),Le("DS_INNOV_06","Innovation",["supplier_selection_undisciplined"],"We rely on the same suppliers mostly.","We test supplier alternatives for reliability."),Le("DS_INNOV_07","Innovation",["no_market_feedback_loop"],"We do not track requested-but-missing items.","We log missing requests to guide buying."),Le("DS_INNOV_08","Innovation",["bundle_engine_missing"],"We do not create model kits for common jobs.","We create model kits for repeat buyers."),Le("DS_INNOV_09","Innovation",["pricing_positioning_gap","value_story_gap"],"We follow competitors trends.","We create our own reliability advantage."),Le("DS_INNOV_10","Innovation",["complaint_handling_gap","no_market_feedback_loop"],"Customer complaints feel like conflict.","Complaints are data to improve systems."),Le("DS_RISK_01","Risk",["supplier_doc_gap","supplier_selection_undisciplined"],"Supplier trust is based on relationship and history.","Supplier trust includes verification habits."),Le("DS_RISK_02","Risk",["weak_proof_pack","supplier_doc_gap"],"Authenticity is handled when customers ask.","Authenticity is handled upfront with proof."),Le("DS_RISK_03","Risk",["policy_vagueness","contract_gap"],"Warranty is explained verbally.","Warranty is documented consistently."),Le("DS_RISK_04","Risk",["contract_gap","policy_vagueness"],"Disputes are resolved by giving discounts or refunds quickly.","Disputes are resolved using proof and rules."),Le("DS_RISK_05","Risk",["shrinkage_leak"],"High-value items are kept like normal stock.","High-value items are locked and logged."),Le("DS_RISK_06","Risk",["policy_vagueness","contract_gap"],"Returns are judged by looks unused.","Returns are quarantined and graded."),Le("DS_RISK_07","Risk",["cash_recon_gap"],"Cash close varies by day.","Cash close follows a strict routine."),Le("DS_RISK_08","Risk",["shrinkage_leak"],"Access to stockroom is open.","Access is controlled with roles."),Le("DS_RISK_09","Risk",["data_security_gap"],"Customer data is stored on personal phones.","Customer data is stored securely with access control."),Le("DS_RISK_10","Risk",["supplier_doc_gap","no_variance_review"],"Counterfeit complaints are treated as bad luck.","Counterfeit complaints trigger supplier review and controls."),Le("DS_PEOPLE_01","People",["incentive_misalignment"],"Staff success is mainly sales volume.","Staff success includes accuracy and returns control."),Le("DS_PEOPLE_02","People",["incentive_misalignment","discounting_leak"],"Staff discount to close quickly.","Staff use scripts and discount bands."),Le("DS_PEOPLE_03","People",["service_inconsistency","training_gap"],"Fitment depends on who is on shift.","Fitment uses checklists and sheets."),Le("DS_PEOPLE_04","People",["onboarding_gap","training_gap"],"Staff learn mainly by shadowing.","Staff learn by checklist and coaching."),Le("DS_PEOPLE_05","People",["blame_culture"],"Mistakes lead to blame.","Mistakes lead to system improvement."),Le("DS_PEOPLE_06","People",["training_gap","service_inconsistency"],"Staff avoid asking too many questions to seem confident.","Staff ask key questions to prevent wrong fit."),Le("DS_PEOPLE_07","People",["blame_culture","accountability_soft"],"High performers bend rules.","Standards are consistent for everyone."),Le("DS_PEOPLE_08","People",["bundle_engine_missing","training_gap"],"Staff rarely upsell kits.","Staff offer kits naturally."),Le("DS_PEOPLE_09","People",["hero_staff_dependence"],"One strong staff carries most customers.","The system performs regardless of staff."),Le("DS_PEOPLE_10","People",["service_inconsistency","policy_vagueness"],"Customer complaints are handled differently by each staff.","Complaints follow a standard SOP.")],Qu=["all"],Mh=["Critical","Watch","Stable","Strong","Emergency"],Sme=[{pillar:"Operations",strength:"Parts are controlled by fitment logic, fast movers are protected, and receiving, binning, quoting, and returns follow standard routines.",hook:"Fitment-to-Dispatch Control",kpi:"Wrong-fit %, Top-50 stockouts/week, Stock accuracy %, Time-to-quote"},{pillar:"Money",strength:"Category margin, discount bands, credit controls, and daily reconciliation keep cash and profit predictable.",hook:"Margin-to-Cash Discipline",kpi:"Margin by category, Discount %, Debtor aging, Dead stock UGX, Recon variance"},{pillar:"Market",strength:"Mechanics and garages are managed as accounts with fast response, fitment confidence, and trust proof.",hook:"Repeat Garage Engine",kpi:"Repeat mechanic rate %, Response time, Quote-to-sale %"},{pillar:"Leadership",strength:"Roles and approval limits are clear, KPI cadence is active, and recurring leak patterns are closed systematically.",hook:"Cadence Over Firefighting",kpi:"KPI review compliance, Decision latency, Repeat incident rate"},{pillar:"Innovation",strength:"Job kits, model catalogs, delivery, and micro-tests are used to grow AOV and capture urgent demand.",hook:"Solution-Sell Growth Loop",kpi:"Bundle adoption %, Catalog completeness %, Test-to-scale ratio"},{pillar:"Risk",strength:"Authenticity checks, warranty terms, dispute-proof evidence, and high-value stock controls protect trust and margin.",hook:"Trust and Dispute Firewall",kpi:"Counterfeit flags, Warranty dispute %, Theft/shrink %, Wrong-part disputes"},{pillar:"People",strength:"Fitment scripts, onboarding, and incentive alignment create consistent service quality across shifts.",hook:"Accuracy-First Team System",kpi:"Wrong-fit by staff, Discount by staff, Margin/staff/day, Training completion %"}],wme=[{id:"OPS_01",pillar:"Operations",signal_tags:["no_standard_work","training_gap","inventory_accuracy_gap"],hook:"Fitment Roulette",leak:"Wrong-fit sales recur because compatibility checks are inconsistent or person-dependent.",cost:"Wrong-part disputes create refund cost, counter-time waste, and repeat-customer erosion.",cliffhanger:"Fix Mode installs fitment checklist discipline and model-based fitment sheets.",kpi:"Wrong-fit incident rate %, Dispute count/week",actionPack:"OPS-P1"},{id:"OPS_02",pillar:"Operations",signal_tags:["stockout_tax","restock_delay"],hook:"Stockout Tax",leak:"Fast-moving parts run out during urgent demand windows, driving walkaways and mechanic migration.",cost:"Stockout losses compound because urgent customers switch shops instantly.",cliffhanger:"Fix Mode secures Top-50 fast movers with min-max and supplier cadence.",kpi:"Top-50 stockouts/week, Lost-sale incidents",actionPack:"OPS-P2"},{id:"OPS_03",pillar:"Operations",signal_tags:["inventory_accuracy_gap","receiving_slippage"],hook:"SKU Fog / Bin Chaos",leak:"Parts exist but cannot be found quickly due to weak bin and SKU location discipline.",cost:"Search delays at the counter convert into lost sales and perceived stockouts.",cliffhanger:"Fix Mode builds SKU and bin truth so parts are found in seconds.",kpi:"Stock accuracy %, Time-to-find/time-to-quote",actionPack:"OPS-P3"},{id:"OPS_04",pillar:"Operations",signal_tags:["policy_vagueness","contract_gap","shrinkage_leak"],hook:"Return Recycle Leak",leak:"Returned parts re-enter shelves without quarantine and condition grading controls.",cost:"Inventory contamination leads to repeated refunds and trust damage.",cliffhanger:"Fix Mode enforces returns quarantine and condition grading SOP.",kpi:"Return recycle incidents, Return dispute rate",actionPack:"OPS-P4"},{id:"OPS_05",pillar:"Operations",signal_tags:["restock_delay","purchase_panic"],hook:"Procurement Lag",leak:"Reorder timing and supplier lead-time control are weak, causing repeated stock gaps.",cost:"Procurement lag converts urgent demand into competitor revenue.",cliffhanger:"Fix Mode maps lead times and installs reorder timing discipline.",kpi:"Reorder compliance %, Procurement lead time",actionPack:"OPS-P2"},{id:"MNY_01",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],hook:"Margin Mirage",leak:"Sales volume is active, but category-level profit leaks through discounts, returns, and uncontrolled costs.",cost:"Busy days can still produce weak cash when category economics are invisible.",cliffhanger:"Fix Mode builds category margin map and weekly leak review.",kpi:"Gross margin by category, Net margin estimate",actionPack:"MNY-P1"},{id:"MNY_02",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],hook:"Bargain Drift",leak:"Pricing outcomes vary by person and pressure, weakening margin predictability.",cost:"Negotiation-led discounting trains customers to expect lower prices.",cliffhanger:"Fix Mode enforces discount bands and negotiation scripts.",kpi:"Discount rate %, Price variance",actionPack:"MNY-P2"},{id:"MNY_03",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold"],hook:"Credit Sink",leak:"Garage credit grows without strong limits and collections cadence.",cost:"Cash gets trapped in receivables, weakening restock power.",cliffhanger:"Fix Mode sets credit tiers and overdue cutoff enforcement.",kpi:"Credit outstanding, Aging buckets, DSO",actionPack:"MNY-P3"},{id:"MNY_04",pillar:"Money",signal_tags:["cash_recon_gap","shrinkage_leak"],hook:"Cash Drawer Drift / Momo Fog",leak:"Cash and momo variances are not closed tightly, allowing daily leakage to normalize.",cost:"Unresolved daily variances become persistent monthly losses.",cliffhanger:"Fix Mode locks daily reconciliation and variance reason control.",kpi:"Daily recon variance UGX, Shrinkage %",actionPack:"MNY-P4"},{id:"MNY_05",pillar:"Money",signal_tags:["slow_mover_attachment","purchase_panic"],hook:"Dead Stock Jail",leak:"Slow and rare parts hold cash too long while high-turn parts starve.",cost:"Dead stock blocks growth and forces late discounting.",cliffhanger:"Fix Mode launches dead-stock release and cash-recovery plans.",kpi:"Dead stock UGX, Inventory turns",actionPack:"MNY-P5"},{id:"MKT_01",pillar:"Market",signal_tags:["weak_onboarding","followup_gap"],hook:"WhatsApp Blackhole",leak:"Urgent inquiries are answered slowly or inconsistently, losing high-intent buyers.",cost:"Delayed response directly reduces quote conversion in time-sensitive parts demand.",cliffhanger:"Fix Mode installs response SLA and quote template speed controls.",kpi:"Response time minutes, Quote-to-sale conversion %",actionPack:"MKT-P4"},{id:"MKT_02",pillar:"Market",signal_tags:["weak_proof_pack","supplier_doc_gap"],hook:"Trust Gap",leak:"Authenticity and warranty confidence are not proven consistently at point of sale.",cost:"Trust gaps increase hesitation, bargaining pressure, and walkaways.",cliffhanger:"Fix Mode deploys authenticity proof and warranty clarity routines.",kpi:"Trust dispute rate, Conversion rate",actionPack:"MKT-P2"},{id:"MKT_03",pillar:"Market",signal_tags:["channel_dependency","low_repeat_orders","followup_gap"],hook:"Mechanic Migration",leak:"Mechanic and garage relationships are not managed with account discipline.",cost:"Repeat bulk demand leaks to faster, more reliable competitors.",cliffhanger:"Fix Mode builds garage account engine and preference-based follow-ups.",kpi:"Repeat mechanic rate %, Retention %",actionPack:"MKT-P1"},{id:"MKT_04",pillar:"Market",signal_tags:["offer_measurement_gap","bundle_engine_missing","weak_onboarding"],hook:"Catalog Gap",leak:"Without model-based catalog assets, quoting is slow and inconsistent.",cost:"Catalog gaps create delay-based losses and conversion friction.",cliffhanger:"Fix Mode builds top-model catalog and common jobs menu.",kpi:"Catalog completeness %, Time-to-quote",actionPack:"MKT-P3"},{id:"LDR_01",pillar:"Leadership",signal_tags:["kpi_cadence_gap"],hook:"KPI Darkness",leak:"Wrong-fit, returns, debtors, shrink, and stockouts are not visible in a weekly control rhythm.",cost:"Leak detection happens too late, increasing loss size.",cliffhanger:"Fix Mode installs KPI wall and owner-anchored weekly reviews.",kpi:"KPI review compliance %, Repeat leak trend",actionPack:"LDR-P1"},{id:"LDR_02",pillar:"Leadership",signal_tags:["approval_bottleneck","decision_bottleneck"],hook:"Approval Bottleneck",leak:"Routine exceptions wait for one decision-maker, slowing counter speed and resolution.",cost:"Decision latency creates missed sales and customer frustration.",cliffhanger:"Fix Mode defines approval limits and tracks latency.",kpi:"Decision latency, Approval backlog",actionPack:"LDR-P2"},{id:"LDR_03",pillar:"Leadership",signal_tags:["no_variance_review","training_planning_gap"],hook:"Repeat Leak Tax",leak:"The same wrong-fit, pricing, and dispute patterns recur because fixes do not become standards.",cost:"Repeat leak tax consumes margin and team attention every week.",cliffhanger:"Fix Mode enforces weekly standard audits and no-repeat closure.",kpi:"Repeat incident rate %, SOP adherence score",actionPack:"LDR-P3"},{id:"INN_01",pillar:"Innovation",signal_tags:["bundle_engine_missing"],hook:"Bundle Blindness",leak:"Single-part selling dominates where job kits could lift basket value and speed.",cost:"Without kits, AOV and solution confidence remain under-optimized.",cliffhanger:"Fix Mode launches top job kits and bundle pricing tests.",kpi:"Bundle adoption %, AOV",actionPack:"INN-P1"},{id:"RSK_01",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],hook:"Counterfeit Landmine",leak:"Supplier verification gaps expose the shop to authenticity incidents.",cost:"One counterfeit complaint can trigger outsized refund and trust damage.",cliffhanger:"Fix Mode hardens supplier authenticity firewall and evidence archive.",kpi:"Counterfeit flags, Supplier quality score",actionPack:"RSK-P1"},{id:"RSK_02",pillar:"Risk",signal_tags:["policy_vagueness","contract_gap"],hook:"Warranty Ambush",leak:"Warranty terms and claim decisions vary by person or situation.",cost:"Inconsistent warranty handling increases dispute cost and reputational drag.",cliffhanger:"Fix Mode standardizes warranty policy and claims SOP.",kpi:"Warranty claim rate %, Warranty dispute %",actionPack:"RSK-P2"},{id:"RSK_03",pillar:"Risk",signal_tags:["shrinkage_leak"],hook:"Theft Tax",leak:"Small, high-value items are insufficiently controlled and disappear quietly.",cost:"Shrink accumulates as silent margin erosion.",cliffhanger:"Fix Mode applies lock-log-access controls and shrink audits.",kpi:"Shrinkage %, Theft incidents",actionPack:"RSK-P3"},{id:"RSK_04",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness","no_standard_work"],hook:"Wrong-Part Dispute Tax",leak:"Proof and terms are weak, so wrong-fit disputes become costly negotiations.",cost:"Dispute time, refunds, and stress stack into recurring margin loss.",cliffhanger:"Fix Mode installs fitment-proof dispute defense flow.",kpi:"Wrong-part disputes/week, Resolution time",actionPack:"RSK-P4"},{id:"PPL_01",pillar:"People",signal_tags:["training_gap","service_inconsistency","onboarding_gap"],hook:"Scriptless Fitment",leak:"Staff fitment questions vary by person, creating avoidable wrong-fit incidents.",cost:"Inconsistent questioning leads to returns, disputes, and slower quote confidence.",cliffhanger:"Fix Mode certifies fitment scripts and category guidance.",kpi:"Wrong-fit by staff, Training completion %",actionPack:"PPL-P1"},{id:"PPL_02",pillar:"People",signal_tags:["incentive_misalignment","discounting_leak","accountability_soft"],hook:"Discount Culture",leak:"Staff behavior rewards fast close over margin quality and accuracy.",cost:"Discount-first behavior compresses margin and raises dispute risk.",cliffhanger:"Fix Mode aligns incentives to margin, low returns, and fitment quality.",kpi:"Discount % by staff, Margin/staff/day",actionPack:"PPL-P2"}],Cme=e=>[{id:`LIB_SPARE_${e.id}_LEAK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Mh,business_size_fit:Qu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0},{id:`LIB_SPARE_${e.id}_HOOK`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:Mh,business_size_fit:Qu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi,fix_task_ids:e.actionPack?[e.actionPack]:void 0}],Tme=Sme.flatMap(e=>[{id:`LIB_SPARE_${e.pillar.toUpperCase()}_STR`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:["Stable","Strong"],business_size_fit:Qu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_SPARE_${e.pillar.toUpperCase()}_KPI`,industry:"retail",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:Mh,business_size_fit:Qu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]),Ame=["Spare parts & accessories shop","Spare Parts & Accessories Shop"],Eme="Motorcycle parts (boda boda)",Nme="Car parts (general)",Mme="Truck/bus/commercial vehicle parts",Pme="Tyres & batteries specialty",Ime="Lubricants/filters/consumables",Ome="Electronics & sensors (ECU, relays, bulbs, wiring)",Lme="Body parts & paint accessories",Rme="Tools & garage accessories",Dme="Wholesale spare parts distributor",jme="Online-first (WhatsApp/Delivery)",Kme="Garage-linked shop (attached to mechanic workshop)",Yd=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_SPARE_${e}_${r.toUpperCase()}`,industry:"retail",line_type:t,pillar:r,signal_tags:[],severity_fit:Mh,business_size_fit:Qu,text:i[r],type:"mission_brief"})),Fme=[...Yd("S1",[Eme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Boda-parts demand is urgent, so fitment and stockout errors become immediate walkaway losses. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks fitment and fast-mover controls tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Discount and credit drift can make high-volume days low-margin. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs price and cash controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Rider and mechanic loyalty likely depends on speed and confidence under pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds repeat account and response systems.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Urgency may be replacing routines, causing repeat errors. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces KPI and no-repeat cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Kit-selling and fast catalog options may be underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches bundle and menu tests.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Counterfeit and wrong-part disputes are high-risk in fast-turn models. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens authenticity and dispute proof.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Fitment questioning and pricing discipline likely vary by staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies scripts and incentives."}),...Yd("S2",[Nme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Car-parts conversion depends on fitment certainty and rapid locating. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs fitment and SKU-bin truth controls.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin drift often hides in discounting, returns, and slow stock. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds category margin and dead-stock release discipline.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Trust and response speed may be weakening quote conversion. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs authenticity proof and SLA routines.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Decisions and standards may be too person-dependent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces owner-independent rules.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Catalog and kit leverage may be below potential. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches model-based offerings.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Warranty and dispute controls may be exposing margin and trust. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens claims and proof workflows.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Service quality may depend on individual experience over systems. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes scripts and onboarding."}),...Yd("S3",[Pme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Tyre and battery models leak through fitment mismatch and stockout timing gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures fast-moving fitment flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Margin loss often comes from discount pressure and warranty exceptions. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode protects margin with rules and claims controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Trust proof and rapid response likely determine close rates. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds proof-first conversion assets.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Reactive approvals may be slowing sales throughput. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets decision limits.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Service package and pre-order leverage may be underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches service bundles.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Warranty and counterfeit exposure can escalate quickly in this category. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens supplier and warranty firewalls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Staff behavior variance may be driving disputes and margin leakage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns incentives and scripts."}),...Yd("S4",[Kme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Garage-linked operations leak when fitment, returns, and dispatch controls are informal. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode secures the workshop-to-counter flow.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Credit and discount leakage can erase workshop-linked demand advantage. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces account and margin controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Built-in demand may still leak without account structure and service speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds repeat garage pipeline.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. Owner dependency may be limiting execution speed. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets delegated control and audit routines.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Job-kit and pre-order systems may be underdeveloped. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches practical upsell and fulfillment systems.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Workshop-linked returns and warranty disputes can escalate if policy evidence is weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens dispute defense.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Skill variance across counter and workshop may be causing repeat loss loops. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode certifies fitment and policy handling."}),...Yd("S0",[...Ame,Mme,Ime,Ome,Lme,Rme,Dme,jme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Spare-parts execution leaks usually start with fitment inconsistency and stock control gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs a 7-day containment sprint and 30-day control build tied to {KPI}.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. This often creates Margin Mirage: strong activity with weak cash conversion and margin protection. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces pricing, credit, and leak controls.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Urgent-buyer conversion and repeat garage loyalty may be leaking through speed and trust gaps. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode strengthens response, catalog, and account systems.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2}. The business may be reacting fast but paying repeat leak tax weekly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces KPI cadence and closure discipline.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2}. Bundle and service innovation may be below your margin potential. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches job-kit and pre-order experiments.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2}. Counterfeit, warranty, and dispute controls may be too informal for growth scale. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens supplier and dispute firewalls.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2}. Script discipline and incentive alignment likely vary across staff. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns certification and scorecards."})],Bme=[...Tme,...wme.flatMap(Cme),...Fme],dL={solo:"Owner",micro:"Owner",small:"Store Manager",small_med:"Store Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},Ume=[{code:"OPS-P1",pillar:"Operations",signal_tags:["no_standard_work","training_gap","inventory_accuracy_gap"],title7:"Fitment Confirmation Checklist (Model-Year-Engine-Variant)",title30:"Top Model Fitment Sheet + Substitute Options Matrix",kpi7:"wrong_fit_incident_rate",kpi30:"fitment_accuracy_rate",proof7:["fitment_checklist","fitment_samples_20"],proof30:["fitment_matrix","staff_signoff_fitment"],impact7:10,impact30:10},{code:"OPS-P2",pillar:"Operations",signal_tags:["stockout_tax","restock_delay","purchase_panic"],title7:"Top-50 Fast Mover Reorder Triggers (Min-Max)",title30:"Weekly Top-50 Cycle Count + Supplier Lead-Time Calendar",kpi7:"stockout_rate_top50",kpi30:"reorder_compliance_percent",proof7:["top50_list","min_max_rules"],proof30:["cycle_count_logs","supplier_reorder_calendar"],impact7:9,impact30:10},{code:"OPS-P3",pillar:"Operations",signal_tags:["inventory_accuracy_gap","receiving_slippage"],title7:"SKU + Bin Location Truth Reset",title30:"SKU-Zone Labeling + Find-in-Seconds Audits",kpi7:"stock_accuracy_percent",kpi30:"time_to_quote_minutes",proof7:["bin_map","sku_location_sheet"],proof30:["bin_labels_photos","find_time_audit"],impact7:8,impact30:9},{code:"OPS-P4",pillar:"Operations",signal_tags:["policy_vagueness","contract_gap","shrinkage_leak"],title7:"Returns Quarantine + Condition Grading SOP",title30:"Return Evidence Workflow + Reintegration Controls",kpi7:"return_recycle_incidents",kpi30:"return_dispute_rate",proof7:["quarantine_log","condition_grade_forms"],proof30:["return_sop","return_evidence_archive"],impact7:8,impact30:9},{code:"OPS-P5",pillar:"Operations",signal_tags:["weak_onboarding","dispatch_delivery_instability"],title7:"Quote + Delivery Workflow (Template + Pick Checklist)",title30:"Urgent Order Response SLA + Dispatch Proof Routine",kpi7:"response_time_minutes",kpi30:"delivery_success_rate",proof7:["quote_templates","pick_checklist"],proof30:["sla_doc","dispatch_proof_samples"],impact7:8,impact30:9},{code:"MNY-P1",pillar:"Money",signal_tags:["pricing_margin_blindspot","category_margin_blindspot"],title7:"Category Margin Map + Baseline Price Rules",title30:"Weekly Margin Leak Review (Returns-Discounts-Shrink)",kpi7:"gross_margin_by_category",kpi30:"net_margin_estimate",proof7:["category_margin_sheet","price_rule_baseline"],proof30:["margin_leak_log","weekly_margin_review"],impact7:9,impact30:10},{code:"MNY-P2",pillar:"Money",signal_tags:["discounting_leak","pricing_inconsistency"],title7:"Discount Bands + Negotiation Scripts",title30:"Discount Compliance Audit by Staff",kpi7:"discount_rate",kpi30:"price_variance",proof7:["discount_policy","negotiation_script"],proof30:["discount_audit_report","staff_discount_sheet"],impact7:8,impact30:9},{code:"MNY-P3",pillar:"Money",signal_tags:["credit_terms_risk","payment_delay_chokehold"],title7:"Garage Credit Policy + Debtor Aging List",title30:"Collections Cadence + Overdue Cutoff Enforcement",kpi7:"credit_outstanding",kpi30:"dso",proof7:["credit_policy","debtor_aging_report"],proof30:["collections_log","overdue_cutoff_log"],impact7:9,impact30:10},{code:"MNY-P4",pillar:"Money",signal_tags:["cash_recon_gap","shrinkage_leak"],title7:"Daily Cash-Momo Reconciliation + Variance Reasons",title30:"Cash Controls + Shrink Exception Dashboard",kpi7:"daily_recon_variance",kpi30:"shrinkage_percent",proof7:["recon_sheet_7d","variance_reason_log"],proof30:["cash_control_sop","shrink_dashboard"],impact7:9,impact30:9},{code:"MNY-P5",pillar:"Money",signal_tags:["slow_mover_attachment","purchase_panic"],title7:"Dead Stock Release Plan (Swap-Bundle-Clearance)",title30:"Dead Stock KPI Cadence + Cash Release Tracker",kpi7:"dead_stock_value",kpi30:"inventory_turns",proof7:["dead_stock_list","release_plan"],proof30:["cash_release_tracker","dead_stock_trend"],impact7:8,impact30:9},{code:"MKT-P1",pillar:"Market",signal_tags:["channel_dependency","low_repeat_orders","followup_gap"],title7:"Garage Account List + Repeat Follow-Up Cadence",title30:"Mechanic Account Tiers + Preference Tracking",kpi7:"repeat_garage_rate",kpi30:"account_retention_percent",proof7:["garage_account_list","followup_log"],proof30:["account_tiers_doc","mechanic_preference_sheet"],impact7:8,impact30:9},{code:"MKT-P2",pillar:"Market",signal_tags:["weak_proof_pack","supplier_doc_gap"],title7:"Trust + Authenticity Proof Stack (Invoice, Warranty, Source)",title30:"Authenticity Communication Script + Proof Wall",kpi7:"trust_dispute_rate",kpi30:"quote_to_sale_conversion",proof7:["auth_proof_bundle","warranty_clarity_sheet"],proof30:["proof_wall_assets","staff_trust_script_log"],impact7:8,impact30:9},{code:"MKT-P3",pillar:"Market",signal_tags:["offer_measurement_gap","bundle_engine_missing","weak_onboarding"],title7:"Model-Based Catalog for Top 10 Models",title30:"Common Jobs Menu + Substitute Matrix",kpi7:"time_to_quote_minutes",kpi30:"catalog_completeness_percent",proof7:["top_model_catalog","catalog_share_logs"],proof30:["common_jobs_menu","substitute_matrix"],impact7:8,impact30:9},{code:"MKT-P4",pillar:"Market",signal_tags:["weak_onboarding","followup_gap"],title7:"Response SLA + Quote Templates for Urgent Buyers",title30:"Inquiry Pipeline Tracker + Reply Audit",kpi7:"response_time_minutes",kpi30:"inquiry_conversion_rate",proof7:["response_sla_doc","quote_templates"],proof30:["inquiry_pipeline_sheet","reply_audit_log"],impact7:9,impact30:9},{code:"LDR-P1",pillar:"Leadership",signal_tags:["kpi_cadence_gap"],title7:"KPI Wall: Wrong Fit, Returns, Debtors, Shrink, Stockouts",title30:"Weekly KPI Closure Rhythm + Leak Escalation Rules",kpi7:"kpi_update_compliance",kpi30:"repeat_incident_rate",proof7:["kpi_wall_photo","kpi_owner_list"],proof30:["weekly_closure_log","leak_escalation_rules"],impact7:8,impact30:9},{code:"LDR-P2",pillar:"Leadership",signal_tags:["approval_bottleneck","decision_bottleneck"],title7:"Delegation Limits for Discounts, Returns, and Credits",title30:"Approval Matrix + Decision Latency Tracker",kpi7:"decision_latency",kpi30:"approval_backlog",proof7:["delegation_limits_doc","decision_log"],proof30:["approval_matrix","decision_latency_report"],impact7:8,impact30:8},{code:"LDR-P3",pillar:"Leadership",signal_tags:["no_variance_review","training_planning_gap"],title7:"Standards Coaching for Fitment, Labeling, and Pricing",title30:"Weekly SOP Audit + Repeat-Leak Elimination Loop",kpi7:"coaching_sessions_done",kpi30:"sop_adherence_score",proof7:["coaching_log","standards_brief"],proof30:["sop_audit_log","repeat_leak_tracker"],impact7:7,impact30:8},{code:"INN-P1",pillar:"Innovation",signal_tags:["bundle_engine_missing"],title7:"Job Kit Launch (Service, Brake, Clutch) + Bundle Pricing",title30:"Bundle Optimization by Model and Job Type",kpi7:"bundle_adoption_rate",kpi30:"average_order_value",proof7:["job_kit_list","bundle_pricing_sheet"],proof30:["bundle_sales_report","model_job_matrix"],impact7:8,impact30:9},{code:"INN-P2",pillar:"Innovation",signal_tags:["service_inconsistency","dispatch_delivery_instability"],title7:"Delivery + Pre-Order Workflow",title30:"Delivery SLA + Pre-Order Forecast Loop",kpi7:"delivery_adoption_percent",kpi30:"walkaway_rate",proof7:["delivery_workflow","preorder_log"],proof30:["delivery_sla_doc","forecast_loop_sheet"],impact7:8,impact30:8},{code:"INN-P3",pillar:"Innovation",signal_tags:["no_testing_rhythm","supplier_selection_undisciplined"],title7:"New Line Micro-Test Pipeline",title30:"Test-to-Scale Rules for New Stock Lines",kpi7:"tests_run_per_month",kpi30:"test_to_scale_ratio",proof7:["micro_test_sheet","test_results_log"],proof30:["test_to_scale_rules","scaled_line_report"],impact7:7,impact30:8},{code:"RSK-P1",pillar:"Risk",signal_tags:["supplier_doc_gap","supplier_selection_undisciplined"],title7:"Supplier Authenticity Firewall",title30:"Approved Supplier Scorecard + Verification Archive",kpi7:"counterfeit_flags",kpi30:"supplier_quality_score",proof7:["approved_supplier_list","auth_verification_log"],proof30:["supplier_scorecard","verification_archive"],impact7:9,impact30:9},{code:"RSK-P2",pillar:"Risk",signal_tags:["policy_vagueness","contract_gap"],title7:"Warranty Policy + Claims Handling SOP",title30:"Warranty Claim Evidence and Decision Framework",kpi7:"warranty_claim_rate",kpi30:"warranty_dispute_rate",proof7:["warranty_policy_doc","claims_log"],proof30:["claims_evidence_archive","decision_framework"],impact7:8,impact30:9},{code:"RSK-P3",pillar:"Risk",signal_tags:["shrinkage_leak"],title7:"High-Value Item Controls (Lock, Log, Access Rules)",title30:"Shrink Dashboard + Access Audit Rhythm",kpi7:"theft_incidents",kpi30:"shrinkage_percent",proof7:["high_value_lock_log","access_rules_doc"],proof30:["shrink_dashboard","access_audit_log"],impact7:8,impact30:9},{code:"RSK-P4",pillar:"Risk",signal_tags:["contract_gap","policy_vagueness","no_standard_work"],title7:"Wrong-Part Dispute Defense SOP",title30:"Fitment Proof + Returns Evidence Workflow",kpi7:"wrong_part_dispute_rate",kpi30:"dispute_resolution_time",proof7:["dispute_sop_doc","fitment_proof_samples"],proof30:["returns_evidence_archive","resolution_tracker"],impact7:8,impact30:9},{code:"PPL-P1",pillar:"People",signal_tags:["training_gap","service_inconsistency","onboarding_gap"],title7:"Fitment + Category Script Certification",title30:"Role-Based Certification Cadence",kpi7:"training_completion",kpi30:"wrong_fit_rate_by_staff",proof7:["fitment_script_checklist","certification_log"],proof30:["role_cert_matrix","monthly_skill_audit"],impact7:9,impact30:9},{code:"PPL-P2",pillar:"People",signal_tags:["incentive_misalignment","discounting_leak","accountability_soft"],title7:"Incentives Aligned to Margin + Low Wrong-Fit + Low Returns",title30:"Staff Scorecards + Incentive Outcome Reviews",kpi7:"discount_rate_by_staff",kpi30:"margin_per_staff_day",proof7:["incentive_rules","staff_alignment_brief"],proof30:["staff_scorecards","incentive_outcome_report"],impact7:8,impact30:9}],qme=Ume.flatMap(e=>{const t=e.code.replace(/-/g,"_"),i=["all"],n={action_id:`ACT_SPARE_${t}_7`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title7,days:7,effort:"S",default_owner_by_size:dL,kpi_links:[e.kpi7],proof_required:e.proof7,impact_score:e.impact7},r={action_id:`ACT_SPARE_${t}_30`,industry:"retail",line_type:i,pillar:e.pillar,signal_tags:e.signal_tags,title:e.title30,days:30,effort:"M",default_owner_by_size:dL,kpi_links:[e.kpi30],proof_required:e.proof30,impact_score:e.impact30};return[n,r]}),j4={questions:kme,library:Bme,actions:qme},K4={"Fitment Roulette":{executive:{mission:"Your current pattern indicates elevated fitment error risk, which typically shows up as returns, disputes, and replacement cost. The larger risk is reputational: one wrong-fit incident lowers repeat purchase probability, especially for mechanic accounts that prioritize certainty and speed. Cliffhanger: Deep Scan will isolate the failure point and lock a standardized fitment workflow.",deep:"Fitment Roulette indicates compatibility is being confirmed through inconsistent methods across shifts. That inconsistency inflates refund loss, dispute time, and repeat-customer attrition. The hidden cost is account migration: mechanics do not argue repeatedly; they re-route demand to a shop with higher confidence. Next step: deploy a Fitment Confirmation System with mandatory questions, proof capture, and staff certification within 30 days.",actionPacks:["OPS-P1","PPL-P1"]},street:{mission:"Boss, this is Fitment Roulette. Today the sale looks clean; tomorrow the customer returns angry. Even when it is not your fault, you still pay with refunds, stress, and lost trust. One wrong fit can push a mechanic away for good. Cliffhanger: Deep Scan will lock this with a simple checklist and script.",deep:"You are selling with confidence but not with consistent fitment proof. Under pressure, staff skips key questions, then the same jobs return as disputes. That means double cost: lost time now and reduced loyalty later. Next step: make model/year/engine/variant questions mandatory, collect fitment proof before release, and coach staff weekly until wrong-fit incidents trend down.",actionPacks:["OPS-P1","PPL-P1"]}},"Stockout Tax":{executive:{mission:"Inventory signals show stockout-driven leakage on fast movers. In this market, one missing item often loses the full basket and accelerates account migration. Cliffhanger: Deep Scan will build a Top 50 protection model with min-max and lead-time discipline.",deep:"Stockout Tax is usually a control issue rather than a demand issue. Reorders based on shelf impression create recurring availability gaps, and urgent buyers immediately defect. The financial effect compounds through lost basket value and weakened mechanic trust. Next step: implement Top 50 fast-mover controls, supplier cadence, and weekly cycle counts tied to stockout KPIs.",actionPacks:["OPS-P2"]},street:{mission:"This is Stockout Tax. You miss one filter or plug and the customer buys everything next shop. That is how repeat buyers quietly shift. Cliffhanger: Deep Scan will set Top 50 reorder triggers so fast movers stop embarrassing the counter.",deep:"You are noticing stockouts too late, usually when the customer is already waiting. By then the sale is at risk, and urgent buyers rarely wait. The damage is daily and cumulative: fewer baskets, fewer repeats, weaker mechanic confidence. Next step: protect fast movers with min levels, lead-time planning, and a simple weekly stock discipline.",actionPacks:["OPS-P2"]}},"SKU Fog / Bin Chaos":{executive:{mission:"You likely have on-hand inventory that is not discoverable at counter speed. This creates conversion loss and operational friction during peak windows. Cliffhanger: Deep Scan will identify bin logic and labeling breakdowns and implement find-in-seconds retrieval.",deep:"SKU Fog occurs when part-number discipline and bin mapping are inconsistent. The customer experiences delay as uncertainty, and uncertainty reduces close rate even when stock exists. Team productivity also falls as search time displaces selling time. Next step: deploy SKU/bin truth controls with receiving-to-bin compliance audits and quote-time tracking.",actionPacks:["OPS-P3"]},street:{mission:"This is SKU Fog. The part is inside, but you cannot find it fast, so you look out of stock in front of the customer. Cliffhanger: Deep Scan will clean your bin and label system so finding stock is instant.",deep:"Right now too much depends on memory. When the rush starts, searching eats time and confidence drops. Customers interpret delay as lack of stock and walk. Next step: set bin codes, tighten receiving labels, and run short daily checks until time-to-find comes down.",actionPacks:["OPS-P3"]}},"Return Recycle Leak":{executive:{mission:"There is return-process contamination risk: returned parts may re-enter sellable stock without consistent grading. This increases repeat disputes and credibility loss. Cliffhanger: Deep Scan will install quarantine grading and evidence-led return control.",deep:"Return Recycle Leak creates second-order losses. A rushed return that goes back to shelf can trigger a new failure cycle and a stronger customer complaint. The business then absorbs duplicate cost across refund, rework, and reputation. Next step: implement quarantine grading, reason coding, and dispute-proof return evidence before restocking any returned unit.",actionPacks:["OPS-P4","RSK-P4"]},street:{mission:"This is Return Recycle Leak. A returned item looks okay, goes back on shelf, then fails again and comes back as your problem. You pay twice. Cliffhanger: Deep Scan will set quarantine rules so returns stop poisoning your stock.",deep:"When the shop is busy, returns get pushed quickly back to shelf. That shortcut creates mystery defects later and bigger disputes. Customers remember the failure, not your explanation. Next step: enforce return quarantine, condition grading, and photo proof before any item is accepted back into active stock.",actionPacks:["OPS-P4","RSK-P4"]}},"Procurement Lag":{executive:{mission:"Demand capture is constrained by reorder timing that is out of sync with supplier lead times. In urgent purchase behavior, delayed availability translates directly to lost account share. Cliffhanger: Deep Scan will align procurement cadence to demand velocity.",deep:"Procurement Lag is typically driven by reactive replenishment and weak missing-request capture. The result is predictable: demand appears, commitment is made, then fulfillment slips. Repeated slippage retrains buyers toward faster competitors. Next step: integrate missing-request logs into reorder planning and enforce lead-time-based replenishment windows.",actionPacks:["OPS-P2"]},street:{mission:"This is Procurement Lag. Customer asks now, stock comes later, and later means sale gone. Cliffhanger: Deep Scan will build reorder timing that meets real demand speed.",deep:"You are buying after demand, not ahead of demand. That gap is where urgent sales die. It also causes panic buying when pressure rises. Next step: capture requested-but-missing items daily and tie them to supplier lead times and Top 50 replenishment rules.",actionPacks:["OPS-P2"]}},"Margin Mirage":{executive:{mission:"Revenue is active, but margin quality appears unstable due to discounting, return drag, and category mix variance. This is a high-sales, low-retained-profit profile. Cliffhanger: Deep Scan will quantify category profitability and isolate the largest margin leaks.",deep:"Margin Mirage is a visibility problem first, a sales problem second. Without category-level economics, discount and return behavior can quietly override gross revenue gains. This creates cash pressure despite strong activity. Next step: implement category margin mapping with weekly leak review across discounts, refunds, and supplier drift.",actionPacks:["MNY-P1"]},street:{mission:"This is Margin Mirage. The counter is busy, but profit is thin. Sales are moving, pocket is not. Cliffhanger: Deep Scan will show exactly which categories pay you and which ones drain you.",deep:"You are judging performance by movement, not by clean margin. Discounts, returns, and weak category control are eating the profit silently. Next step: map margin by category, then fix the top leaks first so growth actually keeps cash in the business.",actionPacks:["MNY-P1"]}},"Bargain Drift":{executive:{mission:"Pricing discipline is weakening as negotiation becomes the default close tactic. This compresses margin and destabilizes market positioning. Cliffhanger: Deep Scan will install discount bands and scripts that preserve close rates without margin erosion.",deep:"Bargain Drift is a behavioral control issue. Once staff discount patterns vary by person, customers optimize around negotiation rather than value. Over time, realized pricing declines and forecast accuracy drops. Next step: deploy clear discount authority bands, scripts, and audit checks by staff.",actionPacks:["MNY-P2"]},street:{mission:"This is Bargain Drift. Every deal turns into bargaining, and your true price keeps falling. Cliffhanger: Deep Scan will give discount bands and talking scripts so your team protects margin.",deep:"Staff is discounting to finish quickly, and customers now expect it every time. That habit is training the market against your profit. Next step: lock simple discount rules, coach the team on value-based responses, and track discounts by staff.",actionPacks:["MNY-P2"]}},"Credit Sink":{executive:{mission:"Receivable exposure indicates inventory is leaving faster than cash is returning. This weakens fast-mover restocking capacity and raises liquidity risk. Cliffhanger: Deep Scan will implement credit ceilings, aging controls, and stop-rules.",deep:"Credit Sink emerges when credit is relationship-led without enforcement cadence. Working capital is then redirected to finance external operations while your own availability declines. This drives both stockout risk and borrowing pressure. Next step: standardize account limits, due-date governance, and daily collections rhythm by aging bucket.",actionPacks:["MNY-P3"]},street:{mission:"This is Credit Sink. Parts leave now, money comes later, and later turns into stress. Cliffhanger: Deep Scan will lock credit limits and follow-up rhythm so cash stays alive.",deep:"Credit is helping customers but hurting your restock power. When debtor control is weak, your shelves suffer first. Next step: set clear credit terms, stop overdue accounts from taking new stock, and track 7/30/60 buckets every week.",actionPacks:["MNY-P3"]}},"Cash Drawer Drift / Momo Fog":{executive:{mission:"Transaction control appears exposed to daily variance leakage. In high-frequency retail, unresolved variances degrade both margin integrity and decision confidence. Cliffhanger: Deep Scan will enforce reconciliation SOP and exception ownership.",deep:"Cash Drawer Drift/Momo Fog is usually tolerated because losses look small in isolation. Aggregated monthly, they become material and hard to attribute. This erodes internal trust and weakens control culture. Next step: implement end-of-day reconciliation, variance coding, and role separation across sell/receive/close.",actionPacks:["MNY-P4"]},street:{mission:"This is Cash Drawer Drift and Momo Fog. Small daily differences become big month-end pain. Cliffhanger: Deep Scan will set a strict close routine that catches leakage fast.",deep:"When close routines are inconsistent, nobody owns the variance and the leak becomes normal. That hurts profit and creates suspicion in the team. Next step: run a non-negotiable daily close checklist and investigate repeated variance patterns by shift/staff.",actionPacks:["MNY-P4"]}},"Dead Stock Jail":{executive:{mission:"Working capital is likely locked in low-velocity SKUs, reducing flexibility for fast-mover replenishment. This creates a dual drag on growth and margin. Cliffhanger: Deep Scan will classify dead stock and execute controlled cash release.",deep:"Dead Stock Jail is a capital allocation issue: slow lines accumulate while winners starve. The business then compensates with late discounts and reactive buying. Next step: define dead-stock thresholds, release tactics (bundle/swap/clear), and hard stop-rules for repeat overbuying.",actionPacks:["MNY-P5"]},street:{mission:"This is Dead Stock Jail. Cash is sleeping in parts that do not move, while fast movers finish. Cliffhanger: Deep Scan will show what to clear, bundle, or stop buying.",deep:"Dead stock looks like inventory, but it behaves like locked cash. It blocks restocking and forces you into weak pricing later. Next step: identify dead lines, release them with a plan, and protect buying decisions with sell-through rules.",actionPacks:["MNY-P5"]}},"WhatsApp Blackhole":{executive:{mission:"Response latency is likely suppressing urgent-demand conversion on chat channels. In this category, speed is a primary differentiator. Cliffhanger: Deep Scan will deploy SLA, templates, and quote workflow controls.",deep:"WhatsApp Blackhole appears when response ownership, template quality, and stock confirmation flow are weak. Buyers interpret delay as low availability certainty and defect quickly. Next step: set reply-time targets, standard quote templates, and first-response catalog links to improve conversion.",actionPacks:["MKT-P4"]},street:{mission:"This is WhatsApp Blackhole. Reply comes late, customer already bought. Spare parts buyers are urgent, not browsing. Cliffhanger: Deep Scan will install fast reply templates and quote flow.",deep:"Your response speed is leaking easy sales. Most losses happen before pricing discussion starts. Next step: assign chat ownership, use ready templates, and track response time daily until conversion improves.",actionPacks:["MKT-P4"]}},"Trust Gap":{executive:{mission:"Market confidence friction is reducing close probability, especially for higher-value parts. Trust requires repeatable proof, not verbal reassurance. Cliffhanger: Deep Scan will operationalize authenticity and warranty proof assets.",deep:"Trust Gap expands when authenticity and warranty signals differ by staff or transaction. Buyers then discount your credibility and negotiate harder. Next step: standardize proof-based selling with supplier evidence, warranty clarity, and receipt discipline at point of sale.",actionPacks:["MKT-P2","RSK-P1"]},street:{mission:"This is Trust Gap. Customers fear fakes, so even when you have stock they hesitate. Cliffhanger: Deep Scan will build trust proof so people buy with confidence.",deep:"Verbal assurance is not enough in this market. Buyers want visible proof and clear warranty terms. Next step: show authenticity signals consistently, train staff scripts, and make every sale feel safe.",actionPacks:["MKT-P2","RSK-P1"]}},"Mechanic Migration":{executive:{mission:"Repeat account demand is likely leaking due to under-managed mechanic relationships. Without account discipline, demand defaults to the fastest responder. Cliffhanger: Deep Scan will build a mechanic account operating model.",deep:"Mechanic Migration is often silent: account loss appears as normal demand volatility. In practice, it is a service and follow-up control gap. Next step: prioritize top mechanic accounts, set follow-up cadence, and align delivery/credit offers to profitable retention.",actionPacks:["MKT-P1"]},street:{mission:"This is Mechanic Migration. Mechanics do not announce exit; they simply start buying elsewhere. Cliffhanger: Deep Scan will set a mechanic follow-up engine to lock repeat demand.",deep:"Without account management, your shop keeps chasing random buyers while repeat mechanics drift. Next step: build top-mechanic list, call rhythm, and tailored offers so they keep buying from you first.",actionPacks:["MKT-P1"]}},"Catalog Gap":{executive:{mission:"Quoting speed is constrained by catalog structure and model-job visibility. This increases dependency on individual memory and reduces scalable conversion. Cliffhanger: Deep Scan will implement model-based catalog and common-job menu assets.",deep:"Catalog Gap slows response and increases wrong-fit risk because substitutes and equivalents are not standardized. The commercial effect is lower conversion and weaker staff consistency. Next step: create top-model menu, common-job kits, and shared catalog assets across all counter staff.",actionPacks:["MKT-P3"]},street:{mission:"This is Catalog Gap. Quoting takes too long because everything is in memory or chat. Customer loses patience. Cliffhanger: Deep Scan will build a top-model catalog for instant quoting.",deep:"When only one person knows the catalog, speed drops whenever that person is busy or absent. Next step: publish model-based part menus and substitute options so every staff can quote fast and accurately.",actionPacks:["MKT-P3"]}},"KPI Darkness":{executive:{mission:"The business is likely operating without sufficient weekly visibility on core leakage drivers. Without KPI discipline, control becomes reactive and margin volatility rises. Cliffhanger: Deep Scan will define and operationalize the minimum control dashboard.",deep:"KPI Darkness reduces management leverage because decisions are made after losses materialize. Teams then optimize for urgency instead of economics. Next step: establish a seven-metric control wall with ownership and weekly closure cadence.",actionPacks:["LDR-P1"]},street:{mission:"This is KPI Darkness. Work is happening, but you cannot clearly see what is eating profit. Cliffhanger: Deep Scan will put the key numbers on one page for weekly control.",deep:"Without clear KPIs, leaks hide in routine activity and keep repeating. Next step: track wrong-fit, discounts, returns, stockouts, shrink, debtors, and dead stock every week with one owner each.",actionPacks:["LDR-P1"]}},"Approval Bottleneck":{executive:{mission:"Decision velocity is constrained by concentrated approvals on routine exceptions. This lowers throughput and creates inconsistent customer experience during peaks. Cliffhanger: Deep Scan will deploy delegated limits with audit controls.",deep:"Approval Bottleneck is a governance design issue. When boundaries are unclear, staff escalates excessively or improvises unsafely. Both outcomes reduce conversion quality. Next step: define approval tiers by scenario, train role limits, and review latency metrics weekly.",actionPacks:["LDR-P2"]},street:{mission:"This is Approval Bottleneck. Staff keeps waiting for one person, customer gets tired, sale cools down. Cliffhanger: Deep Scan will set decision limits so the counter keeps moving.",deep:"Too many small approvals are slowing service and frustrating buyers. Next step: write clear rules for discounts, returns, and exceptions so staff can act fast without creating chaos.",actionPacks:["LDR-P2"]}},"Repeat Leak Tax":{executive:{mission:"Recurring incident patterns indicate tactical fixes are not being converted into system controls. This creates repeat cost and leadership overload. Cliffhanger: Deep Scan will convert recurring failures into standards and audit cycles.",deep:"Repeat Leak Tax is paid when the same issue is solved repeatedly without process redesign. The business absorbs recurring losses in disputes, errors, and escalation effort. Next step: run weekly top-3 recurrence review and close each with SOP updates and accountability.",actionPacks:["LDR-P3"]},street:{mission:"This is Repeat Leak Tax. Same mistakes keep coming back, and you keep paying again. Cliffhanger: Deep Scan will identify the top repeating leak and lock a permanent fix.",deep:"You are solving problems, but not updating the system. That keeps the shop in firefighting mode. Next step: weekly audit of recurring leaks, then convert each into a clear routine the team must follow.",actionPacks:["LDR-P3"]}},"Bundle Blindness":{executive:{mission:"There is a missed AOV and margin opportunity due to low solution bundling. Job-based kits improve conversion quality without relying on discounting. Cliffhanger: Deep Scan will design and operationalize top-performing kits by segment.",deep:"Bundle Blindness keeps the business in single-line sales while customer need is job-level resolution. This suppresses basket value and weakens loyalty. Next step: define top job kits, align shelf and script execution, and track bundle adoption by model segment.",actionPacks:["INN-P1"]},street:{mission:"This is Bundle Blindness. Customer needs full job solution, but you sell one part and they finish elsewhere. Cliffhanger: Deep Scan will build job kits so each sale carries higher value.",deep:"Selling singles leaves money on the table and sends the customer to another shop for completion. Next step: package service/brake/clutch kits and train staff to offer them naturally every time.",actionPacks:["INN-P1"]}},"Counterfeit Landmine":{executive:{mission:"Counterfeit exposure remains a high-impact reputational and commercial risk. Even isolated incidents can materially reduce trust and increase dispute rate. Cliffhanger: Deep Scan will install supplier authenticity firewall controls.",deep:"Counterfeit Landmine risk is highest when supplier verification is relationship-led without documented checks. Once confidence breaks, conversion and referral behavior degrade rapidly. Next step: implement approved supplier rules, verification evidence, and immediate escalation workflow for authenticity concerns.",actionPacks:["RSK-P1"]},street:{mission:"This is Counterfeit Landmine. One fake incident or rumor can spoil your name fast. Cliffhanger: Deep Scan will lock supplier verification so trust is protected.",deep:"Even a single suspicious part can trigger refund pressure and reputation damage. Next step: use approved suppliers only, verify batches consistently, and train staff on authenticity proof at the counter.",actionPacks:["RSK-P1"]}},"Warranty Ambush":{executive:{mission:"Warranty exposure is elevated due to ambiguous terms and inconsistent claim handling. This increases dispute cost and weakens close quality. Cliffhanger: Deep Scan will standardize policy, evidence, and communication scripts.",deep:"Warranty Ambush appears when claim decisions vary by staff or context. This invites boundary-testing and inflates refund workload. Next step: formalize warranty scope, exclusion, and claim-proof requirements; then enforce with role-based decision controls.",actionPacks:["RSK-P2"]},street:{mission:"This is Warranty Ambush. Rules are unclear, so every claim turns into argument. Cliffhanger: Deep Scan will set clear warranty terms and scripts so the team handles claims the same way.",deep:"When warranty changes by person, customers push harder and disputes increase. Next step: write policy clearly, display it, and require evidence before claim approval.",actionPacks:["RSK-P2"]}},"Theft Tax":{executive:{mission:"Shrink exposure on small high-value items is likely under-controlled. Gradual losses in this class materially affect retained margin over time. Cliffhanger: Deep Scan will implement high-value SKU controls with minimal service friction.",deep:"Theft Tax persists where high-value parts are not separated, logged, and access-restricted. Loss appears minor daily but becomes significant monthly. Next step: lock-log-access controls, high-risk SKU audits, and close-routine exception tracking.",actionPacks:["RSK-P3"]},street:{mission:"This is Theft Tax. Small high-value parts disappear quietly until profit is gone. Cliffhanger: Deep Scan will identify high-risk items and lock simple controls.",deep:"No one notices the leak immediately because each loss is small. But month-end margin tells the truth. Next step: separate high-value items, control access, and track variance daily.",actionPacks:["RSK-P3"]}},"Wrong-Part Dispute Tax":{executive:{mission:"Dispute costs are elevated because fitment and return evidence controls are inconsistent. This increases refund exposure and reduces trust quality. Cliffhanger: Deep Scan will implement documentation-first dispute defense workflows.",deep:"Wrong-Part Dispute Tax grows when fitment confirmation, receipts, and return rules are weakly enforced. Each case then turns into a negotiated settlement rather than controlled resolution. Next step: standardize fitment proof, return grading, and documented decision pathways.",actionPacks:["RSK-P4","OPS-P1"]},street:{mission:"This is Wrong-Part Dispute Tax. Without proof and clear rules, every dispute becomes a fight and your margin bleeds. Cliffhanger: Deep Scan will install fitment proof + terms so disputes reduce fast.",deep:"When evidence is missing, the shop gives in to calm conflicts. That habit becomes expensive. Next step: require fitment check proof and run disputes through one clear SOP every time.",actionPacks:["RSK-P4","OPS-P1"]}},"Scriptless Fitment":{executive:{mission:"Fitment quality variance indicates a training and scripting control gap across staff. Standardized questioning improves accuracy and repeat trust. Cliffhanger: Deep Scan will deploy certification and coaching controls for fitment consistency.",deep:"Scriptless Fitment is a capability system issue, not an individual talent issue. Under pressure, staff shortens discovery and error rates rise. Next step: implement mandatory fitment scripts, staff certification, and weekly coaching audits tied to wrong-fit KPIs.",actionPacks:["PPL-P1"]},street:{mission:"This is Scriptless Fitment. Staff is trying, but key questions are skipped when busy, then mistakes happen. Cliffhanger: Deep Scan will lock fitment scripts so every sale is checked properly.",deep:"Without one script, each person sells differently and accuracy drops. Next step: train everyone on the same fitment checklist and review wrong-fit by staff every week.",actionPacks:["PPL-P1"]}},"Discount Culture":{executive:{mission:"Incentive and behavior signals suggest over-discounting is being used as a close mechanism. This drives margin dilution and unstable pricing credibility. Cliffhanger: Deep Scan will align incentives and discount governance to protect realized margin.",deep:"Discount Culture forms when volume is rewarded more than margin quality. Staff then optimizes for quick closes, not profitable closes. The market adapts by negotiating harder, further weakening pricing integrity. Next step: link incentives to margin and return quality, then enforce discount bands with audit.",actionPacks:["PPL-P2","MNY-P2"]},street:{mission:"This is Discount Culture. Team is closing deals fast but giving away profit. Customers now expect bargaining every time. Cliffhanger: Deep Scan will set discount rules and incentives that protect margin.",deep:"When rewards are based on volume only, discounting becomes habit. You win the sale and lose the money. Next step: pay for profitable sales, not just sales count, and coach staff to hold value with clear scripts.",actionPacks:["PPL-P2","MNY-P2"]}}},F4=e=>e.trim().toLowerCase(),zme=Object.keys(K4).reduce((e,t)=>(e[F4(t)]=t,e),{}),Wme=(e,t)=>{const i=zme[F4(e)];return i&&K4[i][t]||null},Re=(e,t,i,n,r,s=1,l=["all"])=>({qid:e,industry:"manufacturing",line_type:l,pillar:t,signal_tags:i,weight:s,textA:n,textB:r}),Vme=[Re("QS_OPS_01","Operations",["quality_built_late"],"When a defect appears, we fix it at the station and keep moving.","When a defect appears, we pause long enough to confirm cause before scaling output.",1.1),Re("QS_OPS_02","Operations",["planning_gap"],"When parts are missing, we improvise or swap similar parts to avoid stopping.","When parts are missing, we adjust kitting and plan to reduce repeated line surprises.",1),Re("QS_MONEY_01","Money",["pricing_margin_blindspot"],"We judge a good month by shipments and revenue.","We judge a good month by margin plus reduced rework and scrap.",1.1),Re("QS_MONEY_02","Money",["purchase_panic"],"Expedited shipping is sometimes the easiest way to keep customers happy.","Planning discipline is usually the easiest way to keep customers happy.",1),Re("QS_MARKET_01","Market",["spec_drift_discount"],"Customer requirements are often clarified as the job progresses.","Customer requirements are clarified early so production can execute smoothly.",1.1),Re("QS_MARKET_02","Market",["pricing_positioning_gap"],"We win deals by being flexible on variants and requests.","We win deals by being reliable on delivery and quality proof.",1),Re("QS_LEAD_01","Leadership",["decision_bottleneck"],"Key decisions feel safer when approved by a few senior people.","Key decisions feel smoother when teams have clear limits to act fast.",1),Re("QS_LEAD_02","Leadership",["no_variance_review"],"We prefer solving issues quickly to protect output.","We prefer solving issues in a way that prevents repeat issues.",1.1),Re("QS_INNOV_01","Innovation",["sku_complexity_tax"],"We add product variants when important customers ask.","We add product variants after a small pilot proves yield and demand.",1),Re("QS_INNOV_02","Innovation",["slow_bug_fix"],"Automation is attractive to reduce labor and increase speed.","Process stability is attractive before adding automation.",1),Re("QS_RISK_01","Risk",["traceability_gap"],"Traceability is handled through routines and team memory.","Traceability is handled through simple lot and station records.",1.1),Re("QS_RISK_02","Risk",["quality_built_late"],"Quality confidence comes from strong testing at the end.","Quality confidence comes from early checks plus testing.",1),Re("QS_PEOPLE_01","People",["training_gap"],"New operators learn best by shadowing experienced staff.","New operators learn best by shadowing plus a short station checklist.",1),Re("QS_PEOPLE_02","People",["hero_operator_dependence"],"Strong supervisors keep the line stable.","Strong supervisors plus standard work keep the line stable.",1),Re("DS_OPS_01","Operations",["no_standard_work"],"Work instructions are referenced when someone is unsure.","Work instructions are referenced as the default way of working.",1),Re("DS_OPS_02","Operations",["yield_bleed"],"Small rework is acceptable if it keeps shipments moving.","Small rework is tracked because it grows into bigger losses.",1),Re("DS_OPS_03","Operations",["bottleneck_bounce"],"Line speed is set based on experience and feel.","Line speed is set based on bottleneck and quality stability.",1),Re("DS_OPS_04","Operations",["quality_built_late"],"Testing at the end is our main protection.","Early quality gates reduce waste before final testing.",1.1),Re("DS_OPS_05","Operations",["measurement_blindspot"],"Calibration happens when a tool acts strange.","Calibration happens on schedule for critical tools.",1),Re("DS_OPS_06","Operations",["wip_pileup"],"WIP builds up when demand is high.","WIP is limited so problems stay visible.",1),Re("DS_OPS_07","Operations",["planning_gap"],"Kitting is flexible and teams pull what they need.","Kitting is structured and shortages are prevented early.",1),Re("DS_OPS_08","Operations",["changeover_black_hole"],"Changeovers are handled quickly by experienced staff.","Changeovers follow a standard to reduce variation.",1),Re("DS_OPS_09","Operations",["planning_gap"],"We adjust builds when parts are short.","We adjust plans so shortages do not surprise the line.",1),Re("DS_OPS_10","Operations",["traceability_gap"],"Traceability is good enough for most cases.","Traceability is designed for fast root-cause and recall control.",1),Re("DS_MONEY_01","Money",["pricing_margin_blindspot"],"Profitability is reviewed at month end.","Profitability is reviewed by SKU and customer routinely.",1.1),Re("DS_MONEY_02","Money",["waste_not_costed"],"Scrap and rework are accepted as manufacturing reality.","Scrap and rework are treated as controllable loss.",1),Re("DS_MONEY_03","Money",["purchase_panic"],"Expedites are part of customer service.","Expedites are treated as a cost signal to fix planning.",1),Re("DS_MONEY_04","Money",["inventory_blindspot"],"Inventory is purchased to ensure we never run out.","Inventory is purchased with MOQ strategy and turnover goals.",1),Re("DS_MONEY_05","Money",["complaint_handling_gap"],"Warranty returns are handled quietly by support and quality.","Warranty returns are tracked and used to prevent repeat failures.",1),Re("DS_MONEY_06","Money",["yield_bleed"],"Overtime is used when demand peaks.","Overtime is used when the plan proves it will pay back.",.9),Re("DS_MONEY_07","Money",["costing_gap"],"Costing is estimated for quotes.","Costing is modeled per SKU to protect margin.",1.1),Re("DS_MONEY_08","Money",["supplier_variance_risk"],"Supplier price increases are absorbed when necessary.","Supplier price increases trigger pricing or design adjustments.",.9),Re("DS_MONEY_09","Money",["payment_delay_chokehold"],"Penalties are handled case by case.","Penalties are reduced through reliability systems.",.9),Re("DS_MONEY_10","Money",["supplier_variance_risk"],"Purchasing optimizes unit price.","Purchasing optimizes total cost: price, defects, and lead time.",1),Re("DS_MARKET_01","Market",["planning_gap"],"RFQs are handled as they arrive.","RFQs follow a fast quoting workflow.",1),Re("DS_MARKET_02","Market",["spec_drift_discount"],"Requirements get clarified during production.","Requirements are locked before production.",1.1),Re("DS_MARKET_03","Market",["cross_function_breakdown"],"Urgent customer changes are accepted informally to keep momentum.","Urgent changes are accepted through an ECO process to protect stability.",1),Re("DS_MARKET_04","Market",["pricing_positioning_gap"],"We win by being flexible on customization.","We win by being reliable with proof and delivery.",1),Re("DS_MARKET_05","Market",["complaint_handling_gap"],"Customer complaints are handled quickly and moved on.","Customer complaints are handled and used for systemic improvement.",1),Re("DS_MARKET_06","Market",["channel_dependency"],"We rely on a few strong customers.","We diversify accounts to reduce dependency risk.",1),Re("DS_MARKET_07","Market",["weak_onboarding"],"Account management happens when customers reach out.","Account management follows a routine cadence.",.9),Re("DS_MARKET_08","Market",["weak_proof_pack"],"Product documentation is shared as needed.","Product documentation is standardized and consistent.",.9),Re("DS_MARKET_09","Market",["pricing_margin_blindspot"],"Competitor pricing drives our pricing heavily.","Unit economics and differentiation drive our pricing decisions.",1),Re("DS_MARKET_10","Market",["pricing_margin_blindspot"],"We prioritize winning the contract first.","We prioritize winning contracts that do not destroy margin.",1.1),Re("DS_LEAD_01","Leadership",["decision_bottleneck"],"Decisions are reviewed by senior leaders for safety.","Decisions are guided by clear limits for speed.",1),Re("DS_LEAD_02","Leadership",["no_kpi_ownership"],"KPIs are checked when performance dips.","KPIs are checked daily or weekly with clear visibility.",1),Re("DS_LEAD_03","Leadership",["no_variance_review"],"Problems are solved by experts quickly.","Problems are solved by improving the process for everyone.",1),Re("DS_LEAD_04","Leadership",["no_meeting_to_action"],"Meetings happen when issues pile up.","Meetings happen routinely with owners and closure dates.",1),Re("DS_LEAD_05","Leadership",["hiring_mismatch"],"Hiring fills gaps quickly.","Hiring protects quality with basic skill tests for critical roles.",.9),Re("DS_LEAD_06","Leadership",["training_planning_gap"],"Standards evolve informally based on what works today.","Standards evolve through controlled updates and training.",.9),Re("DS_LEAD_07","Leadership",["role_clarity_gap"],"Quality is mainly a department responsibility.","Quality is a line-owned system with shared accountability.",1),Re("DS_LEAD_08","Leadership",["cross_function_breakdown"],"Engineering changes can happen fast to satisfy customers.","Engineering changes happen fast through a process to prevent chaos.",1),Re("DS_LEAD_09","Leadership",["decision_bottleneck"],"Delegation depends on trust and experience.","Delegation depends on clear roles and approval limits.",.9),Re("DS_LEAD_10","Leadership",["no_kpi_ownership"],"We track what matters when time allows.","We track what matters because it saves time and loss.",.9),Re("DS_INNOV_01","Innovation",["sku_complexity_tax"],"Variants are introduced when customers request them.","Variants are introduced after yield and demand pilots.",1),Re("DS_INNOV_02","Innovation",["slow_bug_fix"],"Automation is pursued to increase throughput.","Automation is pursued after manual process stability is proven.",1),Re("DS_INNOV_03","Innovation",["no_product_testing_rhythm"],"DFM happens when production struggles.","DFM happens before production struggles.",1),Re("DS_INNOV_04","Innovation",["quality_built_late"],"Test coverage evolves mainly from field failures.","Test coverage is designed to prevent field failures.",1),Re("DS_INNOV_05","Innovation",["no_market_feedback_loop"],"Improvement ideas come mainly from engineering.","Improvement ideas come from engineering plus operators.",.9),Re("DS_INNOV_06","Innovation",["no_product_testing_rhythm"],"Kaizen happens when there is slack time.","Kaizen happens on a routine rhythm.",1),Re("DS_INNOV_07","Innovation",["no_product_testing_rhythm"],"New products are launched with urgency.","New products are launched with gates and pilots.",1),Re("DS_INNOV_08","Innovation",["sku_complexity_tax"],"Complexity is tolerated to keep customers satisfied.","Complexity is managed to protect yield and delivery.",1),Re("DS_INNOV_09","Innovation",["quality_definition_gap"],"We prioritize launch speed.","We prioritize launch quality and reliability.",.9),Re("DS_INNOV_10","Innovation",["no_market_feedback_loop"],"Customer feedback is handled mainly by sales.","Customer feedback is translated into product and process improvements.",.9),Re("DS_RISK_01","Risk",["supplier_variance_risk"],"Supplier lots are trusted if they worked before.","Supplier lots are monitored with incoming inspection and scorecards.",1),Re("DS_RISK_02","Risk",["ip_brand_protection_gap"],"IP is protected mostly by relationships and trust.","IP is protected by controlled access and NDAs.",1),Re("DS_RISK_03","Risk",["compliance_blocker_risk"],"Compliance is handled when customers or regulators push.","Compliance is handled proactively for readiness.",1),Re("DS_RISK_04","Risk",["traceability_gap"],"Traceability is good enough until issues arise.","Traceability is designed for fast containment.",1),Re("DS_RISK_05","Risk",["data_security_gap"],"Firmware control is handled informally by engineers.","Firmware control uses version locks and verification.",1),Re("DS_RISK_06","Risk",["hygiene_drift"],"ESD is handled through general awareness.","ESD is handled through routine audits and controls.",1),Re("DS_RISK_07","Risk",["fear_index"],"Incident reporting is mostly informal.","Incident reporting is logged to reduce repeats.",.9),Re("DS_RISK_08","Risk",["contract_gap"],"Customer returns are handled case by case.","Customer returns trigger structured corrective action.",1),Re("DS_RISK_09","Risk",["hygiene_drift"],"Safety is managed through careful behavior.","Safety is managed through behavior plus routine checks.",.9),Re("DS_RISK_10","Risk",["disaster_recovery_gap"],"Recall readiness is assumed.","Recall readiness is practiced through traceability drills.",1),Re("DS_PEOPLE_01","People",["training_gap"],"Training is primarily on-the-job.","Training is on-the-job plus station certification.",1),Re("DS_PEOPLE_02","People",["weak_shift_handover"],"Shift handovers happen naturally through conversation.","Shift handovers follow a quick structure.",1),Re("DS_PEOPLE_03","People",["role_clarity_gap"],"Performance is judged mainly by effort and speed.","Performance is judged by yield, quality, and delivery.",1),Re("DS_PEOPLE_04","People",["hero_operator_dependence"],"The strongest technicians handle the hard problems.","The system is designed so problems do not depend on one person.",1),Re("DS_PEOPLE_05","People",["role_clarity_gap"],"QC is respected but production needs to ship.","QC is respected and can stop the line when needed.",1),Re("DS_PEOPLE_06","People",["cross_function_breakdown"],"Overtime is a normal tool during demand peaks.","Overtime is controlled to prevent defect spikes.",.9),Re("DS_PEOPLE_07","People",["role_clarity_gap"],"Roles are flexible and everyone helps everywhere.","Roles are flexible but critical ownership remains clear.",.9),Re("DS_PEOPLE_08","People",["blame_culture"],"Mistakes are corrected quickly and work continues.","Mistakes are corrected and the process is updated.",1),Re("DS_PEOPLE_09","People",["low_psych_safety"],"Motivation is mainly stable pay and security.","Motivation is stable pay plus growth and recognition.",.9),Re("DS_PEOPLE_10","People",["hero_operator_dependence"],"When people leave, we adjust as needed.","When people leave, we trigger cross-training and retention actions.",.9)],gu=["all"],U0=["Critical","Watch","Stable","Strong","Emergency"],Hme=[{pillar:"Operations",leak:"Rework Spiral, Yield Bleed, and Line Balancing Debt are turning line activity into hidden throughput and quality loss.",strength:"Operations are stable with controlled BOM/ECO flow, balanced stations, calibrated tools, early quality gates, and full traceability.",hook:"Rework Spiral",kpi:"FPY %, Scrap %, Rework hours/day, Throughput units/hour, OEE, Downtime minutes/day, Changeover time, Test retest rate",signal_tags:["quality_built_late","yield_bleed","bottleneck_bounce","planning_gap","changeover_black_hole","measurement_blindspot","traceability_gap","wip_pileup"],cost:"The visible symptom is busy lines; the hidden cost is rework hours, test escapes, and delayed output that quietly erode margin.",cliffhanger:"Fix Mode runs a 7-day containment sprint (defect Pareto + bottleneck stabilization) and a 30-day control build (OEE, kitting, calibration)."},{pillar:"Money",leak:"Margin Mirage, Expedite Burn, and Costing Blindness are draining cash through rework, premium freight, and mispriced complexity.",strength:"Money control is SKU-level with true unit cost, warranty visibility, route-to-cash discipline, and inventory risk controls.",hook:"Margin Mirage",kpi:"Unit cost/SKU, Gross margin by SKU/customer, Warranty % of sales, Expedite cost/month, Inventory turns, DSO, Overtime cost/unit",signal_tags:["pricing_margin_blindspot","costing_gap","purchase_panic","payment_delay_chokehold","inventory_blindspot","yield_bleed","waste_not_costed","supplier_variance_risk"],cost:"Revenue can rise while profit falls when rework, expedite, warranty, and dead stock costs are not controlled as one system.",cliffhanger:"Fix Mode builds a margin bridge in 7 days and a 30-day costing plus quote-governance engine that protects contribution margin."},{pillar:"Market",leak:"On-Time Delivery Shame and Spec Drift Disputes are forcing escalations, chargebacks, and price-only negotiations.",strength:"Market performance is predictable with fast RFQ cycles, requirement lock discipline, OTIF reliability, and proof-pack execution.",hook:"OTIF Shame",kpi:"OTIF %, RFQ cycle time, RFQ win rate %, Complaint/return rate, Escalation closure time, Customer concentration %",signal_tags:["spec_drift_discount","pricing_positioning_gap","complaint_handling_gap","channel_dependency","weak_proof_pack","weak_onboarding","planning_gap"],cost:"When requirements shift mid-build and ship dates slip, support load expands and buyer trust weakens faster than sales teams can recover.",cliffhanger:"Fix Mode installs requirements lock + RFQ SLA in 7 days, then builds a 30-day proof-pack and customer feedback loop."},{pillar:"Leadership",leak:"Firefighting Factory behavior and Decision Bottlenecks keep issues cycling without closure and standards drifting by pressure.",strength:"Leadership control is visible and delegated with daily KPI boards, ECO governance, root-cause closure, and cross-functional cadence.",hook:"Firefighting Factory",kpi:"Action closure %, CAPA closure time, ECO cycle time, KPI visibility days, Delegation coverage %, Cross-functional cadence adherence",signal_tags:["decision_bottleneck","no_kpi_ownership","no_variance_review","no_meeting_to_action","cross_function_breakdown","training_planning_gap","role_clarity_gap"],cost:"Urgency wins each day, but unresolved root causes keep recreating downtime, defects, and costly approval delays.",cliffhanger:"Fix Mode sets a 7-day line-board + ownership rhythm and a 30-day delegation/CAPA system that prevents repeat failures."},{pillar:"Innovation",leak:"Variant Explosion and NPI Stall are increasing complexity while manufacturability and test coverage fail to keep pace.",strength:"Innovation is disciplined through gated NPI, DFM-first reviews, controlled variant strategy, and Kaizen-based process upgrades.",hook:"Variant Explosion",kpi:"NPI milestone hit %, Variant count vs margin concentration, DFM issues pre-launch, Kaizen count/month, Test coverage effectiveness",signal_tags:["sku_complexity_tax","no_product_testing_rhythm","slow_bug_fix","no_market_feedback_loop","quality_definition_gap"],cost:"Complexity added without process readiness multiplies changeover tax, test escapes, and engineering firefighting effort.",cliffhanger:"Fix Mode runs a 7-day variant and NPI triage, then a 30-day DFM + test strategy sprint to stabilize launches."},{pillar:"Risk",leak:"Traceability Blackout, Supplier Quality Trap, and compliance drift are exposing the business to recall and liability shocks.",strength:"Risk posture is audit-ready with lot-level traceability, incoming controls, firmware/version security, and documented acceptance rules.",hook:"Traceability Blackout",kpi:"Incoming defect ppm, Traceability completeness %, Time-to-trace, Compliance findings/closure, Firmware compliance %, Safety incidents",signal_tags:["traceability_gap","supplier_variance_risk","compliance_blocker_risk","data_security_gap","hygiene_drift","contract_gap","ip_brand_protection_gap","disaster_recovery_gap"],cost:"Without traceability and compliance discipline, one bad lot or field failure can become a costly recall and reputation event.",cliffhanger:"Fix Mode establishes 7-day trace and containment controls, then builds a 30-day recall-readiness and compliance system."},{pillar:"People",leak:"Skill Gap Drift and Tribal Knowledge dependency are creating shift variance, fatigue defects, and weak quality ownership.",strength:"People performance is stable through role certification, structured handovers, clear ownership, and incentives aligned to FPY/OTIF.",hook:"Shift Variance Tax",kpi:"Training hours/operator, Station certification %, Shift FPY variance, Turnover %, Absenteeism %, Near-miss incidents",signal_tags:["training_gap","hero_operator_dependence","weak_shift_handover","role_clarity_gap","blame_culture","low_psych_safety","cross_function_breakdown"],cost:"When knowledge is trapped in a few people and handovers are weak, defects spike under pressure and recovery relies on overtime.",cliffhanger:"Fix Mode deploys 7-day handover and ownership rules, then a 30-day certification ladder and cross-training plan."}],Gme="EMS Contract Manufacturer (PCBA + Box Build)",$me="PCBA-Only (SMT + Reflow + AOI + Test)",Yme="Cable / Harness / Connector Assembly",Qme="High-Mix Low-Volume Custom Builds (Industrial, Lab, Prototypes)",Xme="White-Label / Multi-Variant OEM (Many clients, similar products)",Jme="Repair / Refurb / Rework Center (Reverse Logistics)",Zme="Precision Electronics / Medical / High-Compliance Assembly",eye="Contract Electronics Assembly (EMS)  boards & devices",tye="Component Assembly OEM (connectors, harnesses, modules)",iye="Final Device Assembly (phones, gadgets, appliances sub-assemblies)",nye="Private Label / White Label OEM (multiple variants for buyers)",aye="High-Mix Low-Volume (custom builds)",ko=(e,t,i)=>["Operations","Money","Market","Leadership","Innovation","Risk","People"].map(r=>({id:`MB_ASSEMBLY_${e}_${r.toUpperCase()}`,industry:"manufacturing",line_type:t,pillar:r,signal_tags:[],severity_fit:U0,business_size_fit:gu,text:i[r],type:"mission_brief"})),rye=[...ko("S1",["Assembly / OEM","Assembly / OEM (electronics, components)",Gme,eye,iye],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2}, an Execution Drag pattern that usually means yield is leaking while rework loops consume station time. What looks like hard work is often low first-pass output. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode will isolate the top failure modes, stabilize kitting and testing, and recover clean throughput in 7 days.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - classic Margin Mirage behavior where rework, expedites, and hidden scrap quietly absorb contribution margin. Cost: {COST_IMPACT}. Cliffhanger: The Deep Report builds a margin bridge and shows exactly where to stop the bleed in 30 days.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - usually OTIF instability plus requirement-lock gaps that trigger escalations and chargeback pressure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode generates a proof pack and requirement-lock routine that restores trust before the next negotiation.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - a firefighting cadence is likely crowding out prevention and repeat-issue closure. Cost: {COST_IMPACT}. Cliffhanger: The 30-day playbook installs daily line cadence and action closure rules that stop repeat fires.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - variant pressure and unstable NPI handoffs are likely increasing operational drag. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces NPI gates that prevent unstable builds from becoming production emergencies.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - traceability fragility is increasing containment and recall exposure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates minimum viable lot-station-operator traceability in 7 days.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - shift variance and skill gaps are likely driving defect volatility. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys station certification and structured handovers to equalize performance."}),...ko("S2",[$me],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2} - commonly Solder Defect Drift and Calibration Drift with ESD risk in the background. Micro-variation in profiles, inspection windows, and controls quietly pushes FPY down. Cost: {COST_IMPACT}. Cliffhanger: The report will lock process windows, calibration cadence, and test gates to reduce retest and escapes.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - a rework labor black hole is likely absorbing margin without visibility. Cost: {COST_IMPACT}. Cliffhanger: 30-day cost-per-board controls will expose and reduce repeat rework spend.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - quality reputation is fragile and one escape can reset customer confidence. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode will build a quality proof pack and escape-prevention routine that restores trust.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - KPI visibility is likely too weak for stable control. Cost: {COST_IMPACT}. Cliffhanger: A daily FPY-defect-downtime board will shift decisions from opinion to evidence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - DFM feedback to customers is likely underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode converts recurring factory pain into a DFM checklist that improves future builds.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - ESD and traceability gaps are increasing field and recall risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode runs an ESD audit sprint and traceability drill to harden containment.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - tribal setup knowledge is likely creating single-point dependency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode documents critical settings and cross-trains the next line of operators."}),...ko("S3",[Yme,tye],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2} - torque and kitting variation are likely creating misbuild and return risk. In cable and harness work, verification discipline is margin protection. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode adds kitting and verification gates that prevent miswire and mislabeled output in 7 days.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - custom complexity is likely priced like standard production. Cost: {COST_IMPACT}. Cliffhanger: The Deep Report introduces complexity pricing tiers to protect profit per order.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - revision and requirement drift are likely triggering disputes and avoidable rework. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode locks revision control and acceptance criteria so the factory builds the right rev every time.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - approval bottlenecks are likely slowing execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys a delegation matrix with clear limits and faster flow.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - module standardization upside is likely underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a modular platform strategy that reduces recurring custom chaos.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - weak trace and revision discipline can escalate a single field failure into a major event. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens lot-operator-revision traceability and change control.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - shift-level assembly consistency is likely unstable. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode applies station certification with a clear QC stop rule."}),...ko("S4",[Qme,aye],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2} - high-mix context switching is likely creating changeover drag and WIP congestion. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode imposes WIP caps and scheduling rules that stop chaos from spreading across the floor.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - quote underpricing and unbilled engineering time are likely eroding returns. Cost: {COST_IMPACT}. Cliffhanger: The report builds a complexity-based pricing model that charges for real effort.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - lead-time promises are likely misaligned with actual capacity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode aligns delivery commitments to realistic load and reduces trust erosion.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - priority whiplash is likely diffusing execution across too many active jobs. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs a top-3 execution rule and weekly scheduling cadence.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - reusable templates are likely missing, forcing full rework of similar builds. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates reusable build standards that preserve custom value without chaos.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - weak revision control increases dispute and warranty exposure. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces requirement-lock and revision trace before release.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - dependence on one expert is likely limiting delivery resilience. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode activates cross-training and setup documentation for continuity."}),...ko("S5",[Xme,nye],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2} - variant churn and BOM drift are likely turning the line into a configuration error engine. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode rationalizes variants and stabilizes BOM control to cut hidden scrap.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - MOQ and dead-stock risk are likely trapping cash after changes. Cost: {COST_IMPACT}. Cliffhanger: The Deep Report adds ECO inventory impact controls that prevent obsolete stock buildup.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - pricing consistency is likely drifting across similar complexity deals. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode introduces pricing bands and complexity tiers that recover negotiating control.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - uncontrolled change releases are likely destabilizing execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs gated ECO releases with clear ownership.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - modular architecture opportunities are likely underused. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes the core and customizes the shell for faster, cleaner delivery.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - firmware/version and serialization controls are likely below safe scale requirements. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens serialization and firmware locks across client variants.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - variant pressure is likely outrunning training consistency. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs quick-reference cards and station certification to reduce variant errors."}),...ko("S6",[Jme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2} - hidden scrap and test escape patterns are likely feeding repeat returns. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode deploys a FRACAS loop that converts repairs into prevention data.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - diagnostic and handling effort is likely underpriced. Cost: {COST_IMPACT}. Cliffhanger: The report defines service tiers and pricing so turnaround effort is monetized correctly.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - support load is likely overwhelming engineering capacity. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs ticketing and escalation rules that cut repeated support noise.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - turnaround and closure control are likely under-instrumented. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode sets a daily TAT dashboard and closure rhythm.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - failure insights are likely not feeding product or process upgrades. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode builds a failure-theme roadmap that drives upstream improvements.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - device and customer-data handling controls may be too weak for current volume. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode hardens data and device handling controls with audit evidence.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - repair outcomes are likely technician-dependent. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode standardizes test routines and technician certification."}),...ko("S7",[Zme],{Operations:"OPERATIONS - {STATUS}: We detected {LEAK_1} and {LEAK_2} - quality gate and trace controls are likely below compliance-grade expectation. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode installs minimum viable QMS discipline and traceability checks at critical gates.",Money:"MONEY - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - audit panic and compliance rework are likely creating avoidable cost spikes. Cost: {COST_IMPACT}. Cliffhanger: The report builds document control and preventive audit rhythm to stabilize cost.",Market:"MARKET - {STATUS}: We detected {LEAK_1} and {LEAK_2} - buyers likely need stronger evidence of reliability and control. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode produces a compliance-grade proof pack with calibration and trace evidence.",Leadership:"LEADERSHIP - {STATUS}: Leadership signals indicate {LEAK_1} and {LEAK_2} - gated change governance may be too weak for regulated execution. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode enforces ECO governance and approval discipline by risk class.",Innovation:"INNOVATION & CREATIVITY - {STATUS}: We detected {LEAK_1} and {LEAK_2} - improvement velocity may be constrained by uncontrolled change risk. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode creates a controlled innovation pipeline inside compliance boundaries.",Risk:"RISK - {STATUS}: Signals show {LEAK_1} and {LEAK_2} - compliance and recall exposure are materially high when traceability or test evidence is weak. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode activates readiness dashboards and drill-based containment response.",People:"PEOPLE - {STATUS}: People signals show {LEAK_1} and {LEAK_2} - certification depth may be insufficient for high-compliance assembly. Cost: {COST_IMPACT}. Cliffhanger: Fix Mode launches a role-specific certification ladder with periodic revalidation."})],sye=Hme.flatMap(e=>{const t=e.pillar.toUpperCase();return[{id:`LIB_ASSEMBLY_${t}_LEAK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Critical","Watch","Emergency"],business_size_fit:gu,text:e.leak,type:"leak",hook_text:e.hook,cost_text:e.cost,cliffhanger_text:e.cliffhanger,kpi_text:e.kpi},{id:`LIB_ASSEMBLY_${t}_STR`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:e.signal_tags,severity_fit:["Stable","Strong"],business_size_fit:gu,text:e.strength,type:"strength",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_ASSEMBLY_${t}_HOOK`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:U0,business_size_fit:gu,text:e.hook,type:"hook",hook_text:e.hook,kpi_text:e.kpi},{id:`LIB_ASSEMBLY_${t}_KPI`,industry:"manufacturing",line_type:["all"],pillar:e.pillar,signal_tags:[],severity_fit:U0,business_size_fit:gu,text:e.kpi,type:"kpi",kpi_text:e.kpi}]}),oye=[...sye,...rye],ki={solo:"Owner",micro:"Ops Lead",small:"Ops Lead",small_med:"Manager",medium:"Department Lead",large:"Department Lead",enterprise:"Function Head"},lye=[{action_id:"ACT_ASSEMBLY_OPS_7_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["yield_bleed"],title:"Stop the Rework Spiral (top 3 defect Pareto + containment)",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["rework_hours","fpy"],proof_required:["defect_pareto","containment_actions"],impact_score:9},{action_id:"ACT_ASSEMBLY_LEAD_7_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["cross_function_breakdown"],title:"BOM Lock + ECO Freeze Window",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["bom_drift_incidents"],proof_required:["eco_rule","approved_bom_list"],impact_score:8},{action_id:"ACT_ASSEMBLY_OPS_7_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["measurement_blindspot"],title:"Calibration Blitz (critical tools first)",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["retest_rate"],proof_required:["calibration_log","tool_tags"],impact_score:8},{action_id:"ACT_ASSEMBLY_RISK_7_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["hygiene_drift"],title:"ESD Audit Sprint",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["esd_audit_pass"],proof_required:["esd_audit_checklist","audit_photos"],impact_score:8},{action_id:"ACT_ASSEMBLY_OPS_7_03",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["planning_gap"],title:"Component Starvation Prevention (kitting + shortage board)",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["line_stops"],proof_required:["kitting_list","shortage_board"],impact_score:8},{action_id:"ACT_ASSEMBLY_OPS_7_04",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["wip_pileup"],title:"WIP Cap Rule per Station",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["lead_time","defect_visibility"],proof_required:["wip_limit_chart"],impact_score:7},{action_id:"ACT_ASSEMBLY_RISK_7_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["data_security_gap"],title:"Firmware Version Lock",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["firmware_mismatch"],proof_required:["approved_firmware_list","flash_verification_step"],impact_score:8},{action_id:"ACT_ASSEMBLY_LEAD_7_02",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_kpi_ownership"],title:"Daily Line Board (FPY, downtime, top defect)",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["response_time"],proof_required:["line_board_photo"],impact_score:8},{action_id:"ACT_ASSEMBLY_OPS_7_05",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["quality_built_late"],title:"First Article Check for Each Shift",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["defect_escape_rate"],proof_required:["first_article_signoff"],impact_score:8},{action_id:"ACT_ASSEMBLY_PEOPLE_7_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["weak_shift_handover"],title:"15-min Shift Handover",days:7,effort:"S",default_owner_by_size:ki,kpi_links:["shift_variance"],proof_required:["handover_notes"],impact_score:7},{action_id:"ACT_ASSEMBLY_RISK_30_01",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["traceability_gap"],title:"Traceability System (lot/station/operator)",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["traceability_completeness"],proof_required:["trace_process"],impact_score:9},{action_id:"ACT_ASSEMBLY_OPS_30_01",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["bottleneck_bounce"],title:"OEE and Bottleneck Program",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["throughput","downtime"],proof_required:["oee_dashboard","bottleneck_plan"],impact_score:9},{action_id:"ACT_ASSEMBLY_RISK_30_02",industry:"manufacturing",line_type:["all"],pillar:"Risk",signal_tags:["supplier_variance_risk"],title:"Supplier Quality Shield",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["incoming_defect_ppm"],proof_required:["incoming_inspection","supplier_scorecard"],impact_score:8},{action_id:"ACT_ASSEMBLY_LEAD_30_01",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["no_variance_review"],title:"8D/CAPA Closure Workflow",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["repeat_defects"],proof_required:["capa_template","closure_tracker"],impact_score:9},{action_id:"ACT_ASSEMBLY_PEOPLE_30_01",industry:"manufacturing",line_type:["all"],pillar:"People",signal_tags:["training_gap"],title:"Standard Work + Training Certification",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["fpy","shift_variance"],proof_required:["station_checklists","training_signoffs"],impact_score:9},{action_id:"ACT_ASSEMBLY_INNOV_30_01",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["sku_complexity_tax"],title:"Variant Rationalization",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["changeover_time"],proof_required:["sku_profit_ranking"],impact_score:8},{action_id:"ACT_ASSEMBLY_OPS_30_02",industry:"manufacturing",line_type:["all"],pillar:"Operations",signal_tags:["planning_gap"],title:"Planning and Kitting System",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["starvation_stops"],proof_required:["kitting_sop"],impact_score:8},{action_id:"ACT_ASSEMBLY_INNOV_30_02",industry:"manufacturing",line_type:["all"],pillar:"Innovation",signal_tags:["quality_built_late"],title:"Test Strategy Upgrade",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["test_escape_rate","warranty_cost"],proof_required:["test_coverage_map"],impact_score:8},{action_id:"ACT_ASSEMBLY_MARKET_30_01",industry:"manufacturing",line_type:["all"],pillar:"Market",signal_tags:["complaint_handling_gap"],title:"Warranty Feedback Loop",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["warranty_cost"],proof_required:["returns_analysis_report"],impact_score:8},{action_id:"ACT_ASSEMBLY_LEAD_30_02",industry:"manufacturing",line_type:["all"],pillar:"Leadership",signal_tags:["decision_bottleneck"],title:"Delegation Matrix",days:30,effort:"M",default_owner_by_size:ki,kpi_links:["decision_latency"],proof_required:["approval_limits"],impact_score:7}],it=(e,t,i,n,r,s,l,d,p,u,g,h)=>({signal_id:e,pillar:t,symptom_short:i,symptom_long:n,cost_short:r,cost_long:s,cost_type:l,kpi_primary:d,kpi_secondary:p,evidence_request:u,verification_criteria:g,optional_evidence:h,severity_copy:{Stable:"Controlled, but optimization opportunity remains.",Watch:"Early leak; predictability is starting to drift.",Critical:"Active leak; this is now shaping margin, output, and trust."}}),cye=["Capacity Theft","Margin Erosion","Cash Trap","Trust Tax","Risk Exposure","Talent Drain"],dye=["Next, Fix Mode will","To stop this leak, your 7-day sprint will","Your report will show the exact steps to","The next move is to lock","Within 30 days, the control system we build will"],uye={quality_built_late:it("quality_built_late","Operations","Defects are detected after value has already been added.","Stations look productive, but failures surface late and force expensive recovery loops.","Capacity is consumed twice as rework replaces first-pass output.","This usually appears as higher rework hours, slower throughput, and rising defect escapes.","Time","FPY %","Rework hours/day","Upload first-article checks and stage-gate QC sign-off for each shift.","Evidence is valid when checks are dated and tied to active SKUs.","Before/after defect Pareto screenshot."),yield_bleed:it("yield_bleed","Operations","Good units are leaking into scrap and retest.","Daily output appears busy, but yield instability keeps delivered good units flat.","Margin is diluted by material and labor used on non-saleable output.","The leak compounds through scrap, rework labor, and hidden test time.","Margin","FPY %","Scrap %","Upload scrap reasons by station and weekly FPY trend.","Evidence is valid when reason codes and station mapping are complete.","Photo of scrap quarantine with labels."),bottleneck_bounce:it("bottleneck_bounce","Operations","One station is throttling the whole line.","Queues grow before one operation while downstream capacity stays idle or underused.","Throughput stays capped while labor cost remains fixed.","The cost shows as lower units/hour, overtime pressure, and missed daily plans.","Time","Throughput units/hour","Downtime minutes/day","Upload bottleneck station cycle-time snapshot and queue photo.","Evidence is valid when bottleneck station and timing window are clear.","Short video from queue build-up point."),wip_pileup:it("wip_pileup","Operations","WIP is absorbing visibility and delaying defect detection.","Too much in-process inventory hides flow issues until late-stage failure or schedule miss.","Lead time expands and quality problems become expensive to unwind.","Cash and capacity both get trapped while output predictability drops.","Cash","WIP level","Lead time","Upload WIP counts per station with FIFO lane photo.","Evidence is valid when station counts and cap limits are documented.","Before/after WIP map."),planning_gap:it("planning_gap","Operations","Parts and priorities arrive late, forcing line improvisation.","Frequent shortages or scheduling surprises cause stop-start execution throughout the shift.","Expedites and idle labor become normalized operating cost.","It appears as line stops, schedule misses, and higher rescue spend.","Cash","Line stop count","OTIF %","Upload shortage board and daily kit-complete checklist.","Evidence is valid when missing part number, stop duration, and owner are present.","Supplier lead-time variance export."),changeover_black_hole:it("changeover_black_hole","Operations","Variant switches are consuming disproportionate production time.","Frequent changeovers disrupt rhythm and create post-change defect spikes.","Output opportunity is lost and complexity tax rises.","The leak appears in lower throughput and unstable FPY after each switch.","Time","Changeover time","FPY %","Upload timed changeover log from stop to first good unit.","Evidence is valid when steps and elapsed time are captured per variant.","Video of current setup sequence."),measurement_blindspot:it("measurement_blindspot","Operations","Tool and test drift is creating unreliable pass/fail outcomes.","Calibration discipline is inconsistent, so variation gets mistaken for random failure.","Retests rise and true root cause is delayed.","The cost appears as test instability, escapes, and preventable debug effort.","Risk","Calibration compliance %","Retest rate %","Upload calibration schedule and critical tool status tags.","Evidence is valid when due dates are visible and not expired.","Last failed calibration corrective action."),traceability_gap:it("traceability_gap","Risk","Failures cannot be rapidly traced to lot, station, and operator.","Containment depends on memory and ad hoc checks instead of structured serial or lot history.","Incident blast radius increases and recall containment slows.","The cost appears as slower containment, broader rework scope, and dispute exposure.","Risk","Traceability completeness %","Time-to-trace","Upload batch or serial trace from finished unit back to lot and station.","Evidence is valid when the trace path is complete and timestamped.","Trace drill report with containment timing."),no_standard_work:it("no_standard_work","Operations","Execution quality depends on who is on station.","Instructions are optional or outdated, so operators rely on memory and local shortcuts.","Variation expands and training ramp time increases.","The cost appears as shift-dependent quality and recurring errors.","Talent","Audit pass %","Shift FPY variance","Upload current station SOP and operator acknowledgement list.","Evidence is valid when SOP version and sign-off date are visible.","Photo of visual work standard at station."),purchase_panic:it("purchase_panic","Money","Rescue buying and premium freight are replacing planning.","Material decisions are made under urgency instead of lead-time and cost control.","Emergency pricing and logistics premiums compress gross margin.","The leak appears as expedite spikes and unstable unit economics.","Cash","Expedite UGX/month","Material cost variance","Upload expedite invoice log with root-cause codes.","Evidence is valid when each expedite has cause and prevention owner.","Supplier SLA comparison sheet."),pricing_margin_blindspot:it("pricing_margin_blindspot","Money","Shipments are growing faster than protected margin.","Deals are priced to win volume while complexity, rework, and support cost are underweighted.","Contribution margin is being traded for revenue optics.","The cost appears as revenue growth with weak cash and declining profitability.","Margin","Gross margin % by SKU","Contribution margin by customer","Upload SKU margin bridge including scrap, rework, and expedite.","Evidence is valid when margin bridge includes at least three leak categories.","Quote vs actual margin comparison."),costing_gap:it("costing_gap","Money","True per-SKU economics are unclear at quote and scheduling time.","Labor, test, scrap, and overhead are not consistently reflected in quoting logic.","Unprofitable work is accepted and capacity is misallocated.","The cost appears as low-margin jobs dominating high-value resources.","Margin","Unit cost per SKU","Quote accuracy %","Upload current unit cost model with labor, materials, test, and overhead.","Evidence is valid when each major cost bucket is explicit.","Complexity-tier pricing table."),payment_delay_chokehold:it("payment_delay_chokehold","Money","Cash conversion is lagging behind shipments.","Delivery performance does not translate into timely collections, increasing working-capital strain.","Cash is trapped in receivables while operations continue funding customer delay.","The leak appears as tighter liquidity and emergency payment prioritization.","Cash","DSO","Aging >30 days","Upload receivables aging and collection follow-up cadence.","Evidence is valid when aging buckets and follow-up dates are current.","Stop-delivery escalation rule."),inventory_blindspot:it("inventory_blindspot","Money","Cash is locked in parts and WIP without clear turnover control.","Stock policies are reactive, causing both overstock and urgent shortages.","Working capital stays trapped and obsolescence risk rises with ECO churn.","The cost appears as low turns, dead stock growth, and planning instability.","Cash","Inventory turns","Dead stock value","Upload inventory aging report with top slow-moving items.","Evidence is valid when aging bands and value by item are shown.","Dead stock reduction plan."),waste_not_costed:it("waste_not_costed","Money","Scrap and rework are tracked operationally but not fully monetized.","Losses are accepted as process noise rather than explicit cost drivers.","Profitability is overstated and decisions underreact to leak severity.","The cost appears as repeated waste with no financial closure pressure.","Margin","Scrap cost/month","Rework cost/month","Upload scrap and rework valuation summary for latest month.","Evidence is valid when quantity and unit cost are both captured.","Before/after leak valuation trend."),supplier_variance_risk:it("supplier_variance_risk","Risk","Incoming lot variation is destabilizing process yield.","Supplier quality inconsistency creates hidden rework and unreliable line performance.","You pay supplier quality cost through scrap, retest, and delay.","The cost appears as incoming defects, unstable FPY, and OTIF pressure.","Risk","Incoming defect ppm","Supplier corrective-action closure time","Upload incoming inspection summary and supplier corrective-action log.","Evidence is valid when lot-level defects and supplier owner/date are visible.","Top supplier scorecard."),spec_drift_discount:it("spec_drift_discount","Market","Requirements are changing in-flight and forcing costly corrections.","Sales, engineering, and production are not locking CTQs early enough.","Unplanned changes create rework and pricing concessions.","The cost appears as disputes, delay, and margin giveback.","Trust","Spec dispute count","ECO cycle time","Upload requirement-lock checklist and latest signed acceptance criteria.","Evidence is valid when revision and approval timestamp are explicit.","Customer change-request log."),pricing_positioning_gap:it("pricing_positioning_gap","Market","Commercial wins rely on flexibility more than reliability proof.","Differentiation is weak, so negotiations converge to price pressure.","Margin and account quality degrade as price concessions increase.","The cost appears as low-value mix and unstable forecast confidence.","Margin","Price realization","Win rate %","Upload proof-pack draft (quality, delivery, trace evidence) used in quoting.","Evidence is valid when proof-pack is attached to live quote flow.","Win/loss reason notes."),complaint_handling_gap:it("complaint_handling_gap","Market","Escalations close slowly and the same issues recur.","Customer issues are handled tactically without a strong prevention loop into operations.","Support load expands and trust decays faster than recovery efforts.","The cost appears as repeat complaints, warranty burden, and engineering diversion.","Trust","Complaint closure time","Repeat complaint %","Upload complaint register with root-cause and closure owner.","Evidence is valid when repeat-theme tracking is visible.","FRACAS linkage to complaint themes."),channel_dependency:it("channel_dependency","Market","A few accounts hold disproportionate pricing power.","Revenue concentration amplifies negotiation pressure and forecast volatility.","Any account shock directly impacts operating cash and capacity utilization.","The cost appears as tighter terms and lower strategic flexibility.","Cash","Revenue concentration top-1/top-5","Margin by customer","Upload customer concentration chart with margin overlay.","Evidence is valid when concentration and margin are shown together.","Diversification pipeline tracker."),weak_onboarding:it("weak_onboarding","Market","Account handoff quality is inconsistent after PO win.","Customer expectation and execution alignment degrades during onboarding and first deliveries.","Early-stage friction increases complaint and churn risk.","The cost appears as slower ramp and repeat clarifications.","Trust","Onboarding completion %","Early complaint rate","Upload onboarding checklist and first-delivery communication template.","Evidence is valid when checklist is customer-specific and signed.","First 30-day account review notes."),weak_proof_pack:it("weak_proof_pack","Market","Commercial story lacks quality and reliability evidence.","Without proof artifacts, technical confidence is replaced by price skepticism.","Deal velocity and price integrity weaken.","The cost appears as slower conversions and heavier discounting.","Trust","RFQ win rate","Price realization","Upload current test certificate and trace-summary template used in quotes.","Evidence is valid when live quotes include the proof attachment.","Three customer-ready case snippets."),decision_bottleneck:it("decision_bottleneck","Leadership","Execution waits for a small approval core.","Critical decisions queue behind limited approvers, slowing containment and schedule recovery.","Response speed drops and issue dwell time increases.","The cost appears as delayed closures, OTIF misses, and avoidable urgency.","Time","Decision latency","Action closure rate %","Upload approval matrix and list of delayed decisions from last 2 weeks.","Evidence is valid when delegated limits are explicit.","Before/after latency trend."),no_kpi_ownership:it("no_kpi_ownership","Leadership","Daily execution lacks clear numerical ownership.","KPIs exist but have no accountable owner, so response timing is inconsistent.","Weak visibility allows losses to compound before action.","The cost appears as repeated surprises in quality, downtime, and delivery.","Time","KPI update compliance %","Action closure rate %","Upload daily KPI board with named owners.","Evidence is valid when owner and cadence are visible for each KPI.","Weekly KPI review notes."),no_variance_review:it("no_variance_review","Leadership","Variances are patched but not converted into prevention.","Operational exceptions recur because closure discipline is weak.","Payroll and capacity are consumed by repeated failures.","The cost appears as recurring defects and unstable week-to-week performance.","Time","Repeat defect recurrence %","CAPA closure time","Upload top variance log with root-cause closure status.","Evidence is valid when recurrence tracking and owner/date exist.","5-Whys summary for top 3 issues."),no_meeting_to_action:it("no_meeting_to_action","Leadership","Meetings produce discussion without verified closure.","Action ownership and deadlines are not enforced consistently after review.","Execution drifts while issues resurface.","The cost appears as delayed implementation and repeat escalations.","Time","Action closure rate %","Lead time","Upload meeting action tracker with owner and due date fields.","Evidence is valid when closed actions link to proof.","Rolling overdue-action report."),cross_function_breakdown:it("cross_function_breakdown","Leadership","Engineering, quality, and production are resolving issues in silos.","Handoffs are weak, so defects and change impacts travel without alignment.","Cycle time increases while responsibility clarity decreases.","The cost appears as slower fixes, late ECO containment, and blame loops.","Talent","Cross-functional issue closure time","ECO defect rate","Upload daily cross-functional standup notes with blockers and owners.","Evidence is valid when blocker owner and closure date are present.","Shared KPI dashboard screenshot."),training_planning_gap:it("training_planning_gap","Leadership","Capability development is reactive to failures.","Training is not planned against recurring error patterns and line criticality.","Skill gaps persist and onboarding drag stays high.","The cost appears as repeat mistakes and slow ramp on critical stations.","Talent","Training completion %","Ramp time","Upload monthly training plan linked to top defects.","Evidence is valid when planned sessions map to station risk.","Certification matrix progress chart."),hiring_mismatch:it("hiring_mismatch","Leadership","Urgency hiring is increasing variance on critical work.","Role-fit checks are limited, so early errors and supervision load rise.","Output stability degrades as line complexity grows.","The cost appears as rework, retraining, and supervisor overload.","Talent","90-day retention %","New-hire defect rate","Upload hiring scorecard and station skill-test template.","Evidence is valid when hiring criteria include station-critical skills.","New-hire ramp performance summary."),role_clarity_gap:it("role_clarity_gap","People","Ownership of quality, downtime, and delivery outcomes is blurred.","Teams help broadly, but critical accountability boundaries are unclear.","Issues linger because ownership is distributed without closure authority.","The cost appears as slower action and recurring preventable defects.","Talent","Owner assignment completeness %","Closure rate %","Upload role scorecards for FPY, downtime, and escapes.","Evidence is valid when each KPI has named accountable owner.","RACI snapshot for one active SKU."),fear_index:it("fear_index","People","Incidents are underreported until impact is high.","Teams avoid early escalation when consequences are unclear or punitive.","Hidden defects survive longer and containment gets more expensive.","The cost appears as surprise escapes and late-stage firefighting.","Risk","Incident reporting rate","Escape count","Upload incident log with near-miss entries and closure actions.","Evidence is valid when logs include preventive actions, not only events.","Anonymous reporting channel screenshot."),blame_culture:it("blame_culture","People","Teams optimize for self-protection over early truth.","Defect data quality drops when issue reporting triggers blame instead of system fixes.","Learning loop weakens and recurrence increases.","The cost appears as repeated defects and slower root-cause closure.","Talent","Repeat defect %","Incident closure time","Upload no-blame reporting policy and recent retros log.","Evidence is valid when retros include system actions and owners.","Trend of self-reported issues by shift."),low_psych_safety:it("low_psych_safety","People","Critical issues are raised late or indirectly.","Operators hesitate to flag weak builds early, allowing defects to travel downstream.","Containment cost increases as signal latency grows.","The cost appears as late catches, escapes, and morale drag.","Talent","Near-miss reporting #","Escapes per month","Upload shift handover notes with defect and risk flags.","Evidence is valid when risk items include action owner and timestamp.","Team pulse check summary."),training_gap:it("training_gap","People","Critical station controls are not consistently learned.","Operators adapt by experience, creating uneven quality across shifts and products.","Skill inconsistency drives defect recurrence and supervision load.","The cost appears as higher rework, longer ramp-up, and shift volatility.","Talent","Certification coverage %","Shift FPY variance","Upload station training records and certification matrix.","Evidence is valid when critical stations have current certified owners.","Before/after skill gap tracker."),weak_shift_handover:it("weak_shift_handover","People","Shift transitions are leaking defect context.","Operational context is transferred verbally and inconsistently, so known risks recur.","Quality and pace diverge by shift with avoidable repeats.","The cost appears as restart losses and recurring defects after handover.","Time","Shift variance gap","Repeat defect %","Upload shift handover checklist with latest two completed examples.","Evidence is valid when defect, material, and machine status are captured.","Handover compliance trend."),hero_operator_dependence:it("hero_operator_dependence","People","Line stability depends on a few specialists.","Output and quality drop disproportionately when key operators are unavailable.","Scalability is constrained by concentration risk in critical skills.","The cost appears as unstable coverage and delayed recovery under absence.","Talent","Critical role coverage %","Absence impact on FPY","Upload critical-role coverage matrix and backup assignment list.","Evidence is valid when at least two trained backups exist per critical station.","Cross-training completion tracker."),sku_complexity_tax:it("sku_complexity_tax","Innovation","Variant load is growing faster than operational control.","Each added variant amplifies changeover pressure, documentation overhead, and error probability.","Complexity tax reduces effective capacity and predictable margin.","The cost appears as longer changeovers, more mix-ups, and higher WIP drag.","Margin","Changeover time","Margin by variant tier","Upload active SKU list with complexity tags and margin ranking.","Evidence is valid when low-margin high-complexity SKUs are identified.","Variant rationalization decision log."),no_product_testing_rhythm:it("no_product_testing_rhythm","Innovation","NPI and product changes lack a repeatable pilot rhythm.","New releases are pushed under urgency without stable test gates and learning capture.","Launch defects and rework rise, delaying reliable scale.","The cost appears as ramp instability and recurring launch fire drills.","Risk","NPI defect rate","NPI milestone hit %","Upload NPI gate checklist and latest pilot report.","Evidence is valid when pilot output includes pass/fail criteria and sign-offs.","Post-launch defect trend."),slow_bug_fix:it("slow_bug_fix","Innovation","Improvement cadence is slower than defect recurrence.","Known issues remain open long enough to reappear in production or field outcomes.","Engineering effort stays in reactive mode instead of prevention.","The cost appears as persistent defect loops and delayed release confidence.","Time","Bug closure SLA","Repeat defect %","Upload defect backlog with aging and owner fields.","Evidence is valid when closure SLA and priority bands are defined.","Weekly closure burn-down chart."),no_market_feedback_loop:it("no_market_feedback_loop","Innovation","Customer feedback is not shaping design and process quickly.","Commercial and support signals remain disconnected from engineering prioritization.","Market-fit improvements lag while service burden grows.","The cost appears as recurring complaints and weaker price leverage.","Trust","Feedback-to-change cycle time","Repeat complaint %","Upload customer issue themes linked to roadmap actions.","Evidence is valid when each theme has planned owner and ETA.","QBR summary with closed actions."),quality_definition_gap:it("quality_definition_gap","Innovation","Quality expectations are not translated into robust test criteria.","Teams share intent but differ on measurable pass/fail thresholds under variation.","Ambiguity drives false passes, retests, and preventable escapes.","The cost appears as inconsistent acceptance behavior and customer dispute risk.","Risk","Escape rate","Retest rate","Upload CTQ definition and acceptance test criteria by SKU family.","Evidence is valid when CTQs map to test steps and limits.","Updated test coverage matrix."),hygiene_drift:it("hygiene_drift","Risk","ESD and discipline controls are uneven across shifts.","Routine protective behaviors degrade under pressure, increasing intermittent or latent failures.","Failure diagnosis cost rises and reliability confidence drops.","The cost appears as mystery defects and avoidable field returns.","Risk","ESD audit pass %","Intermittent failure rate","Upload latest ESD and workstation discipline audit with findings.","Evidence is valid when nonconformance actions have owner and due date.","Before/after audit score trend."),contract_gap:it("contract_gap","Risk","Acceptance boundaries and liability terms are underspecified.","Returns, rework scope, and defect accountability become negotiation topics after shipment.","Financial exposure increases through disputes and unpaid correction work.","The cost appears as chargebacks, legal friction, and delayed collections.","Risk","Dispute rate","Chargeback value","Upload standard contract terms covering acceptance and returns.","Evidence is valid when terms are present in active customer templates.","Recent signed acceptance criteria."),compliance_blocker_risk:it("compliance_blocker_risk","Risk","Compliance readiness is reactive instead of operational.","Audit requirements are assembled under deadline pressure rather than maintained continuously.","Certification and customer approvals become bottlenecks.","The cost appears as delayed opportunities and escalation risk.","Risk","Audit findings #","Closure time","Upload compliance checklist with current status and owner.","Evidence is valid when open gaps have dated closure actions.","Internal audit calendar."),data_security_gap:it("data_security_gap","Risk","Firmware and data access controls are too permissive.","Version integrity and access governance are not consistently enforced across stations.","Security incidents and wrong-version risk increase.","The cost appears as field instability, compliance exposure, and trust loss.","Risk","Firmware compliance %","Access incident #","Upload firmware governance SOP and role-based access matrix.","Evidence is valid when version lock and approval path are documented.","Signed firmware release log."),ip_brand_protection_gap:it("ip_brand_protection_gap","Risk","Customer design assets are insufficiently protected.","Sensitive drawings and files are shared without strict access control and auditability.","IP leakage risk undermines enterprise trust and legal posture.","The cost appears as contract risk and reduced access to high-value programs.","Risk","Unauthorized access incidents","NDA compliance %","Upload NDA process and design-file access policy.","Evidence is valid when file access is role-bound and logged.","Periodic access review record."),disaster_recovery_gap:it("disaster_recovery_gap","Risk","Containment and recovery are not drill-tested.","Teams can describe response actions, but no recent simulation validates speed and completeness.","Incident downtime risk is higher than assumed.","The cost appears as longer outages and uncontrolled failure spread.","Risk","Time-to-contain","Recovery time objective","Upload latest containment or recall drill summary.","Evidence is valid when timeline, roles, and gaps are documented.","Updated continuity playbook.")},B4={signal_id:"quality_built_late",pillar:"Operations",symptom_short:"Execution variance is visible but not yet tightly controlled.",symptom_long:"The team is compensating in real time, but repeated friction points are still consuming capacity.",cost_short:"Hidden recovery work is reducing effective output and margin.",cost_long:"This usually shows up as overtime, retests, delayed closures, and avoidable escalations.",cost_type:"Time",kpi_primary:"FPY %",kpi_secondary:"Downtime minutes/day",evidence_request:"Upload one dated proof of process control improvement for this signal.",verification_criteria:"Evidence is valid when it is dated, relevant, and linked to a measurable KPI.",optional_evidence:"Before/after KPI screenshot.",severity_copy:{Stable:"Controlled with optimization upside.",Watch:"Early leak forming; stabilization needed.",Critical:"Active leak; containment required now."}},pye=uye,bc=e=>pye[e]||{...B4,signal_id:e},fye=e=>{const t=e.slice(0,2).map(i=>bc(i).symptom_short);return t.length===0?B4.symptom_short:t.length===1?t[0]:`${t[0]} and ${t[1]}`},gye=(e,t,i)=>{const n=bc(e[0]||"quality_built_late"),r=bc(e[1]||e[0]||"quality_built_late"),s=n.severity_copy[i];return`${t}: ${n.cost_short} ${r.cost_short} ${s}`},hye=e=>{const t=bc(e[0]||"quality_built_late");return`${t.evidence_request} Verify: ${t.verification_criteria}`},mye=[{tag_id:"REWORK_TAX",related_signals:["quality_built_late","yield_bleed","waste_not_costed"],critical_signals:["quality_built_late"],why_it_matters:"Capacity is being converted into rework instead of sellable units.",report_behavior:"Emphasize Capacity Theft and repeat-defect narrative.",fix_mode_behavior:"Prioritize FPY containment, defect Pareto, and stage-gate checks.",marketplace_match:["Lean/Quality Engineer"]},{tag_id:"ESCAPE_RISK",related_signals:["quality_built_late","complaint_handling_gap","traceability_gap"],critical_signals:["traceability_gap","quality_built_late"],why_it_matters:"Field escapes can rapidly convert into warranty and trust collapse.",report_behavior:"Use Trust Tax framing and incident growth scenario.",fix_mode_behavior:"Add containment, return-theme closure, and test-gate reinforcement.",marketplace_match:["Quality Systems Consultant"]},{tag_id:"TEST_BOTTLENECK",related_signals:["measurement_blindspot","quality_built_late","no_product_testing_rhythm"],why_it_matters:"Testing is acting as a rework funnel instead of prevention layer.",report_behavior:"Highlight cycle-time drag and retest inflation.",fix_mode_behavior:"Run calibration blitz and redesign early test coverage.",marketplace_match:["Test Engineering Specialist"]},{tag_id:"ESD_EXPOSURE",related_signals:["hygiene_drift","traceability_gap","data_security_gap"],critical_signals:["hygiene_drift"],why_it_matters:"Intermittent failure exposure rises when ESD discipline drifts.",report_behavior:"Emphasize latent failure risk and audit exposure.",fix_mode_behavior:"Deploy ESD audit cadence with logged enforcement.",marketplace_match:["ESD/Compliance Expert"]},{tag_id:"VARIANT_EXPLOSION",related_signals:["sku_complexity_tax","changeover_black_hole","cross_function_breakdown","quality_definition_gap"],critical_signals:["sku_complexity_tax"],why_it_matters:"Complexity is growing faster than process control.",report_behavior:"Apply Margin Erosion framing focused on changeover tax.",fix_mode_behavior:"Launch SKU rationalization and modular standardization sprint.",marketplace_match:["Operations Strategy Consultant"]},{tag_id:"PLANNING_BREAKDOWN",related_signals:["planning_gap","purchase_panic","inventory_blindspot","supplier_variance_risk"],critical_signals:["planning_gap"],why_it_matters:"Rescue spending is replacing stable production planning.",report_behavior:"Stress cash bleed from line stops and premium freight.",fix_mode_behavior:"Build kitting discipline, shortage board, and supplier SLA controls.",marketplace_match:["Supply Chain Consultant"]},{tag_id:"TRACEABILITY_GAP",related_signals:["traceability_gap","contract_gap","disaster_recovery_gap"],critical_signals:["traceability_gap"],why_it_matters:"Containment speed collapses when lot-level history is incomplete.",report_behavior:"Use Risk Exposure framing and recall narrative.",fix_mode_behavior:"Install minimum viable traceability and drill-based validation.",marketplace_match:["QMS/Traceability Specialist"]},{tag_id:"ECO_CHAOS",related_signals:["cross_function_breakdown","sku_complexity_tax","no_variance_review"],why_it_matters:"Uncontrolled change creates scrap, confusion, and dead stock.",report_behavior:"Highlight change-induced instability and margin leakage.",fix_mode_behavior:"Enforce ECO gates, communication templates, and pilot release rules.",marketplace_match:["Engineering Change Consultant"]},{tag_id:"MARGIN_MELTDOWN",related_signals:["pricing_margin_blindspot","waste_not_costed","costing_gap"],critical_signals:["pricing_margin_blindspot","costing_gap"],why_it_matters:"Revenue activity is not converting into protected contribution margin.",report_behavior:"Use Margin Erosion and Busy-but-Broke narrative.",fix_mode_behavior:"Generate margin bridge and quote guardrails.",marketplace_match:["Finance Ops Consultant"]},{tag_id:"CASH_LOCKED_IN_STOCK",related_signals:["inventory_blindspot","supplier_variance_risk","payment_delay_chokehold"],critical_signals:["payment_delay_chokehold"],why_it_matters:"Cash is trapped in inventory and receivables while operations stay exposed.",report_behavior:"Use Cash Trap framing with working-capital focus.",fix_mode_behavior:"Run inventory aging cleanup and DSO control routine.",marketplace_match:["Inventory & Cost Control"]},{tag_id:"EXPEDITE_ADDICTION",related_signals:["purchase_panic","planning_gap","decision_bottleneck"],why_it_matters:"Urgency spending is masking process instability.",report_behavior:"Highlight premium-freight leakage trend.",fix_mode_behavior:"Add reason-code enforcement and planning recovery actions.",marketplace_match:["Supply Chain Consultant"]},{tag_id:"QUOTE_LOSING_MONEY",related_signals:["costing_gap","pricing_margin_blindspot","sku_complexity_tax"],critical_signals:["costing_gap"],why_it_matters:"Commercial wins are not screened for real complexity cost.",report_behavior:"Emphasize unit economics gap at RFQ stage.",fix_mode_behavior:"Implement quote checklist and pricing tier approvals.",marketplace_match:["Pricing/Quoting Expert"]},{tag_id:"AR_COLLECTION_RISK",related_signals:["payment_delay_chokehold","channel_dependency"],critical_signals:["payment_delay_chokehold"],why_it_matters:"Cash stress rises when collections lag behind delivery.",report_behavior:"Frame as cash conversion instability.",fix_mode_behavior:"Deploy receivable cadence and escalation policy.",marketplace_match:["Finance Ops Consultant"]},{tag_id:"OTIF_AT_RISK",related_signals:["planning_gap","bottleneck_bounce","spec_drift_discount"],critical_signals:["planning_gap"],why_it_matters:"Delivery reliability drops when flow and requirements are unstable.",report_behavior:"Use Trust Tax framing on schedule misses.",fix_mode_behavior:"Prioritize schedule adherence and bottleneck stabilization.",marketplace_match:["Operations Improvement Specialist"]},{tag_id:"SPEC_DISPUTE_ZONE",related_signals:["spec_drift_discount","contract_gap","cross_function_breakdown"],critical_signals:["spec_drift_discount","contract_gap"],why_it_matters:"Unclear acceptance boundaries convert into costly dispute loops.",report_behavior:"Focus on acceptance criteria and revision control risk.",fix_mode_behavior:"Install CTQ sign-off and change control discipline.",marketplace_match:["Contract/Quality Specialist"]},{tag_id:"CUSTOMER_ESCALATION_LOOP",related_signals:["complaint_handling_gap","weak_onboarding","no_market_feedback_loop"],why_it_matters:"Escalations consume leadership and engineering bandwidth repeatedly.",report_behavior:"Highlight recurring escalation and support load story.",fix_mode_behavior:"Deploy triage SLA and recurrence-kill closure process.",marketplace_match:["Customer Operations Consultant"]},{tag_id:"COMMODITY_PRESSURE",related_signals:["pricing_positioning_gap","weak_proof_pack","channel_dependency"],why_it_matters:"Weak differentiation forces price-led negotiations.",report_behavior:"Emphasize trust proof gap and margin compression.",fix_mode_behavior:"Build proof-pack assets and value-positioning standard.",marketplace_match:["Marketing/Positioning Consultant"]},{tag_id:"FIRE_FIGHTING_CULTURE",related_signals:["no_kpi_ownership","no_meeting_to_action","no_variance_review","decision_bottleneck"],critical_signals:["no_kpi_ownership","no_meeting_to_action"],why_it_matters:"Without cadence and closure, recurring losses become structural.",report_behavior:"Use Capacity Theft framing on repeated operational fire drills.",fix_mode_behavior:"Install daily board, weekly closure, and owner discipline.",marketplace_match:["Leadership/Ops Coach"]},{tag_id:"DECISION_BOTTLENECK",related_signals:["decision_bottleneck","role_clarity_gap"],critical_signals:["decision_bottleneck"],why_it_matters:"Slow approvals convert solvable issues into delivery risk.",report_behavior:"Stress decision latency impact on OTIF and containment.",fix_mode_behavior:"Introduce delegation matrix and backup owners.",marketplace_match:["Leadership Coach"]},{tag_id:"SHIFT_VARIANCE",related_signals:["weak_shift_handover","training_gap","role_clarity_gap","hero_operator_dependence"],critical_signals:["weak_shift_handover","training_gap"],why_it_matters:"Output quality changes by shift, not by standard.",report_behavior:"Use Talent Drain framing with day/night gap evidence.",fix_mode_behavior:"Deploy handover routine and station certification.",marketplace_match:["Training/Ops Specialist"]},{tag_id:"BURNOUT_DEFECT_LOOP",related_signals:["hero_operator_dependence","weak_shift_handover","fear_index"],why_it_matters:"Fatigue and overload amplify defect and turnover risk.",report_behavior:"Highlight human-capacity constraints behind quality drift.",fix_mode_behavior:"Add overtime controls and critical-role coverage plan.",marketplace_match:["HR/Ops Coach"]},{tag_id:"TRIBAL_KNOWLEDGE_RISK",related_signals:["hero_operator_dependence","training_gap","no_standard_work"],critical_signals:["hero_operator_dependence"],why_it_matters:"Key knowledge concentration creates fragile execution.",report_behavior:"Emphasize single-point failure and scaling risk.",fix_mode_behavior:"Capture setup SOPs and cross-train backups.",marketplace_match:["Systems Builder"]},{tag_id:"FEAR_BASED_EXECUTION",related_signals:["fear_index","blame_culture","low_psych_safety"],critical_signals:["fear_index","low_psych_safety"],why_it_matters:"Late reporting increases escape probability and containment cost.",report_behavior:"Use Risk Exposure framing on hidden issue dynamics.",fix_mode_behavior:"Install safe reporting and manager coaching routines.",marketplace_match:["HR + Leadership Coach"]},{tag_id:"AUDIT_PANIC_MODE",related_signals:["compliance_blocker_risk","traceability_gap","disaster_recovery_gap"],critical_signals:["compliance_blocker_risk"],why_it_matters:"Compliance gaps can block contracts and trigger escalation.",report_behavior:"Stress readiness gaps and audit closure urgency.",fix_mode_behavior:"Run audit readiness sprint with evidence tracker.",marketplace_match:["Compliance/QMS Consultant"]},{tag_id:"COUNTERFEIT_COMPONENT_RISK",related_signals:["supplier_variance_risk","traceability_gap"],critical_signals:["supplier_variance_risk"],why_it_matters:"Unverified sourcing can trigger catastrophic reliability failures.",report_behavior:"Emphasize incoming quality and provenance controls.",fix_mode_behavior:"Enforce approved supplier list and lot authentication checks.",marketplace_match:["Supply Chain/Compliance Consultant"]},{tag_id:"SECURITY_FIRMWARE_RISK",related_signals:["data_security_gap","traceability_gap","contract_gap"],critical_signals:["data_security_gap"],why_it_matters:"Version and access weakness can create safety, legal, and trust shock.",report_behavior:"Use Risk Exposure framing around firmware governance.",fix_mode_behavior:"Lock firmware release, access control, and verification path.",marketplace_match:["Cybersecurity/Embedded Specialist"]}],yye=2,_ye=3,vye=3,bye=e=>new Set(e.filter(t=>t.score>0).map(t=>t.tag)),xye=(e,t)=>{var i;return(((i=t.find(n=>n.tag===e))==null?void 0:i.score)||0)>=vye},kye=e=>{const t=bye(e),i=[];return mye.forEach(n=>{const r=n.related_signals.filter(g=>t.has(g)),s=n.watch_min_matches||yye,l=n.critical_min_matches||_ye,d=(n.critical_signals||[]).some(g=>t.has(g)),p=n.related_signals.some(g=>xye(g,e));let u=null;r.length>=l||d?u="Critical":(r.length>=s||p)&&(u="Watch"),u&&i.push({tag_id:n.tag_id,severity:u,trigger_signals:r,why_it_matters:n.why_it_matters,report_behavior:n.report_behavior,fix_mode_behavior:n.fix_mode_behavior,marketplace_match:n.marketplace_match})}),i.sort((n,r)=>n.severity!==r.severity?n.severity==="Critical"?-1:1:r.trigger_signals.length-n.trigger_signals.length)},U4={questions:Vme,library:oye,actions:lye},Sye=e=>{const t=100-e;let i;return t<=29||t<=49?i="Controlled":t<=69?i="Bottleneck Forming":i="Profit Leak",e>=70?i="Profit Lever":e<=29?i="Profit Leak":e<=44?i="Bottleneck Forming":i="Controlled",{riskScore:t,band:i}},q4=e=>{const t=Math.round((100-e.operations)*.5+(100-e.people)*.3+(100-e.leadership)*.2),i=Math.round((100-e.money)*.55+(100-e.market)*.35+(100-e.innovation)*.1),n=Math.round((100-e.risk)*.7+(100-e.people)*.2+(100-e.money)*.1);return{timeLeak:t,cashLeak:i,riskExposure:n}},wye=e=>e[Math.floor(Math.random()*e.length)],qb=(e,t)=>{const n={retail:"retail",tech:"tech",agriculture:"agriculture",hospitality:"hospitality",transport:"transport",services:"services",manufacturing:"manufacturing",construction:"construction",mining:"mining",oil_gas_services:"oil_gas_services",finance:"services",education:"services",health:"services",media:"services",ngo:"services"}[t]||"other",r=nL[n]||nL.other;let s=e;return Object.entries(r).forEach(([l,d])=>{const p=new RegExp(`{${l}}`,"gi");s=s.replace(p,d)}),s},Cye=(e,t)=>{const i=P0[e];return((i==null?void 0:i.drivers)||["Execution","Strategy","People"]).map(r=>{const s=Math.floor(Math.random()*30)-15;let l=Math.max(5,Math.min(95,t+s)),d="Strong";return l<40?d="Critical":l<70&&(d="Weak"),{name:r,score:l,status:d}})},zb=(e,t)=>{let i="Low";return t>60?i="High":t>30&&(i="Medium"),{level:i,label:"Estimated Impact"}},uL=e=>{switch(e){case"S":return"Low";case"M":return"Med";case"L":return"High";default:return}},Tye=(e,t)=>{switch(t){case"Profit Leak":return`Priority action: start a 7-day containment sprint in ${e} and assign one owner for closure.`;case"Bottleneck Forming":return`Priority action: harden the current ${e} controls before scale increases variance.`;case"Controlled":return`Priority action: optimize ${e} for speed and remove remaining manual friction.`;case"Profit Lever":return`Priority action: codify this ${e} playbook and transfer it into weaker pillars.`;default:return`Priority action: review ${e} controls weekly with KPI ownership.`}},Aye=e=>{if(typeof e=="string")return e;if(!e||typeof e!="object")return"";const t=e.insight;return typeof t=="string"?t:""},z4=(e,t,i,n)=>{const r=Dpe(t,i,n),l=(Aye(e).trim()||r).replace(/\s+/g," ").trim();return/priority action:/i.test(l)?l:`${l} ${Tye(t,i)}`},cg=(e,t,i,n)=>{const r=t.trim();return r?/^\s*###/m.test(r)?r:`${{theory:"### Consultant Lens",diagnosis:`### Diagnostic View (${n}/100)`,psychology:"### Execution Behavior Pattern",financials:"### Commercial Impact And Priority Actions"}[e]}
${r}`:""},W4=(e,t,i,n)=>{const r=jpe(t,i,n),s=e&&typeof e=="object"?e:{},l=(v,S)=>{const k=s[v];return typeof k=="string"&&k.trim()?k.trim():S},d=l("theory",r.theory),p=l("diagnosis",r.diagnosis),u=l("psychology",r.psychology),g=l("financials",r.financials),h=typeof s.prescription=="string"?s.prescription.trim():"",y=[g,h].filter(Boolean).join(`

`);return{theory:cg("theory",d,t,i),diagnosis:cg("diagnosis",p,t,i),psychology:cg("psychology",u,t,i),financials:cg("financials",y||r.financials,t,i)}},Eye=e=>{if(e.reportTone==="street")return"street";if(e.reportTone==="executive")return"executive";if(typeof window<"u"){const t=window.localStorage.getItem("spare_parts_report_tone");if(t==="street"||t==="executive")return t}return"executive"},Nye=e=>{let t=0;for(let i=0;i<e.length;i++)t=t*31+e.charCodeAt(i)>>>0;return t},pL=(e,t)=>e[Math.abs(t)%e.length],Mye=e=>{const t=s=>{var l;return((l=e[s])==null?void 0:l.score)??50},i=(t("Market")+t("Leadership")+t("Innovation")+t("People"))/4,n=(t("Operations")+t("Money")+t("Risk"))/3,r=50;return i>=r&&n>=r?"The Sovereign":i>=r&&n<r?"The Uncrowned King":i<r&&n>=r?"The Iron General":"The Storm Survivor"},Pye=e=>e>=70?"Stable":e>=40?"Watch":"Critical",Wb=e=>e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()),Iye={yield_bleed:"good units are being lost to rework and scrap before shipment",quality_built_late:"defects are being discovered after value has already been added",planning_gap:"stations pause because kits, parts, or priorities arrive late",changeover_black_hole:"variant switches are consuming hours and destabilizing flow",wip_pileup:"too much WIP is hiding defects and slowing completion",bottleneck_bounce:"one station is throttling overall throughput",measurement_blindspot:"calibration drift is creating inconsistent test outcomes",traceability_gap:"failures cannot be quickly linked to lot, station, and operator",purchase_panic:"expedites are replacing planning as a normal operating habit",pricing_margin_blindspot:"shipments are growing faster than contribution margin",costing_gap:"true SKU-level economics are unclear at quote and scheduling time",payment_delay_chokehold:"cash conversion is lagging despite ongoing output",spec_drift_discount:"requirements are shifting mid-build and creating avoidable rework",complaint_handling_gap:"customer escalations are recurring instead of closing permanently",channel_dependency:"dependency on a few accounts is increasing negotiation pressure",decision_bottleneck:"critical approvals are delaying execution and closure",no_kpi_ownership:"teams are operating without clear daily performance visibility",no_variance_review:"issues are getting patched but not prevented",cross_function_breakdown:"engineering, quality, and production are solving problems in silos",sku_complexity_tax:"variant load is rising faster than process control",no_product_testing_rhythm:"NPI and test strategy are not gated tightly enough",slow_bug_fix:"improvements are arriving slower than defect recurrence",supplier_variance_risk:"incoming lot variation is destabilizing yield",compliance_blocker_risk:"audit and compliance readiness is reactive, not controlled",data_security_gap:"firmware/version governance is vulnerable to mismatch risk",training_gap:"critical station skills are inconsistent across operators",weak_shift_handover:"shift changes are leaking context and defect history",hero_operator_dependence:"line stability depends on a few key people",role_clarity_gap:"ownership of FPY, escapes, and downtime is unclear",low_psych_safety:"issues are raised late because teams fear blame",blame_culture:"the same errors repeat because learning is suppressed",hygiene_drift:"ESD and discipline checks are inconsistent across shifts",contract_gap:"acceptance and return boundaries are unclear in execution",disaster_recovery_gap:"containment and recall readiness is not drill-tested"},Oye=e=>{const t=e.map(i=>Iye[i]).filter(Boolean);return t.length===0?"execution remains busy, but performance feels unpredictable and recovery-heavy":t.length===1?t[0]:`${t[0]} and ${t[1]}`},Lye=(e,t,i,n)=>{const s={Stable:`Unlock Optimization Pack and start Fix Plan (Lite) to lift ${i}.`,Watch:`Unlock ${t} Deep Module and generate a 7-day stabilization sprint tied to ${i}.`,Critical:`Start Fix Mode now: run a 7-day containment sprint and build a 30-day control system tied to ${i}.`}[e];return n?`${s} ${n}`:s},Rye={Operations:{Stable:"Operations is stable for a {SPECIES} environment. Signals {SIGNAL_1} and {SIGNAL_2} are currently controlled, so output is less dependent on hero recovery. Day-to-day it looks like predictable flow instead of constant firefighting. Cost profile: {COST}. Next: {NEXT_STEP}",Watch:"Operations is productive but showing early execution drag. We detected {SIGNAL_1} with traces of {SIGNAL_2}; this usually appears as {SYMPTOM}. Cost profile: {COST}. Next: {NEXT_STEP}",Critical:"Operations is now a primary profit leak. Signals {SIGNAL_1} and {SIGNAL_2} indicate unstable flow and repeat recovery loops. Day-to-day this looks like {SYMPTOM}. Cost profile: {COST}. Next: {NEXT_STEP}"},Money:{Stable:"Money controls are structurally sound for {SPECIES}. Signals {SIGNAL_1} and {SIGNAL_2} are contained, so margin is less dependent on luck cycles. Day-to-day this looks like better cash conversion and fewer emergency spend spikes. Cost profile: {COST}. Next: {NEXT_STEP}",Watch:"Money looks healthy on the surface but leak patterns are forming. Signals {SIGNAL_1} and {SIGNAL_2} usually mean hidden losses in rework, expedites, or weak unit economics. Day-to-day this appears as month-end margin surprises. Cost profile: {COST}. Next: {NEXT_STEP}",Critical:"Money is in high-risk leak mode. Signals {SIGNAL_1} and {SIGNAL_2} indicate revenue is not translating into cash or protected margin. Day-to-day this feels like tight cash and constant emergency spending. Cost profile: {COST}. Next: {NEXT_STEP}"},Market:{Stable:"Market execution is healthy for {SPECIES}. Signals {SIGNAL_1} and {SIGNAL_2} look controlled, and trust is being protected through delivery and proof consistency. Day-to-day this means fewer escalations and stronger repeat behavior. Cost profile: {COST}. Next: {NEXT_STEP}",Watch:"Market trust friction is forming. We detected {SIGNAL_1} with {SIGNAL_2}, which usually appears as {SYMPTOM}. Cost profile: {COST}. Next: {NEXT_STEP}",Critical:"Market risk is elevated. Signals {SIGNAL_1} and {SIGNAL_2} indicate confidence is being damaged through delivery, spec, or escalation failures. Day-to-day this looks like constant customer recovery work. Cost profile: {COST}. Next: {NEXT_STEP}"},Leadership:{Stable:"Leadership execution is structured: {SIGNAL_1} remains controlled and teams are closing issues before they recur. Day-to-day this means cadence over chaos. Cost profile: {COST}. Next: {NEXT_STEP}",Watch:"Leadership is functional but inconsistent. Signals {SIGNAL_1} and {SIGNAL_2} often show up as shifting priorities and action drift. Cost profile: {COST}. Next: {NEXT_STEP}",Critical:"Leadership is amplifying operational instability. Signals {SIGNAL_1} and {SIGNAL_2} indicate bottlenecks, silo conflict, or firefighting culture. Day-to-day this appears as repeating failures and execution variance by shift. Cost profile: {COST}. Next: {NEXT_STEP}"},Innovation:{Stable:"Innovation activity appears intentional and controlled for {SPECIES}. Signals {SIGNAL_1} and {SIGNAL_2} are contained, so improvements are landing without destabilizing flow. Cost profile: {COST}. Next: {NEXT_STEP}",Watch:"Innovation is active, but process stability is under pressure. Signals {SIGNAL_1} and {SIGNAL_2} usually indicate variant load or weak NPI gates. Day-to-day this appears as avoidable changeover and quality drag. Cost profile: {COST}. Next: {NEXT_STEP}",Critical:"Innovation is currently creating instability. Signals {SIGNAL_1} and {SIGNAL_2} show change velocity outpacing process control. Day-to-day this looks like scrap, rework, and missed commitments after changes. Cost profile: {COST}. Next: {NEXT_STEP}"},Risk:{Stable:"Risk posture is disciplined for {SPECIES}. Signals {SIGNAL_1} and {SIGNAL_2} suggest issues can be contained quickly with traceable evidence. Cost profile: {COST}. Next: {NEXT_STEP}",Watch:"Risk posture has survivable gaps, but exposure is rising. Signals {SIGNAL_1} and {SIGNAL_2} often indicate traceability or supplier control weaknesses. Day-to-day this appears as slow containment during incidents. Cost profile: {COST}. Next: {NEXT_STEP}",Critical:"Risk exposure is high. Signals {SIGNAL_1} and {SIGNAL_2} suggest one failure could trigger recall pressure, chargebacks, or contract loss. Day-to-day this feels like uncertainty under every incident. Cost profile: {COST}. Next: {NEXT_STEP}"},People:{Stable:"People systems look reliable. Signals {SIGNAL_1} and {SIGNAL_2} are controlled, and shift consistency is supporting quality. Cost profile: {COST}. Next: {NEXT_STEP}",Watch:"People systems are working, but strain is visible. Signals {SIGNAL_1} and {SIGNAL_2} usually indicate training gaps or role ambiguity. Day-to-day this appears as uneven execution across teams. Cost profile: {COST}. Next: {NEXT_STEP}",Critical:"People is actively feeding the leak. Signals {SIGNAL_1} and {SIGNAL_2} indicate shift variance, burnout defects, or accountability fog. Day-to-day this appears as recurring rework and rising error volatility. Cost profile: {COST}. Next: {NEXT_STEP}"}},Dye=e=>{var i;const t=(i=Rye[e.pillar])==null?void 0:i[e.status];return t?t.replace(/{SPECIES}/g,e.species).replace(/{SIGNAL_1}/g,e.signal1).replace(/{SIGNAL_2}/g,e.signal2).replace(/{SIGNAL_3}/g,e.signal3).replace(/{SYMPTOM}/g,e.symptom).replace(/{COST}/g,e.cost).replace(/{KPI}/g,e.kpi).replace(/{NEXT_STEP}/g,e.nextStep):""},jye=async(e,t,i)=>{const n=q4(e),r=(i==null?void 0:i.industry)||"other";let s=null;i&&(s=await Yue(i,e,t));const l=Object.entries(e).map(([h,y])=>{var se;const v=y,S=h.charAt(0).toUpperCase()+h.slice(1),{riskScore:k,band:C}=Sye(v),T=rpe(r,S,C,i==null?void 0:i.subIndustry),N=qb(T.controls,r),E=qb(T.costing,r),O=qb(T.cliffhanger,r),P=cpe(r,S,i==null?void 0:i.subIndustry),I=C==="Profit Lever"?"Strength":"Optimization needed",B=(ope[S]||["cash"]).map(K=>{const z=spe(r,K,i==null?void 0:i.subIndustry);return wye(z)}),V=Cye(S,v),U={time:{level:zb(v,n.timeLeak).level,label:"Time Leak",symptom:"Delays, Rework"},cash:{level:zb(v,n.cashLeak).level,label:"Cash Leak",symptom:"Lost Revenue, Margin"},risk:{level:zb(v,n.riskExposure).level,label:"Risk Exposure",symptom:"Compliance, Shock"}},W=[...P.quickWins.map((K,z)=>({id:`act_${h}_7_${z}`,text:K.title,description:K.desc,type:"today",owner:K.owner,effort:uL(K.effort),metric:K.metric})),...P.system30.map((K,z)=>({id:`act_${h}_30_${z}`,text:K.title,description:K.desc,type:"month",owner:K.owner,effort:uL(K.effort),metric:K.metric}))],q=(se=s==null?void 0:s.pillars)==null?void 0:se[S],pe=z4(q==null?void 0:q.quickScan,S,C,r),X=W4(q==null?void 0:q.deepDive,S,v,r);return{name:S,score:v,riskScore:k,band:C,tilt:"A-Lean",strength:I,hiddenCost:E,profitConsequence:B,actions:W,owner:"Owner",kpi:"Efficiency",evidenceFlags:k>50?[`${S} Risk High`]:["Stable"],deepInsight:O,whyItMatters:N,drivers:V,costBands:U,confidence:"High",evidenceSnapshots:P.evidenceSnapshots,fixLever:P.fixLever,quickScanAnalysis:pe,deepScanChapter:X}});l.sort((h,y)=>y.riskScore-h.riskScore);const d=l.filter(h=>h.riskScore>60).map(h=>h.name),p=(s==null?void 0:s.executiveSummary)||(d.length>0?`Your business shows critical vulnerabilities in ${d.join(", ")}. While you have strengths in other areas, these leaks are likely capping your growth and causing silent profit erosion.`:"Your business is generally stable with strong systems. Focus is now on optimization and scaling rather than repair.");let u,g;return r==="agro_processing"&&(u=Ppe(e,i),i&&(g=Ipe(i))),{id:crypto.randomUUID(),date:new Date().toLocaleDateString(),archetype:t,executiveSummary:p,pillars:l,unlocks:["Financial Audit","Hiring Protocol","Sales Script"],indices:n,recommendedKPIs:[],agroIndices:u,deepScanScores:g,profileContext:i}},Yi=async(e,t)=>{const i={agri_input:x4,agro_processing:I0,mining:k4,oil_gas_services:S4},n=["Food & beverage manufacturing","Bakery / Flour / Grain-based processing","Dairy processing (milk, yoghurt, cheese)","Beverages (juice, soda, water)","Meat processing","Snacks & packaged foods","Edible oils (sunflower, palm, groundnut, etc.)"],r=["Textile & garment manufacturing","CMT Factory (Cut-Make-Trim for buyers)","Uniforms & Workwear Manufacturing","Fashion / Retail Brand (own brand)","Knitwear / T-shirts / Casualwear (high volume)","Tailoring / Bespoke / Small Batch (custom)"],s=["Furniture & carpentry production","Custom Residential Furniture (beds, wardrobes, kitchens)","Commercial Fit-Out & Office Furniture","Doors, Windows & Building Joinery","Mass/Batch Production (standard designs)","Upholstered Furniture (sofas, chairs)"],l=["Metal works / fabrication","Structural Steel & Construction Fabrication (frames, beams, gates, stairs)","Doors, Windows, Grills & Security Products","Industrial Fabrication (tanks, platforms, racks, hoppers)","Automotive Fabrication (trailers, bodies, repairs/mods)","Aluminum Fabrication (doors, partitions, glazing frames)","Stainless Steel Works (kitchen, hospital, food-grade)"],d=["Plastics & packaging manufacturing","Film & Bag Manufacturing (poly bags, shrink film, liners)","Rigid Packaging (bottles, jerrycans, containers)","Injection Molding (caps, parts, household items)","Printing & Lamination (labels, flexible packs, pouches)","Recycled Plastics (regrind, washing, pelletizing)","Industrial Packaging (drums, crates, bulk packaging accessories)"],p=["Soap / detergents / cosmetics production","Laundry Detergent & Multipurpose Cleaners (powder/liquid)","Bar Soap & Bath Soap (beauty/medicated)","Personal Care & Cosmetics (lotions, creams, oils, hair products)","Institutional / Bulk Supply (hotels, hospitals, schools)","Natural/Organic & Sensitive-Skin Brands","Distributors / Private Label Manufacturing"],u=["Bricks / blocks / cement products","Manual Yard Bricks (small-scale clay bricks / hand-mold)","Concrete Blocks (hollow/solid blocks, machine-vibro)","Pavers / Kerbs / Precast (high mix + high QC demand)","Cement Tiles / Terrazzo / Floor Tiles","Roofing Tiles (concrete tiles, decorative roofing pieces)","Multi-Product Yard (blocks + pavers + tiles + custom orders)"],g=["Bottled water / ice production","Small Plant Bottled Water (manual/semi-automatic)","Automated Bottling Line (higher volume)","Sachet Water (high volume, price-sensitive)","Ice Blocks / Ice Cubes (standalone)","Bottled Water + Ice (combined plant)","Institutional Supply (schools, hospitals, offices, events)","Distributor / Private Label Bottling"],h=["Assembly / OEM","Assembly / OEM (electronics, components)","EMS Contract Manufacturer (PCBA + Box Build)","PCBA-Only (SMT + Reflow + AOI + Test)","Cable / Harness / Connector Assembly","High-Mix Low-Volume Custom Builds (Industrial, Lab, Prototypes)","White-Label / Multi-Variant OEM (Many clients, similar products)","Repair / Refurb / Rework Center (Reverse Logistics)","Precision Electronics / Medical / High-Compliance Assembly","Contract Electronics Assembly (EMS)  boards & devices","Component Assembly OEM (connectors, harnesses, modules)","Final Device Assembly (phones, gadgets, appliances sub-assemblies)","Private Label / White Label OEM (multiple variants for buyers)","High-Mix Low-Volume (custom builds)"],y=t.industry==="manufacturing"&&n.includes(t.subIndustry),v=t.industry==="manufacturing"&&r.includes(t.subIndustry),S=t.industry==="manufacturing"&&s.includes(t.subIndustry),k=t.industry==="manufacturing"&&l.includes(t.subIndustry),C=t.industry==="manufacturing"&&d.includes(t.subIndustry),T=t.industry==="manufacturing"&&p.includes(t.subIndustry),N=t.industry==="manufacturing"&&u.includes(t.subIndustry),E=t.industry==="manufacturing"&&g.includes(t.subIndustry),O=t.industry==="retail"&&yu.includes(t.subIndustry),P=t.industry==="retail"&&_u.includes(t.subIndustry),I=t.industry==="retail"&&vu.includes(t.subIndustry),D=t.industry==="retail"&&bu.includes(t.subIndustry),B=t.industry==="retail"&&Ch.includes(t.subIndustry),V=t.industry==="retail"&&Th.includes(t.subIndustry),U=t.industry==="manufacturing"&&h.includes(t.subIndustry),W=y?w4:v?C4:S?T4:k?A4:C?E4:T?N4:N?M4:E?P4:O?I4:P?O4:I?L4:D?R4:B?D4:V?j4:U?U4:i[t.industry]||I0,q=t.agroSubSector||t.subIndustry,pe=R=>R.includes("all")||!q||R.includes(q),X=W.questions.filter(R=>pe(R.line_type)),se=X.length>0?X:W.questions,{pillarResults:K,signalScores:z}=Upe(e,se),Q=Mye(K),de=U?kye(z):[],F=Object.values(K).map(R=>{const fe=R.band,je=R.score,le=R.topSignals[0],ae=Ke=>{const Ye=W.library.filter(Ze=>Ze.pillar===R.pillar&&Ze.type===Ke&&pe(Ze.line_type));return Ke==="mission_brief"?Ye[0]||W.library.find(Ze=>Ze.pillar===R.pillar&&Ze.type===Ke&&Ze.line_type.includes("all")):Ye.find(Ze=>(Ze.signal_tags.includes(le)||Ze.signal_tags.length===0)&&Ze.severity_fit.includes(fe==="Emergency"||fe==="Critical"?"Critical":"Stable"))||W.library.find(Ze=>Ze.pillar===R.pillar&&Ze.type===Ke&&(Ze.signal_tags.includes(le)||Ze.signal_tags.length===0)&&Ze.severity_fit.includes(fe==="Emergency"||fe==="Critical"?"Critical":"Stable"))},ee=ae("leak"),$=ae("hook"),Be=ae("kpi"),Fe=ae("mission_brief"),ce=W.library.find(Ke=>Ke.type==="leak"&&pe(Ke.line_type)&&Ke.signal_tags.includes(le))||W.library.find(Ke=>Ke.type==="leak"&&Ke.signal_tags.includes(le)),H=V?Eye(t):null,Ve=V&&(ce!=null&&ce.hook_text)&&H?Wme(ce.hook_text,H):null,Xe=Ke=>Ke==="S"?"Low":Ke==="L"?"High":"Med",_t=W.actions.filter(Ke=>Ke.pillar===R.pillar&&pe(Ke.line_type)&&Ke.signal_tags.some(Ye=>R.topSignals.includes(Ye))).map((Ke,Ye)=>{var st,et;const Ze=Ke.signal_tags.find(Yt=>R.topSignals.includes(Yt))||Ke.signal_tags[0],at=U?bc(Ze):void 0,ue=U?de.filter(Yt=>Yt.trigger_signals.includes(Ze)).slice(0,2).map(Yt=>`${Yt.tag_id} (${Yt.severity})`):[],ve=U&&at?`Fixes: ${Ke.signal_tags.join(", ")}. ${at.symptom_short} ${at.cost_short}`:`Fixes: ${Ke.signal_tags.join(", ")}`,Qe=U&&at?[at.kpi_primary,at.kpi_secondary].filter(Boolean).join(", "):((st=Ke.kpi_links)==null?void 0:st[0])||"Efficiency";return{id:`act_${R.pillar}_${Ke.days}_${Ye}`,text:Ke.title,description:ve,type:Ke.days===7?"today":"month",owner:((et=Ke.default_owner_by_size)==null?void 0:et[t.size])||"Owner",effort:Xe(Ke.effort),metric:Qe,signalTag:Ze,costType:at==null?void 0:at.cost_type,evidencePrompt:at==null?void 0:at.evidence_request,verificationCriteria:at==null?void 0:at.verification_criteria,optionalEvidence:at==null?void 0:at.optional_evidence,autoTags:ue.length>0?ue:void 0}}),At=fe==="Emergency"||fe==="Critical"?"Profit Leak":fe==="Watch"?"Bottleneck Forming":"Controlled",Gt=z4(void 0,R.pillar,At,t.industry),pn=W4(void 0,R.pillar,je,t.industry),ka=Ve?Ve.mission:Gt,Ua=Ve?{theory:`### ${(ce==null?void 0:ce.hook_text)||R.pillar} (${H==="street"?"Street Tone":"Executive Tone"})
${Ve.mission}`,diagnosis:`### Deep Scan Diagnostic
${Ve.deep}`,psychology:pn.psychology,financials:`${pn.financials}

### Recommended Action Packs
${Ve.actionPacks.join(", ")}`}:pn;return{name:R.pillar,score:je,riskScore:100-je,band:At,tilt:"A-Lean",strength:fe==="Stable"?"Detailed Control":"Process Weakness",hiddenCost:(ee==null?void 0:ee.text)||"Inefficiencies are creating drag.",profitConsequence:[($==null?void 0:$.text)||"Profit Leak Detected"],actions:_t.length>0?_t:[],owner:"Owner",kpi:(Be==null?void 0:Be.text)||"Efficiency",evidenceFlags:U?[...R.topSignals.map(Ke=>Wb(Ke)),...de.filter(Ke=>Ke.trigger_signals.some(Ye=>R.topSignals.includes(Ye))).slice(0,2).map(Ke=>`${Ke.tag_id} (${Ke.severity})`)]:R.topSignals,deepInsight:(()=>{let Ke=(Fe==null?void 0:Fe.text)||`${($==null?void 0:$.text)||"Insight"}: ${(ee==null?void 0:ee.text)||"Analysis pending."}`;if(!Ke.includes("{"))return Ke;const Ye=U?Pye(je):null,Ze=U?Ye:fe==="Emergency"||fe==="Critical"?"Critical Leak":fe==="Watch"?"Warning":"Stable";Ke=Ke.replace(/{STATUS}/g,Ze);const at=(R.topSignals||[]).slice(0,3),ue=R.topStrength||[],ve=at.map(bn=>{const Ti=W.library.find(Kn=>Kn.type==="leak"&&pe(Kn.line_type)&&Kn.signal_tags.includes(bn))||W.library.find(Kn=>Kn.type==="leak"&&Kn.signal_tags.includes(bn));return(Ti==null?void 0:Ti.hook_text)||(Ti==null?void 0:Ti.text)||Wb(bn)}),Qe=ue.map(bn=>{const Ti=W.library.find(Kn=>Kn.signal_tags.includes(bn)&&Kn.type==="strength");return(Ti==null?void 0:Ti.text)||"Standard control detected."}),st=at.map(bn=>Wb(bn)),et=U?st:ve,Yt=[...et,...Qe].join(" ");Ke=Ke.replace(/{DETECTED_SIGNALS}/g,Yt||"performance variance"),Ke=Ke.replace(/{LEAK_1}/g,et[0]||"control leak"),Ke=Ke.replace(/{LEAK_2}/g,et[1]||et[0]||"discipline gap"),Ke=Ke.replace(/{LEAK_3}/g,et[2]||et[1]||et[0]||"system friction"),Ke=Ke.replace(/{SIGNAL_1}/g,et[0]||"control leak"),Ke=Ke.replace(/{SIGNAL_2}/g,et[1]||et[0]||"discipline gap"),Ke=Ke.replace(/{SIGNAL_3}/g,et[2]||et[1]||et[0]||"system friction");const Ci=ce,Qt=U&&at[0]?bc(at[0]):void 0,Xt=Nye(`${t.subIndustry}|${R.pillar}|${je}|${at.join(",")}`),tn=U?pL(cye,Xt):"",Et=(Ci==null?void 0:Ci.cost_text)||(ee==null?void 0:ee.text)||"inefficiencies reducing margin.",ea=U?gye(at,tn,Ye):Et;Ke=Ke.replace(/{COST_IMPACT}/g,ea),Ke=Ke.replace(/{COST}/g,ea);const fn=U&&Qt?[Qt.kpi_primary,Qt.kpi_secondary].filter(Boolean).join(", "):(Ci==null?void 0:Ci.kpi_text)||(Be==null?void 0:Be.text)||"Efficiency";Ke=Ke.replace(/{KPI}/g,fn);const Lm=(Ci==null?void 0:Ci.cliffhanger_text)||"The Deep Scan will reveal root causes.",Xo=U?pL(dye,Xt+17):"",Gs=U?`${Xo} lock ${(Qt==null?void 0:Qt.kpi_primary)||"first-pass execution"} with evidence-backed control.`:Lm,$s=U?fye(at):Oye(at);Ke=Ke.replace(/{SYMPTOM}/g,$s),Ke=Ke.replace(/{SPECIES}/g,t.subIndustry||"Assembly / OEM");const qa=U?Lye(Ye,R.pillar,fn,Gs):Gs;if(Ke=Ke.replace(/{NEXT_STEP}/g,qa),U){const bn=hye(at),Ti=de.filter(ss=>ss.trigger_signals.some(Ys=>at.includes(Ys))).slice(0,3),Kn=Ti.length>0?`Auto-Tags: ${Ti.map(ss=>`${ss.tag_id} (${ss.severity})`).join(", ")}.`:"",Tp=Dye({pillar:R.pillar,status:Ye,species:t.subIndustry||"Assembly / OEM",signal1:et[0]||"control leak",signal2:et[1]||et[0]||"discipline gap",signal3:et[2]||et[1]||et[0]||"system friction",symptom:$s,cost:ea,kpi:fn,nextStep:qa});Ke=[Ke,Tp||"",`Fix Mode Evidence: ${bn}`,Kn].filter(Boolean).join(`

`)}return Ke})(),whyItMatters:t.industry==="mining"?"Mining profitability is decided by recovery discipline, custody proof, and control of hidden losses.":t.industry==="oil_gas_services"?"Oil and gas service margin is protected by execution readiness, commercial discipline, and compliance-grade proof.":y?"Food and beverage margin is decided by yield control, first-pass quality, and traceable execution discipline.":v?"Textile and garment margin is driven by line flow discipline, first-pass quality, and style-level costing control.":S?"Furniture and carpentry margin depends on measurement discipline, waste control, and reliable finishing and delivery execution.":k?"Metal fabrication margin is protected by drawing discipline, fit-up quality, and job-level costing control.":C?"Plastics and packaging margin is driven by yield stability, changeover discipline, and specification-grade consistency.":T?"Soap and cosmetics margin depends on batch consistency, fill-weight control, and claim-safe quality discipline.":N?"Bricks and cement-product margin is protected by mix control, curing discipline, and dispatch reliability.":E?"Bottled water and ice margin depends on hygiene discipline, fill and seal control, and route-level cash control.":O?"Fashion boutique margin depends on size and SKU truth, markdown discipline, repeat-demand systems, and shrink-safe floor execution.":P?"Hardware and building-material margin depends on stock truth, dispatch accuracy, pricing discipline, and dispute-safe contractor service.":I?"Electronics and phone-shop margin depends on stock truth, repair QC discipline, pricing control, and trust-safe after-sales execution.":D?"FMCG distribution margin depends on stock discipline, route reliability, credit control, and repeat-order consistency.":B?"Stationery and bookstore margin depends on fast-mover readiness, SKU truth, queue discipline, and retention-led repeat demand.":V?"Spare-parts margin depends on fitment accuracy, fast-mover readiness, pricing discipline, and trust-safe warranty and dispute controls.":U?"Assembly and OEM margin depends on first-pass yield discipline, traceability control, and stable cross-functional execution.":t.industry==="agri_input"?"Agri-input businesses win when stock, advisory quality, and cash discipline are systemized.":"Agro-processing requires tight control of yield and flow.",drivers:[],costBands:{time:{level:"Medium",label:"Time",symptom:"Delay"},cash:{level:"Medium",label:"Cash",symptom:"Leak"},risk:{level:"Medium",label:"Risk",symptom:"Exposure"}},confidence:"High",evidenceSnapshots:[],fixLever:{action:"Fix",metric:"Profit",owner:"You",effort:"M",timeline:"Week"},quickScanAnalysis:ka,deepScanChapter:Ua}}),j=`Analysis complete. Top profit leaks identified in: ${F.filter(R=>R.riskScore>50).map(R=>R.name).join(", ")}.`,Z=U?(()=>{const R=de.filter(ae=>ae.severity==="Critical").slice(0,3),fe=de.filter(ae=>ae.severity==="Watch").slice(0,2);if(R.length===0&&fe.length===0)return"";const je=R.length>0?` Critical tags: ${R.map(ae=>ae.tag_id).join(", ")}.`:"",le=fe.length>0?` Watch tags: ${fe.map(ae=>ae.tag_id).join(", ")}.`:"";return`${je}${le}`})():"";return{id:crypto.randomUUID(),date:new Date().toLocaleDateString(),archetype:Q,executiveSummary:`${j}${Z}`.trim(),pillars:F,unlocks:[],indices:{timeLeak:0,cashLeak:0,riskExposure:0},recommendedKPIs:[],agroIndices:[],deepScanScores:void 0,profileContext:t}},Kye=[{qid:"QS_PRODUCE_OPS_01",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["queue_to_rot_lag"],weight:1,textA:"We move produce when transport is available and adjust as we go.",textB:"We move produce using planned pickup/dispatch slots to protect freshness."},{qid:"QS_PRODUCE_OPS_02",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["shrink_tax","weight_slip_drift"],weight:1.2,textA:"Weight loss is expected; we dont track it tightly.",textB:"Weight loss is tracked so we can reduce shrink systematically."},{qid:"QS_PRODUCE_MON_01",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["margin_mirage"],weight:1.2,textA:"A good week is measured by volume traded.",textB:"A good week is measured by margin per commodity/route."},{qid:"QS_PRODUCE_MON_02",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["working_capital_trap","supplier_payment_pressure"],weight:1.1,textA:"We pay suppliers quickly even if buyers pay later.",textB:"We balance supplier payments with buyer terms to protect cash flow."},{qid:"QS_PRODUCE_MKT_01",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["buyer_power_trap","price_shock_exposure"],weight:1.1,textA:"We usually find buyers after we bulk the produce.",textB:"We try to secure buyers or terms before buying big."},{qid:"QS_PRODUCE_MKT_02",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["spec_drift_penalty"],weight:1,textA:"Quality disputes happen sometimes; its normal.",textB:"We standardize grading to reduce disputes and downgrades."},{qid:"QS_PRODUCE_LEAD_01",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["management_by_whatsapp"],weight:1,textA:"The business runs through calls and WhatsApp daily.",textB:"The business runs through routines and weekly KPIs."},{qid:"QS_PRODUCE_LEAD_02",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["field_agent_drift","no_owner_syndrome"],weight:1.1,textA:"Field buying depends on agent judgment.",textB:"Field buying follows clear standards and checks."},{qid:"QS_PRODUCE_INN_01",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["value_add_blindspot"],weight:1,textA:"We mostly trade raw produce the same way each season.",textB:"We add value (grading/packing) to earn better prices."},{qid:"QS_PRODUCE_INN_02",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["relationship_moat"],weight:.9,textA:"We rarely test new buyers/routes.",textB:"We test new buyers/routes regularly to reduce dependency."},{qid:"QS_PRODUCE_RISK_01",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["contract_exposure"],weight:1.2,textA:"Deals are mostly based on trust and relationships.",textB:"Deals use written terms to protect payment and specs."},{qid:"QS_PRODUCE_RISK_02",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["traceability_gap"],weight:1.1,textA:"Traceability is difficult, so we dont emphasize it.",textB:"Traceability is built to unlock premium buyers and reduce disputes."},{qid:"QS_PRODUCE_PPL_01",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["handling_damage_culture"],weight:1.1,textA:"Handling depends on who is on shift.",textB:"Handling follows standards so quality stays consistent."},{qid:"QS_PRODUCE_PPL_02",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["incentive_misfire"],weight:1,textA:"People focus on moving fast.",textB:"People focus on moving smartspeed plus quality control."},{qid:"DS_PRODUCE_OPS_01",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["queue_to_rot_lag"],weight:1.1,textA:"Pickup timing is flexible; farmers wait until we arrive.",textB:"Pickup timing is scheduled to protect freshness."},{qid:"DS_PRODUCE_OPS_02",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["weight_slip_drift"],weight:1.2,textA:"We rarely record weight at each step.",textB:"We record weight at buy, load, unload, sell."},{qid:"DS_PRODUCE_OPS_03",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["sorting_bottleneck"],weight:1,textA:"Sorting happens when time allows.",textB:"Sorting is a defined workflow with throughput targets."},{qid:"DS_PRODUCE_OPS_04",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["shrink_tax","handling_damage_culture"],weight:1.1,textA:"We use sacks/crates based on availability.",textB:"We use packaging that reduces bruising and loss."},{qid:"DS_PRODUCE_OPS_05",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["cold_chain_hole"],weight:1.1,textA:"Storage is temporary and informal.",textB:"Storage has basic standards (shade, ventilation, stacking)."},{qid:"DS_PRODUCE_OPS_06",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["truck_half_empty_syndrome"],weight:.9,textA:"Trucks leave when full enough.",textB:"Trucks leave with load planning and fill rate rules."},{qid:"DS_PRODUCE_OPS_07",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["dispatch_chaos"],weight:1,textA:"Dispatch is managed by phone calls.",textB:"Dispatch uses a board and slotting."},{qid:"DS_PRODUCE_OPS_08",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["spec_drift_penalty"],weight:1,textA:"Grade standards vary by buyer and day.",textB:"Grade standards are defined and communicated."},{qid:"DS_PRODUCE_OPS_09",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["spec_drift_penalty"],weight:1,textA:"We accept mixed quality in one load.",textB:"We separate grades to protect price."},{qid:"DS_PRODUCE_OPS_10",industry:"produce_aggregation",pillar:"Operations",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["shrink_tax"],weight:1.2,textA:"Losses are treated as unavoidable.",textB:"Losses are measured and reduced systematically."},{qid:"DS_PRODUCE_MON_01",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["margin_mirage"],weight:1.2,textA:"We focus on turnover; profit is assumed.",textB:"We calculate margin per deal."},{qid:"DS_PRODUCE_MON_02",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["hidden_fees_drain"],weight:.9,textA:"Fees are part of the game.",textB:"Fees are tracked and priced in."},{qid:"DS_PRODUCE_MON_03",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["procurement_panic"],weight:1.1,textA:"We buy based on excitement and opportunity.",textB:"We buy based on price bands and target margin."},{qid:"DS_PRODUCE_MON_04",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["supplier_payment_pressure"],weight:1.2,textA:"We accept buyer payment delays to keep the relationship.",textB:"We enforce terms or price the risk."},{qid:"DS_PRODUCE_MON_05",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["cash_in_transit_risk"],weight:1.1,textA:"Cash handling is informal in the field/market.",textB:"Cash handling is controlled and reconciled."},{qid:"DS_PRODUCE_MON_06",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["margin_mirage"],weight:1,textA:"We dont track profitability by route.",textB:"We track profit per route and adjust strategy."},{qid:"DS_PRODUCE_MON_07",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["buyer_power_trap"],weight:1,textA:"We price sales based on what buyer offers.",textB:"We negotiate using benchmarks and quality proof."},{qid:"DS_PRODUCE_MON_08",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["working_capital_trap"],weight:1.1,textA:"Supplier payments are not planned.",textB:"Supplier payments follow cash planning."},{qid:"DS_PRODUCE_MON_09",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["shrink_tax"],weight:1,textA:"Losses arent priced into deals.",textB:"Loss allowances are built into pricing decisions."},{qid:"DS_PRODUCE_MON_10",industry:"produce_aggregation",pillar:"Money",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["margin_mirage"],weight:1.2,textA:"We take big deals even if margin is thin.",textB:"We avoid margin-negative volume."},{qid:"DS_PRODUCE_MKT_01",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["price_shock_exposure"],weight:1.1,textA:"We look for buyers after buying.",textB:"We pre-sell or secure terms before buying."},{qid:"DS_PRODUCE_MKT_02",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["buyer_power_trap"],weight:1.2,textA:"We rely on 12 buyers/markets.",textB:"We diversify buyers and channels."},{qid:"DS_PRODUCE_MKT_03",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["quality_trust_gap"],weight:1,textA:"We dont document grade proof consistently.",textB:"We provide proof bundles (photos, grades, weights)."},{qid:"DS_PRODUCE_MKT_04",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["spec_drift_penalty"],weight:1.1,textA:"Downgrades are handled by accepting lower price.",textB:"Downgrades are prevented by standards and separation."},{qid:"DS_PRODUCE_MKT_05",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["complaint_handling_gap"],weight:.9,textA:"Complaint handling is informal.",textB:"Complaint handling follows closure workflows."},{qid:"DS_PRODUCE_MKT_06",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["buyer_power_trap"],weight:1,textA:"Customers buy based on price today.",textB:"Customers buy based on trust and consistency."},{qid:"DS_PRODUCE_MKT_07",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["relationship_moat"],weight:1,textA:"We dont track repeat buyers.",textB:"We track loyalty and repeat frequency."},{qid:"DS_PRODUCE_MKT_08",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["relationship_moat"],weight:.9,textA:"We market occasionally.",textB:"We market consistently using proof and cycles."},{qid:"DS_PRODUCE_MKT_09",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["value_add_blindspot"],weight:1,textA:"We dont segment grades and buyers.",textB:"We segment for premium pricing."},{qid:"DS_PRODUCE_MKT_10",industry:"produce_aggregation",pillar:"Market",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["quality_trust_gap"],weight:.9,textA:"We rarely collect feedback.",textB:"We use feedback to tighten quality."},{qid:"DS_PRODUCE_LEAD_01",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["field_agent_drift"],weight:1.1,textA:"Agents decide buying rules themselves.",textB:"Agents follow standards with checks."},{qid:"DS_PRODUCE_LEAD_02",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["numbers_free_decisions"],weight:1.1,textA:"Weekly KPI reviews dont always happen.",textB:"Weekly reviews are non-negotiable."},{qid:"DS_PRODUCE_LEAD_03",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["no_owner_syndrome"],weight:1,textA:"Problems repeat because of busy seasons.",textB:"Problems repeat until fixed."},{qid:"DS_PRODUCE_LEAD_04",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["role_clarity_gap"],weight:1,textA:"Roles overlap in the hub.",textB:"Roles are clear with accountability."},{qid:"DS_PRODUCE_LEAD_05",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["supplier_selection_undisciplined"],weight:1,textA:"Buyers are managed relationship-first.",textB:"Buyers are managed with terms + performance."},{qid:"DS_PRODUCE_LEAD_06",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["training_gap"],weight:.9,textA:"Staff training is informal.",textB:"Training is structured and tested."},{qid:"DS_PRODUCE_LEAD_07",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["numbers_free_decisions"],weight:1.1,textA:"Decisions are made on gut feel.",textB:"Decisions are made on shrink/margin data."},{qid:"DS_PRODUCE_LEAD_08",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["meeting_no_action"],weight:.9,textA:"Meetings discuss issues.",textB:"Meetings close issues with tasks."},{qid:"DS_PRODUCE_LEAD_09",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["supplier_selection_undisciplined"],weight:1,textA:"Supplier network is opportunistic.",textB:"Supplier network is segmented by quality."},{qid:"DS_PRODUCE_LEAD_10",industry:"produce_aggregation",pillar:"Leadership",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["season_blindness"],weight:1.1,textA:"We dont plan season calendars.",textB:"We plan season calendars and pipeline."},{qid:"DS_PRODUCE_INN_01",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["value_add_blindspot"],weight:1.1,textA:"We sell raw produce as-is.",textB:"We add grading/packing to earn premiums."},{qid:"DS_PRODUCE_INN_02",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["relationship_moat"],weight:1,textA:"We dont test new buyers.",textB:"We test new buyers systematically."},{qid:"DS_PRODUCE_INN_03",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["relationship_moat"],weight:1,textA:"We dont have subscription/institution models.",textB:"We build stable contract supply."},{qid:"DS_PRODUCE_INN_04",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["bundle_opportunity"],weight:.9,textA:"Mixed loads are normal.",textB:"Mixed crates are designed and priced strategically."},{qid:"DS_PRODUCE_INN_05",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["data_advantage_gap"],weight:1,textA:"Pricing is reactive.",textB:"Pricing uses price intelligence routines."},{qid:"DS_PRODUCE_INN_06",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["value_add_blindspot"],weight:.9,textA:"We dont improve packaging often.",textB:"We improve packaging to reduce bruising."},{qid:"DS_PRODUCE_INN_07",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["route_intelligence_missing"],weight:.9,textA:"We dont use simple tech for tracking.",textB:"We use tracking to reduce shrink and disputes."},{qid:"DS_PRODUCE_INN_08",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["cold_chain_hole"],weight:1.1,textA:"Cold chain is too expensive.",textB:"Cold chain partnerships are explored and piloted."},{qid:"DS_PRODUCE_INN_09",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["season_blindness"],weight:.8,textA:"Offers are same each season.",textB:"Offers evolve based on season learnings."},{qid:"DS_PRODUCE_INN_10",industry:"produce_aggregation",pillar:"Innovation",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["relationship_moat"],weight:.8,textA:"Customer experience is basic.",textB:"Customer experience is designed for trust."},{qid:"DS_PRODUCE_RISK_01",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["contract_exposure"],weight:1.2,textA:"Deals are verbal.",textB:"Deals use written terms."},{qid:"DS_PRODUCE_RISK_02",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["traceability_gap"],weight:1.1,textA:"Traceability is not maintained.",textB:"Traceability is captured at intake."},{qid:"DS_PRODUCE_RISK_03",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["theft_tamper_risk"],weight:1.1,textA:"Theft prevention is informal.",textB:"Custody logs and reconciliations exist."},{qid:"DS_PRODUCE_RISK_04",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["contamination_liability"],weight:1.2,textA:"Food safety is common sense.",textB:"Food safety uses standards and checklists."},{qid:"DS_PRODUCE_RISK_05",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["contract_exposure"],weight:1,textA:"Disputes are handled emotionally.",textB:"Disputes use evidence bundles and terms."},{qid:"DS_PRODUCE_RISK_06",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["cash_in_transit_risk"],weight:.9,textA:"Transit loss is accepted.",textB:"Transit loss is documented and reduced."},{qid:"DS_PRODUCE_RISK_07",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["rejected_load_nightmare"],weight:1,textA:"Rejection handling is ad-hoc.",textB:"Rejection handling follows a procedure."},{qid:"DS_PRODUCE_RISK_08",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["data_security_gap"],weight:.8,textA:"Customer/supplier data is scattered.",textB:"Data is centralized and protected."},{qid:"DS_PRODUCE_RISK_09",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["compliance_shock"],weight:1,textA:"Compliance is checked when demanded.",textB:"Compliance is maintained continuously."},{qid:"DS_PRODUCE_RISK_10",industry:"produce_aggregation",pillar:"Risk",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["queue_to_rot_lag"],weight:.9,textA:"Backup plans are unclear.",textB:"Backup plans exist for vehicle failures."},{qid:"DS_PRODUCE_PPL_01",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["handling_damage_culture"],weight:1.1,textA:"Handling quality varies by shift.",textB:"Handling standards are trained and enforced."},{qid:"DS_PRODUCE_PPL_02",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["incentive_misfire"],weight:1,textA:"Incentives reward speed.",textB:"Incentives reward quality and loss reduction."},{qid:"DS_PRODUCE_PPL_03",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["blame_culture"],weight:1.1,textA:"Losses are hidden to avoid blame.",textB:"Losses are surfaced early to be solved."},{qid:"DS_PRODUCE_PPL_04",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["cross_team_friction"],weight:.9,textA:"Drivers/warehouse/sales operate separately.",textB:"Teams operate as one system."},{qid:"DS_PRODUCE_PPL_05",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["training_gap"],weight:1,textA:"Training happens informally.",textB:"Training is structured and tested."},{qid:"DS_PRODUCE_PPL_06",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["peak_season_burnout"],weight:1,textA:"Peak season burnout is normal.",textB:"Peak season staffing prevents burnout."},{qid:"DS_PRODUCE_PPL_07",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["service_inconsistency"],weight:.9,textA:"Customer care depends on mood.",textB:"Customer care follows standards."},{qid:"DS_PRODUCE_PPL_08",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["accountability_soft"],weight:1,textA:"Accountability tools are minimal.",textB:"Accountability tools (logs) are mandatory."},{qid:"DS_PRODUCE_PPL_09",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["hero_operator_dependence"],weight:1,textA:"Great staff carry weak staff.",textB:"Performance is coached and managed."},{qid:"DS_PRODUCE_PPL_10",industry:"produce_aggregation",pillar:"People",line_type:["Farmgate Aggregator (Local)","Wholesale Market Trader","Institutional Supplier","Digital Broker / Agent","Warehouse + Bulking Hub"],signal_tags:["handling_damage_culture"],weight:1.1,textA:"People dont connect shrink to profit.",textB:"People understand shrink = money loss."},{qid:"QS_EXPORT_OPS_01",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["logistics_black_hole"],weight:1.2,textA:"We rush to book freight when produce is ready.",textB:"We book freight slots weeks in advance based on harvest plans."},{qid:"QS_EXPORT_OPS_02",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["doc_delay_penalty"],weight:1.1,textA:"Documentation is often delayed, causing port storage costs.",textB:"Documentation is pre-cleared and error-free."},{qid:"QS_EXPORT_MON_01",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["fx_burn"],weight:1.2,textA:"We take the exchange rate of the day; it fluctuates.",textB:"We hedge or account for currency/fx risk in pricing."},{qid:"QS_EXPORT_MON_02",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["cash_gap_trap"],weight:1.1,textA:"We struggle to pay farmers while waiting for overseas payment.",textB:"We have trade finance or working capital buffers for the cycle."},{qid:"QS_EXPORT_MKT_01",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["single_market_risk"],weight:1.2,textA:"We rely on one main overseas buyer/market.",textB:"We diversify across regions to mitigate market shocks."},{qid:"QS_EXPORT_MKT_02",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["rejection_shock"],weight:1.1,textA:"Quality claims at destination happen often.",textB:"Quality is verified to specs before shipping."},{qid:"QS_EXPORT_LEAD_01",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["compliance_fatigue"],weight:1,textA:"Compliance (GlobalGAP/SMETA) is a burden we manage minimally.",textB:"Compliance is our competitive advantage and culture."},{qid:"QS_EXPORT_LEAD_02",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["reactive_planning"],weight:1,textA:"We react to orders as they come.",textB:"We plan seasons globally with partners."},{qid:"QS_EXPORT_INN_01",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["traceability_blindspot"],weight:1,textA:"Traceability is paper-based and slow.",textB:"Traceability is digital and instant for buyers."},{qid:"QS_EXPORT_INN_02",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["commodity_trap"],weight:.9,textA:"We ship raw commodity only.",textB:"We explore value-add branding or processing."},{qid:"QS_EXPORT_RISK_01",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["contract_loophole"],weight:1.2,textA:"Contracts are loose or verbal.",textB:"Contracts use international standard terms (Incoterms)."},{qid:"QS_EXPORT_RISK_02",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["cargo_loss_exposure"],weight:1.1,textA:"We hope nothing spoils in transit.",textB:"We use trackers and insurance to cover transit risk."},{qid:"QS_EXPORT_PPL_01",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["skill_gap_admin"],weight:1,textA:"Our team struggles with export paperwork.",textB:"Our team is specialized in logistics and compliance."},{qid:"QS_EXPORT_PPL_02",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["integrity_risk_field"],weight:1,textA:"Field staff sometimes compromise quality for volume.",textB:"Field staff are incentivized on quality acceptance."},{qid:"DS_EXPORT_OPS_01",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["packhouse_bottleneck"],weight:1.1,textA:"Packhouse flow is chaotic when volume hits.",textB:"Packhouse has defined flow and capacity planning."},{qid:"DS_EXPORT_OPS_02",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["cold_chain_break"],weight:1.2,textA:"Produce warms up during transfer/loading.",textB:"Produce stays in unbroken cold chain."},{qid:"DS_EXPORT_OPS_03",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["freight_rate_blindness"],weight:1,textA:"We accept whatever freight rate is offered.",textB:"We negotiate freight rates with benchmarks."},{qid:"DS_EXPORT_OPS_04",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["inventory_vis_gap"],weight:1,textA:"We don't know exactly what stock is where.",textB:"We have real-time visibility of stock levels."},{qid:"DS_EXPORT_OPS_05",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["packaging_waste_bleed"],weight:.9,textA:"Packaging waste and breakage is common.",textB:"Packaging inventory and use is tracked."},{qid:"DS_EXPORT_OPS_06",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["lab_test_delay"],weight:1.1,textA:"Shipments wait for MRL test results.",textB:"Testing is scheduled to clear before shipping."},{qid:"DS_EXPORT_OPS_07",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["arrival_quality_unknown"],weight:1.1,textA:"We rely on buyer reports for arrival quality.",textB:"We use independent surveyors or data loggers."},{qid:"DS_EXPORT_OPS_08",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["loading_error"],weight:1,textA:"Loading is hurried and sometimes incorrect.",textB:"Loading follows a strict plan and check."},{qid:"DS_EXPORT_OPS_09",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["input_quality_var"],weight:1.1,textA:"We fix quality issues at the packhouse.",textB:"We enforce quality standards at the farm gate."},{qid:"DS_EXPORT_OPS_10",industry:"produce_aggregation",pillar:"Operations",line_type:["Exporter / Cross-border Trader"],signal_tags:["capacity_planning_gap"],weight:1,textA:"We overcommit and then struggle to fill.",textB:"We match sales to realistic capacity."},{qid:"DS_EXPORT_MON_01",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["fx_burn"],weight:1.2,textA:"Currency shifts eat our margins.",textB:"We manage currency risk actively."},{qid:"DS_EXPORT_MON_02",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["cash_gap_trap"],weight:1.2,textA:"We constantly chase cash to operate.",textB:"Cash flow is forecasted 12 weeks out."},{qid:"DS_EXPORT_MON_03",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["claims_leakage"],weight:1.1,textA:"We accept claims to keep peace.",textB:"We contest claims with data and evidence."},{qid:"DS_EXPORT_MON_04",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["cost_per_kg_blind"],weight:1,textA:"We don't know the exact landed cost per kg.",textB:"We track fully loaded cost per kg daily."},{qid:"DS_EXPORT_MON_05",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["overhead_bloat"],weight:.9,textA:"Fixed costs are high regardless of volume.",textB:"Cost structure is lean and variable."},{qid:"DS_EXPORT_MON_06",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["vat_reclaim_delay"],weight:1,textA:"VAT refunds are stuck or forgotten.",textB:"VAT is tracked and reclaimed efficiently."},{qid:"DS_EXPORT_MON_07",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["investor_relations_weak"],weight:.9,textA:"Financiers don't understand our business.",textB:"We provide clear reports to financiers."},{qid:"DS_EXPORT_MON_08",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["payment_term_mismatch"],weight:1.1,textA:"We pay cash but collect in 60 days.",textB:"We align supplier and buyer terms."},{qid:"DS_EXPORT_MON_09",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["profit_concentration_risk"],weight:1,textA:"One buyer provides all our profit.",textB:"Profit is spread across accounts."},{qid:"DS_EXPORT_MON_10",industry:"produce_aggregation",pillar:"Money",line_type:["Exporter / Cross-border Trader"],signal_tags:["hidden_logistics_costs"],weight:1,textA:"Demurrage and detention fees are common.",textB:"Logistics flows are timed to zero fees."},{qid:"DS_EXPORT_MKT_01",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["single_market_risk"],weight:1.2,textA:"A downturn in one country kills our season.",textB:"We sell to multiple markets/currencies."},{qid:"DS_EXPORT_MKT_02",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["brand_invisibility"],weight:1,textA:"We are just another commodity supplier.",textB:"Buyers ask for our brand specifically."},{qid:"DS_EXPORT_MKT_03",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["market_intel_gap"],weight:1,textA:"We don't know the destination market price.",textB:"We track destination wholesale prices."},{qid:"DS_EXPORT_MKT_04",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["relationship_transactional"],weight:1,textA:"Communication is about orders/claims only.",textB:"We have strategic reviews with buyers."},{qid:"DS_EXPORT_MKT_05",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["spec_mismatch"],weight:1.1,textA:"We often miss the exact spec requirements.",textB:"Specs are agreed and printed visibly."},{qid:"DS_EXPORT_MKT_06",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["new_biz_stagnation"],weight:.9,textA:"We rely on old contacts.",textB:"We actively prospect new buyers."},{qid:"DS_EXPORT_MKT_07",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["contract_term_weakness"],weight:1.1,textA:"We accept 'consignment' deals easily.",textB:"We push for Minimum Guaranteed Price (MGP)."},{qid:"DS_EXPORT_MKT_08",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["season_extension_gap"],weight:.9,textA:"We only sell when local season peaks.",textB:"We try to extend seasons for buyers."},{qid:"DS_EXPORT_MKT_09",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["cert_deficiency"],weight:1.1,textA:"We lose deals due to missing certs.",textB:"We maintain all key market certs."},{qid:"DS_EXPORT_MKT_10",industry:"produce_aggregation",pillar:"Market",line_type:["Exporter / Cross-border Trader"],signal_tags:["customer_feedback_loop_missing"],weight:.9,textA:"We rarely ask for formal feedback.",textB:"We survey buyer satisfaction annually."},{qid:"DS_EXPORT_LEAD_01",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["compliance_fatigue"],weight:1.1,textA:"Audits are a stressful scramble.",textB:"We are audit-ready every day."},{qid:"DS_EXPORT_LEAD_02",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["reactive_firefighting"],weight:1.1,textA:"We spend the day fixing shipping crises.",textB:"We focus on strategy and relationships."},{qid:"DS_EXPORT_LEAD_03",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["vision_gap"],weight:1,textA:"The goal is just to survive the season.",textB:"There is a 3-year growth plan."},{qid:"DS_EXPORT_LEAD_04",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["data_culture_weak"],weight:1,textA:"Decisions are based on opinion.",textB:"Decisions are based on data."},{qid:"DS_EXPORT_LEAD_05",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["talent_retention_risk"],weight:1,textA:"Key staff leave often.",textB:"We retain core talent."},{qid:"DS_EXPORT_LEAD_06",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["sustainability_lip_service"],weight:.9,textA:"Sustainability is just a checkbox.",textB:"Sustainability is integrated into ops."},{qid:"DS_EXPORT_LEAD_07",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["board_governance_gap"],weight:.9,textA:"The founder decides everything alone.",textB:"We have advisors or a board."},{qid:"DS_EXPORT_LEAD_08",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["succession_risk"],weight:.8,textA:"Ops stop if the owner is away.",textB:"Ops run smoothly without the owner."},{qid:"DS_EXPORT_LEAD_09",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["innovation_stagnation"],weight:.9,textA:"We do things the same way as 5 years ago.",textB:"We constantly trial new methods."},{qid:"DS_EXPORT_LEAD_10",industry:"produce_aggregation",pillar:"Leadership",line_type:["Exporter / Cross-border Trader"],signal_tags:["communication_silo"],weight:1,textA:"Farms and Sales don't talk enough.",textB:"Information flows seamlessly across teams."},{qid:"DS_EXPORT_INN_01",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["tech_aversion"],weight:1,textA:"We use paper and Excel only.",textB:"We extensive use of specialized software."},{qid:"DS_EXPORT_INN_02",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["value_add_miss"],weight:1.1,textA:"We only sell bulk raw produce.",textB:"We sell retail-ready or processed packs."},{qid:"DS_EXPORT_INN_03",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["variety_stagnation"],weight:1,textA:"We grow/buy the same old varieties.",textB:"We trial high-demand new varieties."},{qid:"DS_EXPORT_INN_04",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["traceability_gap"],weight:1.1,textA:"We can't trace back to the plot easily.",textB:"We have plot-to-plate digital traceability."},{qid:"DS_EXPORT_INN_05",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["logistics_innovation_gap"],weight:.9,textA:"We use standard logistics options.",textB:"We test CA containers and new routes."},{qid:"DS_EXPORT_INN_06",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["packaging_basic"],weight:.9,textA:"Packaging is standard generic.",textB:"Packaging helps shelf-life and brand."},{qid:"DS_EXPORT_INN_07",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["data_blindness"],weight:1,textA:"We don't analyze our historical data.",textB:"We use data to drive planting/buying."},{qid:"DS_EXPORT_INN_08",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["energy_waste"],weight:.8,textA:"Energy costs are high/unmonitored.",textB:"We use solar/efficient energy solutions."},{qid:"DS_EXPORT_INN_09",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["waste_valorization_miss"],weight:.9,textA:"Rejects are dumped.",textB:"Rejects are sold or processed (dried/juice)."},{qid:"DS_EXPORT_INN_10",industry:"produce_aggregation",pillar:"Innovation",line_type:["Exporter / Cross-border Trader"],signal_tags:["learning_stagnation"],weight:.8,textA:"We rarely attend fairs or training.",textB:"We constantly learn and network."},{qid:"DS_EXPORT_RISK_01",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["contract_enforceability_weak"],weight:1.2,textA:"Contracts are hard to enforce.",textB:"Contracts are legally binding in jurisdiction."},{qid:"DS_EXPORT_RISK_02",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["cargo_insurance_gap"],weight:1.2,textA:"We are under-insured on shipments.",textB:"All shipments are fully insured."},{qid:"DS_EXPORT_RISK_03",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["regulatory_blindspot"],weight:1.1,textA:"We don't track EU/Foreign regulatory changes.",textB:"We monitor regulatory changes weekly."},{qid:"DS_EXPORT_RISK_04",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["supplier_side_selling"],weight:1.1,textA:"Farmers sell to others despite agreements.",textB:"Farmer loyalty is high and managed."},{qid:"DS_EXPORT_RISK_05",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["cyber_security_weak"],weight:.9,textA:"Emails/payments are not secure.",textB:"We have cybersecurity protocols."},{qid:"DS_EXPORT_RISK_06",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["political_risk_exposure"],weight:.9,textA:"We ignore local political instability.",textB:"We have contingency plans for disruptions."},{qid:"DS_EXPORT_RISK_07",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["reputation_risk"],weight:1.1,textA:"We risk our name for short term gain.",textB:"Reputation is protected above all."},{qid:"DS_EXPORT_RISK_08",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["climate_risk_exposure"],weight:1,textA:"Weather changes catch us off guard.",textB:"We model and plan for climate risks."},{qid:"DS_EXPORT_RISK_09",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["single_logistic_partner"],weight:1,textA:"We rely on one freight agent.",textB:"We have backup logistics partners."},{qid:"DS_EXPORT_RISK_10",industry:"produce_aggregation",pillar:"Risk",line_type:["Exporter / Cross-border Trader"],signal_tags:["internal_theft"],weight:1,textA:"Pilferage is common.",textB:"Internal controls prevent theft."},{qid:"DS_EXPORT_PPL_01",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["specialist_skill_gap"],weight:1.1,textA:"We lack specialized export skills.",textB:"Team is trained in export specifics."},{qid:"DS_EXPORT_PPL_02",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["integrity_issue"],weight:1.1,textA:"Staff integrity is a concern.",textB:"Staff are vetted and ethical."},{qid:"DS_EXPORT_PPL_03",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["labour_shortage_risk"],weight:1,textA:"We struggle to find casual labor.",textB:"We have a reliable labor pool."},{qid:"DS_EXPORT_PPL_04",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["manager_overload"],weight:1,textA:"Managers are burnt out.",textB:"Managers have balanced workloads."},{qid:"DS_EXPORT_PPL_05",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["communication_breakdown"],weight:1,textA:"Instructions are often misunderstood.",textB:"Communication is clear and confirmed."},{qid:"DS_EXPORT_PPL_06",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["safety_culture_weak"],weight:.9,textA:"Accidents happen often.",textB:"Safety first is the culture."},{qid:"DS_EXPORT_PPL_07",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["performance_review_gap"],weight:1,textA:"Feedback is rare.",textB:"Performance reviews are regular."},{qid:"DS_EXPORT_PPL_08",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["incentive_misalignment"],weight:1.1,textA:"Pay is not linked to performance.",textB:"Incentives drive the right behavior."},{qid:"DS_EXPORT_PPL_09",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["gender_balance_gap"],weight:.8,textA:"Management is all male/female.",textB:"We aim for gender balance."},{qid:"DS_EXPORT_PPL_10",industry:"produce_aggregation",pillar:"People",line_type:["Exporter / Cross-border Trader"],signal_tags:["conflict_handling_poor"],weight:.9,textA:"Conflicts fester.",textB:"Conflicts are resolved professionally."}],Fye={questions:Kye},Bye=["Increase Profit","Scale Revenue","Fix Operations","Reduce Risk","Improve Cash Flow","Increase Customers","Retain Customers","Improve Team Performance"],Uye=e=>{const t=e.toLowerCase(),i=[];return(t.includes("profit")||t.includes("margin")||t.includes("cash")||t.includes("finance")||t.includes("debt")||t.includes("investment")||t.includes("collection")||t.includes("fee"))&&i.push("Fuel"),(t.includes("sales")||t.includes("revenue")||t.includes("lead")||t.includes("customer")||t.includes("market")||t.includes("brand")||t.includes("conversion")||t.includes("referral")||t.includes("enrollment"))&&i.push("Voice"),(t.includes("operation")||t.includes("delivery")||t.includes("delay")||t.includes("sop")||t.includes("rework")||t.includes("time")||t.includes("efficiency")||t.includes("project")||t.includes("inventory")||t.includes("stock"))&&i.push("Engine"),(t.includes("quality")||t.includes("product")||t.includes("innovat")||t.includes("complaint")||t.includes("outcome")||t.includes("yield")||t.includes("review"))&&i.push("Pulse"),(t.includes("risk")||t.includes("contract")||t.includes("compliance")||t.includes("fraud")||t.includes("security")||t.includes("legal")||t.includes("theft")||t.includes("dispute"))&&i.push("Shield"),(t.includes("team")||t.includes("hir")||t.includes("manager")||t.includes("culture")||t.includes("staff")||t.includes("turnover")||t.includes("parent")||t.includes("teacher"))&&(i.push("Tribe"),i.push("Brain")),e==="Fix Operations"&&i.push("Engine","Tribe"),[...new Set(i)]},qye=[{value:1,label:"Strongly A",color:"bg-indigo-600"},{value:2,label:"Lean A",color:"bg-indigo-400"},{value:3,label:"Neutral",color:"bg-gray-300"},{value:4,label:"Lean B",color:"bg-teal-400"},{value:5,label:"Strongly B",color:"bg-teal-600"}],zye=[{id:"solo",label:"Solo",sub:"1"},{id:"micro",label:"Micro Team",sub:"25"},{id:"small",label:"Small Team",sub:"620"},{id:"small_med",label:"SmallMedium",sub:"2150"},{id:"medium",label:"Medium",sub:"51200"},{id:"large",label:"Large",sub:"2011k"},{id:"enterprise",label:"Enterprise",sub:"1k+"}],Vb=["Food & beverage manufacturing","Bakery / Flour / Grain-based processing","Dairy processing (milk, yoghurt, cheese)","Beverages (juice, soda, water)","Meat processing","Snacks & packaged foods","Edible oils (sunflower, palm, groundnut, etc.)"],Hb=["Textile & garment manufacturing","CMT Factory (Cut-Make-Trim for buyers)","Uniforms & Workwear Manufacturing","Fashion / Retail Brand (own brand)","Knitwear / T-shirts / Casualwear (high volume)","Tailoring / Bespoke / Small Batch (custom)"],Gb=["Furniture & carpentry production","Custom Residential Furniture (beds, wardrobes, kitchens)","Commercial Fit-Out & Office Furniture","Doors, Windows & Building Joinery","Mass/Batch Production (standard designs)","Upholstered Furniture (sofas, chairs)"],$b=["Metal works / fabrication","Structural Steel & Construction Fabrication (frames, beams, gates, stairs)","Doors, Windows, Grills & Security Products","Industrial Fabrication (tanks, platforms, racks, hoppers)","Automotive Fabrication (trailers, bodies, repairs/mods)","Aluminum Fabrication (doors, partitions, glazing frames)","Stainless Steel Works (kitchen, hospital, food-grade)"],Yb=["Plastics & packaging manufacturing","Film & Bag Manufacturing (poly bags, shrink film, liners)","Rigid Packaging (bottles, jerrycans, containers)","Injection Molding (caps, parts, household items)","Printing & Lamination (labels, flexible packs, pouches)","Recycled Plastics (regrind, washing, pelletizing)","Industrial Packaging (drums, crates, bulk packaging accessories)"],Qb=["Soap / detergents / cosmetics production","Laundry Detergent & Multipurpose Cleaners (powder/liquid)","Bar Soap & Bath Soap (beauty/medicated)","Personal Care & Cosmetics (lotions, creams, oils, hair products)","Institutional / Bulk Supply (hotels, hospitals, schools)","Natural/Organic & Sensitive-Skin Brands","Distributors / Private Label Manufacturing"],Xb=["Bricks / blocks / cement products","Manual Yard Bricks (small-scale clay bricks / hand-mold)","Concrete Blocks (hollow/solid blocks, machine-vibro)","Pavers / Kerbs / Precast (high mix + high QC demand)","Cement Tiles / Terrazzo / Floor Tiles","Roofing Tiles (concrete tiles, decorative roofing pieces)","Multi-Product Yard (blocks + pavers + tiles + custom orders)"],Jb=["Bottled water / ice production","Small Plant Bottled Water (manual/semi-automatic)","Automated Bottling Line (higher volume)","Sachet Water (high volume, price-sensitive)","Ice Blocks / Ice Cubes (standalone)","Bottled Water + Ice (combined plant)","Institutional Supply (schools, hospitals, offices, events)","Distributor / Private Label Bottling"],Zb=["Assembly / OEM","Assembly / OEM (electronics, components)","EMS Contract Manufacturer (PCBA + Box Build)","PCBA-Only (SMT + Reflow + AOI + Test)","Cable / Harness / Connector Assembly","High-Mix Low-Volume Custom Builds (Industrial, Lab, Prototypes)","White-Label / Multi-Variant OEM (Many clients, similar products)","Repair / Refurb / Rework Center (Reverse Logistics)","Precision Electronics / Medical / High-Compliance Assembly","Contract Electronics Assembly (EMS)  boards & devices","Component Assembly OEM (connectors, harnesses, modules)","Final Device Assembly (phones, gadgets, appliances sub-assemblies)","Private Label / White Label OEM (multiple variants for buyers)","High-Mix Low-Volume (custom builds)"],Wye=e=>({Sprout:Tz,ShoppingBag:kz,Factory:iq,HardHat:hq,Truck:zz,Utensils:Xz,HeartPulse:tk,BookOpen:uc,Wallet:_R,Monitor:mx,Video:ir,Globe:Br,Wrench:r6,Zap:ii,Home:kq,Building:P1,Briefcase:Lh,Pickaxe:az,Building2:Yr,Wifi:n6,LayoutGrid:Mq,Shield:Sc,Users:Da})[e]||P1,fL=({onComplete:e,variant:t="owner"})=>{var se;const{t:i}=wc(),[n,r]=A.useState("setup"),[s,l]=A.useState(0),[d,p]=A.useState([]),[u,g]=A.useState(!1),[h,y]=A.useState(null),[v,S]=A.useState(1),[k,C]=A.useState({businessName:"",userName:"",userTitle:"",industry:"",subIndustry:"",model:"both",size:"solo",hasManagers:!1,stage:"growing",goals:[],pain:"",includesContractors:!1,includesVolunteers:!1}),[T,N]=A.useState(""),[E,O]=A.useState(null),[P,I]=A.useState([]),[D,B]=A.useState(null),[V,U]=A.useState(null);A.useEffect(()=>{if(!k.industry)return;const K=k.industry==="manufacturing"&&Vb.includes(k.subIndustry),z=k.industry==="manufacturing"&&Hb.includes(k.subIndustry),Q=k.industry==="manufacturing"&&Gb.includes(k.subIndustry),de=k.industry==="manufacturing"&&$b.includes(k.subIndustry),F=k.industry==="manufacturing"&&Yb.includes(k.subIndustry),j=k.industry==="manufacturing"&&Qb.includes(k.subIndustry),Z=k.industry==="manufacturing"&&Xb.includes(k.subIndustry),R=k.industry==="manufacturing"&&Jb.includes(k.subIndustry),fe=k.industry==="retail"&&yu.includes(k.subIndustry),je=k.industry==="retail"&&_u.includes(k.subIndustry),le=k.industry==="retail"&&vu.includes(k.subIndustry),ae=k.industry==="retail"&&bu.includes(k.subIndustry),ee=k.industry==="retail"&&Ch.includes(k.subIndustry),$=k.industry==="retail"&&Th.includes(k.subIndustry),Be=k.industry==="manufacturing"&&Zb.includes(k.subIndustry),Fe=H=>{const Ve=H.filter(Xe=>Xe.qid.startsWith("QS_"));return Ve.length>0?Ve:H.filter(Xe=>!Xe.qid.startsWith("DS_"))};let ce=[];k.industry==="agro_processing"?ce=Fe(I0.questions).map((H,Ve)=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):k.industry==="agri_input"?ce=Fe(x4.questions).map((H,Ve)=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):k.industry==="produce_aggregation"?ce=Fe(Fye.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map((H,Ve)=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):k.industry==="mining"?ce=Fe(k4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):k.industry==="oil_gas_services"?ce=Fe(S4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):K?ce=Fe(w4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):z?ce=Fe(C4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):Q?ce=Fe(T4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):de?ce=Fe(A4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):F?ce=Fe(E4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):j?ce=Fe(N4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):Z?ce=Fe(M4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):R?ce=Fe(P4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):Be?ce=Fe(U4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):fe?ce=Fe(I4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):je?ce=Fe(O4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):le?ce=Fe(L4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):ae?ce=Fe(R4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):ee?ce=Fe(D4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):$?ce=Fe(j4.questions).filter(H=>H.line_type.includes("all")||k.subIndustry&&H.line_type.includes(k.subIndustry)).map(H=>({id:H.qid,pillar:H.pillar,a:H.textA,b:H.textB,isSwapped:!1,isGoalRelevant:!0})):ce=lw.map((H,Ve)=>{const Xe=aL.find(pn=>pn.id===k.industry),_t=Xe?Xe.lexiconKey:"default",At=H.variants[k.industry||""]||H.variants[_t]||H.variants.default;if(!At)return null;const Gt=Math.random()>.5;return{id:`QS-${H.pillar}-${Ve}`,pillar:H.pillar,a:Gt?At.b:At.a,b:Gt?At.a:At.b,isSwapped:Gt,isGoalRelevant:Uye(k.goals[0]||"").includes(H.pillar)}}).filter(Boolean),I(ce)},[k.industry,k.subIndustry,k.goals]);const W=(K,z)=>{C({...k,industry:K,subIndustry:z}),S(2)},q=K=>{const z=k.goals;z.includes(K)?C({...k,goals:z.filter(Q=>Q!==K)}):z.length<2&&C({...k,goals:[...z,K]})},pe=K=>{if(u)return;g(!0);const z=[...d];z[s]=K,p(z),setTimeout(()=>{s<P.length-1?l(Q=>Q+1):(r("analyzing"),X(z)),g(!1)},400)},X=async K=>{const z={Operations:0,Money:0,Market:0,Leadership:0,Innovation:0,Risk:0,People:0},Q={Operations:0,Money:0,Market:0,Leadership:0,Innovation:0,Risk:0,People:0};P.forEach((ae,ee)=>{const $=K[ee];let Be=0;ae.isSwapped?Be=100-($-1)*25:Be=($-1)*25,z[ae.pillar]!==void 0&&(z[ae.pillar]+=Be,Q[ae.pillar]++)}),Object.keys(z).forEach(ae=>{Q[ae]>0&&(z[ae]=Math.round(z[ae]/Q[ae]))});const de=(z.Market+z.Leadership+z.Innovation+z.People)/4,F=(z.Operations+z.Money+z.Risk)/3,j=50;let Z="The Hidden Gem";k.industry==="aquaculture"?Z=Vye(z):de>=j&&F>=j?Z="The Sovereign":de>=j&&F<j?Z="The Uncrowned King":de<j&&F>=j?Z="The Iron General":Z="The Storm Survivor";const fe=Object.entries(z).sort(([,ae],[,ee])=>ae-ee)[0][0],je={operations:z.Operations,money:z.Money,market:z.Market,leadership:z.Leadership,innovation:z.Innovation,risk:z.Risk,people:z.People};let le=null;if(k.industry==="agro_processing"){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="agri_input"){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="mining"){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="oil_gas_services"){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Vb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Hb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Gb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&$b.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Yb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Qb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Xb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Jb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="manufacturing"&&Zb.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="retail"&&yu.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="retail"&&_u.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="retail"&&vu.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else if(k.industry==="retail"&&bu.includes(k.subIndustry)){const ae={};P.forEach((ee,$)=>{ae[ee.id]=K[$]-1}),le=await Yi(ae,k)}else le=await jye(je,Z,k);le&&(le.profileContext=k),U(le),B({scores:je,archetype:Z,silentKiller:fe,indices:q4(je)}),r("result")};if(n==="setup")return a.jsxs("div",{className:"min-h-screen bg-[#FAFAFB] font-sans text-slate-800 flex flex-col",children:[a.jsxs("div",{className:"px-8 py-6 flex justify-between items-center bg-white border-b border-gray-100 sticky top-0 z-20",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-900 rounded-lg flex items-center justify-center text-white font-bold",children:"P"}),a.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Profit DNA Profile"})]}),a.jsxs("div",{className:"text-sm font-medium text-slate-400",children:["Step ",v," of 4"]})]}),a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 max-w-4xl mx-auto w-full animate-fade-in-up",children:[v===1&&a.jsxs("div",{className:"w-full",children:[a.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"What is your primary industry?"}),a.jsx("p",{className:"text-slate-500 text-center mb-10 text-lg",children:"We use this to benchmark your profit metrics."}),a.jsxs("div",{className:"relative mb-8 max-w-lg mx-auto",children:[a.jsx(Ka,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search (e.g. Retail, Tech, Health)...",className:"w-full pl-12 py-3.5 bg-white border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-teal-500 focus:border-transparent text-lg",value:T,onChange:K=>N(K.target.value)})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:aL.filter(K=>K.label.toLowerCase().includes(T.toLowerCase())).map(K=>a.jsx("div",{className:"relative group",children:a.jsxs("button",{onClick:()=>O((E==null?void 0:E.id)===K.id?null:K),className:`w-full flex flex-col items-center p-6 rounded-2xl border transition-all duration-200 ${(E==null?void 0:E.id)===K.id?"bg-slate-900 text-white border-slate-900 shadow-lg transform scale-[1.02]":"bg-white border-gray-100 hover:border-gray-300 hover:shadow-md text-slate-600"}`,children:[(()=>{const z=Wye(K.iconName);return a.jsx(z,{className:"w-8 h-8 mb-3"})})(),a.jsx("span",{className:"font-bold text-sm text-center",children:K.label})]})},K.id))}),E&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm p-4 animate-in fade-in zoom-in-95",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 w-full max-w-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Select Sub-Industry"}),a.jsx("button",{onClick:()=>O(null),children:a.jsx(yn,{className:"w-5 h-5 text-gray-400"})})]}),a.jsx("div",{className:"p-2 max-h-[60vh] overflow-y-auto",children:E.subIndustries.map(K=>a.jsx("button",{onClick:()=>W(E.id,K),className:"w-full text-left px-6 py-4 hover:bg-slate-50 text-slate-700 font-medium border-b border-gray-50 last:border-0 transition-colors",children:K},K))})]})})]}),v===2&&a.jsxs("div",{className:"w-full max-w-lg",children:[a.jsxs("button",{onClick:()=>S(1),className:"mb-8 text-sm font-bold text-slate-400 hover:text-slate-800 flex items-center gap-1",children:[a.jsx(Ir,{className:"w-4 h-4"})," Back"]}),a.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Create Your Profile"}),a.jsx("p",{className:"text-slate-500 text-center mb-10 text-lg",children:"Personalize your report metadata."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Business Name"}),a.jsx("input",{type:"text",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-black focus:border-black text-lg",placeholder:"e.g. Acme Corp",value:k.businessName,onChange:K=>C({...k,businessName:K.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name"}),a.jsx("input",{type:"text",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-black focus:border-black text-lg",placeholder:"e.g. Jane Doe",value:k.userName,onChange:K=>C({...k,userName:K.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Title"}),a.jsx("input",{type:"text",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-black focus:border-black text-lg",placeholder:"e.g. Founder, CEO, Ops Manager",value:k.userTitle,onChange:K=>C({...k,userTitle:K.target.value})})]})]}),a.jsx("div",{className:"mt-10 flex justify-end",children:a.jsxs("button",{onClick:()=>S(3),disabled:!k.businessName||!k.userName,className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold text-lg hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:["Next Step ",a.jsx(on,{className:"w-5 h-5"})]})})]}),v===3&&a.jsxs("div",{className:"w-full max-w-3xl",children:[a.jsxs("button",{onClick:()=>S(2),className:"mb-8 text-sm font-bold text-slate-400 hover:text-slate-800 flex items-center gap-1",children:[a.jsx(Ir,{className:"w-4 h-4"})," Back"]}),a.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"What is your top priority right now?"}),a.jsx("p",{className:"text-slate-500 text-center mb-10 text-lg",children:"Select up to 2 goals to tailor your action plan."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Bye.map(K=>a.jsxs("button",{onClick:()=>q(K),className:`p-6 rounded-xl border-2 text-left transition-all duration-200 flex items-center justify-between ${k.goals.includes(K)?"border-teal-500 bg-teal-50/50 text-teal-900 shadow-sm":"border-gray-100 bg-white text-slate-600 hover:border-gray-300"}`,disabled:k.goals.length>=2&&!k.goals.includes(K),children:[a.jsx("span",{className:"font-bold text-lg",children:K}),k.goals.includes(K)&&a.jsx(He,{className:"w-6 h-6 text-teal-600"})]},K))}),a.jsx("div",{className:"mt-10 flex justify-end",children:a.jsxs("button",{onClick:()=>S(4),disabled:k.goals.length===0,className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold text-lg hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:["Next Step ",a.jsx(on,{className:"w-5 h-5"})]})})]}),v===4&&a.jsxs("div",{className:"w-full max-w-3xl",children:[a.jsxs("button",{onClick:()=>S(3),className:"mb-8 text-sm font-bold text-slate-400 hover:text-slate-800 flex items-center gap-1",children:[a.jsx(Ir,{className:"w-4 h-4"})," Back"]}),a.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"How big is the team?"}),a.jsx("p",{className:"text-slate-500 text-center mb-10 text-lg",children:'We adapt the "Tribe" questions based on your headcount.'}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:zye.map(K=>a.jsxs("button",{onClick:()=>C({...k,size:K.id}),className:`p-6 rounded-xl border-2 text-center transition-all duration-200 ${k.size===K.id?"border-slate-900 bg-slate-900 text-white shadow-lg":"border-gray-100 bg-white text-slate-600 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-lg font-bold mb-1",children:K.label}),a.jsx("div",{className:`text-sm ${k.size===K.id,"text-slate-400"}`,children:K.sub})]},K.id))}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 flex flex-col md:flex-row gap-6 items-center justify-between mb-10",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:[a.jsx("p",{className:"font-bold mb-1 text-slate-900",children:"Optional Context"}),"Does your headcount include contractors or volunteers?"]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-gray-50 px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-100",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500",checked:k.includesContractors,onChange:()=>C({...k,includesContractors:!k.includesContractors})}),a.jsx("span",{className:"text-sm font-medium",children:"Contractors"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-gray-50 px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-100",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500",checked:k.includesVolunteers,onChange:()=>C({...k,includesVolunteers:!k.includesVolunteers})}),a.jsx("span",{className:"text-sm font-medium",children:"Volunteers"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{k.industry==="agro_processing"||k.industry==="agri_input"?S(5):r("intro")},className:"bg-teal-600 text-white px-10 py-4 rounded-xl font-bold text-lg hover:bg-teal-700 transition-all flex items-center gap-2 shadow-lg shadow-teal-900/20",children:[["agro_processing","agri_input"].includes(k.industry||"")?"Next: Operations":"Complete Profile"," ",a.jsx(He,{className:"w-5 h-5"})]})})]}),v===5&&a.jsxs("div",{className:"w-full max-w-3xl",children:[a.jsxs("button",{onClick:()=>S(4),className:"mb-8 text-sm font-bold text-slate-400 hover:text-slate-800 flex items-center gap-1",children:[a.jsx(Ir,{className:"w-4 h-4"})," Back"]}),a.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:k.industry==="agri_input"?"Agri-Input Details":"Agro-Processing Deep Dive"}),a.jsx("p",{className:"text-slate-500 text-center mb-10 text-lg",children:"We need these details to calculate your specific efficiency indices."}),a.jsxs("div",{className:"space-y-8 bg-white p-8 rounded-2xl border border-gray-200 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Line Type / Sub-Sector"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:(k.industry==="agri_input"?["Seeds","Fertilizer","Chemicals","Vet Supplies","Equipment"]:["Milling","Drying","Packaging","Juices","Oils"]).map(K=>a.jsx("button",{onClick:()=>C({...k,agroSubSector:K}),className:`px-3 py-2 rounded-lg text-sm font-bold border transition-all ${k.agroSubSector===K?"bg-slate-900 text-white border-slate-900":"bg-gray-50 text-slate-600 border-gray-200 hover:border-gray-300"}`,children:K},K))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Shifts & Days"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm",value:k.shiftsPerDay||1,onChange:K=>C({...k,shiftsPerDay:parseInt(K.target.value)}),children:[a.jsx("option",{value:1,children:"1 Shift / Day"}),a.jsx("option",{value:2,children:"2 Shifts / Day"}),a.jsx("option",{value:3,children:"3 Shifts / Day"})]}),a.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm",value:k.daysPerWeek||5,onChange:K=>C({...k,daysPerWeek:parseInt(K.target.value)}),children:[a.jsx("option",{value:5,children:"5 Days / Week"}),a.jsx("option",{value:6,children:"6 Days / Week"}),a.jsx("option",{value:7,children:"7 Days / Week"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Rated Capacity"}),a.jsx("input",{type:"text",placeholder:"e.g. 5 tons/day or 10k units/week",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm",value:k.capacity||"",onChange:K=>C({...k,capacity:K.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Compliance Level"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{val:"informal",label:"Informal / Basic"},{val:"basic",label:"Registered / Standard"},{val:"audit-ready",label:"Audit-Ready / Certified"}].map(K=>a.jsx("button",{onClick:()=>C({...k,complianceLevel:K.val}),className:`px-3 py-3 rounded-lg text-sm font-bold border transition-all text-center ${k.complianceLevel===K.val?"bg-teal-600 text-white border-teal-600":"bg-gray-50 text-slate-600 border-gray-200 hover:border-gray-300"}`,children:K.label},K.val))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Operating Model"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Manual","Semi-Automated","Fully Automated"].map(K=>a.jsx("button",{onClick:()=>C({...k,operatingModel:K}),className:`px-3 py-3 rounded-lg text-sm font-bold border transition-all text-center ${k.operatingModel===K?"bg-indigo-600 text-white border-indigo-600":"bg-gray-50 text-slate-600 border-gray-200 hover:border-gray-300"}`,children:K},K))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Primary Sales Channels"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Local Market","Wholesale","Modern Retail","Export"].map(K=>{var Q;const z=(Q=k.salesChannels)==null?void 0:Q.includes(K);return a.jsx("button",{onClick:()=>{const de=k.salesChannels||[],F=z?de.filter(j=>j!==K):[...de,K];C({...k,salesChannels:F})},className:`px-4 py-2 rounded-full text-sm font-bold border transition-all ${z?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-gray-300 hover:border-gray-400"}`,children:K},K)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-3",children:"Top Products (comma separated)"}),a.jsx("input",{type:"text",placeholder:"e.g. Maize Flour Grade 1, Bran, Fortified Mix",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm",value:((se=k.products)==null?void 0:se.join(", "))||"",onChange:K=>C({...k,products:K.target.value.split(",").map(z=>z.trim())})})]})]}),a.jsx("div",{className:"flex justify-end mt-10",children:a.jsxs("button",{onClick:()=>r("intro"),className:"bg-slate-900 text-white px-10 py-4 rounded-xl font-bold text-lg hover:bg-black transition-all flex items-center gap-2 shadow-lg shadow-slate-900/20",children:["Generate Deep Scan ",a.jsx(He,{className:"w-5 h-5"})]})})]})]})]});if(n==="intro")return a.jsx("div",{className:"min-h-screen bg-[#FAFAFB] flex items-center justify-center p-6 font-sans",children:a.jsxs("div",{className:"max-w-xl w-full bg-white p-10 rounded-3xl shadow-xl text-center border border-gray-100 animate-fade-in-up",children:[a.jsx("div",{className:"w-16 h-16 bg-teal-50 text-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:a.jsx(ya,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 mb-4",children:"Forensic Quick Scan"}),a.jsxs("p",{className:"text-lg text-slate-600 mb-8 leading-relaxed",children:['You will see paired statements. Neither is "good" or "bad"they simply reflect how your business operates today.',a.jsx("br",{}),a.jsx("br",{}),a.jsx("span",{className:"font-bold text-slate-800",children:"Don't overthink it. Go with your gut."})]}),a.jsxs("div",{className:"flex flex-col gap-4 text-sm text-slate-500 bg-slate-50 p-6 rounded-xl border border-slate-100 mb-8 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Zi,{className:"w-5 h-5 text-slate-400"})," Takes about 2 minutes (14 questions)"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(cn,{className:"w-5 h-5 text-slate-400"})," Results are private to you"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nk,{className:"w-5 h-5 text-slate-400"})," Auto-save enabled"]})]}),a.jsx("button",{onClick:()=>r("assessment"),className:"w-full bg-slate-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-black transition-all shadow-lg hover:-translate-y-1",children:"Start Assessment"})]})});if(n==="assessment"){const K=P[s],z=(s+1)/P.length*100;return a.jsxs("div",{className:"min-h-screen bg-[#FAFAFB] font-sans text-slate-800 flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 pt-6 pb-4 px-6 md:px-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-end mb-3",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-xs font-bold tracking-widest text-slate-400 uppercase mb-1 block",children:["Pillar ",["Operations","Money","Market","Leadership","Innovation","Risk","People"].indexOf(K.pillar)+1," of 7"]}),a.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[K.pillar," ",a.jsx("span",{className:"text-slate-300",children:"|"}),a.jsx("span",{className:"text-base font-normal text-slate-500",children:s%2===0?"Operations & Style":"Risk & Consistency"})]})]}),a.jsxs("span",{className:"text-sm font-bold text-slate-400",children:[s+1," / ",P.length]})]}),a.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-teal-500 h-full rounded-full transition-all duration-500 ease-out",style:{width:`${z}%`}})})]})}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 animate-fade-in relative",children:a.jsxs("div",{className:`max-w-4xl w-full transition-all duration-300 ${u?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}`,children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-8 md:p-12",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-16 items-center mb-12",children:[a.jsx("div",{className:"flex-1 text-center md:text-right",children:a.jsxs("p",{className:"text-lg md:text-xl font-medium text-slate-700 leading-relaxed",children:['"',K.a,'"']})}),a.jsx("div",{className:"hidden md:block w-px h-24 bg-gray-200"}),a.jsx("div",{className:"md:hidden w-24 h-px bg-gray-200"}),a.jsx("div",{className:"flex-1 text-center md:text-left",children:a.jsxs("p",{className:"text-lg md:text-xl font-medium text-slate-700 leading-relaxed",children:['"',K.b,'"']})})]}),a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[a.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide",children:"Strongly A"}),a.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide",children:"Strongly B"})]}),a.jsxs("div",{className:"relative h-16 bg-gray-50 rounded-full border border-gray-200 flex items-center justify-between px-2 md:px-4",children:[a.jsx("div",{className:"absolute left-8 right-8 top-1/2 h-0.5 bg-gray-200 -z-0"}),qye.map(Q=>a.jsxs("button",{onClick:()=>pe(Q.value),className:"relative z-10 group focus:outline-none",children:[a.jsx("div",{className:`
                                   transition-all duration-300 ease-out rounded-full border-4 border-white shadow-sm flex items-center justify-center
                                   ${h===Q.value?"w-14 h-14 -mt-2 shadow-md":"w-10 h-10"}
                                   ${Q.color}
                                `,onMouseEnter:()=>y(Q.value),onMouseLeave:()=>y(null),children:a.jsx("div",{className:"w-2 h-2 bg-white/30 rounded-full"})}),a.jsx("div",{className:`absolute top-full left-1/2 -translate-x-1/2 mt-3 whitespace-nowrap text-xs font-bold text-slate-600 transition-opacity duration-200 ${h===Q.value?"opacity-100":"opacity-0"}`,children:Q.label})]},Q.value))]})]})]}),a.jsx("div",{className:"text-center mt-8",children:a.jsxs("p",{className:"text-sm text-slate-400 font-medium",children:["Asking for: ",a.jsxs("span",{className:"text-slate-600 font-bold",children:[k.industry," / ",k.subIndustry]})," context"]})})]})})]})}if(n==="analyzing")return a.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center text-white",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 border-4 border-slate-700 rounded-full"}),a.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 border-4 border-t-teal-400 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})]}),a.jsx("h2",{className:"text-3xl font-bold mt-8 mb-2 animate-pulse",children:"Triangulating Profit Leaks..."}),a.jsxs("p",{className:"text-slate-400 text-lg",children:["Comparing against ",k.industry||"Global"," benchmarks."]}),a.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Powered by Gemini Logic Engine"})]});if(n==="result"&&D){const K="basic",z=k.industry==="aquaculture"?dpe:k.industry==="agro_processing"?upe:k.industry==="mining"?ppe:k.industry==="oil_gas_services"?fpe:k.industry==="retail"&&yu.includes(k.subIndustry)?kpe:k.industry==="retail"&&_u.includes(k.subIndustry)?Spe:k.industry==="retail"&&vu.includes(k.subIndustry)?wpe:k.industry==="retail"&&bu.includes(k.subIndustry)?Cpe:k.industry==="retail"&&Ch.includes(k.subIndustry)?Tpe:k.industry==="retail"&&Th.includes(k.subIndustry)?Ape:k.industry==="manufacturing"&&Vb.includes(k.subIndustry)?gpe:k.industry==="manufacturing"&&Hb.includes(k.subIndustry)?hpe:k.industry==="manufacturing"&&Gb.includes(k.subIndustry)?mpe:k.industry==="manufacturing"&&$b.includes(k.subIndustry)?ype:k.industry==="manufacturing"&&Yb.includes(k.subIndustry)?_pe:k.industry==="manufacturing"&&Qb.includes(k.subIndustry)?vpe:k.industry==="manufacturing"&&Xb.includes(k.subIndustry)?bpe:k.industry==="manufacturing"&&Jb.includes(k.subIndustry)?xpe:k.industry==="manufacturing"&&Zb.includes(k.subIndustry)?Epe:null,Q=z?z[D.silentKiller]:null;return a.jsx("div",{className:"min-h-screen bg-[#FAFAFB] p-8 flex items-center justify-center",children:a.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-3xl shadow-xl border border-gray-100 p-10 text-center animate-scale-in",children:[a.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-teal-50 text-teal-700 font-bold text-sm uppercase tracking-wide mb-6",children:"Analysis Complete"}),a.jsxs("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2",children:['You are "',D.archetype,'"']}),Q?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xl text-slate-500 mb-6 max-w-lg mx-auto",children:["Your biggest profit leak is ",a.jsx("strong",{children:D.silentKiller}),"."]}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 mb-10 border border-slate-100 text-left",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx(ar,{className:"w-6 h-6 text-amber-500 shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-slate-900 mb-1",children:["Signal: ",Q.detection]}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Typically costs you: ",Q.cost]})]})]}),a.jsx("div",{className:"pl-10",children:a.jsxs("p",{className:"text-sm font-bold text-teal-700",children:["Solution: ",Q.cliffhanger]})})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xl text-slate-500 mb-10 max-w-lg mx-auto",children:["Your business has strong potential, but a silent leak in your ",a.jsx("strong",{children:D.silentKiller})," pillar is capping your growth."]}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 mb-10 border border-slate-100 text-left",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx(ar,{className:"w-6 h-6 text-amber-500"}),a.jsx("h3",{className:"font-bold text-slate-900",children:"Critical Risk Detected"})]}),a.jsxs("p",{className:"text-slate-600 mb-2",children:["Your ",a.jsx("strong",{children:D.silentKiller})," score is significantly below the benchmark for ",k.industry,"."]}),a.jsxs("p",{className:"text-sm font-bold text-slate-800",children:["Est. Monthly Loss: ",D.indices.cashLeak>50?"High":"Moderate"]})]})]}),a.jsxs("button",{onClick:()=>e(D.archetype,D.scores,K,V||void 0),className:"w-full bg-teal-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-teal-700 transition-all shadow-lg hover:-translate-y-1 flex items-center justify-center gap-2",children:["View Mission Brief ",a.jsx(on,{className:"w-5 h-5"})]})]})})}return null},Vye=e=>{const t=(...g)=>{for(const h of g){const y=e[h];if(typeof y=="number")return y}return 0},i=t("Operations","Engine"),n=t("Money","Fuel"),r=t("Market","Voice"),s=t("Leadership","Brain"),l=t("Innovation","Pulse"),d=t("Risk","Shield"),p={Operations:i,Money:n,Market:r,Leadership:s,Innovation:l,Risk:d,People:t("People","Tribe")},u=Object.entries(p).sort(([,g],[,h])=>g-h)[0][0];return u==="Market"||r<=40?"The Market Taker":u==="Risk"&&(r>=60||n>=60)?"The Fragile Winner":u==="Money"||n<=40?"The Silent Leak":u==="Leadership"&&i>=50?"The Busy Operator":(l>=60||i>=60)&&(n<=40||s<=40)?"The Growth Chaser":s>=60&&d>=60&&i>=60?"The Control Builder":u==="Innovation"?"The Growth Chaser":u==="Risk"?"The Fragile Winner":"The Busy Operator"},Hye=()=>{const[e,t]=A.useState(""),[i,n]=A.useState(!1),[r,s]=A.useState(null),[l,d]=A.useState(null),p=async()=>{if(e.trim()){n(!0),d(null);try{const S=await Que(e);S?s(S):d("Could not generate plan. Please try a more specific topic.")}catch{d("An error occurred while connecting to the intelligence engine.")}finally{n(!1)}}},u=S=>{if(!r)return;const k=r.steps.map(C=>{if(C.id===S){const T=C.status==="completed"?"pending":"completed";return{...C,status:T}}return C});s({...r,steps:k})},g=(S,k)=>{if(console.log(`File uploaded for step ${S}:`,k.name),!r)return;const C=r.steps.map(T=>T.id===S?{...T,status:"completed"}:T);s({...r,steps:C})},h=(r==null?void 0:r.steps.filter(S=>S.status==="completed").length)||0,y=(r==null?void 0:r.steps.length)||0,v=y>0?Math.round(h/y*100):0;return a.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Action Lab"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Turn any content, meeting, or idea into an executable proof-of-work protocol."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Material / Topic"}),a.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-black focus:border-transparent resize-none text-sm",placeholder:"Paste a YouTube URL, meeting notes, or describe a skill you want to master...",value:e,onChange:S=>t(S.target.value)}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[a.jsxs("button",{onClick:p,disabled:i||!e,className:"w-full flex items-center justify-center bg-black text-white py-2.5 rounded-md font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[i?a.jsx(Ma,{className:"animate-spin w-4 h-4 mr-2"}):a.jsx(nc,{className:"w-4 h-4 mr-2"}),i?"Analyzing...":"Generate Protocol"]}),l&&a.jsxs("div",{className:"flex items-center text-xs text-red-600 mt-2 bg-red-50 p-2 rounded",children:[a.jsx(pc,{className:"w-4 h-4 mr-1.5"}),l]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"How it works"}),a.jsx("p",{className:"text-xs text-blue-700",children:'Our AI extracts actionable steps from your input. Completing these steps generates a "Proof of Work" certificate valid for your professional profile.'})]})]}),a.jsxs("div",{className:"lg:col-span-8",children:[!r&&!i&&a.jsxs("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 text-gray-400",children:[a.jsx(ln,{className:"w-12 h-12 mb-4 opacity-50"}),a.jsx("p",{children:"No active protocol. Generate one to start executing."})]}),i&&a.jsxs("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center border border-gray-200 rounded-xl bg-white",children:[a.jsxs("div",{className:"w-full max-w-md space-y-4 px-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 animate-pulse"})]})]}),a.jsxs("div",{className:"space-y-2 pt-4",children:[a.jsx("div",{className:"h-2 bg-gray-100 rounded w-full animate-pulse"}),a.jsx("div",{className:"h-2 bg-gray-100 rounded w-full animate-pulse"}),a.jsx("div",{className:"h-2 bg-gray-100 rounded w-5/6 animate-pulse"})]})]}),a.jsx("p",{className:"mt-8 text-sm text-gray-500 animate-pulse",children:"Synthesizing execution steps..."})]}),r&&!i&&a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.title}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Proof of Work Protocol  ID: ",r.id.slice(0,8)]})]}),a.jsxs("div",{className:"radial-progress text-brand-600 text-xs font-bold",style:{"--value":v,"--size":"3rem"},children:[v,"%"]})]}),a.jsx("div",{className:"divide-y divide-gray-100",children:r.steps.map((S,k)=>a.jsx("div",{className:`p-6 group transition-colors ${S.status==="completed"?"bg-green-50/30":"hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm border 
                        ${S.status==="completed"?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200 group-hover:border-gray-300"}`,children:S.status==="completed"?a.jsx(Ja,{className:"w-4 h-4"}):k+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:`text-sm font-bold ${S.status==="completed"?"text-green-900":"text-gray-900"}`,children:S.title}),a.jsx("span",{className:"text-[10px] uppercase tracking-wider font-semibold text-gray-400 border border-gray-200 px-2 py-0.5 rounded",children:S.requiredProofType})]}),a.jsx("p",{className:`text-sm mt-1 leading-relaxed ${S.status==="completed"?"text-green-800":"text-gray-600"}`,children:S.description}),a.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[S.requiredProofType==="file"&&a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"file",id:`file-${S.id}`,className:"hidden",onChange:C=>{var T;(T=C.target.files)!=null&&T[0]&&g(S.id,C.target.files[0])}}),a.jsxs("label",{htmlFor:`file-${S.id}`,className:`flex items-center text-xs font-medium border px-3 py-1.5 rounded transition-colors cursor-pointer
                                   ${S.status==="completed"?"bg-green-100 border-green-200 text-green-700 hover:bg-green-200":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[a.jsx(cR,{className:"w-3.5 h-3.5 mr-1.5"}),S.status==="completed"?"Evidence Uploaded":"Upload Evidence"]})]}),S.requiredProofType==="link"&&a.jsxs("button",{onClick:()=>u(S.id),className:`flex items-center text-xs font-medium border px-3 py-1.5 rounded transition-colors
                                 ${S.status==="completed"?"bg-green-100 border-green-200 text-green-700":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[a.jsx(Lq,{className:"w-3.5 h-3.5 mr-1.5"}),S.status==="completed"?"Link Submitted":"Submit Link"]}),S.requiredProofType==="text"&&a.jsxs("button",{onClick:()=>u(S.id),className:`flex items-center text-xs font-medium border px-3 py-1.5 rounded transition-colors
                                 ${S.status==="completed"?"bg-green-100 border-green-200 text-green-700":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[a.jsx(ln,{className:"w-3.5 h-3.5 mr-1.5"}),S.status==="completed"?"Reflection Saved":"Write Reflection"]}),S.status!=="completed"&&a.jsx("button",{onClick:()=>u(S.id),className:"ml-auto text-xs text-gray-400 hover:text-brand-600 font-medium transition-colors",children:"Mark Done"})]})]})]})},S.id))}),a.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:a.jsx("button",{className:"bg-brand-600 text-white px-6 py-2 rounded-md text-sm font-medium shadow-sm hover:bg-brand-500 transition-colors",children:"Save Protocol"})})]})]})]})]})},gL=({categories:e,trendingCourses:t,onCategoryClick:i,onCourseClick:n,onSearch:r,user:s,onViewPricing:l,onBookDemo:d})=>{const[p,u]=A.useState("popular"),h=(()=>{const v=[...t];switch(p){case"popular":return v.sort((S,k)=>k.reviewsCount-S.reviewsCount);case"soon":return v.sort((S,k)=>{var E,O,P,I;const C=D=>{if(!D)return 1/0;const B=new Date(D);return isNaN(B.getTime())?1/0:B.getTime()},T=C((O=(E=S.upcomingSessions)==null?void 0:E[0])==null?void 0:O.startDate),N=C((I=(P=k.upcomingSessions)==null?void 0:P[0])==null?void 0:I.startDate);return T-N});case"rated":return v.sort((S,k)=>k.rating-S.rating);case"practical":return v.sort((S,k)=>{var C,T;return(((C=k.outcomes)==null?void 0:C.length)||0)-(((T=S.outcomes)==null?void 0:T.length)||0)});default:return v}})(),y=(s==null?void 0:s.role)==="consultant";return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200 py-16 md:py-24",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-gray-900 tracking-tight mb-6",children:y?a.jsxs(a.Fragment,{children:["Market Insights: ",a.jsx("span",{className:"text-profit",children:"Student Demand"})]}):a.jsxs(a.Fragment,{children:["Learn, Execute and ",a.jsx("span",{className:"text-profit",children:"Watch Your Profit Grow."})]})}),a.jsx("p",{className:"text-lg text-gray-500 mb-10 max-w-2xl mx-auto",children:y?"See what courses your potential clients are taking. Align your services with market trends.":"Join live sessions led by vetted executives. Execute real projects, verified by AI, and level up your career."}),a.jsxs("div",{className:"relative max-w-xl mx-auto shadow-lg rounded-full",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:a.jsx(Ka,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-12 pr-4 py-4 bg-white border border-gray-200 rounded-full text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-profit focus:border-transparent text-base",placeholder:y?"Search niche topics...":"Search for skills, roles, or outcomes...",onKeyDown:v=>v.key==="Enter"&&r(v.target.value)}),a.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-profit text-white px-6 rounded-full text-sm font-bold hover:bg-green-600 transition-colors",children:"Find Course"})]}),a.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-4 text-sm text-gray-500",children:[a.jsx("span",{className:"font-medium text-gray-900",children:"Popular:"}),["SaaS Finance","AI Ops","Leadership","Supply Chain"].map(v=>a.jsx("button",{onClick:()=>r(v),className:"hover:text-brand-600 hover:underline transition-colors",children:v},v))]})]})}),a.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[a.jsx("div",{className:"flex justify-between items-end mb-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Explore by Subject"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Deep dive into specialized execution tracks."})]})}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 md:gap-6",children:e.map(v=>a.jsxs("div",{onClick:()=>i(v.key),className:"group bg-white border border-gray-200 rounded-xl p-4 md:p-6 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer flex flex-col items-start h-full",children:[a.jsx("div",{className:"text-3xl mb-4 group-hover:scale-110 transition-transform duration-300",children:v.icon}),a.jsx("h3",{className:"font-bold text-gray-900 text-base md:text-lg mb-2",children:v.name}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 leading-relaxed",children:v.description})]},v.id))})]}),a.jsx("div",{className:"bg-gray-50 py-16 border-y border-gray-200",children:a.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-full text-red-600",children:a.jsx(dr,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:y?"Trending in Your Niche":"Trending Sessions"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Sort by:"}),a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{className:"flex items-center gap-1 text-sm font-bold text-gray-900 bg-white border border-gray-200 px-3 py-1.5 rounded-lg hover:bg-gray-50 transition-colors",children:[p==="popular"?"Most Popular":p==="soon"?"Starts Soon":p==="rated"?"Highest Rated":"Most Practical",a.jsx(Ju,{className:"w-4 h-4 text-gray-500"})]}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden z-20 hidden group-hover:block",children:[a.jsx("button",{onClick:()=>u("popular"),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 font-medium text-gray-700 hover:text-black",children:"Most Popular"}),a.jsx("button",{onClick:()=>u("soon"),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 font-medium text-gray-700 hover:text-black",children:"Starts Soon"}),a.jsx("button",{onClick:()=>u("rated"),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 font-medium text-gray-700 hover:text-black",children:"Highest Rated"}),a.jsx("button",{onClick:()=>u("practical"),className:"w-full text-left px-4 py-2.5 text-sm hover:bg-gray-50 font-medium text-gray-700 hover:text-black",children:"Most Practical"})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:h.map(v=>a.jsxs("div",{onClick:()=>n(v.slug),className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col h-full",children:[a.jsxs("div",{className:"aspect-video relative bg-gray-200 overflow-hidden",children:[a.jsx("img",{src:v.thumbnail,alt:v.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-white/90 backdrop-blur-sm px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider text-gray-900 shadow-sm",children:v.category})}),v.format==="Live Session"&&a.jsx("div",{className:"absolute bottom-3 right-3",children:a.jsxs("span",{className:"bg-black/80 text-white px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[a.jsx(Zi,{className:"w-3 h-3"})," Live"]})})]}),a.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight mb-2 line-clamp-2 min-h-[3rem]",children:v.title}),a.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:v.shortPromise}),a.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:v.instructor.avatar,alt:"",className:"w-6 h-6 rounded-full bg-gray-100"}),a.jsx("span",{className:"text-xs font-medium text-gray-700 truncate max-w-[80px] lg:max-w-[100px]",children:v.instructor.name})]}),a.jsxs("div",{className:"flex items-center gap-1 text-amber-500 text-xs font-bold",children:[a.jsx(Nn,{className:"w-3 h-3 fill-current"})," ",v.rating]})]})]})]},v.id))})]})}),a.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-20",children:a.jsxs("div",{className:"bg-black rounded-2xl p-10 md:p-16 text-center md:text-left relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gray-800 rounded-full blur-3xl opacity-50 -mr-20 -mt-20 pointer-events-none"}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-10",children:[a.jsxs("div",{className:"max-w-2xl",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Upskill your entire team."}),a.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Get enterprise-grade access to all sessions, unified billing, and custom learning paths. Trusted by 500+ forward-thinking companies."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx("button",{onClick:d,className:"bg-white text-black px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Book Demo"}),a.jsx("button",{onClick:l,className:"border border-gray-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-gray-900 transition-colors",children:"View Team Packs"})]})]}),a.jsx("div",{className:"hidden md:block",children:a.jsxs("div",{className:"w-64 h-48 bg-gray-900 rounded-xl border border-gray-700 p-4 flex flex-col gap-3 opacity-90 rotate-3",children:[a.jsx("div",{className:"h-4 w-1/2 bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-2 w-full bg-gray-800 rounded"}),a.jsx("div",{className:"h-2 w-3/4 bg-gray-800 rounded"}),a.jsxs("div",{className:"mt-auto flex gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700"}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700"}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700"})]})]})})]})]})})]})},Ph={"Legal & Compliance":[{id:"contracts_drafting",label:"Contracts Drafting & Review",category:"Legal",geoMode:"local_required"},{id:"debt_recovery",label:"Debt Recovery & Collections",category:"Legal",geoMode:"local_required"},{id:"company_registration",label:"Company Registration & Governance",category:"Legal",geoMode:"local_required"},{id:"employment_law",label:"Employment / Labor Law",category:"Legal",geoMode:"local_required"},{id:"tax_compliance",label:"Tax Compliance Support",category:"Legal",geoMode:"local_required"},{id:"regulatory_compliance",label:"Sector Compliance & Licensing",category:"Legal",geoMode:"local_required"},{id:"ip_trademarks",label:"Trademarks & IP Protection",category:"Legal",geoMode:"local_preferred"},{id:"litigation_support",label:"Disputes & Litigation",category:"Legal",geoMode:"local_required"}],"Cybersecurity & IT":[{id:"security_audit",label:"Security Audit & Hardening",category:"IT",geoMode:"global_ok"},{id:"backup_recovery",label:"Backups & Disaster Recovery",category:"IT",geoMode:"global_ok"},{id:"access_control",label:"Access Controls Setup",category:"IT",geoMode:"global_ok"}],"Finance & Accounting":[{id:"bookkeeping_setup",label:"Bookkeeping Setup",category:"Finance",geoMode:"local_preferred"},{id:"monthly_reporting",label:"Monthly P&L / Reporting",category:"Finance",geoMode:"global_ok"},{id:"cashflow_forecasting",label:"Cash Flow Forecasting",category:"Finance",geoMode:"global_ok"},{id:"pricing_strategy",label:"Pricing Strategy",category:"Finance",geoMode:"global_ok"},{id:"tax_filing",label:"Tax Filing Support",category:"Finance",geoMode:"local_required"},{id:"cfo_advisory",label:"Fractional CFO Advisory",category:"Finance",geoMode:"global_ok"}],"Marketing & Growth":[{id:"marketing_strategy",label:"Marketing Strategy",category:"Marketing",geoMode:"global_ok"},{id:"performance_ads",label:"Paid Ads (Meta/Google)",category:"Marketing",geoMode:"global_ok"},{id:"content_systems",label:"Content Systems",category:"Marketing",geoMode:"global_ok"},{id:"copywriting",label:"Copywriting",category:"Marketing",geoMode:"global_ok"},{id:"funnel_building",label:"Funnel Building",category:"Marketing",geoMode:"global_ok"},{id:"crm_setup",label:"CRM Setup",category:"Marketing",geoMode:"global_ok"}],Operations:[{id:"sop_documentation",label:"SOPs & Playbooks",category:"Operations",geoMode:"global_ok"},{id:"process_optimization",label:"Process Optimization",category:"Operations",geoMode:"global_ok"},{id:"inventory_tracking",label:"Inventory Systems",category:"Operations",geoMode:"global_ok"},{id:"supply_chain",label:"Supply Chain Mgmt",category:"Operations",geoMode:"global_ok"}],Product:[{id:"product_strategy",label:"Product Strategy",category:"Product",geoMode:"global_ok"},{id:"customer_feedback",label:"Customer Feedback Systems",category:"Product",geoMode:"global_ok"},{id:"qa_testing",label:"QA & Testing",category:"Product",geoMode:"global_ok"}],"People & Culture":[{id:"hiring_system",label:"Hiring Systems",category:"HR",geoMode:"global_ok"},{id:"manager_coaching",label:"Manager Coaching",category:"HR",geoMode:"global_ok"},{id:"hr_compliance",label:"HR Compliance",category:"HR",geoMode:"local_required"},{id:"org_design",label:"Org Structure Design",category:"HR",geoMode:"global_ok"}]},hL={Shield:["Legal & Compliance","Cybersecurity & IT"],Fuel:["Finance & Accounting","Legal & Compliance"],Voice:["Marketing & Growth"],Engine:["Operations"],Pulse:["Product"],Brain:["People & Culture"],Tribe:["People & Culture"]},Gye=["Retail / FMCG","Hospitality","Logistics","Real Estate","Healthcare","Education","Agriculture","Manufacturing","Professional Services","Ecommerce","SaaS"],$ye=({onConsultantClick:e,onSessionClick:t,user:i})=>{const{locale:n}=wc(),[r,s]=A.useState("Recommended"),[l,d]=A.useState(""),[p,u]=A.useState("All"),[g,h]=A.useState(!1),[y,v]=A.useState("Shield"),[S,k]=A.useState(n.country),[C,T]=A.useState(!1),[N,E]=A.useState(null),[O,P]=A.useState(1),[I,D]=A.useState(!0),B=[{id:"c1",name:"Sarah Jenkins",email:"sarah.j@expert.com",role:"consultant",avatar:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&q=80&w=400",title:"Commercial Lawyer & Compliance Expert",bio:"Specializing in East African trade law, contract disputes, and entity registration. 12 years experience in Kampala & Nairobi.",location:{lat:.3476,lng:32.5825,city:"Kampala",country:"UG"},serviceRadiusKm:50,serviceScope:"country",jurisdictions:["UG","KE"],deliveryMode:"hybrid",acceptsInPerson:!0,badges:["ID Verified","Top Rated"],metrics:{responseTime:"2h",jobsCompleted:42,rating:4.9},services:[],specialties:["Contracts","Dispute Resolution","Compliance"],expertiseTags:["contracts_drafting","regulatory_compliance","company_registration"],industryTags:["Logistics","Retail / FMCG"],primaryCategories:["Legal & Compliance","Shield"],tier:"pro",status:"approved",successScore:98,verifiedStatus:"verified_plus",whatsappNumber:"+256 700 123 456",linkedinUrl:"linkedin.com/in/sarahjenkins-law",remoteAvailable:!0,creditsBalance:120},{id:"c2",name:"David Okafor",email:"david.o@finance.com",role:"consultant",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=400",title:"Fractional CFO & Tax Strategist",bio:"Helping SMEs optimize cash flow and navigate tax audits. Former Big 4 Auditor.",location:{lat:6.5244,lng:3.3792,city:"Lagos",country:"NG"},serviceRadiusKm:20,serviceScope:"country",jurisdictions:["NG"],deliveryMode:"hybrid",acceptsInPerson:!0,badges:["Vetted Expert"],metrics:{responseTime:"4h",jobsCompleted:15,rating:5},services:[],specialties:["Tax Planning","Cash Flow","Audits"],expertiseTags:["tax_filing","cashflow_forecasting","bookkeeping_setup"],industryTags:["Manufacturing","Agriculture"],primaryCategories:["Finance & Accounting","Fuel"],tier:"pro",status:"approved",successScore:92,verifiedStatus:"verified",whatsappNumber:"+234 800 555 1212",linkedinUrl:"linkedin.com/in/davidokafor-cfo",remoteAvailable:!0,creditsBalance:45},{id:"c3",name:"Elena Rossi",email:"elena.r@growth.com",role:"consultant",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?auto=format&fit=crop&q=80&w=400",title:"Growth Marketing Director",bio:"Scaling SaaS and E-commerce brands globally. Expert in paid acquisition and retention loops.",location:{lat:40.7128,lng:-74.006,city:"New York",country:"US"},serviceRadiusKm:0,serviceScope:"global",jurisdictions:[],deliveryMode:"remote",acceptsInPerson:!1,badges:["Top Rated"],metrics:{responseTime:"1h",jobsCompleted:150,rating:4.9},services:[],specialties:["Paid Ads","Retention","Funnel Optimization"],expertiseTags:["performance_ads","marketing_strategy","funnel_building"],industryTags:["SaaS","Ecommerce"],primaryCategories:["Marketing & Growth","Voice"],tier:"elite",status:"approved",successScore:99,verifiedStatus:"verified_plus",whatsappNumber:"+1 555 0199 888",linkedinUrl:"linkedin.com/in/elenarossi-growth",remoteAvailable:!0,creditsBalance:300},{id:"c4",name:"James K.",email:"james.k@ops.com",role:"consultant",avatar:"https://ui-avatars.com/api/?name=James+K&background=random",title:"Operations System Architect",bio:"Building SOPs and automation for logistics and retail businesses.",location:{lat:51.5074,lng:-.1278,city:"London",country:"GB"},serviceRadiusKm:0,serviceScope:"global",jurisdictions:[],deliveryMode:"remote",acceptsInPerson:!1,badges:[],metrics:{responseTime:"12h",jobsCompleted:8,rating:4.5},services:[],specialties:["SOPs","Automation","Logistics"],expertiseTags:["sop_documentation","process_optimization","inventory_tracking"],industryTags:["Logistics","Retail / FMCG"],primaryCategories:["Operations","Engine"],tier:"pro",status:"approved",successScore:85,verifiedStatus:"none",remoteAvailable:!0,creditsBalance:10}],U=(()=>{let z=[];return Object.values(Ph).forEach(Q=>z=[...z,...Q]),z})(),q=(()=>{let z=[...B];if(r==="Recommended"&&y!=="None"){const de=hL[y]||[];z=z.filter(F=>F.primaryCategories.some(j=>de.includes(j))||F.primaryCategories.includes(y))}else r!=="Recommended"&&r!=="All"&&(z=z.filter(de=>de.primaryCategories.includes(r)));if(l){const de=l.toLowerCase();z=z.filter(F=>F.name.toLowerCase().includes(de)||F.title.toLowerCase().includes(de)||F.specialties.some(j=>j.toLowerCase().includes(de)))}p!=="All"&&(z=z.filter(de=>de.industryTags.includes(p))),g&&(z=z.filter(de=>de.verifiedStatus!=="none"));const Q=z.map(de=>{var R,fe,je;let F=de.successScore*.35;F+=de.metrics.rating*20*.25;const j=de.primaryCategories.some(le=>["Legal & Compliance","Finance & Accounting"].includes(le)),Z=de.primaryCategories.some(le=>["Marketing & Growth","Operations","Product"].includes(le));return j?(R=de.jurisdictions)!=null&&R.includes(S)||((fe=de.location)==null?void 0:fe.country)===S?F+=25:F-=50:Z&&((je=de.location)==null?void 0:je.country)===S&&(F+=5),de.metrics.responseTime.includes("h")&&parseInt(de.metrics.responseTime)<4&&(F+=10),de.verifiedStatus==="verified_plus"&&(F+=15),de.verifiedStatus==="verified"&&(F+=10),{...de,rankScore:F}});return Q.sort((de,F)=>F.rankScore-de.rankScore),Q})(),pe=z=>{E(z),P(1),T(!0)},X=()=>{P(2),setTimeout(()=>{T(!1),P(1),E(null),alert(`Intro request sent to ${N==null?void 0:N.name}. They will review your report and reply.`)},2e3)},se=z=>{var Q;return((Q=U.find(de=>de.id===z))==null?void 0:Q.label)||z},K=()=>{const z=r==="Legal & Compliance"||r==="Recommended"&&y==="Shield",Q=r==="Marketing & Growth"||r==="Recommended"&&y==="Voice";return z?a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6 flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-amber-700"}),a.jsxs("span",{className:"text-amber-800",children:["Showing ",a.jsx("strong",{children:"local experts first"})," because legal/tax advice is jurisdiction-specific to ",S,"."]})]}),a.jsx("button",{className:"text-xs text-amber-900 font-bold underline hover:no-underline",children:"Include Remote"})]}):Q?a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6 flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Br,{className:"w-4 h-4 text-blue-700"}),a.jsxs("span",{className:"text-blue-800",children:["Showing ",a.jsx("strong",{children:"top global experts"})," because marketing results can be delivered remotely."]})]}),a.jsx("button",{className:"text-xs text-blue-900 font-bold underline hover:no-underline",children:"Prefer Local"})]}):null};return a.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans text-slate-900",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-16 z-20 shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Smart Marketplace"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Showing experts matched to your ",a.jsxs("span",{className:"font-bold text-black",children:["weakest pillar (",y,")"]}),"."]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 border border-blue-200 px-3 py-2 rounded-lg",children:[a.jsx("span",{className:"text-xs font-bold text-blue-800 uppercase",children:"Context:"}),a.jsxs("select",{value:y,onChange:z=>v(z.target.value),className:"bg-white border border-blue-200 text-xs font-medium rounded px-2 py-1 text-blue-900 focus:ring-0 cursor-pointer",children:[a.jsx("option",{value:"None",children:"General Browsing"}),a.jsx("option",{value:"Shield",children:"Critical: Shield (Legal)"}),a.jsx("option",{value:"Fuel",children:"Critical: Fuel (Finance)"}),a.jsx("option",{value:"Voice",children:"Critical: Voice (Marketing)"}),a.jsx("option",{value:"Engine",children:"Critical: Engine (Ops)"})]}),a.jsxs("select",{value:S,onChange:z=>k(z.target.value),className:"bg-white border border-blue-200 text-xs font-medium rounded px-2 py-1 text-blue-900 focus:ring-0 cursor-pointer",children:[a.jsx("option",{value:"UG",children:"Uganda (UG)"}),a.jsx("option",{value:"NG",children:"Nigeria (NG)"}),a.jsx("option",{value:"US",children:"USA (US)"}),a.jsx("option",{value:"GB",children:"UK (GB)"})]})]})]}),a.jsxs("div",{className:"mt-6 flex flex-col gap-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:["Recommended","All",...Object.keys(Ph)].map(z=>a.jsx("button",{onClick:()=>s(z),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all border ${r===z?"bg-black text-white border-black shadow-md":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:z},z))}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Ka,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search skills, tags, or names...",className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-black focus:border-black",value:l,onChange:z=>d(z.target.value)})]}),a.jsxs("select",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2 text-sm text-gray-700",value:p,onChange:z=>u(z.target.value),children:[a.jsx("option",{value:"All",children:"All Industries"}),a.jsx("option",{value:"Retail / FMCG",children:"Retail / FMCG"}),a.jsx("option",{value:"SaaS",children:"SaaS"}),a.jsx("option",{value:"Logistics",children:"Logistics"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm font-medium text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:g,onChange:z=>h(z.target.checked),className:"rounded border-gray-300 text-black focus:ring-black"}),"Verified Only"]})]})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[K(),q.length===0&&a.jsxs("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-xl",children:[a.jsxs("p",{className:"text-gray-500",children:["No experts found matching your criteria in ",S,"."]}),a.jsx("button",{onClick:()=>{s("All"),d("")},className:"mt-2 text-brand-600 font-bold hover:underline",children:"Clear Filters"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(z=>{var F,j,Z;const Q=z.primaryCategories.some(R=>{var fe;return(fe=hL[y])==null?void 0:fe.includes(R)}),de=(F=z.jurisdictions)==null?void 0:F.includes(S);return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-all group flex flex-col relative",children:[(Q||de)&&a.jsxs("div",{className:"absolute top-0 right-0 bg-brand-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10 flex items-center gap-1",children:[a.jsx(ii,{className:"w-3 h-3 fill-current"})," Smart Match"]}),a.jsxs("div",{className:"p-5 flex items-start gap-4 border-b border-gray-50",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-100 overflow-hidden border border-gray-200 flex-shrink-0",children:a.jsx("img",{src:z.avatar,alt:"",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-0.5",children:a.jsx("h3",{className:"font-bold text-gray-900 truncate pr-6",children:z.name})}),a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[z.verifiedStatus==="verified_plus"&&a.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-700 border border-blue-200",children:[a.jsx(cn,{className:"w-3 h-3"})," Verified+"]}),z.verifiedStatus==="verified"&&a.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-700 border border-gray-200",children:[a.jsx(He,{className:"w-3 h-3"})," Verified"]})]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:z.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-50 px-2 py-0.5 rounded text-[10px] font-medium text-gray-600 border border-gray-200",children:[a.jsx(Dr,{className:"w-3 h-3"})," ",(j=z.location)==null?void 0:j.city,", ",(Z=z.location)==null?void 0:Z.country]}),z.remoteAvailable&&a.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-50 px-2 py-0.5 rounded text-[10px] font-medium text-green-700 border border-green-100",children:[a.jsx(Br,{className:"w-3 h-3"})," Remote"]})]})]})]}),a.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-100 flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1 text-amber-500 font-bold",children:[a.jsx(Nn,{className:"w-3.5 h-3.5 fill-current"}),z.metrics.rating,a.jsxs("span",{className:"text-gray-400 font-normal",children:["(",z.metrics.jobsCompleted,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",title:"Success Score: Completion + Satisfaction",children:[a.jsx(yR,{className:`w-3.5 h-3.5 ${z.successScore>90?"text-green-600":"text-gray-400"}`}),a.jsxs("span",{className:"font-bold text-gray-700",children:[z.successScore,"/100 Success"]})]})]}),a.jsxs("div",{className:"p-5 flex-1",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[z.expertiseTags.slice(0,4).map((R,fe)=>a.jsx("span",{className:"text-[10px] font-bold bg-white border border-gray-200 px-2 py-1 rounded-md text-gray-600",children:se(R)},fe)),z.expertiseTags.length>4&&a.jsxs("span",{className:"text-[10px] text-gray-400 px-1 py-1",children:["+",z.expertiseTags.length-4]})]}),z.industryTags&&z.industryTags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:z.industryTags.slice(0,3).map((R,fe)=>a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[a.jsx(Yr,{className:"w-3 h-3"})," ",R]},fe))}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:z.bio})]}),a.jsxs("div",{className:"p-5 pt-0 mt-auto",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:()=>e(z.id),className:"bg-white border border-gray-300 text-gray-700 py-2.5 rounded-lg text-xs font-bold hover:bg-gray-50 transition-colors",children:"View Profile"}),a.jsxs("button",{onClick:()=>pe(z),className:"bg-black text-white py-2.5 rounded-lg text-xs font-bold hover:bg-gray-800 transition-colors flex items-center justify-center gap-1",children:[a.jsx(Vo,{className:"w-3 h-3"})," Request Intro"]})]}),a.jsx("div",{className:"mt-3 flex items-center justify-center text-[10px] text-gray-400",children:a.jsxs("span",{children:["Responds in ~",z.metrics.responseTime]})})]})]},z.id)})})]}),C&&N&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in zoom-in-95",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:O===1?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Request Intro"}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-black",children:a.jsx(yn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("img",{src:N.avatar,className:"w-12 h-12 rounded-full border border-gray-200"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900",children:N.name}),a.jsx("p",{className:"text-xs text-gray-500",children:N.title})]})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-2",children:"Share Context?"}),a.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Sharing your 30-page diagnostic report helps ",N.name.split(" ")[0]," prepare a solution before the first call."]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors ${I?"bg-green-500":"bg-gray-300"}`,onClick:()=>D(!I),children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${I?"translate-x-4":"translate-x-0"}`})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:I?"Sharing Report":"Don't Share"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Message (Optional)"}),a.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-black focus:border-black h-24 resize-none",placeholder:`Hi ${N.name.split(" ")[0]}, I need help with...`})]})]}),a.jsxs("button",{onClick:X,className:"w-full bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:["Send Request ",a.jsx(on,{className:"w-4 h-4"})]}),a.jsx("p",{className:"text-center text-xs text-gray-400 mt-3",children:"Your contact info will be shared securely."})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:a.jsx(He,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Request Sent!"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:[N.name," has been notified. They usually respond within ",N.metrics.responseTime,"."]})]})})})]})},Yye=({category:e,courses:t,onCourseClick:i})=>{const[n,r]=A.useState({level:[],format:[],language:[]}),s=(d,p)=>{r(u=>{const g=u[d],h=g.includes(p)?g.filter(y=>y!==p):[...g,p];return{...u,[d]:h}})},l=t.filter(d=>!(d.category!==e.name&&d.category!==e.key||n.level.length>0&&!n.level.includes(d.level)||n.format.length>0&&!n.format.includes(d.format)||n.language.length>0&&!n.language.includes(d.language)));return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:a.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"text-6xl hidden md:block",children:e.icon}),a.jsxs("div",{className:"max-w-3xl",children:[a.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold text-gray-900 tracking-tight mb-4",children:[e.name," Courses"]}),a.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-6",children:e.description}),e.roiBullets&&a.jsx("div",{className:"flex flex-wrap gap-4",children:e.roiBullets.map((d,p)=>a.jsxs("span",{className:"inline-flex items-center gap-2 bg-white border border-gray-200 px-3 py-1.5 rounded-full text-sm font-medium text-gray-700 shadow-sm",children:[a.jsx(ii,{className:"w-3.5 h-3.5 text-amber-500 fill-current"})," ",d]},p))})]})]})})}),a.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsxs("div",{className:"w-full lg:w-64 flex-shrink-0 space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-gray-900 pb-4 border-b border-gray-100",children:[a.jsx(Zu,{className:"w-4 h-4"})," Filters"]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm text-gray-900 mb-3",children:"Level"}),a.jsx("div",{className:"space-y-2",children:["Beginner","Intermediate","Advanced"].map(d=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${n.level.includes(d)?"bg-black border-black":"bg-white border-gray-300 group-hover:border-gray-400"}`,children:n.level.includes(d)&&a.jsx(Ja,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:n.level.includes(d),onChange:()=>s("level",d)}),a.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-900",children:d})]},d))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm text-gray-900 mb-3",children:"Format"}),a.jsx("div",{className:"space-y-2",children:["Live Session","On-Demand","Hybrid"].map(d=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${n.format.includes(d)?"bg-black border-black":"bg-white border-gray-300 group-hover:border-gray-400"}`,children:n.format.includes(d)&&a.jsx(Ja,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:n.format.includes(d),onChange:()=>s("format",d)}),a.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-900",children:d})]},d))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm text-gray-900 mb-3",children:"Language"}),a.jsx("div",{className:"space-y-2",children:["English","Spanish","French"].map(d=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${n.language.includes(d)?"bg-black border-black":"bg-white border-gray-300 group-hover:border-gray-400"}`,children:n.language.includes(d)&&a.jsx(Ja,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:n.language.includes(d),onChange:()=>s("language",d)}),a.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-900",children:d})]},d))})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[l.length," results"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Sort by:"}),a.jsxs("button",{className:"font-bold flex items-center gap-1 hover:text-black",children:["Popular ",a.jsx(Ju,{className:"w-3 h-3"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[l.map(d=>a.jsxs("div",{onClick:()=>i(d.slug),className:"bg-white border border-gray-200 rounded-xl p-4 md:p-6 flex flex-col md:flex-row gap-6 hover:shadow-lg hover:border-gray-300 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"w-full md:w-64 aspect-video bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[a.jsx("img",{src:d.thumbnail,alt:d.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),d.format==="Live Session"&&a.jsx("div",{className:"absolute top-2 left-2 bg-black text-white text-[10px] font-bold px-2 py-1 rounded",children:"LIVE"})]}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-brand-600 transition-colors mb-2",children:d.title}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",d.price]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:d.shortPromise}),a.jsxs("div",{className:"mt-auto flex flex-wrap items-center gap-4 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("img",{src:d.instructor.avatar,alt:"",className:"w-5 h-5 rounded-full bg-gray-200"}),a.jsx("span",{className:"font-medium text-gray-700",children:d.instructor.name})]}),a.jsx("div",{className:"h-3 w-px bg-gray-300"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Nn,{className:"w-3 h-3 text-amber-500 fill-current"})," ",d.rating," (",d.reviewsCount,")"]}),a.jsx("div",{className:"h-3 w-px bg-gray-300"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zi,{className:"w-3 h-3"})," ",d.duration]}),a.jsx("div",{className:"h-3 w-px bg-gray-300"}),a.jsx("div",{className:"font-medium",children:d.level})]})]})]},d.id)),l.length===0&&a.jsxs("div",{className:"py-20 text-center border-2 border-dashed border-gray-200 rounded-xl",children:[a.jsx("p",{className:"text-gray-500",children:"No courses match your filters."}),a.jsx("button",{onClick:()=>r({level:[],format:[],language:[]}),className:"mt-4 text-brand-600 font-bold hover:underline",children:"Clear all filters"})]})]})]})]})})]})},Qye=({onBack:e,onEnroll:t,user:i,course:n})=>{const[r,s]=A.useState("overview"),[l,d]=A.useState(!1),[p,u]=A.useState(!1),g=()=>a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200 mt-8 animate-fade-in",children:[a.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4 text-amber-500 fill-current"})," Profit ROI Estimator"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Current Monthly Cost ($)"}),a.jsx("input",{type:"number",className:"w-full mt-1 border-gray-300 rounded p-2 text-sm",placeholder:"e.g. 5000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Est. Improvement (%)"}),a.jsx("input",{type:"number",className:"w-full mt-1 border-gray-300 rounded p-2 text-sm",placeholder:"e.g. 20"})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-200 flex justify-between items-end",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Annual Savings:"}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:"$12,000"})]})]})]}),h=()=>{t&&t({id:n.id,title:n.title,description:`Live Session Access: ${n.shortPromise}`,price:n.price,type:"session"})},y=()=>{t&&t({id:`ent_${n.id}`,title:`Enterprise Team Pass: ${n.title}`,description:"Unlimited seats for your team for this specific session. Includes dedicated Q&A channel.",price:2999,type:"enterprise",recurringInterval:"month"})};return a.jsxs("div",{className:"min-h-screen bg-white pb-20 font-sans text-slate-900 animate-fade-in",children:[a.jsxs("div",{className:"bg-gray-900 text-white pt-12 pb-16 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-brand-900 rounded-full blur-3xl opacity-50 -mr-32 -mt-32 pointer-events-none"}),a.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-6",children:[a.jsx("span",{className:"cursor-pointer hover:text-white",onClick:e,children:"Courses"}),a.jsx(Ir,{className:"w-3 h-3 rotate-180"}),a.jsx("span",{className:"text-white",children:n.category})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:a.jsxs("div",{className:"lg:col-span-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-4 leading-tight",children:n.title}),a.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl leading-relaxed",children:n.shortPromise}),a.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:n.outcomes.slice(0,3).map((v,S)=>a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 border border-white/10 px-3 py-1.5 rounded-full text-sm font-medium text-white shadow-sm backdrop-blur-sm",children:[a.jsx(He,{className:"w-4 h-4 text-green-400"}),v]},S))}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:n.instructor.avatar,alt:"",className:"w-12 h-12 rounded-full border-2 border-gray-700"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 font-bold uppercase",children:"Instructor"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold text-white text-lg",children:n.instructor.name}),n.instructor.verified&&a.jsx(cn,{className:"w-4 h-4 text-blue-400"})]})]}),a.jsx("div",{className:"h-8 w-px bg-gray-700 mx-4"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1 text-amber-400 font-bold text-lg",children:[a.jsx(Nn,{className:"w-4 h-4 fill-current"})," ",n.rating]}),a.jsxs("p",{className:"text-xs text-gray-400",children:[n.reviewsCount," verified reviews"]})]})]})]})})]})]}),a.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 relative",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-16",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Why take this session?"}),a.jsx("div",{className:"prose prose-lg text-gray-600 max-w-none",children:a.jsxs("p",{children:["Most courses teach theory. This session is designed to install a capability. You will leave with a verified ",a.jsx("strong",{children:"Proof of Work"})," asset that demonstrates your competence to employers and clients."]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-8",children:n.roiStats.map((v,S)=>a.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-5 rounded-xl",children:[a.jsx("div",{className:"text-3xl font-extrabold text-gray-900 mb-1",children:v.value}),a.jsx("div",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:v.label}),v.desc&&a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:v.desc})]},S))})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"bg-black text-white p-2 rounded-lg",children:a.jsx(wu,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"What You'll Build"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm",children:[a.jsx("div",{className:"space-y-6",children:n.proofOfWork.map((v,S)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"mt-1",children:a.jsx(He,{className:"w-6 h-6 text-brand-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-lg text-gray-900",children:v.title}),a.jsx("p",{className:"text-gray-600 mt-1",children:v.description})]})]},S))}),a.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 flex gap-4",children:[a.jsxs("button",{className:"text-sm font-bold text-brand-600 flex items-center gap-2 hover:underline",children:[a.jsx(dR,{className:"w-4 h-4"})," Preview Example"]}),a.jsxs("button",{className:"text-sm font-bold text-gray-500 flex items-center gap-2 hover:text-black transition-colors",children:[a.jsx(Fr,{className:"w-4 h-4"})," Download Syllabus"]})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Upcoming Schedule"}),a.jsx("div",{className:"space-y-4",children:n.upcomingSessions.slice(0,2).map((v,S)=>a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-6 bg-white border border-gray-200 rounded-2xl hover:border-gray-300 transition-colors",children:[a.jsxs("div",{className:"flex-shrink-0 flex md:flex-col items-center gap-2 md:gap-0 md:justify-center md:w-32 md:border-r md:border-gray-100 md:pr-6",children:[a.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Part ",S+1]}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:v.title})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(kc,{className:"w-4 h-4"})," ",v.startDate]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Zi,{className:"w-4 h-4"})," ",v.time," (",v.timezone,")"]})]}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded font-medium border border-gray-200",children:"Live Workshop"}),a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded font-medium border border-gray-200",children:"Q&A"})]})]})]},S))})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Verified Reviews"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(v=>a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-1 text-amber-500 mb-3",children:[a.jsx(Nn,{className:"w-4 h-4 fill-current"}),a.jsx(Nn,{className:"w-4 h-4 fill-current"}),a.jsx(Nn,{className:"w-4 h-4 fill-current"}),a.jsx(Nn,{className:"w-4 h-4 fill-current"}),a.jsx(Nn,{className:"w-4 h-4 fill-current"})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-3",children:'"Absolutely game-changing. The templates alone were worth the price. I implemented the strategy the next day."'}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Alex M."}),a.jsx("p",{className:"text-xs text-gray-500",children:"Verified Attendee"})]})]})]},v))})]})]}),a.jsx("div",{className:"lg:col-span-4 relative",children:a.jsxs("div",{className:"sticky top-24 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"h-48 bg-gray-900 relative group cursor-pointer",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:`url(${n.thumbnail})`}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg border border-white/30",children:a.jsx(lR,{className:"w-8 h-8 text-white fill-current"})})}),a.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 backdrop-blur-md text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Watch Trailer"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[a.jsxs("span",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:["$",n.price]}),a.jsx("span",{className:"text-gray-400 text-sm font-medium",children:n.currency})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-6 flex items-center gap-1",children:[a.jsx(cn,{className:"w-3 h-3 text-green-600"})," 30-day money-back guarantee"]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm items-center mb-1",children:[a.jsx("span",{className:"text-blue-900 font-bold",children:"Next Cohort"}),a.jsx("span",{className:"text-blue-700 text-xs",children:"Oct 30"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-blue-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:"85%"}})}),a.jsx("span",{className:"text-[10px] text-blue-800 font-bold",children:"5 Seats Left"})]})]}),a.jsxs("button",{onClick:h,className:"w-full bg-brand-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-brand-700 transition-all shadow-lg shadow-brand-200 transform hover:-translate-y-0.5 flex items-center justify-center gap-2",children:[i?"Secure Your Seat":"Sign In to Enroll"," ",a.jsx(on,{className:"w-5 h-5"})]}),!i&&a.jsx("button",{onClick:h,className:"w-full mt-3 bg-white text-gray-700 border border-gray-300 py-3 rounded-xl font-bold text-sm hover:bg-gray-50 transition-colors",children:"Create Free Account"}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-center gap-4 text-xs text-gray-400 grayscale opacity-70",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Rn,{className:"w-3 h-3"})," Secure Payment"]}),a.jsx("span",{children:""}),a.jsx("span",{children:"Stripe"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>u(!p),className:"w-full bg-white border border-gray-200 text-gray-700 py-3 rounded-xl font-bold text-sm hover:border-gray-300 hover:shadow-sm transition-all flex items-center justify-between px-4",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ks,{className:"w-4 h-4 text-brand-600"})," Am I ready?"]}),a.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:"Check"})]}),p&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 text-sm animate-fade-in-up",children:[a.jsx("p",{className:"font-bold mb-2",children:"Prerequisites:"}),a.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-gray-600 text-xs",children:[a.jsx("li",{children:"Basic understanding of P&L"}),a.jsx("li",{children:"Access to company financial data"}),a.jsx("li",{children:"3+ years operating experience"})]})]}),a.jsxs("button",{onClick:()=>d(!l),className:"w-full bg-white border border-gray-200 text-gray-700 py-3 rounded-xl font-bold text-sm hover:border-gray-300 hover:shadow-sm transition-all flex items-center justify-between px-4",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4 text-amber-500"})," Calculate ROI"]}),a.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:"Tool"})]}),l&&a.jsx(g,{}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-5 text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Yr,{className:"w-5 h-5 text-blue-400"}),a.jsx("h4",{className:"font-bold text-sm",children:"Enterprise Team Pass"})]}),a.jsx("p",{className:"text-xs text-gray-300 mb-4",children:"Get unlimited seats for your team for this specific session. Includes 1hr consultation."}),a.jsx("button",{onClick:y,className:"w-full bg-white text-black py-2.5 rounded-lg text-xs font-bold hover:bg-blue-50 transition-colors",children:"Buy Team Pass ($2,999/mo)"})]})]})]})})]})})]})},Xye=({query:e,onCourseClick:t})=>{const[i,n]=A.useState("all"),r=[{id:"s1",title:"Advanced SaaS Economics",slug:"saas-economics",shortPromise:"Master unit economics that drive valuation.",price:499,currency:"USD",category:"Finance",thumbnail:"https://images.unsplash.com/photo-1611974765270-ca12586343bb?auto=format&fit=crop&q=80&w=400",rating:4.9,reviewsCount:124,level:"Advanced",language:"English",duration:"4 Weeks",format:"Live Session",instructor:{id:"t1",name:"David Sacks",title:"Partner",avatar:"https://ui-avatars.com/api/?name=David+Sacks&background=000&color=fff",rating:4.9,reviewsCount:500,verified:!0},outcomes:[],roiStats:[],proofOfWork:[],syllabus:[],resourcesIncluded:[],upcomingSessions:[],badges:[],enterpriseEligible:!0},{id:"s2",title:"AI Implementation Strategy",slug:"ai-strategy",shortPromise:"Deploy LLMs in enterprise workflows safely.",price:699,currency:"USD",category:"Tech",thumbnail:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&q=80&w=400",rating:4.8,reviewsCount:89,level:"Intermediate",language:"English",duration:"3 Weeks",format:"Hybrid",instructor:{id:"t2",name:"Dr. AI",title:"Chief AI Officer",avatar:"https://ui-avatars.com/api/?name=Dr+AI&background=000&color=fff",rating:4.8,reviewsCount:300,verified:!0},outcomes:[],roiStats:[],proofOfWork:[],syllabus:[],resourcesIncluded:[],upcomingSessions:[],badges:[],enterpriseEligible:!0}];return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 py-12",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Search Results"}),a.jsxs("p",{className:"text-gray-500",children:['Showing results for "',a.jsx("span",{className:"text-black font-medium",children:e}),'"']})]})}),a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex gap-4 border-b border-gray-100 mb-8 overflow-x-auto",children:["all","courses","trainers","resources"].map(s=>a.jsx("button",{onClick:()=>n(s),className:`pb-3 px-1 text-sm font-bold capitalize border-b-2 transition-colors ${i===s?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s},s))}),a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[(i==="all"||i==="courses")&&a.jsxs("section",{children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(uc,{className:"w-4 h-4 text-gray-500"})," Courses"]}),a.jsx("div",{className:"grid gap-4",children:r.map(s=>a.jsxs("div",{onClick:()=>t(s.slug),className:"flex flex-col sm:flex-row gap-4 p-4 border border-gray-200 rounded-xl hover:border-gray-300 hover:shadow-md transition-all cursor-pointer bg-white",children:[a.jsx("div",{className:"w-full sm:w-48 aspect-video bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx("img",{src:s.thumbnail,alt:"",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:s.category}),a.jsx("h4",{className:"font-bold text-lg text-gray-900",children:s.title})]}),a.jsxs("span",{className:"font-bold text-gray-900",children:["$",s.price]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 mb-3",children:s.shortPromise}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("img",{src:s.instructor.avatar,className:"w-4 h-4 rounded-full"}),a.jsx("span",{children:s.instructor.name})]}),a.jsxs("div",{className:"flex items-center gap-1 text-amber-500 font-bold",children:[a.jsx(Nn,{className:"w-3 h-3 fill-current"})," ",s.rating]}),a.jsx("div",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:s.format})]})]})]},s.id))})]}),(i==="all"||i==="trainers")&&a.jsxs("section",{children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Da,{className:"w-4 h-4 text-gray-500"})," Trainers"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[1,2,3].map(s=>a.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden",children:a.jsx("img",{src:`https://ui-avatars.com/api/?name=Trainer+${s}&background=random`,alt:"",className:"w-full h-full object-cover"})}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-sm text-gray-900",children:["Trainer ",s]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Expert in Finance"})]}),a.jsx("button",{className:"ml-auto text-xs font-bold border border-gray-300 px-2 py-1 rounded hover:bg-white",children:"View"})]},s))})]})]})]})]})},Jye=()=>{const[e,t]=A.useState(""),[i,n]=A.useState(!1),[r,s]=A.useState(null),l=async d=>{if(d.preventDefault(),!!e.trim()){n(!0),s(null);try{const p=await Xue(e);s(p)}catch(p){console.error(p)}finally{n(!1)}}};return a.jsxs("div",{className:"p-8 max-w-5xl mx-auto min-h-full flex flex-col",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 text-xs font-medium mb-4",children:[a.jsx(Or,{className:"w-3 h-3"}),a.jsx("span",{children:"Semantic Intelligence Engine"})]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Second Brain"}),a.jsx("p",{className:"text-gray-500 mt-2 max-w-xl mx-auto",children:`Don't watch hours of video. Ask a question, get the exact clip, and receive a "Do This Now" protocol.`})]}),a.jsx("div",{className:"max-w-2xl mx-auto w-full relative z-10",children:a.jsxs("form",{onSubmit:l,className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(Ka,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-600 transition-colors"})}),a.jsx("input",{type:"text",className:"block w-full pl-11 pr-4 py-4 bg-white border border-gray-200 rounded-xl leading-5 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm text-base",placeholder:"How do I negotiate equity in a Series A startup?",value:e,onChange:d=>t(d.target.value)}),a.jsx("button",{type:"submit",disabled:i||!e,className:"absolute inset-y-2 right-2 px-4 bg-black text-white rounded-lg text-sm font-medium hover:bg-gray-800 disabled:opacity-50 transition-colors flex items-center",children:i?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):"Ask"})]})}),a.jsxs("div",{className:"mt-12 flex-1",children:[i&&a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 opacity-50",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full animate-pulse"}),a.jsx("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded animate-pulse"})]}),r&&a.jsx("div",{className:"animate-fade-in-up",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"bg-gray-900 aspect-video relative flex items-center justify-center group cursor-pointer",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-40",style:{backgroundImage:"url(https://picsum.photos/800/450?grayscale)"}}),a.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(ik,{className:"w-6 h-6 text-white ml-1",fill:"currentColor"})}),a.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white text-xs px-2 py-1 rounded font-mono",children:["Jump to ",r.timestamp]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1",children:r.videoTitle}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Found best answer at ",a.jsx("span",{className:"text-indigo-600 font-medium",children:r.timestamp})]})]})]}),a.jsxs("div",{className:"bg-indigo-50 rounded-xl border border-indigo-100 p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center",children:[a.jsx(Or,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Execution Protocol"]}),a.jsx("div",{className:"mb-6 bg-white p-4 rounded-lg border border-indigo-100 shadow-sm",children:a.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed italic",children:['"',r.answer,'"']})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider",children:"Do This Now"}),r.actionItems.map((d,p)=>a.jsxs("div",{className:"flex items-start bg-white p-3 rounded-md border border-indigo-100",children:[a.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:p+1}),a.jsx("p",{className:"text-sm text-indigo-900",children:d}),a.jsx("button",{className:"ml-auto text-gray-400 hover:text-indigo-600",children:a.jsx(on,{className:"w-4 h-4"})})]},p))]}),a.jsx("button",{className:"w-full mt-6 bg-indigo-600 text-white py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:"Save to Action Lab"})]})]})})]})]})},Zye=()=>{const[e,t]=A.useState("sprints");return a.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Learning Locker"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Your central hub for content, execution, and credentials."})]})}),a.jsx("div",{className:"border-b border-gray-200 mb-8",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"sprints",label:"Live Sessions",count:3},{id:"archive",label:"My Archive",count:12},{id:"proofs",label:"Proof of Work",count:5}].map(i=>a.jsxs("button",{onClick:()=>t(i.id),className:`${e===i.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[i.label,a.jsx("span",{className:`ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium ${e===i.id?"bg-gray-100 text-black":"bg-gray-100 text-gray-500"}`,children:i.count})]},i.id))})}),e==="sprints"&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3].map(i=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs font-bold text-brand-600 uppercase tracking-wide",children:"In Progress"}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 mt-1",children:"Advanced React Patterns"})]}),a.jsxs("div",{className:"radial-progress text-brand-600 text-xs font-bold",style:{"--value":i*25,"--size":"2.5rem"},children:[i*25,"%"]})]}),a.jsxs("div",{className:"flex-1 space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(hx,{className:"w-4 h-4 text-brand-500 mr-2"}),a.jsx("span",{children:"Completed Module 1: Hooks Deep Dive"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(hx,{className:"w-4 h-4 text-brand-500 mr-2"}),a.jsx("span",{children:"Submitted Action Plan: State Management"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 rounded-full mr-2"}),a.jsx("span",{children:"Pending: Performance Audit Proof"})]})]}),a.jsx("button",{className:"w-full bg-black text-white py-2 rounded-md text-sm font-medium hover:bg-gray-800",children:"Resume Session"})]},i))}),e==="archive"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(i=>a.jsxs("div",{className:"group relative bg-white rounded-lg border border-gray-200 overflow-hidden cursor-pointer hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"aspect-video bg-gray-100 relative",children:[a.jsx("img",{src:`https://picsum.photos/400/225?random=${i+10}`,alt:"",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(lR,{className:"w-10 h-10 text-white opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all"})}),a.jsx("span",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-[10px] px-1.5 py-0.5 rounded",children:"12:40"})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:"How to Scale a Sales Team from 0 to 10M ARR"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Saved on Oct ",i+1]})]})]},i))}),e==="proofs"&&a.jsxs("div",{className:"space-y-4",children:[[{title:"Kubernetes Deployment Protocol",type:"Certificate",date:"Oct 24, 2024"},{title:"Series A Pitch Deck Audit",type:"Action Plan",date:"Oct 12, 2024"},{title:"Supply Chain Optimization",type:"Certificate",date:"Sep 28, 2024"}].map((i,n)=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i.type==="Certificate"?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"}`,children:i.type==="Certificate"?a.jsx(wu,{className:"w-5 h-5"}):a.jsx(ln,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900",children:i.title}),a.jsxs("p",{className:"text-xs text-gray-500",children:[i.type,"  Verified on ",i.date]})]})]}),a.jsx("button",{className:"text-xs font-medium text-gray-600 hover:text-black border border-gray-200 bg-white px-3 py-1.5 rounded-md shadow-sm",children:"View Credential"})]},n)),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 border-dashed rounded-xl p-6 flex flex-col items-center justify-center text-center",children:[a.jsx(Rn,{className:"w-8 h-8 text-gray-300 mb-2"}),a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Complete 3 more sessions to unlock Elite status"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Elite members get direct access to instructors."})]})]})]})},e_e=[{id:"tpl_ma",category:"Corporate Strategy",title:"M&A for SMEs: Buying Profit",description:"Grow faster by acquiring profitable businesses. A step-by-step guide to deal sourcing, valuation, and integration.",tags:["Strategy","Finance","Growth"],outcomes:["Develop Acquisition Thesis","Target Screening Scorecard","Deal Model (LBO Light)","100-Day Integration Plan"],kpiMetrics:["EBITDA Multiple","DSCR (Debt Service)","Payback Period","Customer Retention"],tasks:[{id:"t1",title:"Define Acquisition Thesis",description:"Identify target size, industry, and geography.",difficulty:"medium",priority:"high",estimatedMinutes:60,dueDaysAfterPart2:2,proofType:"file",isRequired:!0,mentorReviewRequired:!0},{id:"t2",title:"Screen 10 Targets",description:"Use the scorecard to filter potential deals.",difficulty:"hard",priority:"medium",estimatedMinutes:120,dueDaysAfterPart2:7,proofType:"file",isRequired:!0,mentorReviewRequired:!1},{id:"t3",title:"Draft LOI",description:"Create a non-binding Letter of Intent based on valuation.",difficulty:"hard",priority:"high",estimatedMinutes:90,dueDaysAfterPart2:10,proofType:"file",isRequired:!1,mentorReviewRequired:!0}],resources:[{id:"r1",title:"SME Valuation Model.xlsx",type:"template",downloads:0},{id:"r2",title:"Due Diligence Checklist",type:"checklist",downloads:0}]},{id:"tpl_supply",category:"Operations",title:"Global Supply Chain & Logistics",description:"Protect margins by optimizing inventory and shipping. Reduce dead capital and improve cash conversion.",tags:["Operations","Logistics","Cash Flow"],outcomes:["Inventory Optimization Plan","Supplier Negotiation Strategy","Shipping Cost Analysis"],kpiMetrics:["Inventory Turns","Stockout Rate","Landed Cost","Cash Conversion Cycle"],tasks:[{id:"t1",title:"Map Supply Chain Costs",description:"Identify where cash is trapped in the chain.",difficulty:"medium",priority:"high",estimatedMinutes:60,dueDaysAfterPart2:3,proofType:"file",isRequired:!0,mentorReviewRequired:!1},{id:"t2",title:"Calculate Reorder Points",description:"Set safety stock levels based on lead time.",difficulty:"medium",priority:"medium",estimatedMinutes:45,dueDaysAfterPart2:5,proofType:"file",isRequired:!0,mentorReviewRequired:!1}],resources:[{id:"r1",title:"Inventory Tracker.xlsx",type:"template",downloads:0},{id:"r2",title:"Incoterms Cheat Sheet",type:"pdf",downloads:0}]},{id:"tpl_frac",category:"Human Capital",title:"Fractional Executive Management",description:"Get C-level outcomes without C-level payroll. How to hire, scope, and manage fractional leaders.",tags:["Leadership","Hiring","Management"],outcomes:["Fractional Role Scope","ROI Scorecard","Knowledge Transfer Plan"],kpiMetrics:["Payroll Savings vs Full-Time","Strategic Deliverables","Team Velocity"],tasks:[{id:"t1",title:"Define Fractional Scope",description:"What outcomes do you need in 10hrs/week?",difficulty:"medium",priority:"high",estimatedMinutes:45,dueDaysAfterPart2:2,proofType:"text",isRequired:!0,mentorReviewRequired:!0},{id:"t2",title:"Create Vetting Scorecard",description:"Interview questions to test systems thinking.",difficulty:"medium",priority:"medium",estimatedMinutes:60,dueDaysAfterPart2:5,proofType:"file",isRequired:!0,mentorReviewRequired:!1}],resources:[{id:"r1",title:"Fractional Contract Template",type:"template",downloads:0}]},{id:"tpl_ent_proj",category:"Enterprise Productivity",title:"Department Profit Improvement",description:"Turn training into verified business improvements. A structured project cycle for teams.",tags:["Enterprise","Efficiency","Cost Control"],outcomes:["Project Charter","Baseline Analysis","Intervention Plan","Impact Report"],kpiMetrics:["Cost Reduction %","Revenue Lift %","Hours Saved","Error Rate Reduction"],tasks:[{id:"t1",title:"Select Primary Metric",description:"Choose one KPI to improve (Cost, Speed, Quality).",difficulty:"easy",priority:"high",estimatedMinutes:30,dueDaysAfterPart2:1,proofType:"text",isRequired:!0,mentorReviewRequired:!0},{id:"t2",title:"Root Cause Analysis",description:"Why is the metric currently underperforming?",difficulty:"medium",priority:"medium",estimatedMinutes:60,dueDaysAfterPart2:3,proofType:"file",isRequired:!0,mentorReviewRequired:!1},{id:"t3",title:"Final Impact Report",description:"Measure the delta after intervention.",difficulty:"hard",priority:"high",estimatedMinutes:120,dueDaysAfterPart2:30,proofType:"file",isRequired:!0,mentorReviewRequired:!0}],resources:[{id:"r1",title:"Profit Project Template.ppt",type:"template",downloads:0},{id:"r2",title:"Mentor Check-in Guide",type:"pdf",downloads:0}]},{id:"tpl_real_estate",category:"Real Estate",title:"Rental Strategy & Cashflow",description:"Buy properties based on math, not emotion. Learn to calculate true cashflow and risk.",tags:["Investing","Real Estate","Wealth"],outcomes:["Rental Deal Analyzer","Buy Box Criteria","Tenant Screening Checklist","Reserve Plan"],kpiMetrics:["Cash on Cash Return","Cap Rate","Debt Service Coverage Ratio","Net Cashflow"],tasks:[{id:"t1",title:"Define Buy Box",description:"Set your criteria for location, price, and yield.",difficulty:"easy",priority:"high",estimatedMinutes:45,dueDaysAfterPart2:2,proofType:"file",isRequired:!0,mentorReviewRequired:!1},{id:"t2",title:"Analyze 3 Deals",description:"Use the calculator to find one profitable deal.",difficulty:"hard",priority:"medium",estimatedMinutes:90,dueDaysAfterPart2:7,proofType:"file",isRequired:!0,mentorReviewRequired:!0}],resources:[{id:"r1",title:"Rental Calculator.xlsx",type:"template",downloads:0},{id:"r2",title:"Lease Agreement Essentials",type:"pdf",downloads:0}]},{id:"tpl_risk",category:"Risk & Trust",title:"Fraud & Scam Defense",description:"Protect your business from phishing, fake invoices, and data leaks.",tags:["Security","Risk","Operations"],outcomes:["Fraud Prevention Checklist","Access Control Map","Incident Response Plan"],kpiMetrics:["Incident Response Time","Phishing Test Pass Rate","Backup Frequency"],tasks:[{id:"t1",title:"Audit Access Controls",description:"Who has admin access? Revoke unnecessary keys.",difficulty:"medium",priority:"high",estimatedMinutes:60,dueDaysAfterPart2:3,proofType:"file",isRequired:!0,mentorReviewRequired:!1},{id:"t2",title:"Create Incident Plan",description:"What do you do in the first 30 minutes of a breach?",difficulty:"medium",priority:"medium",estimatedMinutes:45,dueDaysAfterPart2:5,proofType:"text",isRequired:!0,mentorReviewRequired:!0}],resources:[{id:"r1",title:"Security Hygiene Checklist",type:"checklist",downloads:0}]},{id:"tpl_ai_ops",category:"AI for Profit",title:"AI Productivity Workflows",description:"Install verified AI workflows for admin, support, and operations to save hours/week.",tags:["AI","Productivity","Automation"],outcomes:["3 Verified AI Workflows","Prompt Library","Verification Checklist"],kpiMetrics:["Hours Saved per Week","Error Rate","Task Cycle Time"],tasks:[{id:"t1",title:"Map High-Friction Task",description:"Identify one repetitive process to automate.",difficulty:"easy",priority:"medium",estimatedMinutes:30,dueDaysAfterPart2:1,proofType:"text",isRequired:!0,mentorReviewRequired:!1},{id:"t2",title:"Build & Verify Workflow",description:"Create the prompt chain and the human verification step.",difficulty:"medium",priority:"high",estimatedMinutes:60,dueDaysAfterPart2:3,proofType:"file",isRequired:!0,mentorReviewRequired:!0}],resources:[{id:"r1",title:"Prompt Engineering Guide",type:"pdf",downloads:0}]}],t_e=({user:e,onLaunchLive:t,onNavigate:i})=>{const[n,r]=A.useState("dashboard"),[s,l]=A.useState("overview"),[d,p]=A.useState("overview"),[u,g]=A.useState(null),[h,y]=A.useState([{id:"s1",title:"Advanced SaaS Economics",status:"published",reviewStatus:"approved",level:"advanced",language:"English",shortDescription:"Master unit economics.",price:499,currency:"USD",maxSeats:50,seatsSold:42,waitlistEnabled:!0,categoryTags:["Cash Flow","Finance"],outcomes:["Build a model","Audit burn rate","Calculate CAC"],kpiMetrics:["CAC Payback","Net Revenue Retention","Burn Multiple"],sessions:[{id:"sess1",partNumber:1,startsAt:new Date(Date.now()+864e5).toISOString(),endsAt:"",timezone:"UTC",status:"scheduled"},{id:"sess2",partNumber:2,startsAt:new Date(Date.now()+1728e5).toISOString(),endsAt:"",timezone:"UTC",status:"scheduled"}],resources:[{id:"r1",title:"Financial Model v4",type:"template",downloads:120}],curriculum:[{id:"b1",partNumber:1,title:"Unit Economics Framework",durationMinutes:45,keyPoints:[]},{id:"b2",partNumber:2,title:"Live Case Study",durationMinutes:45,keyPoints:[]}],tasks:[{id:"t1",title:"Audit your CAC",description:"Use the template.",difficulty:"medium",priority:"high",estimatedMinutes:60,dueDaysAfterPart2:3,proofType:"file",isRequired:!0,mentorReviewRequired:!0}]},{id:"s3",title:"YouTube Revenue Engine",status:"draft",reviewStatus:"draft",level:"beginner",language:"English",shortDescription:"Turn views into money. Build a predictable content pipeline.",price:600,currency:"USD",maxSeats:200,seatsSold:0,waitlistEnabled:!1,categoryTags:["Content Systems","Marketing"],outcomes:[],kpiMetrics:[],sessions:[],resources:[],curriculum:[],tasks:[]}]),[v,S]=A.useState([{id:"b1",title:"Why CAC Payback > LTV",slug:"why-cac-payback",status:"published",views:1240,conversions:5,publishedAt:"Oct 15, 2024",tags:["Finance"],allowComments:!0,allowRatings:!0},{id:"b2",title:"The Series B Checklist",slug:"series-b-checklist",status:"draft",views:0,conversions:0,publishedAt:"",tags:["Fundraising"],allowComments:!0,allowRatings:!0}]),[k,C]=A.useState([{id:"ref1",code:"SAAS-VIP",targetType:"session",targetId:"s1",clicks:85,signups:12,earnedCredits:600,status:"active"}]),[T,N]=A.useState("all"),[E,O]=A.useState(!1),[P,I]=A.useState(""),[D,B]=A.useState(!1),V=[{id:"tx1",studentName:"Aggregated (8 students)",sprintTitle:"SaaS Economics",grossAmount:3992,netAmount:1996,date:"Oct 24, 2024",status:"released",escrowReleaseAt:"Oct 27, 2024",seatsCount:8,type:"single"},{id:"tx2",studentName:"Aggregated (5 students)",sprintTitle:"AI Strategy",grossAmount:4995,netAmount:2497.5,date:"Oct 28, 2024",status:"escrowed",escrowReleaseAt:"Oct 31, 2024",seatsCount:5,type:"single"},{id:"tx3",studentName:"TechFlow Enterprise",sprintTitle:"SaaS Economics (Team License)",grossAmount:5e3,netAmount:1500,date:"Oct 29, 2024",status:"released",type:"enterprise_royalty"}],U={available:3496,pending:2497.5},W=100;if(e.status==="pending")return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] bg-white p-8",children:[a.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mb-6 animate-pulse",children:a.jsx(bq,{className:"w-10 h-10 text-amber-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Application Under Review"}),a.jsx("p",{className:"text-gray-500 max-w-md text-center mb-8",children:"Thanks for applying to be a trainer on The Profit Driven Channel. Our team is verifying your credentials. You will receive an email once your account is approved to start creating sessions."}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 w-full max-w-lg",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-sm",children:"Review Checklist"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsx(He,{className:"w-5 h-5 text-green-500"})," Identity Verification"]}),a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsx(He,{className:"w-5 h-5 text-green-500"})," Professional Profile Check"]}),a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-600 opacity-60",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"}),"Admin Approval"]})]})]})]});if(e.status==="rejected"||e.status==="suspended")return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] bg-white p-8",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-6",children:a.jsx(Gz,{className:"w-10 h-10 text-red-600"})}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Account ",e.status==="suspended"?"Suspended":"Not Approved"]}),a.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"Your trainer account is currently inactive. Please contact support for more details."})]});const q=ee=>{g({...ee}),r("editor"),ee.reviewStatus==="changes_requested"?p("quality"):p("overview")},pe=()=>r("templates"),X=ee=>{const $={id:`s_${Date.now()}`,title:ee.title,shortDescription:ee.description,status:"draft",level:"intermediate",language:"English",price:0,currency:"USD",maxSeats:30,seatsSold:0,waitlistEnabled:!1,categoryTags:ee.tags,outcomes:ee.outcomes,kpiMetrics:ee.kpiMetrics,tasks:ee.tasks,resources:ee.resources,sessions:[],curriculum:[],reviewStatus:"draft"};g($),r("editor"),p("overview")},se=()=>{if(u){if(u.reviewStatus==="pending"){alert("Cannot edit while under review.");return}y(ee=>{const $=ee.findIndex(Be=>Be.id===u.id);if($>=0){const Be=[...ee];return Be[$]=u,Be}return[...ee,u]}),alert("Session Series Saved")}},K=()=>{B(!0),setTimeout(()=>{B(!1),O(!1),alert(`Withdrawal of $${P||U.available} initiated via Stripe Connect.`)},1500)},z=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:"bg-amber-100 p-2 rounded-full mt-1 sm:mt-0",children:a.jsx(Zi,{className:"w-6 h-6 text-amber-600 animate-pulse"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-amber-900",children:"Sentinel Active: Upcoming Session"}),a.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:["Advanced SaaS Economics - Session 2 starts in ",a.jsx("span",{className:"font-bold",children:"15 minutes"}),"."]})]})]}),a.jsxs("button",{onClick:t,className:"w-full sm:w-auto bg-black text-white text-sm font-bold px-4 py-2.5 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2 shadow-sm",children:[a.jsx(ir,{className:"w-4 h-4"})," Launch Live Room"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Your Session Series"}),a.jsxs("button",{onClick:pe,className:"bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800 flex items-center gap-2",children:[a.jsx(nc,{className:"w-4 h-4"})," New Series"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(ee=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow group relative overflow-hidden",children:[ee.reviewStatus==="changes_requested"&&a.jsx("div",{className:"absolute top-0 left-0 right-0 bg-red-100 h-1.5"}),ee.reviewStatus==="pending"&&a.jsx("div",{className:"absolute top-0 left-0 right-0 bg-blue-100 h-1.5 animate-pulse"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"flex flex-col",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase tracking-wide w-fit mb-1
                        ${ee.status==="published"?"bg-green-100 text-green-800":ee.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:ee.status})}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"block text-lg font-bold text-gray-900",children:["$",ee.price]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[ee.seatsSold,"/",ee.maxSeats," Sold"]})]})]}),a.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:ee.title}),a.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:ee.shortDescription||"No description"}),a.jsx("div",{className:"pt-4 border-t border-gray-100 flex gap-2",children:a.jsx("button",{onClick:()=>q(ee),className:"flex-1 bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-50",children:ee.reviewStatus==="changes_requested"?"Fix Issues":"Manage"})})]},ee.id))})]}),Q=()=>a.jsxs("div",{className:"max-w-6xl mx-auto py-8",children:[a.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center text-sm font-bold text-gray-500 hover:text-black mb-6",children:[a.jsx(dc,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose a Blueprint"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{onClick:()=>X({title:"Untitled Series",description:"",tags:[],outcomes:[],tasks:[],resources:[],kpiMetrics:[]}),className:"bg-white border-2 border-dashed border-gray-300 rounded-xl p-6 hover:border-black cursor-pointer flex flex-col items-center justify-center min-h-[300px]",children:[a.jsx(nc,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"font-bold text-gray-900",children:"Start from Scratch"})]}),e_e.map(ee=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow flex flex-col",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-bold uppercase rounded",children:ee.category})}),a.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:ee.title}),a.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-3",children:ee.description}),a.jsx("button",{onClick:()=>X(ee),className:"mt-auto w-full bg-black text-white py-2 rounded-lg text-sm font-bold hover:bg-gray-800",children:"Use Template"})]},ee.id))]})]}),de=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-black text-white p-8 rounded-xl shadow-lg relative overflow-hidden flex flex-col justify-between",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -mr-16 -mt-16 pointer-events-none"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Available to Withdraw"}),a.jsxs("h2",{className:"text-4xl font-bold tracking-tight mb-2",children:["$",U.available.toFixed(2)]}),U.available<W]}),a.jsx("button",{onClick:()=>O(!0),disabled:U.available<W,className:"w-full bg-brand-600 text-white px-6 py-3 rounded-lg text-sm font-bold hover:bg-brand-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-auto",children:"Request Withdrawal"})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-50 rounded-bl-full -mr-2 -mt-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Pending (Escrow)"}),a.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["$",U.pending.toFixed(2)]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:a.jsxs("p",{className:"text-xs text-blue-800 leading-relaxed",children:[a.jsxs("span",{className:"block mb-1",children:[" ",a.jsx("strong",{children:"Release Schedule:"})]}),'Funds move to "Available" ',a.jsx("strong",{children:"24h after Part 2"})," of a live session is marked complete. Subscription revenue clears in 7 days."]})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-4",children:"Tax & Documents"}),a.jsx("div",{className:"space-y-3",children:["Sep 2024 Statement","Aug 2024 Statement","2023 1099-K Form"].map((ee,$)=>a.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded transition-colors cursor-pointer group border border-transparent hover:border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-4 h-4 text-gray-400 group-hover:text-black"}),a.jsx("span",{className:"text-sm text-gray-600 group-hover:text-black",children:ee})]}),a.jsx(Fr,{className:"w-4 h-4 text-gray-300 group-hover:text-black"})]},$))}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center",children:"1099-K is generated automatically if you exceed the reporting threshold."})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:a.jsx("h3",{className:"font-bold text-gray-900",children:"Transaction Ledger"})}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-white text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Date"}),a.jsx("th",{className:"px-6 py-4",children:"Source"}),a.jsx("th",{className:"px-6 py-4",children:"Type"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Net Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map(ee=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-gray-500",children:ee.date}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"font-bold text-gray-900 block",children:ee.sprintTitle}),a.jsx("span",{className:"text-xs text-gray-500",children:ee.studentName})]}),a.jsx("td",{className:"px-6 py-4",children:ee.type==="enterprise_royalty"?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs font-bold border border-purple-200 w-fit",children:[a.jsx(Yr,{className:"w-3 h-3"})," 30% Rev Share"]}),a.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Enterprise Plan"})]}):a.jsx("span",{className:"inline-flex items-center bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium",children:"Direct Sale"})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:`text-xs font-bold uppercase ${ee.status==="released"?"text-green-600":"text-amber-600"}`,children:ee.status}),ee.status==="escrowed"&&ee.escrowReleaseAt&&a.jsxs("span",{className:"block text-[10px] text-gray-400 mt-0.5",children:["Releases ",ee.escrowReleaseAt]})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-mono font-bold text-gray-900",children:["$",ee.netAmount.toFixed(2)]})]},ee.id))})]})]})]}),F=()=>a.jsx("div",{children:"Marketing Content"}),j=()=>a.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col h-[calc(100vh-64px)] overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center text-xs font-bold text-gray-500 hover:text-black mb-4",children:[a.jsx(dc,{className:"w-3 h-3 mr-1"})," Back to Dashboard"]}),a.jsx("h3",{className:"font-bold text-gray-900 truncate",title:u==null?void 0:u.title,children:u==null?void 0:u.title}),a.jsxs("div",{className:"mt-2",children:[(u==null?void 0:u.reviewStatus)==="pending"&&a.jsx("span",{className:"text-[10px] font-bold bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Under Review"}),(u==null?void 0:u.reviewStatus)==="changes_requested"&&a.jsx("span",{className:"text-[10px] font-bold bg-red-100 text-red-800 px-2 py-1 rounded",children:"Action Required"}),(!(u!=null&&u.reviewStatus)||(u==null?void 0:u.reviewStatus)==="draft")&&a.jsx("span",{className:"text-[10px] font-bold bg-gray-200 text-gray-700 px-2 py-1 rounded",children:"Draft"}),(u==null?void 0:u.reviewStatus)==="approved"&&a.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-800 px-2 py-1 rounded",children:"Approved"})]})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:[{id:"overview",label:"Overview",icon:Cu},{id:"curriculum",label:"Curriculum",icon:I1},{id:"tasks",label:"Action Tasks",icon:Ez},{id:"resources",label:"Resources",icon:ln},{id:"outcomes",label:"Outcomes Rubric",icon:dr},{id:"quiz",label:"Quiz Builder",icon:I1},{id:"cohort",label:"Cohort Tools",icon:Da},{id:"analytics",label:"Analytics",icon:ek},{id:"promote",label:"Promote",icon:Ds},{id:"quality",label:"Publishing",icon:cn}].map(ee=>a.jsxs("button",{onClick:()=>p(ee.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${d===ee.id?"bg-white text-black shadow-sm ring-1 ring-gray-200":"text-gray-500 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(ee.icon,{className:"w-4 h-4 mr-3"}),ee.label]},ee.id))}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsx("button",{onClick:se,disabled:(u==null?void 0:u.reviewStatus)==="pending",className:"w-full bg-black text-white py-2 rounded-lg text-sm font-bold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})})]}),Z=()=>{var ce;if(!u)return null;const ee=()=>{const H={id:`t_${Date.now()}`,title:"New Action Task",description:"",difficulty:"medium",priority:"medium",estimatedMinutes:60,dueDaysAfterPart2:3,proofType:"text",isRequired:!0,mentorReviewRequired:!1};g({...u,tasks:[...u.tasks||[],H]})},$=(H,Ve,Xe)=>{var At;const _t=((At=u.tasks)==null?void 0:At.map(Gt=>Gt.id===H?{...Gt,[Ve]:Xe}:Gt))||[];g({...u,tasks:_t})},Be=H=>{var Ve;g({...u,tasks:((Ve=u.tasks)==null?void 0:Ve.filter(Xe=>Xe.id!==H))||[]})},Fe=H=>{switch(H){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Action Tasks"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Define the Proof of Work required for certification."})]}),a.jsxs("button",{onClick:ee,className:"flex items-center gap-2 bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800",children:[a.jsx(nc,{className:"w-4 h-4"})," Add Task"]})]}),a.jsxs("div",{className:"space-y-4",children:[(ce=u.tasks)==null?void 0:ce.map((H,Ve)=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:border-gray-300 transition-all",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-sm text-gray-500",children:Ve+1}),a.jsx("input",{type:"text",value:H.title,onChange:Xe=>$(H.id,"title",Xe.target.value),className:"font-bold text-lg text-gray-900 border-none focus:ring-0 p-0 placeholder-gray-400 w-96",placeholder:"Task Title"})]}),a.jsx("button",{onClick:()=>Be(H.id),className:"text-gray-400 hover:text-red-500",children:a.jsx(O1,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"pl-11 space-y-4",children:[a.jsx("textarea",{value:H.description,onChange:Xe=>$(H.id,"description",Xe.target.value),className:"w-full text-sm text-gray-600 border border-gray-200 rounded-lg p-3 focus:ring-black focus:border-black resize-none",placeholder:"Describe exactly what the student needs to do...",rows:2}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Difficulty"}),a.jsxs("select",{value:H.difficulty,onChange:Xe=>$(H.id,"difficulty",Xe.target.value),className:"w-full text-sm border-gray-300 rounded-md focus:ring-black focus:border-black",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Priority"}),a.jsxs("select",{value:H.priority,onChange:Xe=>$(H.id,"priority",Xe.target.value),className:"w-full text-sm border-gray-300 rounded-md focus:ring-black focus:border-black",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Est. Time (Min)"}),a.jsx("input",{type:"number",value:H.estimatedMinutes,onChange:Xe=>$(H.id,"estimatedMinutes",parseInt(Xe.target.value)),className:"w-full text-sm border-gray-300 rounded-md focus:ring-black focus:border-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Due (Days after)"}),a.jsx("input",{type:"number",value:H.dueDaysAfterPart2,onChange:Xe=>$(H.id,"dueDaysAfterPart2",parseInt(Xe.target.value)),className:"w-full text-sm border-gray-300 rounded-md focus:ring-black focus:border-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Proof Type"}),a.jsxs("select",{value:H.proofType,onChange:Xe=>$(H.id,"proofType",Xe.target.value),className:"w-full text-sm border-gray-300 rounded-md focus:ring-black focus:border-black",children:[a.jsx("option",{value:"file",children:"File Upload"}),a.jsx("option",{value:"link",children:"URL Link"}),a.jsx("option",{value:"text",children:"Text Response"})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsxs("span",{className:`text-[10px] uppercase font-bold px-2 py-0.5 rounded border ${Fe(H.priority||"medium")}`,children:[H.priority||"medium"," Priority"]})}),a.jsxs("div",{className:"flex items-center gap-6 pt-2 border-t border-gray-100",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("div",{className:`w-10 h-5 rounded-full p-0.5 transition-colors ${H.isRequired?"bg-black":"bg-gray-200"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${H.isRequired?"translate-x-5":"translate-x-0"}`})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:H.isRequired,onChange:Xe=>$(H.id,"isRequired",Xe.target.checked)}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Required for Cert"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("div",{className:`w-10 h-5 rounded-full p-0.5 transition-colors ${H.mentorReviewRequired?"bg-purple-600":"bg-gray-200"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${H.mentorReviewRequired?"translate-x-5":"translate-x-0"}`})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:H.mentorReviewRequired||!1,onChange:Xe=>$(H.id,"mentorReviewRequired",Xe.target.checked)}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:["Mentor Review ",a.jsx(cn,{className:"w-3 h-3 text-purple-600"})]})]})]})]})]},H.id)),(!u.tasks||u.tasks.length===0)&&a.jsx("div",{className:"text-center py-12 bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl",children:a.jsx("p",{className:"text-gray-500",children:"No action tasks defined. Add tasks to build the student's Proof of Work."})})]})]})},R=()=>a.jsx("div",{children:"Analytics Module Placeholder"}),fe=()=>a.jsx("div",{children:"Curriculum Module Placeholder"}),je=()=>a.jsx("div",{children:"Quiz Module Placeholder"}),le=()=>a.jsx("div",{children:"Promote Module Placeholder"}),ae=()=>a.jsx("div",{children:"Quality Module Placeholder"});return n==="editor"&&u?a.jsxs("div",{className:"flex min-h-screen bg-white",children:[a.jsx(j,{}),a.jsxs("div",{className:"flex-1 p-8 overflow-y-auto h-[calc(100vh-64px)]",children:[d==="overview"&&a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Session Series Overview"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Title"}),a.jsx("input",{className:"w-full border-gray-300 rounded-lg p-2",value:u.title,onChange:ee=>g({...u,title:ee.target.value}),disabled:u.reviewStatus==="pending"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Hook / Short Description"}),a.jsx("textarea",{className:"w-full border-gray-300 rounded-lg p-2 h-24 resize-none",value:u.shortDescription,onChange:ee=>g({...u,shortDescription:ee.target.value}),disabled:u.reviewStatus==="pending"})]}),u.kpiMetrics&&u.kpiMetrics.length>0&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[a.jsx("h4",{className:"font-bold text-blue-900 text-sm mb-2",children:"Targeted KPIs (Gold Standard)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.kpiMetrics.map((ee,$)=>a.jsx("span",{className:"bg-white text-blue-800 text-xs font-bold px-2 py-1 rounded border border-blue-200",children:ee},$))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Price (USD)"}),a.jsx("input",{type:"number",className:"w-full border-gray-300 rounded-lg p-2",value:u.price,onChange:ee=>g({...u,price:parseInt(ee.target.value)}),disabled:u.reviewStatus==="pending"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Seats"}),a.jsx("input",{type:"number",className:"w-full border-gray-300 rounded-lg p-2",value:u.maxSeats,onChange:ee=>g({...u,maxSeats:parseInt(ee.target.value)}),disabled:u.reviewStatus==="pending"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Outcomes (Required for Profit Standard)"}),a.jsxs("div",{className:"space-y-2",children:[u.outcomes.map((ee,$)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"w-full border-gray-300 rounded p-2 text-sm",value:ee,readOnly:!0,disabled:u.reviewStatus==="pending"}),u.reviewStatus!=="pending"&&a.jsx("button",{onClick:()=>g({...u,outcomes:u.outcomes.filter((Be,Fe)=>Fe!==$)}),className:"text-red-500 hover:text-red-700",children:a.jsx(O1,{className:"w-4 h-4"})})]},$)),u.reviewStatus!=="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{id:"new-outcome",className:"w-full border-gray-300 rounded p-2 text-sm",placeholder:"e.g. Build a 30-day forecast",onKeyDown:ee=>{if(ee.key==="Enter"){const $=ee.target.value;$&&(g({...u,outcomes:[...u.outcomes,$]}),ee.target.value="")}}}),a.jsx("button",{onClick:()=>{const ee=document.getElementById("new-outcome");ee.value&&(g({...u,outcomes:[...u.outcomes,ee.value]}),ee.value="")},className:"bg-gray-100 text-gray-700 px-3 py-2 rounded text-sm font-bold hover:bg-gray-200",children:"Add"})]})]})]})]}),d==="curriculum"&&a.jsx(fe,{}),d==="tasks"&&a.jsx(Z,{}),d==="quiz"&&a.jsx(je,{}),d==="quality"&&a.jsx(ae,{}),d==="analytics"&&a.jsx(R,{}),d==="promote"&&a.jsx(le,{}),(d==="resources"||d==="cohort")&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-400",children:"Module under construction in this demo. For 'Resources' validation, use the mock data provided."}),d==="resources"&&a.jsxs("div",{className:"mt-4 space-y-2",children:[u.resources.map(ee=>a.jsxs("div",{className:"text-sm",children:[ee.title," (",ee.type,")"]},ee.id)),a.jsx("button",{onClick:()=>g({...u,resources:[...u.resources,{id:`r_${Date.now()}`,title:"New Resource",type:"pdf",downloads:0}]}),className:"mt-2 bg-gray-100 px-4 py-2 rounded-sm",children:"+ Add Resource"})]})]})]})]}):n==="templates"?a.jsx(Q,{}):a.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-full",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Partner Dashboard"}),a.jsx("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-[10px] font-bold uppercase tracking-wider rounded",children:"Studio"})]}),a.jsx("p",{className:"text-gray-500",children:"Manage your cohorts, track earnings, and build sessions."})]}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:["overview","wallet","marketing"].map(ee=>a.jsx("button",{onClick:()=>l(ee),className:`px-4 py-2 rounded-md text-sm font-medium capitalize transition-all ${s===ee?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:ee},ee))})]}),a.jsxs("div",{className:"animate-fade-in",children:[s==="overview"&&a.jsx(z,{}),s==="wallet"&&a.jsx(de,{}),s==="marketing"&&a.jsx(F,{})]}),E&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Initiate Payout"}),a.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-black",children:a.jsx(yn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Available Balance"}),a.jsxs("span",{className:"font-bold text-gray-900",children:["$",U.available.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"Threshold Met"}),a.jsxs("span",{className:"text-green-600 font-bold flex items-center gap-1",children:[a.jsx(He,{className:"w-3 h-3"})," Yes"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Amount to Withdraw"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),a.jsx("input",{type:"number",placeholder:U.available.toFixed(2),className:"w-full pl-7 border-gray-300 rounded-lg p-2 text-sm focus:ring-black focus:border-black",max:U.available,value:P,onChange:ee=>I(ee.target.value)}),a.jsx("button",{onClick:()=>I(U.available.toString()),className:"absolute right-2 top-2 text-xs font-bold text-brand-600 hover:underline",children:"Max"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Payout Method"}),a.jsxs("select",{className:"w-full border-gray-300 rounded-lg p-2 text-sm focus:ring-black focus:border-black",children:[a.jsx("option",{children:"Stripe Connect (Bank Transfer)  4242"}),a.jsx("option",{children:"PayPal Payouts (user@example.com)"})]})]}),a.jsx("button",{onClick:K,disabled:D||parseFloat(P)>U.available,className:"w-full bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800 disabled:opacity-50 flex items-center justify-center gap-2",children:D?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):"Confirm Withdrawal"})]})]})})]})},i_e=()=>{const[e,t]=A.useState(""),[i,n]=A.useState("all"),[r,s]=A.useState("all"),l=[{id:"st_1",name:"Alice Johnson",email:"alice@example.com",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=100",sprint:"Advanced SaaS Economics",cohort:"Oct 2024",status:"active",progress:75,attendance:{s1:!0,s2:!1},proofsSubmitted:2,lastActive:"2 hours ago"},{id:"st_2",name:"Bob Smith",email:"bob@example.com",avatar:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?auto=format&fit=crop&q=80&w=100",sprint:"Advanced SaaS Economics",cohort:"Oct 2024",status:"at_risk",progress:20,attendance:{s1:!1,s2:!1},proofsSubmitted:0,lastActive:"3 days ago"},{id:"st_3",name:"Charlie Davis",email:"charlie@example.com",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=100",sprint:"AI Implementation Strategy",cohort:"Nov 2024",status:"active",progress:45,attendance:{s1:!0,s2:!0},proofsSubmitted:1,lastActive:"5 hours ago"},{id:"st_4",name:"Diana Prince",email:"diana@example.com",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?auto=format&fit=crop&q=80&w=100",sprint:"Advanced SaaS Economics",cohort:"Sep 2024",status:"certified",progress:100,attendance:{s1:!0,s2:!0},proofsSubmitted:3,lastActive:"1 week ago"},{id:"st_5",name:"Evan Wright",email:"evan@example.com",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?auto=format&fit=crop&q=80&w=100",sprint:"Global Supply Chain",cohort:"Oct 2024",status:"active",progress:60,attendance:{s1:!0,s2:!1},proofsSubmitted:1,lastActive:"1 day ago"}],d=l.filter(h=>{const y=h.name.toLowerCase().includes(e.toLowerCase())||h.email.toLowerCase().includes(e.toLowerCase()),v=i==="all"||h.status===i,S=r==="all"||h.sprint===r;return y&&v&&S}),p=h=>{switch(h){case"active":return"bg-blue-100 text-blue-700";case"certified":return"bg-green-100 text-green-700";case"at_risk":return"bg-red-100 text-red-700";case"dropped":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},u=()=>{if(d.length===0){alert("No students to export.");return}const v=[["Name","Email","Sprint","Cohort","Status","Progress (%)","Proofs Submitted","Last Active"].join(","),...d.map(C=>[`"${C.name}"`,`"${C.email}"`,`"${C.sprint}"`,`"${C.cohort}"`,`"${C.status}"`,C.progress,C.proofsSubmitted,`"${C.lastActive}"`].join(","))].join(`
`),S=new Blob([v],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a");if(k.download!==void 0){const C=URL.createObjectURL(S);k.setAttribute("href",C),k.setAttribute("download",`student_roster_export_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)}},g=()=>{if(d.length===0){alert("No students selected to message.");return}prompt(`Send a message to ${d.length} students:

Type your message below:`)&&alert(`Message sent successfully to ${d.length} students via email and in-app notification.`)};return a.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-full",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Roster"}),a.jsxs("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-800 text-[10px] font-bold uppercase tracking-wider rounded border border-brand-200",children:[l.length," Total"]})]}),a.jsx("p",{className:"text-gray-500",children:"Track engagement, review proofs of work, and issue certifications."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:u,className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Fr,{className:"w-4 h-4"})," Export CSV"]}),a.jsxs("button",{onClick:g,className:"bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800 flex items-center gap-2",children:[a.jsx(Tg,{className:"w-4 h-4"})," Message All"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Active Learners"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.filter(h=>h.status==="active").length}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1 mt-3",children:a.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:"60%"}})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Avg Completion"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:"65%"}),a.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold flex items-center gap-1",children:[a.jsx(dr,{className:"w-3 h-3"})," +5% vs last cohort"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"At Risk"}),a.jsx("h3",{className:"text-2xl font-bold text-red-600 mt-2",children:l.filter(h=>h.status==="at_risk").length}),a.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:"Need intervention"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Certified"}),a.jsx("h3",{className:"text-2xl font-bold text-green-600 mt-2",children:l.filter(h=>h.status==="certified").length}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Total graduates"})]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-t-xl p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:flex-none",children:[a.jsx(Ka,{className:"w-4 h-4 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-black focus:border-black w-full md:w-64",value:e,onChange:h=>t(h.target.value)})]}),a.jsx("div",{className:"h-8 w-px bg-gray-200 mx-2 hidden md:block"}),a.jsxs("select",{className:"border border-gray-300 rounded-lg py-2 pl-3 pr-8 text-sm focus:ring-black focus:border-black bg-white",value:i,onChange:h=>n(h.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"at_risk",children:"At Risk"}),a.jsx("option",{value:"certified",children:"Certified"})]}),a.jsxs("select",{className:"border border-gray-300 rounded-lg py-2 pl-3 pr-8 text-sm focus:ring-black focus:border-black bg-white",value:r,onChange:h=>s(h.target.value),children:[a.jsx("option",{value:"all",children:"All Sprints"}),a.jsx("option",{value:"Advanced SaaS Economics",children:"SaaS Economics"}),a.jsx("option",{value:"AI Implementation Strategy",children:"AI Strategy"}),a.jsx("option",{value:"Global Supply Chain",children:"Supply Chain"})]})]})}),a.jsx("div",{className:"bg-white border-x border-b border-gray-200 rounded-b-xl overflow-hidden shadow-sm",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Student"}),a.jsx("th",{className:"px-6 py-4",children:"Sprint & Cohort"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4",children:"Progress & Proofs"}),a.jsx("th",{className:"px-6 py-4",children:"Last Active"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:d.length>0?d.map(h=>a.jsxs("tr",{className:"hover:bg-gray-50 group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:h.avatar,alt:"",className:"w-10 h-10 rounded-full bg-gray-200 object-cover"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:h.name}),a.jsx("div",{className:"text-xs text-gray-500",children:h.email})]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:h.sprint}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(Zi,{className:"w-3 h-3"})," ",h.cohort]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide ${p(h.status)}`,children:h.status.replace("_"," ")})}),a.jsxs("td",{className:"px-6 py-4 w-64",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsxs("span",{className:"font-medium",children:[h.progress,"% Complete"]}),a.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[a.jsx(ln,{className:"w-3 h-3"})," ",h.proofsSubmitted," Proofs"]})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:`h-2 rounded-full ${h.status==="at_risk"?"bg-red-500":h.status==="certified"?"bg-green-500":"bg-brand-600"}`,style:{width:`${h.progress}%`}})}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${h.attendance.s1?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 text-gray-400"}`,children:"S1"}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${h.attendance.s2?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 text-gray-400"}`,children:"S2"})]})]}),a.jsx("td",{className:"px-6 py-4 text-gray-500",children:h.lastActive}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-full",title:"Message",children:a.jsx(Tg,{className:"w-4 h-4"})}),h.status==="certified"?a.jsx("button",{className:"p-2 text-green-600 bg-green-50 rounded-full cursor-default",title:"Certified",children:a.jsx(wu,{className:"w-4 h-4"})}):a.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-full",title:"Issue Certificate",children:a.jsx(wu,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-black hover:bg-gray-100 rounded-full",children:a.jsx(Po,{className:"w-4 h-4"})})]})})]},h.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No students found matching your filters."})})})]})})]})},n_e=[{id:"rp1",title:"Retail business needs Contract support",role:"Owner",company:"Kampala Hardware Ltd",sourceResource:"Quick Scan",date:"10m ago",status:"new",consent:!0,location:"Gulu, UG",consentText:"Opted In",weakness:"Shield",criticalPillar:"Shield",topWeaknessTag:"Contracts",leadSize:"S",creditCost:2,urgency:"Today",matchScore:95,tags:["contracts_drafting","compliance"],anonSummary:"Needs quick review of supplier contracts. Main risk: Unsigned agreements with key vendors.",problem:"Legal Exposure"},{id:"rp2",title:"SME needs help fixing Cash Flow leaks",role:"MD",company:"Swift Movers",sourceResource:"Deep Assessment",date:"1h ago",status:"new",consent:!0,location:"Kampala, UG",consentText:"Opted In",weakness:"Fuel",criticalPillar:"Fuel",topWeaknessTag:"Invoicing",leadSize:"M",creditCost:5,urgency:"This Week",matchScore:88,tags:["cost_audit","process_optimization"],anonSummary:'Transport company leaking profit on fuel/maintenance. Wants "Fuel Pillar" fix plan implementation.',problem:"Ops Expense Leak"},{id:"rp3",title:"Agro-Processor HR Overhaul",role:"HR Manager",company:"Nile Agro",sourceResource:"Deep Assessment",date:"3h ago",status:"hot",consent:!0,location:"Jinja, UG",consentText:"Opted In",weakness:"Brain",criticalPillar:"Brain",topWeaknessTag:"Hiring",leadSize:"XL",creditCost:20,urgency:"This Month",matchScore:75,tags:["org_design","performance_management"],anonSummary:"200+ staff factory. Union issues and low productivity. Needs full leadership restructure.",problem:"Labor Efficiency"}],mL=()=>{const[e,t]=A.useState("red_phone"),[i,n]=A.useState(25),[r,s]=A.useState(!1),[l,d]=A.useState(!0),[p,u]=A.useState(n_e),[g,h]=A.useState(null),[y,v]=A.useState(!1),[S,k]=A.useState(!1),[C,T]=A.useState("whatsapp"),N=B=>{h(B),v(!0)},E=()=>{if(g){if(i<g.creditCost){v(!1),s(!0);return}n(B=>B-g.creditCost),u(B=>B.map(V=>V.id===g.id?{...V,isUnlocked:!0,status:"contacted"}:V)),v(!1),k(!0)}},O=(B,V)=>{n(U=>U+B),s(!1),alert(`Purchased ${B} credits!`)},P=(B,V)=>{const U="Sarah",W=B.role,q=B.criticalPillar||"Operations",pe=B.topWeaknessTag||"Systems";return V==="whatsapp"?`Hi ${W}, I'm ${U}. I saw your diagnostic and noticed the biggest pressure is in ${q}  especially ${pe}. 

If you want, I can help you fix this with a simple 2-step plan: (1) identify the leak (2) implement controls. 

Quick question: what's the #1 symptom you feel right now?`:V==="linkedin"?`Hi ${W}, I saw your diagnostic results for ${B.company}. Your critical bottleneck is ${q} (especially ${pe}). 

I help businesses fix that with a short audit + implementation sprint. Want me to send a 3-step plan?`:`Subject: Quick fix for your ${q} leak in ${B.company}

Hi ${W},

I'm ${U}. I reviewed your diagnostic report for ${B.company}. Your highest risk appears to be ${q}, driven by ${pe}.

Here's what I recommend (simple + practical):
1. Immediate fix (7 days): Audit current process.
2. System fix (30 days): Implement controls.

If you reply with your current monthly revenue volume, I'll send you a free 1-page action plan tailored to your situation.

Regards,
${U}`},I=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-xl flex flex-col md:flex-row items-center justify-between shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4 md:mb-0",children:[a.jsx("div",{className:"p-3 bg-red-600 rounded-full animate-pulse",children:a.jsx(gR,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Red Phone Lead Board"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time leads matched to your specialties."})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase tracking-wide",children:"Credits"}),a.jsx("p",{className:"text-3xl font-mono font-bold text-brand-400",children:i})]}),a.jsx("button",{onClick:()=>s(!0),className:"bg-white text-black hover:bg-gray-100 px-6 py-3 rounded-lg font-bold transition-colors shadow-lg",children:"Buy Credits"})]})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["All","Critical","High Value","Local"].map(B=>a.jsx("button",{className:"px-4 py-2 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-600 hover:text-black hover:border-gray-400 whitespace-nowrap",children:B},B))}),l?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:p.map(B=>{const V=B.isUnlocked;return a.jsx("div",{className:`bg-white p-6 rounded-xl border shadow-sm flex flex-col md:flex-row gap-6 transition-all ${V?"border-green-200 ring-1 ring-green-100":"border-gray-200 hover:shadow-md"}`,children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase border 
                                   ${B.leadSize==="XL"?"bg-purple-100 text-purple-800 border-purple-200":B.leadSize==="L"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:["Size: ",B.leadSize]}),a.jsxs("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-red-50 text-red-700 border border-red-100",children:[B.criticalPillar," Critical"]}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-gray-100 text-gray-600 border border-gray-200",children:B.urgency})]}),a.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[a.jsx(Zi,{className:"w-3 h-3"})," ",B.date]})]}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:V?`${B.role} @ ${B.company}`:B.title}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-4",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dr,{className:"w-3 h-3"})," ",B.location]}),V&&a.jsx("span",{className:"font-bold text-green-600",children:"Unlocked"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:B.anonSummary}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:B.tags.map(U=>a.jsx("span",{className:"text-[10px] font-bold bg-white border border-gray-300 px-2 py-1 rounded text-gray-600",children:U},U))})]}),V?a.jsx("div",{className:"flex gap-3",children:a.jsx("button",{onClick:()=>{h(B),k(!0)},className:"bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800",children:"View Full Report & Contact"})}):a.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-6",children:[a.jsxs("button",{onClick:()=>N(B),className:"bg-brand-600 text-white px-6 py-2.5 rounded-lg text-sm font-bold hover:bg-brand-700 shadow-sm flex items-center gap-2",children:["Unlock Lead ",a.jsxs("span",{className:"bg-brand-800 px-1.5 py-0.5 rounded text-[10px]",children:[B.creditCost," CR"]})]}),a.jsx("button",{className:"text-sm text-gray-500 font-bold hover:text-black",children:"View Details"})]})]})},B.id)})}):a.jsxs("div",{className:"text-center py-20 bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl",children:[a.jsx(Rn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Unlock the Lead Board"}),a.jsx("p",{className:"text-gray-500 max-w-md mx-auto mt-2 mb-6",children:"Verified consultants get access to high-intent leads. Subscribe to see who needs your help right now."}),a.jsx("button",{onClick:()=>d(!0),className:"bg-black text-white px-6 py-3 rounded-lg font-bold",children:"Get Verified ($29/mo)"})]})]}),D=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Buy Credits"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Credits unlock client contacts + full diagnostic report context."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{amount:10,cost:20,label:"Starter",desc:"Good for ~2-5 leads"},{amount:50,cost:90,label:"Pro",desc:"Best Value. ~15 leads",popular:!0},{amount:100,cost:160,label:"Agency",desc:"Volume discounting"}].map(B=>a.jsxs("div",{className:`relative bg-white border rounded-2xl p-8 text-center hover:shadow-xl transition-all cursor-pointer ${B.popular?"border-brand-600 shadow-md ring-1 ring-brand-600":"border-gray-200"}`,children:[B.popular&&a.jsx("div",{className:"absolute top-0 right-0 bg-brand-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-lg uppercase tracking-wider",children:"Best Value"}),a.jsx("h3",{className:"text-gray-500 font-bold uppercase text-xs mb-4",children:B.label}),a.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:B.amount}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Credits"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:["$",B.cost]}),a.jsx("p",{className:"text-xs text-gray-400 mb-6",children:B.desc}),a.jsx("button",{onClick:()=>O(B.amount,B.cost),className:`w-full py-3 rounded-lg font-bold transition-colors ${B.popular?"bg-black text-white hover:bg-gray-800":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:"Buy Now"})]},B.amount))}),a.jsx("p",{className:"text-center text-xs text-gray-400",children:"If a lead is invalid (wrong contact), you can request a credit review within 24 hours."})]});return a.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-full",children:[!S&&a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Consultant Portal"}),l&&a.jsxs("span",{className:"bg-blue-100 text-blue-700 text-xs font-bold px-2 py-1 rounded-full border border-blue-200 flex items-center gap-1",children:[a.jsx(cn,{className:"w-3 h-3"})," Verified"]})]})}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg overflow-x-auto",children:["red_phone","credits","clients"].map(B=>a.jsx("button",{onClick:()=>t(B),className:`px-4 py-2 rounded-md text-sm font-medium capitalize transition-all whitespace-nowrap ${e===B?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:B.replace("_"," ")},B))})]}),a.jsxs("div",{className:"animate-fade-in",children:[!S&&e==="red_phone"&&I(),!S&&e==="credits"&&D(),S&&g&&a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("button",{onClick:()=>k(!1),className:"mb-6 flex items-center text-sm font-bold text-gray-500 hover:text-black",children:[a.jsx(ic,{className:"w-4 h-4 rotate-180 mr-1"})," Back to Board"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:[g.role," @ ",g.company]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-6",children:[a.jsx("span",{children:g.location}),a.jsx("span",{children:""}),a.jsx("span",{children:g.industry}),a.jsx("span",{children:""}),a.jsxs("span",{className:"text-red-600 font-bold",children:[g.criticalPillar," Critical"]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg mb-6",children:[a.jsx("h4",{className:"font-bold text-blue-900 text-sm mb-2",children:"Report Summary"}),a.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(dr,{className:"w-4 h-4 mt-0.5"})," Top Risk: ",g.topWeaknessTag]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ar,{className:"w-4 h-4 mt-0.5"})," Profit Leak: High friction in ",g.weakness," pillar."]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"w-4 h-4 mt-0.5"})," Recommended: 30-Day System Fix Sprint."]})]}),a.jsxs("button",{className:"mt-4 text-xs font-bold text-blue-700 hover:underline flex items-center gap-1",children:[a.jsx(Fr,{className:"w-3 h-3"})," Download Full 30-Page Report"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Reach Out"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 flex items-center justify-center gap-2",children:[a.jsx(Vo,{className:"w-4 h-4"})," WhatsApp"]}),a.jsxs("button",{className:"flex-1 bg-white border border-gray-300 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-50 flex items-center justify-center gap-2",children:[a.jsx(Tg,{className:"w-4 h-4"})," Email"]}),a.jsxs("button",{className:"flex-1 bg-[#0077b5] text-white py-3 rounded-lg font-bold hover:opacity-90 flex items-center justify-center gap-2",children:[a.jsx(uR,{className:"w-4 h-4"})," LinkedIn"]})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Suggested Opening Message"}),a.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:["whatsapp","email","linkedin"].map(B=>a.jsx("button",{onClick:()=>T(B),className:`px-3 py-1 text-xs font-bold rounded capitalize ${C===B?"bg-white shadow-sm text-black":"text-gray-500"}`,children:B},B))})]}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{className:"w-full h-48 border border-gray-200 rounded-lg p-4 text-sm text-gray-700 font-mono bg-gray-50 focus:bg-white transition-colors",defaultValue:P(g,C)}),a.jsxs("button",{className:"absolute bottom-4 right-4 bg-white shadow-sm border border-gray-200 text-xs font-bold px-3 py-1.5 rounded flex items-center gap-1 hover:text-brand-600",children:[a.jsx(qU,{className:"w-3 h-3"})," Copy"]})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Personalized based on client's diagnostic report data."})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Lead Status"}),a.jsx("div",{className:"space-y-2",children:["New","Contacted","In Discussion","Won","Lost"].map(B=>a.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg text-sm font-medium hover:bg-gray-50 border border-transparent hover:border-gray-200 transition-all flex justify-between items-center",children:[B,g.status===B.toLowerCase().replace(" ","_")&&a.jsx(He,{className:"w-4 h-4 text-green-600"})]},B))}),a.jsx("button",{className:"w-full mt-4 text-xs text-red-500 font-bold hover:underline",children:"Report Invalid Lead"})]})})]})]})]}),y&&g&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in zoom-in-95",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Unlock this lead?"}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Cost"}),a.jsxs("span",{className:"font-bold text-gray-900",children:[g.creditCost," Credits"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Your Balance"}),a.jsxs("span",{className:`font-bold ${i<g.creditCost?"text-red-600":"text-green-600"}`,children:[i," Credits"]})]})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"You will receive:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"})," Client Phone & Email"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"})," WhatsApp Click-to-Chat"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"})," Full 30-Page Diagnostic Report"]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>v(!1),className:"flex-1 bg-white border border-gray-300 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:E,className:"flex-1 bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800",children:"Unlock Now"})]}),a.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Only unlock leads you can realistically serve. Abuse can lead to suspension."})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full shadow-2xl",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Buy Credits"}),a.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Credits unlock client contacts + full diagnostic report context."}),a.jsx("div",{className:"space-y-3 mb-6",children:[{amt:10,cost:20},{amt:25,cost:45},{amt:50,cost:90,best:!0}].map(B=>a.jsxs("button",{onClick:()=>O(B.amt,B.cost),className:`w-full flex justify-between items-center p-4 border rounded-xl hover:border-black transition-all ${B.best?"border-brand-600 bg-brand-50":"border-gray-200"}`,children:[a.jsxs("span",{className:"font-bold",children:[B.amt," Credits"]}),a.jsxs("span",{className:"font-medium",children:["$",B.cost]})]},B.amt))}),a.jsx("button",{onClick:()=>s(!1),className:"w-full text-gray-500 hover:text-black text-sm font-bold",children:"Cancel"})]})})]})},a_e=({onBook:e})=>{const[t,i]=A.useState("services"),[n,r]=A.useState(!1),[s,l]=A.useState(!1),[d,p]=A.useState(!1),[u,g]=A.useState(1),[h,y]=A.useState(null),[v,S]=A.useState(null),[k,C]=A.useState(!1),[T,N]=A.useState(!1),[E,O]=A.useState(!0),[P,I]=A.useState(!1),D=30.2672,B=30.2672,U=Math.abs(D-B)<.5?5:5e3,W=U<=50,q={name:"Sarah Jenkins",title:"Product Strategy Consultant & Fractional CPO",avatar:"https://picsum.photos/400/400?random=50",badges:["ID Verified","Top Rated","Vetted Expert"],bio:"Former VP of Product at 2 Unicorns. I help Series A/B founders streamline their product roadmap, hire their first PMs, and set up agile workflows that actually scale.",location:"San Francisco, CA",radius:"50mi radius",metrics:{lastActive:"12m ago",responseTime:"58m",cancellationRate:"0%",completionRate:"100%",disputeRate:"0%",jobsCompleted:42}},pe=[{id:1,title:"Strategy Audit",type:"Virtual",price:250,duration:"60 min",desc:"Deep dive into your current roadmap and blockers via Google Meet."},{id:2,title:"In-Person Workshop",type:"In-Person",price:1200,duration:"4 hours",desc:"Half-day alignment session at a verified venue (WeWork/Capital Factory).",verifiedVenue:"Capital Factory, 701 Brazos St"},{id:3,title:"Fractional CPO Retainer",type:"Hybrid",price:4e3,duration:"Monthly",desc:"Ongoing leadership (5hrs/week). Includes Slack access."}],X=Q=>{if(Q.type==="In-Person"&&!W){alert("This service is only available to clients within 50km of the consultant's location. Please book a virtual session.");return}y(Q),e?e({id:`serv_${Q.id}`,title:`${Q.title} with Sarah`,description:Q.desc,price:Q.price,type:"session"}):(g(1),S(null),C(!1),p(!0))},se=()=>{I(!1),N(!0)},K=()=>{setTimeout(()=>{I(!0),setTimeout(()=>N(!1),2e3)},1500)},z=()=>{if(k)return a.jsxs("div",{className:"p-8 text-center animate-scale-in",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(He,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"A calendar invite has been sent to your email."}),a.jsx("button",{onClick:()=>p(!1),className:"w-full bg-black text-white py-3 rounded-lg font-bold",children:"Done"})]});const de=h?h.price*.08:0,F=h?h.price+de:0;return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u>1&&a.jsx("button",{onClick:()=>g(j=>j-1),className:"text-gray-500 hover:text-black",children:a.jsx(Ir,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:u===1?"Select Time":u===2?"Review & Safety":"Payment"}),a.jsx("div",{className:"flex gap-1 mt-1",children:[1,2,3].map(j=>a.jsx("div",{className:`h-1 w-6 rounded-full transition-colors ${j<=u?"bg-black":"bg-gray-200"}`},j))})]})]}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-black",children:a.jsx(yn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[u===1&&a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Select a slot for ",a.jsx("span",{className:"font-bold text-gray-900",children:h.title})," (",h.duration,")"]}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:["Mon","Tue","Wed","Thu"].map(j=>a.jsxs("button",{className:"p-2 border border-gray-200 rounded text-center hover:border-black focus:border-black focus:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"block text-xs text-gray-500",children:j}),a.jsx("span",{className:"block font-bold text-sm",children:"Oct 24"})]},j))}),a.jsx("div",{className:"space-y-2",children:["9:00 AM","11:00 AM","2:00 PM","4:00 PM"].map(j=>a.jsxs("button",{onClick:()=>S(j),className:`w-full flex items-center justify-between p-3 border rounded-lg transition-all ${v===j?"border-brand-600 bg-brand-50 ring-1 ring-brand-600":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("span",{className:`font-medium text-sm ${v===j?"text-brand-900":"text-gray-700"}`,children:j}),v===j&&a.jsx(He,{className:"w-4 h-4 text-brand-600"})]},j))})]}),u===2&&a.jsx("div",{className:"animate-fade-in space-y-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Service Details"}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Service:"})," ",h.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time:"})," ",v,", Oct 24"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Price:"})," $",h.price]})]})]})}),u===3&&a.jsx("div",{className:"animate-fade-in space-y-6",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-2",children:a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 mt-2",children:[a.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),a.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",F.toFixed(2)]})]})})})]}),a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsx("button",{onClick:()=>{u<3?g(j=>j+1):C(!0)},disabled:u===1&&!v,className:"w-full bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:u===3?`Pay $${F.toFixed(2)}`:"Continue"})})]})};return a.jsxs("div",{className:"min-h-full bg-gray-50 font-sans text-slate-900 pb-20",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-16 z-30",children:[a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[a.jsxs("div",{className:"flex-shrink-0",children:[a.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-xl bg-gray-200 overflow-hidden shadow-sm border border-gray-100",children:a.jsx("img",{src:q.avatar,alt:q.name,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2 justify-center md:justify-start max-w-[140px]",children:q.badges.map((Q,de)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-700 border border-gray-200",children:[Q==="ID Verified"&&a.jsx(cn,{className:"w-3 h-3 mr-1 text-emerald-600"}),Q==="Top Rated"&&a.jsx(Nn,{className:"w-3 h-3 mr-1 text-amber-500 fill-current"}),Q]},de))})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:q.name}),a.jsx("p",{className:"text-gray-600 font-medium text-lg mt-1",children:q.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Dr,{className:"w-4 h-4"})," ",q.location," (",q.radius,")"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100 font-medium",children:[a.jsx(Zi,{className:"w-3.5 h-3.5"})," Responds in ",q.metrics.responseTime]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:se,className:"flex-1 md:flex-none bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2.5 rounded-lg text-sm font-bold transition-colors flex items-center justify-center gap-2",children:[a.jsx(Vo,{className:"w-4 h-4"})," Request Intro"]}),a.jsx("button",{onClick:()=>X(pe[0]),className:"flex-1 md:flex-none bg-black text-white px-6 py-2.5 rounded-lg text-sm font-bold hover:bg-gray-800 shadow-sm transition-colors",children:"Book Session"})]})]}),a.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4 py-4 border-t border-gray-100",children:[{label:"Completion Rate",value:q.metrics.completionRate,color:"text-emerald-600"},{label:"Dispute Rate",value:q.metrics.disputeRate,color:"text-gray-900"},{label:"Last Active",value:q.metrics.lastActive,color:"text-gray-900"},{label:"Jobs Done",value:q.metrics.jobsCompleted,color:"text-gray-900"},{label:"Cancellation",value:q.metrics.cancellationRate,color:"text-gray-900"}].map((Q,de)=>a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-semibold",children:Q.label}),a.jsx("p",{className:`text-sm font-bold mt-0.5 ${Q.color}`,children:Q.value})]},de))})]})]})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto no-scrollbar",children:[{id:"services",label:"Services",icon:ii},{id:"resources",label:"Resources",icon:Fr},{id:"outcomes",label:"Impact",icon:dr},{id:"reviews",label:"Reviews",icon:Nn},{id:"safety",label:"Policies",icon:Sc}].map(Q=>a.jsxs("button",{onClick:()=>i(Q.id),className:`whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${t===Q.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Q.icon,{className:`w-4 h-4 ${t===Q.id?"text-black":"text-gray-400"}`}),Q.label]},Q.id))})})]}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-8 animate-fade-in",children:t==="services"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Available Services"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{className:"flex items-center gap-1 text-xs font-medium bg-white border border-gray-300 px-3 py-1.5 rounded-full hover:bg-gray-50",children:[a.jsx(Zu,{className:"w-3 h-3"})," Filters"]})})]}),a.jsx("div",{className:"grid gap-4",children:pe.map(Q=>a.jsx("div",{className:`bg-white rounded-xl border p-5 transition-all group ${Q.type==="In-Person"&&!W?"border-gray-100 opacity-60":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${Q.type==="Virtual"?"bg-purple-50 text-purple-600":Q.type==="In-Person"?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:Q.type==="Virtual"?a.jsx(ir,{className:"w-6 h-6"}):Q.type==="In-Person"?a.jsx(Dr,{className:"w-6 h-6"}):a.jsx(kc,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 text-lg group-hover:text-brand-600 transition-colors",children:Q.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs font-medium text-gray-500",children:[a.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded",children:Q.type}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Zi,{className:"w-3 h-3"})," ",Q.duration]}),Q.type==="In-Person"&&!W&&a.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[a.jsx(pc,{className:"w-3 h-3"})," Too Far (",Math.round(U),"km)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-3 leading-relaxed",children:Q.desc})]})]}),a.jsxs("div",{className:"text-right flex flex-col items-end gap-3",children:[a.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",Q.price]}),a.jsx("button",{onClick:()=>X(Q),disabled:Q.type==="In-Person"&&!W,className:`px-5 py-2 rounded-lg text-sm font-bold transition-colors ${Q.type==="In-Person"&&!W?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-black text-white hover:bg-gray-800"}`,children:Q.type==="In-Person"&&!W?"Unavailable":"Book"})]})]})},Q.id))})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm sticky top-36",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"About Sarah"}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-6",children:q.bio}),a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("a",{href:"#",className:"p-2 bg-gray-100 rounded-full text-gray-600 hover:bg-[#0077b5] hover:text-white transition-colors",children:a.jsx(uR,{className:"w-4 h-4"})}),a.jsx("a",{href:"#",className:"p-2 bg-gray-100 rounded-full text-gray-600 hover:bg-[#1DA1F2] hover:text-white transition-colors",children:a.jsx(Vz,{className:"w-4 h-4"})}),a.jsx("a",{href:"#",className:"p-2 bg-gray-100 rounded-full text-gray-600 hover:bg-gray-900 hover:text-white transition-colors",children:a.jsx(Br,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[a.jsx(Dr,{className:"w-4 h-4"})," Service Area"]}),a.jsx("span",{className:"font-medium text-gray-900",children:"San Francisco 50mi"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[a.jsx(Zi,{className:"w-4 h-4"})," Availability"]}),a.jsx("span",{className:"font-medium text-green-600",children:"Next Slot: Tomorrow"})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("button",{className:"w-full bg-white border border-gray-300 text-gray-700 py-2 rounded-lg text-sm font-bold hover:bg-gray-50 transition-colors mb-3",children:"Share Profile"}),a.jsx("p",{className:"text-xs text-center text-gray-400",children:"Member since 2023  98% Job Success"})]})]})})]})}),T&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in zoom-in-95",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:P?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:a.jsx(He,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Request Sent!"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:[q.name," has been notified. They usually respond within ",q.metrics.responseTime,"."]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Request Intro"}),a.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-black",children:a.jsx(yn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("img",{src:q.avatar,className:"w-12 h-12 rounded-full border border-gray-200"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900",children:q.name}),a.jsx("p",{className:"text-xs text-gray-500",children:q.title})]})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-2",children:"Share Context?"}),a.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Sharing your 30-page diagnostic report helps ",q.name.split(" ")[0]," prepare a solution before the first call."]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors ${E?"bg-green-500":"bg-gray-300"}`,onClick:()=>O(!E),children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${E?"translate-x-4":"translate-x-0"}`})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:E?"Sharing Report":"Don't Share"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Message (Optional)"}),a.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-black focus:border-black h-24 resize-none",placeholder:`Hi ${q.name.split(" ")[0]}, I need help with...`})]})]}),a.jsxs("button",{onClick:K,className:"w-full bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:["Send Request ",a.jsx(on,{className:"w-4 h-4"})]}),a.jsx("p",{className:"text-center text-xs text-gray-400 mt-3",children:"Your contact info will be shared securely."})]})})}),d&&h&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden h-[600px] flex flex-col",children:a.jsx(z,{})})})]})},r_e=({onComplete:e,user:t})=>{const[i,n]=A.useState(0),[r,s]=A.useState(t.avatar),[l,d]=A.useState(!1),[p,u]=A.useState({phone:"",title:"",bio:"",primaryCategories:[],selectedTags:[],selectedIndustries:[],location:"",serviceScope:"country",remoteAvailable:!0,jurisdictions:[],engagementTypes:[],priceBand:"Standard",availability:"This week",subscriptionPlan:"verified"}),g=()=>n(U=>U<7?U+1:U),h=()=>n(U=>U>0?U-1:U),y=U=>{const W=p.selectedTags,q=W.includes(U)?W.filter(pe=>pe!==U):[...W,U];u({...p,selectedTags:q})},v=U=>{const W=p.primaryCategories;W.includes(U)?u({...p,primaryCategories:W.filter(q=>q!==U)}):W.length<2&&u({...p,primaryCategories:[...W,U]})},S=U=>{const W=p.selectedIndustries;W.includes(U)?u({...p,selectedIndustries:W.filter(q=>q!==U)}):W.length<5&&u({...p,selectedIndustries:[...W,U]})},k=U=>{const W=p.engagementTypes,q=W.includes(U)?W.filter(pe=>pe!==U):[...W,U];u({...p,engagementTypes:q})},C=U=>{var q;const W=(q=U.target.files)==null?void 0:q[0];if(W){const pe=new FileReader;pe.onloadend=()=>{s(pe.result)},pe.readAsDataURL(W)}},T=U=>{d(!0),setTimeout(()=>{d(!1),U()},1500)},N=()=>a.jsxs("div",{className:"text-center animate-fade-in py-10",children:[a.jsx("div",{className:"w-20 h-20 bg-black text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx(ii,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-4",children:"Welcome. Lets build a profile that attracts serious clients."}),a.jsxs("p",{className:"text-gray-500 max-w-lg mx-auto mb-10 text-lg",children:["This takes 68 minutes. Profiles with proof + clear specialties get ",a.jsx("span",{className:"font-bold text-black",children:"35 more unlocks"}),"."]}),a.jsx("div",{className:"max-w-md mx-auto space-y-4 mb-10 text-left",children:["Add your photo + bio","Choose your specialties (min 3)","Set your service radius","Activate Verified to access the Red Phone Lead Board"].map((U,W)=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-white border border-gray-200 flex items-center justify-center font-bold text-sm text-gray-400 shadow-sm",children:W+1}),a.jsx("span",{className:"font-medium text-gray-700",children:U})]},W))}),a.jsxs("div",{className:"flex flex-col gap-3 max-w-xs mx-auto",children:[a.jsx("button",{onClick:g,className:"w-full bg-black text-white py-3.5 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all shadow-lg hover:-translate-y-0.5",children:"Start"}),a.jsx("button",{className:"text-sm text-gray-500 font-medium hover:text-black",children:"Save and continue later"})]})]}),E=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create your consultant account"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"We use phone verification to reduce spam and protect client privacy."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:t.name,disabled:!0,className:"w-full border-gray-200 bg-gray-50 rounded-lg p-3 text-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:t.email,disabled:!0,className:"w-full border-gray-200 bg-gray-50 rounded-lg p-3 text-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mobile Phone (WhatsApp enabled)"}),a.jsx("input",{type:"tel",placeholder:"+1 555 000 0000",className:"w-full border-gray-300 rounded-lg p-3 focus:ring-black focus:border-black",value:p.phone,onChange:U=>u({...p,phone:U.target.value})})]})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg flex items-start gap-3 border border-blue-100",children:[a.jsx(cn,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-blue-800",children:"Your phone is only revealed to clients after you confirm a booking or they unlock your profile."})]})]}),O=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4 group cursor-pointer",children:[a.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-4 border-white shadow-md bg-gray-100",children:a.jsx("img",{src:r,alt:"Profile",className:"w-full h-full object-cover"})}),a.jsxs("label",{htmlFor:"avatar-upload",className:"absolute inset-0 flex items-center justify-center bg-black/40 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[a.jsx(xU,{className:"w-8 h-8"}),a.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:C})]})]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your profile headline"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Make it obvious what you do."})]}),a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Headline Examples:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc pl-4",children:[a.jsx("li",{children:"Commercial Lawyer | Contracts + Debt Recovery"}),a.jsx("li",{children:"Growth Marketer | Ads + Funnels + Conversion"}),a.jsx("li",{children:"Fractional CFO | Cash Flow + Pricing + Controls"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Headline (Max 70 chars)"}),a.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-lg shadow-sm p-3 focus:ring-black focus:border-black",placeholder:"e.g. Commercial Lawyer for Retail SMEs",maxLength:70,value:p.title,onChange:U=>u({...p,title:U.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Bio (Min 150 chars)"}),a.jsx("textarea",{className:"w-full border-gray-300 rounded-lg shadow-sm p-3 h-32 focus:ring-black focus:border-black",placeholder:"Who do you help? What problem do you solve? What outcomes have you delivered? Add proof (years, clients, metrics).",value:p.bio,onChange:U=>u({...p,bio:U.target.value})}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{className:`text-xs ${p.bio.length<150?"text-red-500":"text-green-600"}`,children:[p.bio.length," / 150 min"]}),a.jsx("p",{className:"text-xs text-gray-400 italic",children:"Strong bio = niche + outcomes + proof."})]})]})]})]}),P=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choose what youre best at"}),a.jsx("p",{className:"text-gray-500",children:"Pick 12 primary categories, then at least 3 specialties. This is how we match you to leads."})]}),a.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Primary Categories (Max 2)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.keys(Ph).map(U=>a.jsx("button",{onClick:()=>v(U),className:`p-3 rounded-lg text-sm font-medium border text-left transition-all ${p.primaryCategories.includes(U)?"bg-black text-white border-black":"bg-white text-gray-600 border-gray-200 hover:border-gray-400"}`,children:U},U))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:["Expertise Tags (Min 3) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 h-64 overflow-y-auto",children:[p.primaryCategories.length===0&&a.jsx("p",{className:"text-sm text-gray-400 text-center py-10",children:"Select a category above to see tags."}),p.primaryCategories.map(U=>{var W;return a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2 sticky top-0 bg-gray-50 py-1",children:U}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(W=Ph[U])==null?void 0:W.map(q=>a.jsx("button",{onClick:()=>y(q.id),className:`px-3 py-1.5 rounded-full text-xs font-bold border transition-colors ${p.selectedTags.includes(q.id)?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-600 border-gray-300 hover:border-gray-400"}`,children:q.label},q.id))})]},U)})]}),a.jsxs("p",{className:`text-xs mt-2 ${p.selectedTags.length<3?"text-red-500":"text-green-600"}`,children:["Selected: ",p.selectedTags.length,". ",p.selectedTags.length<3?"(Minimum 3 required)":"(Good to go)"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Best Industries (Optional)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Gye.map(U=>a.jsx("button",{onClick:()=>S(U),className:`px-3 py-1.5 rounded-full text-xs font-bold border transition-colors ${p.selectedIndustries.includes(U)?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-600 border-gray-300 hover:border-gray-400"}`,children:U},U))})]})]})]}),I=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in max-w-xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Where do you serve clients?"}),a.jsx("p",{className:"text-gray-500",children:"Geo settings help us send you the right leads and prevent irrelevant matches."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Service Radius"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["city","country","global"].map(U=>a.jsx("button",{onClick:()=>u({...p,serviceScope:U}),className:`py-3 rounded-lg text-sm font-bold border capitalize transition-all ${p.serviceScope===U?"bg-black text-white border-black":"bg-white text-gray-600 border-gray-200 hover:border-gray-400"}`,children:U},U))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Base Location"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dr,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",className:"w-full pl-10 border-gray-300 rounded-lg p-3",placeholder:"City, Country",value:p.location,onChange:U=>u({...p,location:U.target.value})})]})]}),a.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 text-black border-gray-300 rounded focus:ring-black",checked:p.remoteAvailable,onChange:U=>u({...p,remoteAvailable:U.target.checked})}),a.jsx("span",{className:"ml-3 font-medium text-gray-900",children:"I am available for remote engagements"})]}),(p.primaryCategories.includes("Legal & Compliance")||p.primaryCategories.includes("Finance & Accounting"))&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Jurisdictions you serve"}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Legal and tax work is jurisdiction-specific. Select where you can legally advise."}),a.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-lg p-3",placeholder:"e.g. Uganda, Kenya, UK (Comma separated)",value:p.jurisdictions.join(", "),onChange:U=>u({...p,jurisdictions:U.target.value.split(",").map(W=>W.trim())})})]})]})]}),D=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in max-w-xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How do you want to work?"}),a.jsx("p",{className:"text-gray-500",children:"This helps clients choose you fasterand increases lead unlocks."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Engagement Types"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:["One-off consultation","Audit / review","Implementation sprint","Retainer / monthly support"].map(U=>a.jsxs("button",{onClick:()=>k(U),className:`flex items-center justify-between p-3 rounded-lg border text-sm font-medium text-left transition-all ${p.engagementTypes.includes(U)?"bg-blue-50 border-blue-500 text-blue-900":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[U,p.engagementTypes.includes(U)&&a.jsx(He,{className:"w-4 h-4 text-blue-600"})]},U))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Price Band"}),a.jsxs("select",{className:"w-full border-gray-300 rounded-lg p-2.5 bg-white",value:p.priceBand,onChange:U=>u({...p,priceBand:U.target.value}),children:[a.jsx("option",{children:"Budget"}),a.jsx("option",{children:"Standard"}),a.jsx("option",{children:"Premium"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Availability"}),a.jsxs("select",{className:"w-full border-gray-300 rounded-lg p-2.5 bg-white",value:p.availability,onChange:U=>u({...p,availability:U.target.value}),children:[a.jsx("option",{children:"Available now"}),a.jsx("option",{children:"This week"}),a.jsx("option",{children:"Next week"})]})]})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-xs text-gray-600 text-center",children:"You can always discuss final pricing after understanding the case."})]})]}),B=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center gap-2 bg-brand-100 text-brand-800 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:"Recommended"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Activate Verified Access"}),a.jsx("p",{className:"text-gray-500 max-w-lg mx-auto mt-2",children:"Verified consultants get priority placement and can unlock anonymous leads from the Red Phone Lead Board."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[a.jsxs("div",{className:"p-6 rounded-2xl border border-gray-200 bg-white hover:border-gray-300 transition-colors",children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Basic Profile"}),a.jsxs("p",{className:"text-2xl font-bold mt-2",children:["$0 ",a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"/ mo"})]}),a.jsxs("ul",{className:"mt-6 space-y-3 text-sm text-gray-600",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-gray-400"})," Listed in marketplace"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-gray-400"})," Standard ranking"]}),a.jsxs("li",{className:"flex items-center gap-2 opacity-50",children:[a.jsx(Rn,{className:"w-4 h-4"})," Cannot unlock Red Phone leads"]}),a.jsxs("li",{className:"flex items-center gap-2 opacity-50",children:[a.jsx(Rn,{className:"w-4 h-4"})," No verified badge"]})]}),a.jsx("button",{onClick:()=>u({...p,subscriptionPlan:"free"}),className:`w-full mt-8 py-3 rounded-xl border-2 font-bold text-sm transition-all ${p.subscriptionPlan==="free"?"border-black bg-gray-100 text-black":"border-gray-200 text-gray-500 hover:border-gray-400"}`,children:p.subscriptionPlan==="free"?"Selected":"Select Basic"})]}),a.jsxs("div",{className:"p-6 rounded-2xl border-2 border-brand-600 bg-brand-50 relative shadow-xl transform md:-translate-y-4",children:[a.jsx("div",{className:"absolute top-0 right-0 bg-brand-600 text-white text-xs font-bold px-3 py-1 rounded-bl-lg uppercase",children:"Best Value"}),a.jsxs("h3",{className:"font-bold text-lg text-brand-900 flex items-center gap-2",children:[a.jsx(cn,{className:"w-5 h-5"})," Verified"]}),a.jsxs("p",{className:"text-2xl font-bold mt-2 text-brand-900",children:["$29 ",a.jsx("span",{className:"text-sm font-medium text-brand-700",children:"/ mo"})]}),a.jsxs("ul",{className:"mt-6 space-y-3 text-sm text-brand-800",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-brand-600"})," ",a.jsx("strong",{children:"Red Phone Lead Board"})," access"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-brand-600"})," Unlock client contacts + reports"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-brand-600"})," Priority marketplace ranking"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-brand-600"})," Verified Trust Badge"]})]}),a.jsx("button",{onClick:()=>u({...p,subscriptionPlan:"verified"}),className:`w-full mt-8 py-3 rounded-xl font-bold text-sm transition-all shadow-md ${p.subscriptionPlan==="verified"?"bg-black text-white hover:bg-gray-800":"bg-white text-brand-900 hover:bg-brand-100"}`,children:p.subscriptionPlan==="verified"?"Selected":"Start Verified"}),a.jsx("p",{className:"text-xs text-center text-brand-700 mt-3",children:"7-day money back guarantee. Cancel anytime."})]})]})]}),V=()=>a.jsx("div",{className:"space-y-6 animate-fade-in max-w-md mx-auto text-center",children:p.subscriptionPlan==="verified"?a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Secure Payment"}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Verified Plan"}),a.jsx("span",{className:"font-bold text-gray-900",children:"$29.00 / mo"})]}),a.jsx("div",{className:"h-px bg-gray-200 mb-4"}),a.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-300 p-3 rounded-lg",children:[a.jsx(Do,{className:"w-5 h-5 text-gray-600"}),a.jsx("input",{type:"text",placeholder:"Card Number",className:"flex-1 bg-transparent text-sm outline-none"})]}),a.jsxs("div",{className:"flex gap-3 mt-3",children:[a.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-1/2 bg-white border border-gray-300 p-3 rounded-lg text-sm outline-none"}),a.jsx("input",{type:"text",placeholder:"CVC",className:"w-1/2 bg-white border border-gray-300 p-3 rounded-lg text-sm outline-none"})]})]}),a.jsx("button",{onClick:()=>T(e),disabled:l,className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all shadow-lg flex items-center justify-center gap-2",children:l?"Processing...":"Confirm & Start"})]}):a.jsxs("div",{className:"py-10",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Ready"}),a.jsx("p",{className:"text-gray-500 mb-8",children:"You are creating a Basic profile. You won't be able to unlock leads from the Red Phone board until you upgrade."}),a.jsx("button",{onClick:e,className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all shadow-lg",children:"Submit Profile"})]})});return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[i>0&&a.jsx("div",{className:"border-b border-gray-100 bg-white sticky top-0 z-20 px-6 py-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[a.jsx("button",{onClick:h,className:"text-gray-400 hover:text-black transition-colors",children:a.jsx(dc,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5,6,7].map(U=>a.jsx("div",{className:`h-1.5 w-8 rounded-full transition-colors ${U<=i?"bg-black":"bg-gray-200"}`},U))}),a.jsx("div",{className:"w-5"})]})}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-4xl",children:[i===0&&a.jsx(N,{}),i===1&&a.jsx(E,{}),i===2&&a.jsx(O,{}),i===3&&a.jsx(P,{}),i===4&&a.jsx(I,{}),i===5&&a.jsx(D,{}),i===6&&a.jsx(B,{}),i===7&&a.jsx(V,{})]})}),i>0&&i<7&&a.jsx("div",{className:"border-t border-gray-100 p-4 bg-white sticky bottom-0 z-20",children:a.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:a.jsxs("button",{onClick:g,disabled:i===2&&(!p.title||p.bio.length<150)||i===3&&p.selectedTags.length<3||i===4&&!p.location,className:"bg-black text-white px-8 py-3 rounded-xl font-bold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:["Next ",a.jsx(ic,{className:"w-4 h-4"})]})})})]})},yL=()=>{const e={name:"TechFlow Inc.",logo:"https://ui-avatars.com/api/?name=TechFlow&background=000&color=fff&size=128",description:"TechFlow provides the leading financial operating system for high-growth SaaS startups. We help you automate AR/AP, manage burn, and extend runway.",website:"https://techflow.example.com",industry:"Fintech",region:"Global",resources:[{id:"r1",title:"The 2025 SaaS Benchmarks Report",type:"pdf",downloads:2400,leadsGenerated:0,uploadDate:"Oct 1, 2024",accessLevel:"free"},{id:"r2",title:"Series B Financial Model Template",type:"template",downloads:1800,leadsGenerated:0,uploadDate:"Sep 15, 2024",accessLevel:"free"}],events:[{id:"e1",companyId:"c1",title:"Scaling Finance Teams: 0 to 10",description:"Live panel with CFOs from Stripe and Brex.",date:"Oct 30, 2024  10:00 AM PST",duration:"60 min",hostName:"TechFlow x Sarah Jenkins",registrationUrl:"#",registrations:450},{id:"e2",companyId:"c1",title:"Automating the Close Process",description:"Workshop on reducing monthly close time by 50%.",date:"Nov 5, 2024  1:00 PM PST",duration:"90 min",hostName:"TechFlow Team",registrationUrl:"#",registrations:120}],hiringPosts:[{id:"h1",companyId:"c1",title:"Senior Product Manager, Growth",location:"Remote (US)",type:"remote",description:"Lead our PLG initiatives.",applyUrl:"#",status:"active",tags:["Product","Growth"]},{id:"h2",companyId:"c1",title:"Account Executive - Enterprise",location:"New York, NY",type:"hybrid",description:"Close 6-figure deals.",applyUrl:"#",status:"active",tags:["Sales","Enterprise"]}]},[t,i]=A.useState("about");return a.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans text-slate-900",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200",children:[a.jsx("div",{className:"h-32 bg-gradient-to-r from-gray-900 to-gray-800"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-12",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-6 pb-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-6",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-xl shadow-md p-1",children:a.jsx("img",{src:e.logo,alt:e.name,className:"w-full h-full rounded-lg object-cover"})}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.name}),a.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-50 text-blue-700 px-2 py-0.5 rounded-full text-xs font-bold border border-blue-100 uppercase tracking-wide",children:[a.jsx(cn,{className:"w-3 h-3"})," Trusted Partner"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Yr,{className:"w-4 h-4"})," ",e.industry]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dr,{className:"w-4 h-4"})," ",e.region]}),a.jsxs("a",{href:e.website,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-brand-600 hover:underline",children:[a.jsx(Br,{className:"w-4 h-4"})," Website"]})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4 md:mt-0 self-end md:self-auto",children:[a.jsx("button",{className:"bg-black text-white px-6 py-2.5 rounded-lg text-sm font-bold hover:bg-gray-800 transition-colors shadow-sm",children:"Contact Sales"}),a.jsx("button",{className:"bg-white border border-gray-300 text-gray-700 px-4 py-2.5 rounded-lg text-sm font-bold hover:bg-gray-50 transition-colors",children:"Follow"})]})]}),a.jsx("div",{className:"flex space-x-8 border-t border-gray-100 pt-1",children:[{id:"about",label:"About"},{id:"resources",label:"Resources",count:e.resources.length},{id:"events",label:"Events",count:e.events.length},{id:"jobs",label:"Careers",count:e.hiringPosts.length}].map(n=>a.jsxs("button",{onClick:()=>i(n.id),className:`flex items-center gap-2 py-4 border-b-2 text-sm font-medium transition-colors ${t===n.id?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[n.label,n.count!==void 0&&a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t===n.id?"bg-black text-white":"bg-gray-100 text-gray-500"}`,children:n.count})]},n.id))})]})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[t==="about"&&a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 shadow-sm animate-fade-in",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"About Us"}),a.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:e.description}),a.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"500+"}),a.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mt-1",children:"Customers"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"$100M+"}),a.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mt-1",children:"Managed ARR"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"Global"}),a.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mt-1",children:"Support 24/7"})]})]})]}),t==="resources"&&a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Expert Resources"}),a.jsx("div",{className:"grid gap-4",children:e.resources.map(n=>a.jsxs("div",{className:"group bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow flex items-start justify-between",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(ln,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:n.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:[a.jsx("span",{className:"uppercase font-bold text-xs bg-gray-100 px-2 py-0.5 rounded",children:n.type}),a.jsxs("span",{children:[n.downloads," downloads"]})]})]})]}),a.jsxs("button",{className:"bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800 flex items-center gap-2",children:[a.jsx(Fr,{className:"w-4 h-4"})," Access"]})]},n.id))})]}),t==="events"&&a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upcoming Events"}),a.jsx("div",{className:"grid gap-4",children:e.events.map(n=>a.jsx("div",{className:"group bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-brand-700 bg-brand-50 px-2 py-0.5 rounded border border-brand-100 uppercase tracking-wide mb-2",children:"Sponsored"}),a.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:n.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 max-w-xl",children:n.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(kc,{className:"w-4 h-4"})," ",n.date]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Da,{className:"w-4 h-4"})," ",n.registrations," Registered"]}),a.jsxs("span",{className:"font-medium text-gray-900",children:["Host: ",n.hostName]})]})]}),a.jsx("div",{className:"flex-shrink-0 self-start md:self-center",children:a.jsx("button",{className:"w-full md:w-auto bg-black text-white px-6 py-3 rounded-lg text-sm font-bold hover:bg-gray-800 transition-colors shadow-sm",children:"Register Free"})})]})},n.id))})]}),t==="jobs"&&a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Open Roles"}),a.jsx("span",{className:"text-sm text-gray-500",children:"We're hiring builders."})]}),a.jsx("div",{className:"grid gap-4",children:e.hiringPosts.map(n=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:border-gray-300 transition-colors",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:n.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dr,{className:"w-3 h-3"})," ",n.location]}),a.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded capitalize",children:n.type})]}),a.jsx("div",{className:"flex gap-2 mt-4",children:n.tags.map(r=>a.jsx("span",{className:"text-xs bg-gray-50 border border-gray-200 px-2 py-1 rounded text-gray-600",children:r},r))})]}),a.jsxs("button",{className:"text-sm font-bold text-brand-600 border border-brand-200 bg-brand-50 px-4 py-2 rounded-lg hover:bg-brand-100 transition-colors flex items-center gap-1",children:["Apply ",a.jsx(XU,{className:"w-3 h-3"})]})]})},n.id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[a.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(He,{className:"w-5 h-5 text-green-600"})," Trusted Partner"]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This company has been verified for business compliance, brand safety, and positive community feedback."}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Member Since"}),a.jsx("span",{className:"font-bold text-gray-900",children:"2023"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Response Rate"}),a.jsx("span",{className:"font-bold text-green-600",children:"High"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 text-center",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest font-bold mb-2",children:"Advertisement"}),a.jsx("div",{className:"bg-white h-48 rounded-lg border border-gray-200 flex items-center justify-center mb-3",children:a.jsx("span",{className:"text-gray-400 text-sm",children:"Targeted Ad Slot"})}),a.jsx("button",{className:"text-xs text-gray-500 hover:text-black underline",children:"Remove Ads"})]})]})]})})]})},s_e=[{id:"u_1",name:"Alice Founder",email:"alice@start.com",role:"student",status:"approved",joinedAt:"2023-10-01",lastLoginAt:"2023-10-25",ltv:297,riskScore:10,company:"AliceCo",tier:"pro",avatar:"https://ui-avatars.com/api/?name=Alice"},{id:"u_2",name:"Bob Builder",email:"bob@build.com",role:"student",status:"suspended",joinedAt:"2023-09-15",lastLoginAt:"2023-10-10",ltv:0,riskScore:85,company:"BuildIt",tier:"free",avatar:"https://ui-avatars.com/api/?name=Bob"},{id:"u_3",name:"Carol Coach",email:"carol@coach.com",role:"consultant",status:"approved",joinedAt:"2023-08-20",lastLoginAt:"2023-10-26",ltv:1500,riskScore:5,company:"Growth Partners",tier:"elite",avatar:"https://ui-avatars.com/api/?name=Carol"}],o_e=[{id:"pr_1",tier:1,product:"quick_scan",amount:0,currency:"USD",isActive:!0,regionGroup:"Global"},{id:"pr_2",tier:1,product:"bundle",amount:97,currency:"USD",isActive:!0,regionGroup:"NAFTA/EU"},{id:"pr_3",tier:3,product:"bundle",amount:49,currency:"USD",isActive:!0,regionGroup:"Africa/India"},{id:"pr_4",tier:1,product:"subscription",amount:49,currency:"USD",isActive:!0,regionGroup:"Global"},{id:"pr_5",tier:1,product:"partner_credits",amount:1.5,currency:"USD",isActive:!0,regionGroup:"Global"}],l_e=[{id:"log_1",actorId:"admin_1",actorName:"Super Admin",actorRole:"admin",action:"Update Pricing",targetResource:"pricing_rule",targetId:"pr_2",timestamp:"2023-10-26 10:00:00",changes:{oldAmount:89,newAmount:97}},{id:"log_2",actorId:"system",actorName:"System",actorRole:"system",action:"Flag High Risk",targetResource:"user",targetId:"u_2",timestamp:"2023-10-25 14:30:00",changes:{},metadata:{reason:"payment_fraud_signal"}},{id:"log_3",actorId:"u_3",actorName:"Carol Coach",actorRole:"consultant",action:"Unlock Lead",targetResource:"lead",targetId:"l_101",timestamp:"2023-10-24 09:15:00",changes:{},metadata:{cost:5}}],c_e=[{id:"snip_1",pillar:"Engine",band:"Silent Killer",tilt:"A-Lean",textKey:"snippet.engine.killer.a",content:"You are personally ensuring things work. If you are absent, revenue drops hard.",lastUpdated:"2023-10-01"},{id:"snip_2",pillar:"Fuel",band:"Stable",tilt:"B-Lean",textKey:"snippet.fuel.stable.b",content:"You protect cash and avoid waste. Over-caution can slow growth.",lastUpdated:"2023-09-15"}],_L=({initialTab:e="users"})=>{const[t,i]=A.useState(e),[n,r]=A.useState(""),[s,l]=A.useState(o_e),[d,p]=A.useState(c_e),[u,g]=A.useState(null),h=(T,N)=>{l(E=>E.map(O=>O.id===T?{...O,amount:N}:O)),g(null)},y=s_e.filter(T=>T.name.toLowerCase().includes(n.toLowerCase())||T.email.toLowerCase().includes(n.toLowerCase())),v=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(Ka,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"pl-9 pr-4 py-2 w-full border border-gray-300 rounded-lg text-sm focus:ring-black focus:border-black",value:n,onChange:T=>r(T.target.value)})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-bold hover:bg-gray-50",children:[a.jsx(Zu,{className:"w-4 h-4"})," Filters"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"User"}),a.jsx("th",{className:"px-6 py-4",children:"Role"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4",children:"LTV"}),a.jsx("th",{className:"px-6 py-4",children:"Risk Score"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:y.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:T.avatar,className:"w-8 h-8 rounded-full"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900",children:T.name}),a.jsx("div",{className:"text-xs text-gray-500",children:T.email})]})]})}),a.jsx("td",{className:"px-6 py-4 capitalize",children:T.role}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase 
                             ${T.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.status})}),a.jsxs("td",{className:"px-6 py-4 font-mono",children:["$",T.ltv]}),a.jsx("td",{className:"px-6 py-4",children:T.riskScore&&T.riskScore>50?a.jsxs("span",{className:"text-red-600 font-bold flex items-center gap-1",children:[a.jsx(Ur,{className:"w-3 h-3"})," ",T.riskScore]}):a.jsx("span",{className:"text-green-600 font-bold",children:T.riskScore||0})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:a.jsx(Po,{className:"w-4 h-4"})})})]},T.id))})]})})]}),S=()=>a.jsx("div",{className:"space-y-6 animate-fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Br,{className:"w-5 h-5 text-gray-500"})," Geo-Pricing Engine (PPP)"]}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Product"}),a.jsx("th",{className:"px-6 py-4",children:"Tier / Region"}),a.jsx("th",{className:"px-6 py-4",children:"Price"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Edit"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 font-bold capitalize",children:T.product.replace("_"," ")}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("span",{className:"bg-blue-50 text-blue-800 px-2 py-1 rounded text-xs font-bold border border-blue-100",children:["Tier ",T.tier]}),a.jsx("span",{className:"text-gray-500 text-xs ml-2",children:T.regionGroup})]}),a.jsx("td",{className:"px-6 py-4",children:u===T.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",className:"w-20 border-gray-300 rounded p-1 text-sm",defaultValue:T.amount,onBlur:N=>h(T.id,parseFloat(N.target.value)),autoFocus:!0}),a.jsx("span",{className:"text-xs font-bold text-gray-500",children:T.currency})]}):a.jsxs("span",{className:"font-mono font-bold text-gray-900",children:[T.amount," ",T.currency]})}),a.jsx("td",{className:"px-6 py-4",children:T.isActive?a.jsx(Ja,{className:"w-4 h-4 text-green-500"}):a.jsx(yn,{className:"w-4 h-4 text-red-500"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>g(T.id),className:"text-blue-600 hover:text-blue-800 font-bold text-xs",children:"Edit"})})]},T.id))})]})]})}),k=()=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm animate-fade-in",children:[a.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:a.jsx("h3",{className:"font-bold text-gray-900",children:"System Audit Log"})}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-white text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Timestamp"}),a.jsx("th",{className:"px-6 py-4",children:"Actor"}),a.jsx("th",{className:"px-6 py-4",children:"Action"}),a.jsx("th",{className:"px-6 py-4",children:"Target"}),a.jsx("th",{className:"px-6 py-4",children:"Details"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l_e.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:T.timestamp}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"font-bold text-gray-900 block",children:T.actorName}),a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:T.actorRole})]}),a.jsx("td",{className:"px-6 py-4 font-medium text-blue-700",children:T.action}),a.jsxs("td",{className:"px-6 py-4 text-gray-600",children:[T.targetResource," / ",T.targetId]}),a.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:JSON.stringify(T.changes||T.metadata)})]},T.id))})]})]}),C=()=>a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-xl",children:"Truth Snippets (RAG Source)"}),a.jsx("button",{className:"bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800",children:"+ New Snippet"})]}),a.jsx("div",{className:"grid gap-4",children:d.map(T=>a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold uppercase",children:T.pillar}),a.jsx("span",{className:"bg-red-50 text-red-700 px-2 py-1 rounded text-xs font-bold uppercase",children:T.band}),a.jsx("span",{className:"text-xs text-gray-400 font-mono",children:T.textKey})]}),a.jsx("button",{className:"text-gray-400 hover:text-black",children:a.jsx(mR,{className:"w-4 h-4"})})]}),a.jsxs("p",{className:"text-gray-800 text-sm leading-relaxed font-medium",children:['"',T.content,'"']}),a.jsxs("div",{className:"mt-4 text-xs text-gray-400 border-t border-gray-100 pt-2",children:["Last updated: ",T.lastUpdated]})]},T.id))})]});return a.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto min-h-full font-sans text-slate-900",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Console"}),a.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-[10px] font-bold uppercase tracking-wider rounded",children:"Super Admin"})]}),a.jsx("p",{className:"text-gray-500",children:"Manage users, pricing, and system integrity."})]}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{id:"users",label:"Users",icon:Da},{id:"pricing",label:"Pricing",icon:Do},{id:"cms",label:"Content",icon:VU},{id:"audit",label:"Audit Log",icon:_q}].map(T=>a.jsxs("button",{onClick:()=>i(T.id),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 transition-all ${t===T.id?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(T.icon,{className:"w-4 h-4"}),T.label]},T.id))})]}),a.jsxs("div",{className:"animate-fade-in",children:[t==="users"&&a.jsx(v,{}),t==="pricing"&&a.jsx(S,{}),t==="cms"&&a.jsx(C,{}),t==="audit"&&a.jsx(k,{})]})]})},d_e=({user:e})=>{const[t,i]=A.useState("overview"),[n,r]=A.useState(e.adWalletBalance||201),[s,l]=A.useState([{id:"c1",advertiserId:e.id,type:"consultant_promo",objective:"clicks",status:"active",placements:["marketplace_listing"],budget:{type:"daily_cap",daily:50,total:500,spent:120,currency:"USD"},targeting:{locations:["New York, NY"],tags:["Finance","SaaS"],languages:["English"],contextualOnly:!1},creative:{headline:"Fractional CFO Services",body:"Scale your finance operations without the headcount.",imageUrl:"https://picsum.photos/400/200?random=101",ctaText:"Book Audit",landingUrl:"#"},metrics:{impressions:4500,clicks:180,conversions:5,ctr:4}},{id:"c2",advertiserId:e.id,type:"company_ad",objective:"leads",status:"paused",placements:["newsletter_slot"],budget:{type:"fixed_slot",daily:0,total:299,spent:299,currency:"USD"},targeting:{locations:["Global"],tags:["AI","Engineering"],languages:["English"],contextualOnly:!0},creative:{headline:"AI Implementation Playbook",body:"Download the definitive guide to enterprise LLMs.",imageUrl:"https://picsum.photos/400/200?random=102",ctaText:"Download",landingUrl:"#"},metrics:{impressions:12e3,clicks:320,conversions:45,ctr:2.6}}]),[d,p]=A.useState([{id:"tx_1",date:"Oct 24, 2024",description:"Wallet Top-up",amount:500,type:"credit",status:"paid",method:"card"},{id:"tx_2",date:"Oct 20, 2024",description:"Campaign: AI Playbook (Fixed Slot)",amount:299,type:"debit",status:"paid",method:"wallet"},{id:"tx_3",date:"Oct 18, 2024",description:"Campaign: Fractional CFO (Daily Spend)",amount:120,type:"debit",status:"paid",method:"wallet"}]),u=[{date:"Mon",clicks:45,spend:22},{date:"Tue",clicks:52,spend:28},{date:"Wed",clicks:38,spend:19},{date:"Thu",clicks:65,spend:35},{date:"Fri",clicks:80,spend:45},{date:"Sat",clicks:40,spend:20},{date:"Sun",clicks:35,spend:18}],[g,h]=A.useState(1),[y,v]=A.useState(!1),[S,k]=A.useState(!1),[C,T]=A.useState(100),[N,E]=A.useState({budget:{type:"daily_cap",daily:20,total:200,spent:0,currency:"USD"},targeting:{locations:[],tags:[],languages:["English"],contextualOnly:!0},creative:{headline:"",body:"",imageUrl:"",ctaText:"Learn More",landingUrl:""},placements:[]}),[O,P]=A.useState(!1),I=e.role==="enterprise_admin",D=async()=>{var X,se,K,z;if(!((X=N.creative)!=null&&X.headline)){alert("Please enter a headline first to guide the image generation.");return}P(!0);try{const Q=await Vs({promptForKey:!0});if(!Q){alert("AI key not configured. Please select a key and try again.");return}const de=await Q.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:`Create a professional, high-quality advertisement image for a business campaign. 
              Headline: "${N.creative.headline}". 
              Description: "${N.creative.body||""}". 
              Context: Corporate, trustworthy, clean design.`}]}});let F="";if((z=(K=(se=de.candidates)==null?void 0:se[0])==null?void 0:K.content)!=null&&z.parts){for(const j of de.candidates[0].content.parts)if(j.inlineData){F=`data:image/png;base64,${j.inlineData.data}`;break}}F?E({...N,creative:{...N.creative,imageUrl:F}}):alert("AI generated a response but no image data was found. Please try again.")}catch(Q){console.error("Nano Banana Gen Error:",Q),alert("Failed to generate image. Please verify API key and try again.")}finally{P(!1)}},B=()=>{var K,z,Q;const X=((K=N.budget)==null?void 0:K.type)==="fixed_slot"?N.budget.total:(z=N.budget)==null?void 0:z.daily;if(n<(X||0)){alert("Insufficient funds. Please top up your wallet to launch this campaign."),i("billing"),v(!0);return}if(((Q=N.budget)==null?void 0:Q.type)==="fixed_slot"){const de=N.budget.total;r(F=>F-de),p(F=>{var j;return[{id:`tx_${Date.now()}`,date:new Date().toLocaleDateString(),description:`Campaign: ${(j=N.creative)==null?void 0:j.headline} (Fixed Slot)`,amount:de,type:"debit",status:"paid",method:"wallet"},...F]})}const se={id:`c_${Date.now()}`,advertiserId:e.id,type:I?"company_ad":"consultant_promo",objective:N.objective||"clicks",status:"active",placements:N.placements||[],budget:N.budget,targeting:N.targeting,creative:N.creative,metrics:{impressions:0,clicks:0,conversions:0,ctr:0}};l([se,...s]),i("campaigns"),h(1)},V=X=>{k(!0),setTimeout(()=>{r(K=>K+C);const se={id:`tx_${Date.now()}`,date:new Date().toLocaleDateString(),description:"Wallet Top-up",amount:C,type:"credit",status:"paid",method:X};p([se,...d]),k(!1),v(!1)},1500)},U=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Available Balance"}),a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:["$",n.toFixed(2)]}),a.jsxs("button",{onClick:()=>v(!0),className:"text-xs text-brand-600 mt-1 font-bold hover:underline flex items-center",children:[a.jsx(nc,{className:"w-3 h-3 mr-1"})," Add Funds"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Impressions"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:"16.5k"}),a.jsx("p",{className:"text-xs text-green-600 mt-1 font-bold",children:"+12% vs prev"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Clicks"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:"500"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Avg CPC: $1.14"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Conversions"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:"50"}),a.jsx("p",{className:"text-xs text-green-600 mt-1 font-bold",children:"10% Conv. Rate"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Performance Trends"}),a.jsxs("select",{className:"text-xs border-gray-300 rounded-lg p-1 bg-white",children:[a.jsx("option",{children:"Last 7 Days"}),a.jsx("option",{children:"Last 30 Days"})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(np,{width:"100%",height:"100%",children:a.jsxs(Lae,{data:u,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#000000",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#000000",stopOpacity:0})]})}),a.jsx(G3,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),a.jsx(sK,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dy:10}),a.jsx(oK,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),a.jsx(s3,{}),a.jsx(aK,{type:"monotone",dataKey:"clicks",stroke:"#000000",strokeWidth:2,fillOpacity:1,fill:"url(#colorClicks)"})]})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-brand-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Create New Campaign"}),a.jsx("p",{className:"text-gray-200 text-xs mb-6",children:I?"Promote your brand, events, or open roles.":"Reach high-intent learners and scale your practice."}),a.jsxs("button",{onClick:()=>i("create"),className:"bg-white text-brand-600 px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-100 flex items-center gap-2",children:[a.jsx(nc,{className:"w-4 h-4"})," Start Wizard"]})]}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-8 -mt-8 pointer-events-none"})]}),n<50&&a.jsxs("div",{className:"bg-red-50 border border-red-100 p-4 rounded-xl",children:[a.jsxs("h4",{className:"font-bold text-red-900 text-sm flex items-center gap-2 mb-2",children:[a.jsx(pc,{className:"w-4 h-4"})," Low Balance Warning"]}),a.jsx("p",{className:"text-xs text-red-800 leading-relaxed",children:"Your ad wallet is running low. Campaigns may pause soon. Top up to ensure uninterrupted delivery."}),a.jsx("button",{onClick:()=>v(!0),className:"mt-3 text-xs bg-red-600 text-white px-3 py-1.5 rounded font-bold hover:bg-red-700",children:"Add Funds"})]})]})]})]}),W=()=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm animate-fade-in",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"All Campaigns"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ka,{className:"w-4 h-4 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-brand-600 focus:border-brand-600"})]}),a.jsx("button",{className:"bg-white border border-gray-300 px-3 py-2 rounded-lg text-gray-600 hover:text-black",children:a.jsx(Zu,{className:"w-4 h-4"})})]})]}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-white text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Campaign Name"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4",children:"Placement"}),a.jsx("th",{className:"px-6 py-4",children:"Budget / Spend"}),a.jsx("th",{className:"px-6 py-4",children:"Results"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(X=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-bold text-gray-900",children:X.creative.headline}),a.jsxs("div",{className:"text-xs text-gray-500 capitalize flex items-center gap-1",children:[a.jsx(Ks,{className:"w-3 h-3"})," ",X.objective.replace("_"," ")]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide
                          ${X.status==="active"?"bg-green-100 text-green-800":X.status==="pending_payment"?"bg-amber-100 text-amber-800":X.status==="insufficient_funds"?"bg-red-100 text-red-800":X.status==="in_review"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:X.status.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-xs font-medium bg-gray-100 px-2 py-1 rounded text-gray-600",children:X.placements[0]?X.placements[0].replace("_"," "):"Multiple"})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"text-gray-900 font-bold",children:["$",X.budget.spent," ",a.jsxs("span",{className:"text-gray-400 font-normal text-xs",children:["/ $",X.budget.total]})]}),X.budget.type==="daily_cap"&&a.jsx("div",{className:"w-24 bg-gray-200 h-1 rounded-full mt-1 overflow-hidden",children:a.jsx("div",{className:"bg-brand-600 h-full",style:{width:`${X.budget.spent/X.budget.total*100}%`}})})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"block font-bold text-gray-900",children:X.metrics.impressions.toLocaleString()}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Impr"})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"block font-bold text-green-600",children:[X.metrics.ctr,"%"]}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"CTR"})]})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{className:"text-gray-400 hover:text-black p-2 hover:bg-gray-100 rounded-full",children:a.jsx(Po,{className:"w-5 h-5"})})})]},X.id))})]})]}),q=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ad Wallet & Billing"}),a.jsx("button",{onClick:()=>v(!0),className:"bg-brand-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-brand-700",children:"Add Funds"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(_R,{className:"w-5 h-5"})," Prepaid Wallet"]}),a.jsxs("div",{className:"text-center py-4",children:[a.jsxs("h2",{className:"text-5xl font-extrabold text-gray-900 mb-2",children:["$",n.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Available Credits"})]})]}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-xs text-gray-600 mt-4",children:"Your campaigns will automatically pause if this balance reaches $0. Top up to ensure continuous delivery."})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5"})," Payment Methods"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-6 bg-gray-800 rounded"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Visa ending in 4242"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Expires 12/25"})]})]}),a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"Default"})]}),a.jsx("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg opacity-60",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-6 bg-blue-100 rounded flex items-center justify-center text-[10px] font-bold text-blue-800",children:"PP"}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"PayPal (sarah@...)"})})]})})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[a.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:a.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Transaction Ledger"})}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-white text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Date"}),a.jsx("th",{className:"px-6 py-4",children:"Description"}),a.jsx("th",{className:"px-6 py-4",children:"Type"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:d.map(X=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-gray-500",children:X.date}),a.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:X.description}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase
                             ${X.type==="credit"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:X.type})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold bg-gray-50 text-gray-500 border border-gray-200 uppercase",children:X.status})}),a.jsxs("td",{className:`px-6 py-4 text-right font-bold ${X.type==="credit"?"text-green-600":"text-gray-900"}`,children:[X.type==="credit"?"+":"-","$",X.amount.toFixed(2)]})]},X.id))})]})]})]}),pe=()=>{var X,se,K,z,Q,de,F,j,Z,R,fe,je,le,ae,ee,$,Be,Fe,ce,H,Ve,Xe,_t,At,Gt,pn,ka,Ua,Ke;return a.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8 px-4",children:[[{id:1,label:"Objective"},{id:2,label:"Targeting"},{id:3,label:"Placements"},{id:4,label:"Creative"},{id:5,label:"Budget"},{id:6,label:"Review"}].map(Ye=>a.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-colors border-2
                    ${g>=Ye.id?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-400 border-gray-200"}`,children:g>Ye.id?a.jsx(He,{className:"w-5 h-5"}):Ye.id}),a.jsx("span",{className:`text-[10px] sm:text-xs mt-2 font-medium ${g>=Ye.id?"text-brand-600":"text-gray-400"}`,children:Ye.label})]},Ye.id)),a.jsx("div",{className:"absolute left-0 right-0 top-4 h-0.5 bg-gray-200 -z-0 mx-12 hidden sm:block"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden min-h-[400px] flex flex-col",children:[a.jsxs("div",{className:"p-8 flex-1",children:[g===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Step 1: Campaign Objective"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{onClick:()=>E({...N,objective:"clicks"}),className:`cursor-pointer p-6 rounded-xl border-2 transition-all hover:shadow-md
                             ${N.objective==="clicks"?"border-brand-600 bg-brand-50 ring-1 ring-brand-600":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"mb-4 text-gray-900",children:a.jsx(Xq,{className:"w-8 h-8"})}),a.jsx("h4",{className:"font-bold text-lg capitalize",children:"Traffic"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Drive visitors to your profile or site."})]}),a.jsxs("div",{onClick:()=>E({...N,objective:"leads"}),className:`cursor-pointer p-6 rounded-xl border-2 transition-all hover:shadow-md
                             ${N.objective==="leads"?"border-brand-600 bg-brand-50 ring-1 ring-brand-600":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"mb-4 text-gray-900",children:a.jsx(Ks,{className:"w-8 h-8"})}),a.jsx("h4",{className:"font-bold text-lg capitalize",children:"Leads"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Capture emails via resource downloads."})]}),I?a.jsxs("div",{onClick:()=>E({...N,objective:"hiring"}),className:`cursor-pointer p-6 rounded-xl border-2 transition-all hover:shadow-md
                                ${N.objective==="hiring"?"border-brand-600 bg-brand-50 ring-1 ring-brand-600":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"mb-4 text-gray-900",children:a.jsx(Lh,{className:"w-8 h-8"})}),a.jsx("h4",{className:"font-bold text-lg capitalize",children:"Hiring"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Promote open roles to skilled talent."})]}):a.jsxs("div",{onClick:()=>E({...N,objective:"bookings"}),className:`cursor-pointer p-6 rounded-xl border-2 transition-all hover:shadow-md
                                ${N.objective==="bookings"?"border-brand-600 bg-brand-50 ring-1 ring-brand-600":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"mb-4 text-gray-900",children:a.jsx(kc,{className:"w-8 h-8"})}),a.jsx("h4",{className:"font-bold text-lg capitalize",children:"Bookings"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Get paid session bookings."})]})]})]}),g===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Step 2: Privacy-Safe Targeting"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Location (Coarse)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dr,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"e.g. New York, London, Remote",className:"w-full pl-10 border-gray-300 rounded-lg p-2.5 text-sm",onBlur:Ye=>{Ye.target.value&&E({...N,targeting:{...N.targeting,locations:[Ye.target.value]}})}})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We target by City/Region only. No precise GPS."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Language"}),a.jsxs("div",{className:"relative",children:[a.jsx(Br,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),a.jsxs("select",{className:"w-full pl-10 border-gray-300 rounded-lg p-2.5 text-sm bg-white",onChange:Ye=>E({...N,targeting:{...N.targeting,languages:[Ye.target.value]}}),children:[a.jsx("option",{value:"English",children:"English"}),a.jsx("option",{value:"Spanish",children:"Spanish"}),a.jsx("option",{value:"Mandarin",children:"Mandarin"}),a.jsx("option",{value:"French",children:"French"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Contextual Categories"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Finance","SaaS","AI","Leadership","Sales","Product","Engineering"].map(Ye=>{var Ze,at;return a.jsxs("button",{onClick:()=>{var Qe;const ue=((Qe=N.targeting)==null?void 0:Qe.tags)||[],ve=ue.includes(Ye)?ue.filter(st=>st!==Ye):[...ue,Ye];E({...N,targeting:{...N.targeting,tags:ve}})},className:`px-3 py-1.5 rounded-full text-xs font-bold border transition-colors flex items-center gap-1
                                   ${(at=(Ze=N.targeting)==null?void 0:Ze.tags)!=null&&at.includes(Ye)?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Iz,{className:"w-3 h-3"})," ",Ye]},Ye)})})]})]}),g===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Step 3: Select Placements"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"marketplace_listing",label:"Marketplace Listing",icon:Cu,desc:"Sponsored tile in search results."},{id:"homepage_featured",label:"Homepage Featured",icon:Ks,desc:"High visibility carousel slot."},{id:"newsletter_slot",label:"Newsletter Sponsor",icon:Ds,desc:"Top placement in daily digest."},{id:"resource_library",label:"Resource Library",icon:ln,desc:"Promoted download tile."}].map(Ye=>{var Ze,at;return a.jsxs("div",{onClick:()=>{const ue=N.placements||[],ve=ue.includes(Ye.id)?ue.filter(Qe=>Qe!==Ye.id):[...ue,Ye.id];E({...N,placements:ve})},className:`cursor-pointer p-4 rounded-xl border-2 flex items-start gap-4 transition-all
                                 ${(Ze=N.placements)!=null&&Ze.includes(Ye.id)?"border-brand-600 bg-brand-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"p-2 bg-white rounded-lg border border-gray-200 shadow-sm",children:a.jsx(Ye.icon,{className:"w-6 h-6 text-gray-700"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-bold text-gray-900",children:Ye.label}),((at=N.placements)==null?void 0:at.includes(Ye.id))&&a.jsx(He,{className:"w-4 h-4 text-brand-600"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Ye.desc})]})]},Ye.id)})})]}),g===4&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Step 4: Design Creative"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Headline (Max 40 chars)"}),a.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-lg p-2 text-sm",placeholder:N.objective==="hiring"?"We're Hiring: Senior PM":"e.g. Master SaaS Metrics",value:(X=N.creative)==null?void 0:X.headline,onChange:Ye=>E({...N,creative:{...N.creative,headline:Ye.target.value}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Body Text (Max 90 chars)"}),a.jsx("textarea",{className:"w-full border-gray-300 rounded-lg p-2 text-sm h-20 resize-none",placeholder:N.objective==="hiring"?"Join our growth team. Remote friendly.":"Describe your offer...",value:(se=N.creative)==null?void 0:se.body,onChange:Ye=>E({...N,creative:{...N.creative,body:Ye.target.value}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Ad Image"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"flex-1 border-gray-300 rounded-lg p-2 text-sm",placeholder:"Image URL or Generate",value:((K=N.creative)==null?void 0:K.imageUrl)||"",onChange:Ye=>E({...N,creative:{...N.creative,imageUrl:Ye.target.value}})}),a.jsxs("button",{onClick:D,disabled:O||!((z=N.creative)!=null&&z.headline),className:"bg-purple-100 text-purple-700 px-3 py-2 rounded-lg text-xs font-bold hover:bg-purple-200 flex items-center gap-1 disabled:opacity-50",children:[O?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):a.jsx(Or,{className:"w-4 h-4"}),"Nano Gen"]})]}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Powered by Gemini Nano Banana (Flash Image)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Call to Action"}),a.jsxs("select",{className:"w-full border-gray-300 rounded-lg p-2 text-sm",value:(Q=N.creative)==null?void 0:Q.ctaText,onChange:Ye=>E({...N,creative:{...N.creative,ctaText:Ye.target.value}}),children:[a.jsx("option",{children:"Learn More"}),a.jsx("option",{children:"Book Now"}),a.jsx("option",{children:"Download"}),a.jsx("option",{children:"Sign Up"}),I&&a.jsx("option",{children:"Apply Now"}),I&&a.jsx("option",{children:"Register"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Ad Preview"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm max-w-sm",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex-shrink-0 overflow-hidden",children:(de=N.creative)!=null&&de.imageUrl?a.jsx("img",{src:N.creative.imageUrl,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400 text-xs",children:N.objective==="hiring"?"JOBS":a.jsx(Cg,{className:"w-6 h-6"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-bold text-sm text-gray-900 leading-tight",children:((F=N.creative)==null?void 0:F.headline)||"Your Headline"}),a.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 rounded font-medium",children:"Sponsored"})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 mb-2",children:((j=N.creative)==null?void 0:j.body)||"Your body text goes here."}),a.jsxs("button",{className:"text-xs font-bold text-brand-600 hover:underline",children:[((Z=N.creative)==null?void 0:Z.ctaText)||"Learn More"," "]})]})]})})]})]})]}),g===5&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Step 5: Budget & Schedule"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{onClick:()=>E({...N,budget:{...N.budget,type:"daily_cap"}}),className:`cursor-pointer p-4 rounded-xl border-2 transition-all ${((R=N.budget)==null?void 0:R.type)==="daily_cap"?"border-brand-600 bg-brand-50":"border-gray-200"}`,children:[a.jsx("h4",{className:"font-bold text-gray-900",children:"Daily Cap (CPC/CPM)"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Run continuously. Deduced daily from wallet."})]}),a.jsxs("div",{onClick:()=>E({...N,budget:{...N.budget,type:"fixed_slot"}}),className:`cursor-pointer p-4 rounded-xl border-2 transition-all ${((fe=N.budget)==null?void 0:fe.type)==="fixed_slot"?"border-brand-600 bg-brand-50":"border-gray-200"}`,children:[a.jsx("h4",{className:"font-bold text-gray-900",children:"Fixed Slot (7 Days)"}),a.jsx("p",{className:"text-xs text-gray-500",children:"One-time deduction. 1 week visibility."})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("label",{className:"font-bold text-gray-900",children:((je=N.budget)==null?void 0:je.type)==="daily_cap"?"Daily Limit":"Total Price"}),a.jsxs("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg px-3 py-1",children:[a.jsx("span",{className:"text-gray-500 mr-1",children:"$"}),a.jsx("input",{type:"number",className:"w-20 text-right outline-none font-bold",value:((le=N.budget)==null?void 0:le.type)==="daily_cap"?(ae=N.budget)==null?void 0:ae.daily:(ee=N.budget)==null?void 0:ee.total,onChange:Ye=>{var at;const Ze=parseInt(Ye.target.value);((at=N.budget)==null?void 0:at.type)==="daily_cap"?E({...N,budget:{...N.budget,daily:Ze,total:Ze*30}}):E({...N,budget:{...N.budget,total:Ze,daily:0}})}})]})]}),a.jsx("input",{type:"range",min:"10",max:"500",step:"10",value:(($=N.budget)==null?void 0:$.type)==="daily_cap"?(Be=N.budget)==null?void 0:Be.daily:(Fe=N.budget)==null?void 0:Fe.total,onChange:Ye=>{var at;const Ze=parseInt(Ye.target.value);((at=N.budget)==null?void 0:at.type)==="daily_cap"?E({...N,budget:{...N.budget,daily:Ze,total:Ze*30}}):E({...N,budget:{...N.budget,total:Ze,daily:0}})},className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-black"})]})]}),g===6&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Step 6: Review & Launch"}),a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Objective"}),a.jsx("span",{className:"font-bold capitalize",children:(ce=N.objective)==null?void 0:ce.replace("_"," ")})]}),a.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Placements"}),a.jsxs("span",{className:"font-bold",children:[(H=N.placements)==null?void 0:H.length," Selected"]})]}),a.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Targeting"}),a.jsxs("span",{className:"font-bold",children:[(Ve=N.targeting)==null?void 0:Ve.tags.join(", ")," in ",(Xe=N.targeting)==null?void 0:Xe.locations.join(", ")]})]}),a.jsxs("div",{className:"flex justify-between items-center text-lg",children:[a.jsx("span",{className:"font-bold text-gray-900",children:((_t=N.budget)==null?void 0:_t.type)==="fixed_slot"?"Total Deduction":"Daily Spend Cap"}),a.jsxs("span",{className:"font-extrabold text-brand-600",children:["$",((At=N.budget)==null?void 0:At.type)==="fixed_slot"?N.budget.total:(Gt=N.budget)==null?void 0:Gt.daily]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-xl shadow-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"Wallet Balance"}),a.jsxs("p",{className:`text-xl font-bold ${n<(((pn=N.budget)==null?void 0:pn.type)==="fixed_slot"?N.budget.total:((ka=N.budget)==null?void 0:ka.daily)||0)?"text-red-600":"text-gray-900"}`,children:["$",n.toFixed(2)]})]}),n<(((Ua=N.budget)==null?void 0:Ua.type)==="fixed_slot"?N.budget.total:((Ke=N.budget)==null?void 0:Ke.daily)||0)&&a.jsx("button",{onClick:()=>v(!0),className:"text-xs bg-red-600 text-white px-3 py-1.5 rounded font-bold hover:bg-red-700",children:"Insufficient Funds - Top Up"})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:[a.jsx(pc,{className:"w-5 h-5 text-yellow-700 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-yellow-800",children:"Your campaign will be active immediately. Funds are deducted from your wallet based on the chosen budget model."})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-between items-center",children:[g>1?a.jsxs("button",{onClick:()=>h(g-1),className:"text-gray-600 font-bold text-sm hover:text-black flex items-center gap-1",children:[a.jsx(Ir,{className:"w-4 h-4"})," Back"]}):a.jsx("div",{}),a.jsxs("button",{onClick:g===6?B:()=>h(g+1),className:"bg-brand-600 text-white px-6 py-2.5 rounded-lg text-sm font-bold hover:bg-brand-700 flex items-center gap-2",children:[g===6?"Launch Campaign":"Continue",g<6&&a.jsx(ic,{className:"w-4 h-4"})]})]})]})]})};return a.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-full",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ad Console"}),I&&a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-[10px] font-bold uppercase tracking-wider rounded border border-blue-200",children:"Enterprise"}),!I&&a.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-800 text-[10px] font-bold uppercase tracking-wider rounded border border-brand-200",children:"Self Serve"})]}),a.jsx("p",{className:"text-gray-500",children:"Reach motivated learners with targeted placements."})]}),a.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[["overview","campaigns","billing"].map(X=>a.jsx("button",{onClick:()=>i(X),className:`px-4 py-2 rounded-md text-sm font-medium capitalize transition-all ${t===X?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:X},X)),a.jsx("button",{onClick:()=>i("create"),className:`px-4 py-2 rounded-md text-sm font-medium capitalize transition-all ${t==="create"?"bg-brand-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"+ Create"})]})]}),a.jsxs("div",{className:"animate-fade-in",children:[t==="overview"&&a.jsx(U,{}),t==="campaigns"&&a.jsx(W,{}),t==="billing"&&a.jsx(q,{}),t==="create"&&a.jsx(pe,{})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in zoom-in-95 duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Add Funds to Wallet"}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-black",children:a.jsx(yn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Select Amount"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[50,100,500].map(X=>a.jsxs("button",{onClick:()=>T(X),className:`py-2 rounded-lg text-sm font-bold border transition-colors ${C===X?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"}`,children:["$",X]},X))}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",value:C,onChange:X=>T(parseInt(X.target.value)),className:"w-full pl-6 border-gray-300 rounded-lg p-2 text-sm focus:ring-brand-600 focus:border-brand-600"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>V("card"),disabled:S,className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:border-black hover:bg-gray-50 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Do,{className:"w-6 h-6 text-gray-600 group-hover:text-black"}),a.jsx("span",{className:"font-bold text-gray-700 group-hover:text-black",children:"Pay with Card"})]}),a.jsx(ic,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("button",{onClick:()=>V("paypal"),disabled:S,className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:border-blue-600 hover:bg-blue-50 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-[10px] font-bold",children:"P"}),a.jsx("span",{className:"font-bold text-gray-700 group-hover:text-blue-800",children:"PayPal"})]}),a.jsx(ic,{className:"w-5 h-5 text-gray-400"})]})]}),S&&a.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 gap-2 mt-4 animate-pulse",children:[a.jsx(ya,{className:"w-4 h-4 animate-spin"})," Processing Transaction..."]})]}),a.jsx("div",{className:"p-4 bg-gray-50 text-center border-t border-gray-100",children:a.jsxs("p",{className:"text-xs text-gray-400 flex items-center justify-center gap-1",children:[a.jsx(Rn,{className:"w-3 h-3"})," Secure Payment via Stripe"]})})]})})]})},u_e=({user:e,onExit:t})=>{const[i,n]=A.useState({id:"sess_1",sprintId:"spr_1",partNumber:2,title:"Execution & Review",startsAt:new Date(Date.now()+9e5).toISOString(),endsAt:new Date(Date.now()+63e5).toISOString(),timezone:"UTC",status:"scheduled",meetJoinUrl:"https://meet.google.com/abc-defg-hij"}),[r,s]=A.useState(900),[l,d]=A.useState(1800),[p,u]=A.useState("chat"),[g,h]=A.useState({audio:!1,video:!1,slides:!1}),[y]=A.useState(e.role==="trainer");A.useEffect(()=>{const P=setInterval(()=>{new Date(i.startsAt).getTime()>Date.now()?s(Math.floor((new Date(i.startsAt).getTime()-Date.now())/1e3)):(s(0),i.status!=="live"&&i.status!=="completed"&&i.status!=="canceled"&&d(I=>Math.max(0,I-1)))},1e3);return()=>clearInterval(P)},[i.startsAt,i.status]),A.useEffect(()=>{l===0&&i.status==="scheduled"&&n(P=>({...P,status:"no_show"}))},[l,i.status]);const v=P=>{const I=Math.floor(Math.abs(P)/60),D=Math.abs(P)%60;return`${I}:${D<10?"0":""}${D}`},S=()=>{g.audio&&g.video&&n({...i,status:"live",sessionStartedAt:new Date().toISOString()})},k=()=>{confirm("Are you sure you want to end the session for everyone?")&&n({...i,status:"completed",endedAt:new Date().toISOString()})},C=()=>a.jsxs("div",{className:"bg-gray-900 text-white p-4 flex items-center justify-between border-b border-gray-800",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-lg",children:i.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[a.jsxs("span",{className:"bg-gray-800 px-2 py-0.5 rounded",children:["Part ",i.partNumber]}),a.jsx("span",{children:i.status==="live"?"LIVE":"PRE-FLIGHT"})]})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[i.status==="scheduled"&&a.jsxs("div",{className:"flex items-center gap-4 bg-gray-800 px-4 py-2 rounded-lg border border-gray-700",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider flex items-center justify-end gap-1",children:[a.jsx(Ag,{className:"w-3 h-3"})," Sentinel Active"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Auto-cancel in ",v(l)]})]}),a.jsx("div",{className:"h-8 w-px bg-gray-700"}),a.jsx("button",{onClick:S,disabled:!g.audio||!g.video,className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Start Session"})]}),i.status==="live"&&a.jsx("button",{onClick:k,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded font-bold transition-colors",children:"End Session"})]})]}),T=()=>a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 p-8",children:a.jsxs("div",{className:"bg-white max-w-2xl w-full rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"p-8 text-center border-b border-gray-100",children:[a.jsx("div",{className:"w-16 h-16 bg-black text-white rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ir,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pre-Flight Check"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Verify your setup before going live to avoid strikes."})]}),a.jsxs("div",{className:"p-8 space-y-4",children:[a.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${g.audio?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"checkbox",className:"hidden",checked:g.audio,onChange:()=>h({...g,audio:!g.audio})}),a.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 ${g.audio?"border-green-500 bg-green-500 text-white":"border-gray-300"}`,children:g.audio&&a.jsx(He,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-bold text-gray-900 flex items-center gap-2",children:[a.jsx($q,{className:"w-4 h-4"})," Audio Check"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Confirm your microphone is capturing clear audio."})]})]}),a.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${g.video?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"checkbox",className:"hidden",checked:g.video,onChange:()=>h({...g,video:!g.video})}),a.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 ${g.video?"border-green-500 bg-green-500 text-white":"border-gray-300"}`,children:g.video&&a.jsx(He,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(mx,{className:"w-4 h-4"})," Video Check"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Confirm your camera and lighting are professional."})]})]})]}),a.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200 text-center",children:r>0?a.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["Session starts in ",v(r)]}):a.jsx("p",{className:"text-sm text-green-600 font-bold",children:"Session is ready to start!"})})]})}),N=()=>a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-900 p-8 text-white",children:a.jsxs("div",{className:"text-center max-w-lg",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:a.jsx(Zi,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Waiting for Host"}),a.jsx("p",{className:"text-gray-400 mb-8",children:"The session hasn't started yet. Please wait here. The room will unlock automatically when the trainer begins."}),a.jsxs("div",{className:"inline-flex items-center gap-3 bg-gray-800 px-6 py-3 rounded-lg border border-gray-700",children:[a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-wider font-bold",children:"Scheduled Start"}),a.jsx("span",{className:"font-mono text-lg font-bold",children:new Date(i.startsAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("div",{className:"h-8 w-px bg-gray-600"}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-wider font-bold",children:"Status"}),a.jsx("span",{className:"text-sm font-bold text-amber-400",children:"On Time"})]})]}),a.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2 text-xs text-gray-500",children:[a.jsx(Ur,{className:"w-4 h-4"}),a.jsxs("span",{children:["Protected by Sentinel: If start delayed ",">","30m, auto-refund triggers."]})]})]})}),E=()=>a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 p-8",children:a.jsxs("div",{className:"bg-white max-w-lg w-full rounded-2xl shadow-xl border border-red-200 p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ar,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Session Canceled"}),a.jsx("p",{className:"text-gray-600 mt-2 mb-6",children:"The trainer did not start the session within the 30-minute window. Sentinel has triggered an automatic refund."}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6 text-left",children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-2",children:"Next Steps:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"})," Full refund processed to original payment method."]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"})," Strike issued to trainer."]})]})]}),a.jsx("button",{onClick:t,className:"w-full bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800",children:"Return to Dashboard"})]})}),O=()=>a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 bg-black flex items-center justify-center relative",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx(ir,{className:"w-10 h-10 text-white"})}),a.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"Google Meet Embed"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Simulation: Meet iframe would load here."}),a.jsxs("a",{href:i.meetJoinUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-full font-bold inline-flex items-center gap-2",children:["Open in New Window ",a.jsx(mx,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1 rounded-full text-xs font-mono border border-white/10",children:"LIVE  00:12:45"})]}),a.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[a.jsx("div",{className:"flex border-b border-gray-200",children:["chat","resources","roster"].map(P=>a.jsx("button",{onClick:()=>u(P),className:`flex-1 py-3 text-xs font-bold uppercase tracking-wider border-b-2 transition-colors ${p===P?"border-black text-black":"border-transparent text-gray-400 hover:text-gray-600"}`,children:P},P))}),a.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[p==="chat"&&a.jsxs("div",{className:"flex flex-col h-full justify-end",children:[a.jsx("div",{className:"space-y-4 mb-4",children:a.jsxs("div",{className:"bg-gray-100 p-2 rounded-lg rounded-tl-none self-start max-w-[80%]",children:[a.jsx("p",{className:"text-xs font-bold text-gray-700",children:"Sarah Jenkins"}),a.jsx("p",{className:"text-sm text-gray-900",children:"Welcome everyone! We'll start in 2 mins."})]})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Type a message...",className:"w-full border border-gray-300 rounded-lg pl-3 pr-10 py-2 text-sm focus:ring-black focus:border-black"}),a.jsx("button",{className:"absolute right-2 top-2 text-gray-400 hover:text-black",children:a.jsx(Vo,{className:"w-4 h-4"})})]})]}),p==="resources"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase",children:"Session Materials"}),a.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx(ln,{className:"w-5 h-5 text-indigo-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Workbook.pdf"}),a.jsx("p",{className:"text-xs text-gray-500",children:"3.2 MB"})]})]})]}),p==="roster"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"Participants"}),a.jsx("span",{children:"12/50"})]}),[1,2,3].map(P=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Student ",P]})]},P))]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:a.jsxs("button",{className:"w-full flex items-center justify-center gap-2 text-xs font-bold text-red-600 bg-white border border-red-200 py-2 rounded hover:bg-red-50",children:[a.jsx(ar,{className:"w-3 h-3"})," Report Audio/Video Issue"]})})]})]});return a.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",children:[a.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-black",children:a.jsx(Ir,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold text-gray-900",children:"ExecuStay Live"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[!y&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-full",children:[a.jsx(Ur,{className:"w-3 h-3"}),"Safety Protocol Active"]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-red-600",title:"Leave",children:a.jsx(fR,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:i.status==="no_show"?E():a.jsxs(a.Fragment,{children:[y&&C(),i.status==="scheduled"&&y&&T(),i.status==="scheduled"&&!y&&N(),i.status==="live"&&O(),i.status==="completed"&&a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(He,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Session Completed"}),a.jsx("button",{onClick:t,className:"mt-6 text-brand-600 font-bold hover:underline",children:"Return to Dashboard"})]})})]})})]})},p_e=({onBook:e})=>{const[t,i]=A.useState("All"),[n,r]=A.useState(""),l=[{id:"sess_1",title:"Advanced SaaS Economics - Part 1",instructor:"David Sacks",role:"Partner @ Craft",date:"Oct 30, 2024",time:"10:00 AM PST",duration:"90 min",price:499,category:"Finance",format:"Virtual",seatsLeft:5,image:"https://images.unsplash.com/photo-1611974765270-ca12586343bb?auto=format&fit=crop&q=80&w=400"},{id:"sess_2",title:"AI Implementation Strategy - Kickoff",instructor:"Dr. AI",role:"Chief AI Officer",date:"Nov 02, 2024",time:"1:00 PM EST",duration:"120 min",price:699,category:"Tech",format:"Hybrid",seatsLeft:12,image:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&q=80&w=400"},{id:"sess_3",title:"Supply Chain Resilience Workshop",instructor:"Elena R.",role:"VP Ops @ GlobalLog",date:"Nov 05, 2024",time:"9:00 AM CST",duration:"4 hours",price:1200,category:"Ops",format:"In-Person",seatsLeft:3,location:"Austin, TX",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&q=80&w=400"},{id:"sess_4",title:"High-Stakes Influence",instructor:"Chris Voss",role:"Negotiator",date:"Nov 10, 2024",time:"11:00 AM PST",duration:"60 min",price:299,category:"Leadership",format:"Virtual",seatsLeft:20,image:"https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&q=80&w=400"}].filter(d=>{const p=t==="All"||d.category===t,u=d.title.toLowerCase().includes(n.toLowerCase())||d.instructor.toLowerCase().includes(n.toLowerCase());return p&&u});return a.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 animate-fade-in",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Live Session Schedule"}),a.jsx("p",{className:"text-gray-500 max-w-2xl",children:"Browse upcoming live sprints, workshops, and masterclasses. Secure your seat before cohorts fill up."})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-8",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 no-scrollbar",children:["All","Finance","Tech","Ops","Leadership"].map(d=>a.jsx("button",{onClick:()=>i(d),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors border
                  ${t===d?"bg-black text-white border-black":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:d},d))}),a.jsxs("div",{className:"relative w-full md:w-72",children:[a.jsx(Ka,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search session or instructor...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-black focus:border-black",value:n,onChange:d=>r(d.target.value)})]})]}),a.jsxs("div",{className:"space-y-4",children:[l.map(d=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 flex flex-col md:flex-row gap-6 hover:shadow-md transition-shadow group",children:[a.jsxs("div",{className:"flex-shrink-0 flex flex-row md:flex-col items-center justify-center md:w-24 gap-2 md:gap-0 border-b md:border-b-0 md:border-r border-gray-100 pb-4 md:pb-0 md:pr-6",children:[a.jsx("span",{className:"text-sm font-bold text-red-600 uppercase tracking-wider",children:d.date.split(" ")[0]}),a.jsx("span",{className:"text-2xl font-extrabold text-gray-900",children:d.date.split(" ")[1].replace(",","")}),a.jsx("span",{className:"text-xs text-gray-500",children:d.date.split(" ")[2]})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wide
                        ${d.format==="Virtual"?"bg-purple-100 text-purple-700":d.format==="In-Person"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:d.format}),a.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(Zi,{className:"w-3 h-3"})," ",d.time,"  ",d.duration]})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-brand-600 transition-colors",children:d.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[a.jsx("img",{src:`https://ui-avatars.com/api/?name=${d.instructor}&background=random`,alt:"",className:"w-6 h-6 rounded-full"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-gray-900",children:d.instructor}),a.jsx("span",{className:"text-gray-500 mx-1",children:""}),a.jsx("span",{className:"text-gray-500 text-xs",children:d.role})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-3 min-w-[140px]",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"block text-xl font-bold text-gray-900",children:["$",d.price]}),a.jsxs("span",{className:"text-xs text-red-600 font-medium",children:[d.seatsLeft," seats left"]})]}),a.jsxs("button",{onClick:()=>e({id:d.id,title:d.title,description:`Live Session on ${d.date}`,price:d.price,type:"session"}),className:"w-full bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:["Book Seat ",a.jsx(on,{className:"w-4 h-4"})]})]})]})})]},d.id)),l.length===0&&a.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border border-gray-200 border-dashed",children:[a.jsx("p",{className:"text-gray-500",children:"No sessions found matching your criteria."}),a.jsx("button",{onClick:()=>{i("All"),r("")},className:"mt-4 text-brand-600 font-bold hover:underline",children:"Clear Filters"})]})]})]})]})},ex=({onLogin:e,initialMode:t="login"})=>{const[i,n]=A.useState(t==="login"),[r,s]=A.useState("student"),[l,d]=A.useState({name:"",email:"",password:"",company:""}),[p,u]=A.useState(""),g=y=>{if(y.preventDefault(),u(""),i&&l.email==="admin@execustay.com"&&l.password==="admin"){e({id:"admin_god",name:"Super Admin",role:"admin",avatar:"https://ui-avatars.com/api/?name=Super+Admin&background=000&color=fff",tier:"elite",status:"approved"});return}if(!l.email||!l.password){u("Please fill in all fields.");return}if(!i&&!l.name){u("Name is required for signup.");return}let v="approved";!i&&r==="trainer"&&(v="pending");const S={id:`user_${Date.now()}`,name:i?"Demo User":l.name,role:i?"student":r,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(i?"Demo User":l.name)}&background=random`,company:l.company||void 0,tier:"free",status:v};i&&(l.email.includes("trainer")?(S.role="trainer",l.email.includes("pending")&&(S.status="pending")):l.email.includes("consultant")?S.role="consultant":l.email.includes("enterprise")&&(S.role="enterprise_admin")),e(S)},h=y=>{const v={id:`user_${y}_${Date.now()}`,name:`${y} User`,role:r,avatar:`https://ui-avatars.com/api/?name=${y}+User&background=random`,tier:"free",status:r==="trainer"&&!i?"pending":"approved"};e(v)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-12 w-12 bg-black rounded-xl flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:"P"})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:i?"Welcome back":"Create your account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i?"Sign in to access your dashboard":"Join the execution marketplace"})]}),i&&a.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-lg flex flex-col gap-2 text-xs text-blue-800",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(pc,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Super Admin:"})," ",a.jsx("code",{children:"admin@execustay.com"})," / ",a.jsx("code",{children:"admin"})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(pc,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Pending Trainer:"})," ",a.jsx("code",{children:"pending_trainer@demo.com"})," / ",a.jsx("code",{children:"any"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>h("Google"),className:"w-full inline-flex justify-center items-center py-2.5 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(MU,{className:"w-5 h-5 text-gray-600 mr-2"}),a.jsx("span",{children:"Google"})]}),a.jsxs("button",{type:"button",onClick:()=>h("Facebook"),className:"w-full inline-flex justify-center items-center py-2.5 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(eq,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("span",{children:"Facebook"})]})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-200"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[!i&&a.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[{id:"student",label:"Student",icon:uq},{id:"trainer",label:"Trainer",icon:Lh},{id:"consultant",label:"Consultant",icon:_x},{id:"enterprise_admin",label:"Company",icon:Yr}].map(y=>a.jsxs("div",{onClick:()=>s(y.id),className:`cursor-pointer border rounded-xl p-3 flex flex-col items-center justify-center transition-all ${r===y.id?"border-black bg-gray-50 ring-1 ring-black":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(y.icon,{className:`w-6 h-6 mb-2 ${r===y.id?"text-black":"text-gray-400"}`}),a.jsx("span",{className:`text-xs font-bold ${r===y.id?"text-black":"text-gray-500"}`,children:y.label})]},y.id))}),a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[!i&&a.jsxs("div",{className:"relative",children:[a.jsx(_x,{className:"absolute top-3.5 left-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",required:!i,className:"appearance-none rounded-none rounded-t-md relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm",placeholder:"Full Name",value:l.name,onChange:y=>d({...l,name:y.target.value})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Tg,{className:"absolute top-3.5 left-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm ${i?"rounded-t-md":""}`,placeholder:"Email address",value:l.email,onChange:y=>d({...l,email:y.target.value})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Rn,{className:"absolute top-3.5 left-3 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"password",required:!0,className:"appearance-none rounded-none rounded-b-md relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm",placeholder:"Password",value:l.password,onChange:y=>d({...l,password:y.target.value})})]})]}),p&&a.jsx("p",{className:"text-red-500 text-sm text-center",children:p}),!i&&r==="trainer"&&a.jsx("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded border border-amber-200",children:"Note: Trainer accounts require admin approval before going live."}),a.jsx("div",{children:a.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black transition-colors",children:[i?"Sign In":"Get Started",a.jsx(ic,{className:"ml-2 w-4 h-4"})]})})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("button",{onClick:()=>{n(!i),u("")},className:"text-sm font-medium text-gray-600 hover:text-black hover:underline",children:i?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},tx=()=>{const[e,t]=A.useState({adPersonalization:!0,activityTracking:!0,publicProfile:!0});return a.jsxs("div",{className:"p-8 max-w-4xl mx-auto animate-fade-in",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your account preferences and privacy."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:[a.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Sc,{className:"w-5 h-5 text-gray-500"})," Privacy & Data"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Control how your data is used for ads and personalization."})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Ad Personalization"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-md",children:"Allow us to use your interests and coarse location (City level) to show relevant ads. If disabled, you will still see ads, but they will be based only on the page context (e.g. Finance ads on Finance pages)."})]}),a.jsx("div",{onClick:()=>t({...e,adPersonalization:!e.adPersonalization}),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors ${e.adPersonalization?"bg-black":"bg-gray-200"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${e.adPersonalization?"translate-x-6":"translate-x-0"}`})})]}),a.jsxs("div",{className:"flex items-start justify-between pt-6 border-t border-gray-100",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Activity Tracking"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-md",children:"Allow us to use your browsing history (courses viewed, downloads) to recommend better content."})]}),a.jsx("div",{onClick:()=>t({...e,activityTracking:!e.activityTracking}),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors ${e.activityTracking?"bg-black":"bg-gray-200"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${e.activityTracking?"translate-x-6":"translate-x-0"}`})})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:a.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Rn,{className:"w-5 h-5 text-gray-500"})," Data Rights"]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Download My Data"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Get a copy of everything we know about you."})]}),a.jsx("button",{className:"text-xs font-bold border border-gray-300 px-3 py-1.5 rounded hover:bg-white",children:"Request Archive"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Delete Account"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Permanently remove your account and data."})]}),a.jsx("button",{className:"text-xs font-bold text-red-600 border border-red-200 px-3 py-1.5 rounded hover:bg-red-50",children:"Delete"})]})]})]})]})]})},f_e=({onRead:e,posts:t,user:i,onCreatePost:n})=>{const[r,s]=A.useState(""),[l,d]=A.useState("All"),p=["All",...Array.from(new Set(t.flatMap(h=>h.tags)))],u=t.filter(h=>{var S;const y=h.title.toLowerCase().includes(r.toLowerCase())||((S=h.subtitle)==null?void 0:S.toLowerCase().includes(r.toLowerCase())),v=l==="All"||h.tags.includes(l);return y&&v}),g=i&&["trainer","consultant","admin","enterprise_admin"].includes(i.role);return a.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-full",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"Executive Insights"}),a.jsx("p",{className:"text-lg text-gray-500",children:"Tactical advice, market analysis, and operating protocols."})]}),g&&n&&a.jsxs("button",{onClick:n,className:"bg-black text-white px-5 py-2.5 rounded-lg text-sm font-bold hover:bg-gray-800 flex items-center gap-2 shadow-sm",children:[a.jsx(mR,{className:"w-4 h-4"})," Write Article"]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 gap-4",children:[a.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 no-scrollbar",children:p.map(h=>a.jsx("button",{onClick:()=>d(h),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors
                ${l===h?"bg-black text-white":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:h},h))}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(Ka,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search articles...",className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-black focus:border-black",value:r,onChange:h=>s(h.target.value)})]})]}),u.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(h=>{var y,v;return a.jsxs("article",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-300 group flex flex-col h-full cursor-pointer",onClick:()=>e(h),children:[a.jsxs("div",{className:"relative h-48 overflow-hidden",children:[a.jsx("img",{src:h.coverImage||`https://picsum.photos/seed/${h.id}/800/400`,alt:h.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),a.jsx("div",{className:"absolute top-4 left-4 flex gap-2",children:h.tags.slice(0,2).map(S=>a.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-black text-xs font-bold px-2 py-1 rounded",children:S},S))})]}),a.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-3 gap-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(kc,{className:"w-3 h-3"})," ",h.publishedAt]}),h.allowRatings&&h.averageRating&&a.jsxs("span",{className:"flex items-center gap-1 text-amber-500 font-bold",children:[a.jsx(Nn,{className:"w-3 h-3 fill-current"})," ",h.averageRating]})]}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-brand-600 transition-colors line-clamp-2",children:h.title}),h.subtitle&&a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.subtitle}),a.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 overflow-hidden",children:(y=h.author)!=null&&y.avatar?a.jsx("img",{src:h.author.avatar,className:"w-full h-full object-cover"}):a.jsx(_x,{className:"w-4 h-4 m-1 text-gray-500"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:((v=h.author)==null?void 0:v.name)||"Unknown"})]}),a.jsxs("span",{className:"text-brand-600 text-xs font-bold flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["Read ",a.jsx(on,{className:"w-3 h-3"})]})]})]})]},h.id)})}):a.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[a.jsx("p",{className:"text-gray-500",children:"No articles found matching your criteria."}),a.jsx("button",{onClick:()=>{s(""),d("All")},className:"mt-4 text-brand-600 font-bold hover:underline",children:"Clear Filters"})]})]})},g_e=({initialData:e,onSubmit:t,onCancel:i,isLoading:n=!1})=>{var y;const[r,s]=A.useState({title:"",subtitle:"",body:"",tags:[],allowComments:!0,allowRatings:!0,coverImage:"",status:"draft",...e}),[l,d]=A.useState(""),p=()=>{const v=["https://images.unsplash.com/photo-1499750310159-52f0f83463dd?auto=format&fit=crop&q=80&w=1000","https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?auto=format&fit=crop&q=80&w=1000","https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=1000","https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&q=80&w=1000"],S=v[Math.floor(Math.random()*v.length)];s(k=>({...k,coverImage:S}))},u=v=>{var S;v.key==="Enter"&&l.trim()&&(v.preventDefault(),(S=r.tags)!=null&&S.includes(l.trim())||s(k=>({...k,tags:[...k.tags||[],l.trim()]})),d(""))},g=v=>{s(S=>{var k;return{...S,tags:(k=S.tags)==null?void 0:k.filter(C=>C!==v)}})},h=v=>{if(v.preventDefault(),!r.title){alert("Title is required");return}const S={id:r.id||`blog_${Date.now()}`,title:r.title,subtitle:r.subtitle,slug:r.slug||r.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),body:r.body,coverImage:r.coverImage,status:"published",publishedAt:r.publishedAt||new Date().toLocaleDateString(),views:r.views||0,conversions:r.conversions||0,tags:r.tags||[],allowComments:r.allowComments,allowRatings:r.allowRatings,author:r.author||{name:"You",role:"Author",avatar:"https://ui-avatars.com/api/?name=You&background=000&color=fff"}};t(S)};return a.jsx("form",{onSubmit:h,className:"space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx("div",{className:"relative group w-full h-64 bg-gray-100 border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center overflow-hidden hover:border-gray-400 transition-colors",children:r.coverImage?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:r.coverImage,alt:"Cover",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsx("button",{type:"button",onClick:p,className:"bg-white text-black px-4 py-2 rounded-lg text-sm font-bold shadow-md hover:bg-gray-50",children:"Change Image"})})]}):a.jsxs("div",{onClick:p,className:"text-center cursor-pointer p-8 w-full h-full flex flex-col items-center justify-center",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm mb-3",children:a.jsx(Cg,{className:"w-6 h-6 text-gray-400"})}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upload Cover Image"}),a.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"1200x600 px recommended"})]})}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",className:"w-full text-2xl font-bold border-gray-300 rounded-lg p-3 focus:ring-black focus:border-black placeholder-gray-300",placeholder:"Enter a catchy headline...",value:r.title,onChange:v=>s({...r,title:v.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),a.jsx("input",{type:"text",className:"w-full text-lg text-gray-600 border-gray-300 rounded-lg p-3 focus:ring-black focus:border-black placeholder-gray-300",placeholder:"A short hook or summary...",value:r.subtitle,onChange:v=>s({...r,subtitle:v.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Body Content"}),a.jsx("textarea",{className:"w-full min-h-[400px] border-gray-300 rounded-lg p-4 text-base focus:ring-black focus:border-black placeholder-gray-300 leading-relaxed",placeholder:"Start writing your masterpiece...",value:r.body,onChange:v=>s({...r,body:v.target.value})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm sticky top-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Publishing"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("button",{type:"submit",disabled:n,className:"w-full flex items-center justify-center gap-2 bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800 disabled:opacity-50 transition-colors",children:[n?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):a.jsx(nk,{className:"w-4 h-4"}),r.status==="published"?"Update Post":"Publish Now"]}),i&&a.jsx("button",{type:"button",onClick:i,className:"w-full py-2 text-sm font-medium text-gray-600 hover:text-gray-900",children:"Cancel"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Lz,{className:"w-4 h-4 text-gray-500"})," Tags"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:(y=r.tags)==null?void 0:y.map(v=>a.jsxs("span",{className:"inline-flex items-center bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs font-bold",children:[v,a.jsx("button",{type:"button",onClick:()=>g(v),className:"ml-1 hover:text-red-500",children:a.jsx(yn,{className:"w-3 h-3"})})]},v))}),a.jsx("input",{type:"text",placeholder:"Type tag & press Enter",className:"w-full border-gray-300 rounded-lg p-2 text-sm focus:ring-black focus:border-black",value:l,onChange:v=>d(v.target.value),onKeyDown:u})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Vo,{className:"w-4 h-4 text-gray-500"})," Engagement"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Allow Comments"}),a.jsx("div",{onClick:()=>s(v=>({...v,allowComments:!v.allowComments})),className:`w-10 h-6 rounded-full p-1 transition-colors ${r.allowComments?"bg-blue-600":"bg-gray-200"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${r.allowComments?"translate-x-4":"translate-x-0"}`})})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable Ratings"}),a.jsx("div",{onClick:()=>s(v=>({...v,allowRatings:!v.allowRatings})),className:`w-10 h-6 rounded-full p-1 transition-colors ${r.allowRatings?"bg-amber-500":"bg-gray-200"}`,children:a.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${r.allowRatings?"translate-x-4":"translate-x-0"}`})})]})]})]})]})]})})},vL=({onBack:e,onPublish:t})=>a.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 px-6 py-4 flex items-center",children:[a.jsxs("button",{onClick:e,className:"flex items-center text-sm font-medium text-gray-600 hover:text-black transition-colors",children:[a.jsx(Ir,{className:"w-4 h-4 mr-1"})," Back to Dashboard"]}),a.jsx("span",{className:"ml-4 text-sm text-gray-300",children:"|"}),a.jsx("h1",{className:"ml-4 text-lg font-bold text-gray-900",children:"New Article"})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx(g_e,{onSubmit:t,onCancel:e})})]}),h_e=({item:e,isOpen:t,onClose:i,onConfirm:n,user:r})=>{var S,k;const[s,l]=A.useState(1),[d,p]=A.useState("card"),[u,g]=A.useState(!1);if(!t)return null;const h=()=>{g(!0),setTimeout(()=>{g(!1),l(3)},1500)},y=()=>{g(!0),setTimeout(()=>{g(!1),l(3)},1e3)},v=e.type==="enterprise"&&(!e.price||e.price===0);return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in zoom-in-95 duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:v?"Enterprise Access":"Secure Checkout"}),a.jsx("button",{onClick:i,className:"text-gray-400 hover:text-black",children:a.jsx(yn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto",children:[s===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:e.type==="subscription"?"Subscription":e.type==="enterprise"?"Team License":"Item"}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-lg text-gray-900",children:e.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.description})]}),a.jsx("div",{className:"text-right",children:v?a.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Custom"}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"font-bold text-xl text-gray-900",children:["$",(S=e.price)==null?void 0:S.toLocaleString()]}),e.recurringInterval&&a.jsxs("span",{className:"text-xs text-gray-500 block",children:["/",e.recurringInterval]})]})})]})]}),v?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-800 border border-blue-100",children:[a.jsxs("h5",{className:"font-bold flex items-center gap-2 mb-2",children:[a.jsx(Yr,{className:"w-4 h-4"})," Why Enterprise?"]}),a.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-xs",children:[a.jsx("li",{children:"Unlimited seat access for your team."}),a.jsx("li",{children:"Dedicated account manager & unified billing."}),a.jsxs("li",{children:[a.jsx("span",{className:"font-bold",children:"30% Revenue Share"})," support for trainers."]}),a.jsx("li",{children:"Custom consultation & training duration packages."})]})]}),a.jsxs("form",{className:"space-y-3",children:[a.jsx("input",{type:"text",placeholder:"Company Name",className:"w-full border-gray-300 rounded-lg p-2.5 text-sm"}),a.jsx("input",{type:"email",placeholder:"Work Email",className:"w-full border-gray-300 rounded-lg p-2.5 text-sm",defaultValue:(r==null?void 0:r.email)||""}),a.jsx("textarea",{placeholder:"Number of seats required?",className:"w-full border-gray-300 rounded-lg p-2.5 text-sm h-20 resize-none"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Select Payment Method"}),a.jsxs("div",{onClick:()=>p("card"),className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all ${d==="card"?"border-black bg-gray-50 ring-1 ring-black":"border-gray-200"}`,children:[a.jsx(Do,{className:"w-5 h-5 text-gray-700"}),a.jsx("span",{className:"text-sm font-medium",children:"Credit / Debit Card"}),d==="card"&&a.jsx(He,{className:"w-4 h-4 ml-auto text-black"})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Card Number",className:"flex-1 border-gray-300 rounded p-2 text-sm"}),a.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-20 border-gray-300 rounded p-2 text-sm"}),a.jsx("input",{type:"text",placeholder:"CVC",className:"w-16 border-gray-300 rounded p-2 text-sm"})]})})]})]}),s===3&&a.jsxs("div",{className:"text-center py-8 space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto animate-bounce-short",children:a.jsx(He,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v?"Request Received":"Payment Successful"}),a.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto",children:v?"Our sales team will contact you within 24 hours to finalize your Enterprise plan.":`You have successfully purchased ${e.title}. A receipt has been sent to your email.`})]})]}),a.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50",children:[s===1?a.jsxs("button",{onClick:v?y:h,disabled:u,className:"w-full bg-black text-white py-3 rounded-xl font-bold hover:bg-gray-800 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[u?"Processing...":v?"Submit Inquiry":`Pay $${(k=e.price)==null?void 0:k.toLocaleString()}`,!u&&!v&&a.jsx(Rn,{className:"w-4 h-4"})]}):a.jsx("button",{onClick:()=>{i(),n()},className:"w-full bg-black text-white py-3 rounded-xl font-bold hover:bg-gray-800",children:v?"Close":"Start Access"}),!v&&s===1&&a.jsxs("p",{className:"text-center text-[10px] text-gray-400 mt-3 flex items-center justify-center gap-1",children:[a.jsx(cn,{className:"w-3 h-3"})," Secure 256-bit SSL Encrypted Payment"]})]})]})})},m_e=({user:e})=>{const[t,i]=A.useState("image"),[n,r]=A.useState([]),[s,l]=A.useState({images:0,videos:0}),p=(()=>{if(["admin","trainer","enterprise_admin","consultant"].includes(e.role))return{images:100,videos:20,label:"Partner Access"};switch(e.tier){case"elite":return{images:30,videos:5,label:"Elite Tier"};case"pro":return{images:10,videos:0,label:"Pro Tier"};default:return{images:0,videos:0,label:"Free Tier"}}})(),[u,g]=A.useState(""),[h,y]=A.useState("Photorealistic"),[v,S]=A.useState(!1),[k,C]=A.useState(null),[T,N]=A.useState(""),[E,O]=A.useState(!1),[P,I]=A.useState(null),[D,B]=A.useState(!1),[V,U]=A.useState(""),[W,q]=A.useState(""),[pe,X]=A.useState([]),[se,K]=A.useState(!1);A.useEffect(()=>{(async()=>{if(window.aistudio){const Z=await window.aistudio.hasSelectedApiKey();B(Z)}})()},[]);const z=async()=>{if(window.aistudio){await window.aistudio.openSelectKey();const j=await window.aistudio.hasSelectedApiKey();B(j)}else alert("Veo API Key selector not available in this environment.")},Q=async()=>{if(s.images>=p.images){alert(`You have reached your monthly limit of ${p.images} images. Upgrade to Elite for more.`);return}if(!u)return;S(!0),C(null);const j=await Jue(u,h);j?(C(j),r(Z=>[{id:Date.now().toString(),type:"image",url:j,prompt:u,createdAt:new Date().toISOString()},...Z]),l(Z=>({...Z,images:Z.images+1}))):alert("Image generation failed."),S(!1)},de=async()=>{if(p.videos===0){alert("Video generation is available on the Elite tier. Please upgrade to access Motion Lab.");return}if(s.videos>=p.videos){alert(`You have reached your monthly limit of ${p.videos} videos.`);return}if(!T)return;O(!0),I(null),!D&&window.aistudio&&await z();const j=await epe(T);j?(I(j),r(Z=>[{id:Date.now().toString(),type:"video",url:j,prompt:T,createdAt:new Date().toISOString()},...Z]),l(Z=>({...Z,videos:Z.videos+1}))):alert("Video generation failed. Ensure you have a paid API key selected for Veo."),O(!1)},F=async()=>{if(!V||!W)return;K(!0);const j=await Zue(V,W);j&&X(j),K(!1)};return a.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans flex flex-col",children:[a.jsxs("div",{className:"border-b border-gray-800 bg-[#0a0a0a] p-4 flex justify-between items-center sticky top-0 z-20",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-2 rounded-lg",children:a.jsx(Or,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-bold text-lg leading-tight",children:"AI Ad Studio"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[a.jsx("span",{className:"text-white font-medium",children:p.label}),a.jsx("span",{children:""}),a.jsxs("span",{className:`${s.images>=p.images?"text-red-500":"text-gray-400"}`,children:["IMG: ",s.images,"/",p.images]}),a.jsx("span",{children:""}),a.jsxs("span",{className:`${s.videos>=p.videos?"text-red-500":"text-gray-400"}`,children:["VID: ",s.videos,"/",p.videos]})]})]})]}),a.jsx("div",{className:"flex bg-gray-900 rounded-lg p-1",children:["image","video","canvas"].map(j=>a.jsxs("button",{onClick:()=>i(j),className:`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${t===j?"bg-gray-800 text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:[j==="image"&&a.jsx(Cg,{className:"w-4 h-4"}),j==="video"&&a.jsx(ir,{className:"w-4 h-4"}),j==="canvas"&&a.jsx(Cu,{className:"w-4 h-4"}),a.jsxs("span",{className:"capitalize",children:[j," Lab"]})]},j))})]}),a.jsxs("div",{className:"flex-1 p-6 max-w-7xl mx-auto w-full",children:[t==="image"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[a.jsxs("h3",{className:"font-bold text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(t6,{className:"w-4 h-4 text-purple-400"})," Prompt Configuration"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Image Description"}),a.jsx("textarea",{className:"w-full bg-black border border-gray-700 rounded-lg p-3 text-sm text-gray-200 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 min-h-[120px]",placeholder:"e.g. A sleek, modern office desk with a laptop displaying financial charts, cinematic lighting, photorealistic...",value:u,onChange:j=>g(j.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Style Preset"}),a.jsxs("select",{className:"w-full bg-black border border-gray-700 rounded-lg p-2 text-sm text-gray-200",value:h,onChange:j=>y(j.target.value),children:[a.jsx("option",{children:"Photorealistic"}),a.jsx("option",{children:"Cinematic"}),a.jsx("option",{children:"Neon / Cyberpunk"}),a.jsx("option",{children:"Corporate Minimalist"}),a.jsx("option",{children:"3D Render"})]})]}),p.images>0?a.jsxs("button",{onClick:Q,disabled:v||!u||s.images>=p.images,className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[v?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):a.jsx(Or,{className:"w-4 h-4"}),s.images>=p.images?"Monthly Limit Reached":"Generate Asset"]}):a.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700 text-center",children:[a.jsx(Rn,{className:"w-6 h-6 text-gray-500 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Upgrade to Pro to generate images."})]}),a.jsxs("p",{className:"text-[10px] text-center text-gray-500",children:[p.images-s.images," credits remaining this month."]})]})]}),a.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-4",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2 font-bold uppercase",children:"Recent Assets"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.filter(j=>j.type==="image").map(j=>a.jsx("img",{src:j.url,className:"w-full h-20 object-cover rounded border border-gray-700 cursor-pointer hover:border-white",onClick:()=>C(j.url||null)},j.id))})]})]}),a.jsx("div",{className:"lg:col-span-2 bg-black border border-gray-800 rounded-xl flex items-center justify-center relative overflow-hidden min-h-[500px]",children:k?a.jsxs("div",{className:"relative w-full h-full flex flex-col",children:[a.jsx("img",{src:k,alt:"Generated",className:"w-full h-full object-contain"}),a.jsx("div",{className:"absolute bottom-4 right-4 flex gap-2",children:a.jsxs("a",{href:k,download:"ad_asset.png",className:"bg-black/80 hover:bg-black text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 border border-gray-700",children:[a.jsx(Fr,{className:"w-4 h-4"})," Download"]})})]}):a.jsxs("div",{className:"text-center text-gray-600",children:[a.jsx(Cg,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),a.jsx("p",{children:"Generated visuals will appear here."})]})})]}),t==="video"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[a.jsx("div",{className:"lg:col-span-1 space-y-6",children:a.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"font-bold text-gray-200 flex items-center gap-2",children:[a.jsx(ir,{className:"w-4 h-4 text-blue-400"})," Motion Config"]}),!D&&a.jsxs("button",{onClick:z,className:"text-[10px] bg-yellow-900 text-yellow-200 px-2 py-1 rounded border border-yellow-700 flex items-center gap-1",children:[a.jsx(Aq,{className:"w-3 h-3"})," Set Key"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Scene Description"}),a.jsx("textarea",{className:"w-full bg-black border border-gray-700 rounded-lg p-3 text-sm text-gray-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 min-h-[120px]",placeholder:"e.g. A neon hologram of a cat driving at top speed, cyberpunk style...",value:T,onChange:j=>N(j.target.value)})]}),a.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-900/50 rounded-lg text-xs text-blue-200",children:[a.jsx("strong",{children:"Powered by Veo:"})," Generates 1080p, 16:9 videos. Requires a paid API key."]}),p.videos>0?a.jsxs("button",{onClick:de,disabled:E||!T||s.videos>=p.videos,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[E?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):a.jsx(ik,{className:"w-4 h-4"}),s.videos>=p.videos?"Monthly Limit Reached":"Generate Video"]}):a.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700 text-center",children:[a.jsx(Rn,{className:"w-6 h-6 text-gray-500 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Upgrade to Elite to unlock Veo Motion Lab."})]}),p.videos>0&&a.jsxs("p",{className:"text-[10px] text-center text-gray-500",children:[p.videos-s.videos," video credits remaining this month."]})]})]})}),a.jsx("div",{className:"lg:col-span-2 bg-black border border-gray-800 rounded-xl flex items-center justify-center relative overflow-hidden min-h-[500px]",children:E?a.jsxs("div",{className:"text-center",children:[a.jsx(Ma,{className:"w-12 h-12 text-blue-500 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Rendering video... This may take a minute."})]}):P?a.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center",children:[a.jsx("video",{controls:!0,className:"max-w-full max-h-full rounded-lg shadow-2xl",src:P}),a.jsx("div",{className:"absolute bottom-4 right-4",children:a.jsxs("a",{href:P,download:"veo_generation.mp4",className:"bg-black/80 hover:bg-black text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 border border-gray-700",children:[a.jsx(Fr,{className:"w-4 h-4"})," Download MP4"]})})]}):a.jsxs("div",{className:"text-center text-gray-600",children:[a.jsx(ir,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),a.jsx("p",{children:"Motion assets will appear here."})]})})]}),t==="canvas"&&a.jsxs("div",{className:"h-full flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"w-full lg:w-1/3 bg-gray-900 border border-gray-800 rounded-xl p-6 flex flex-col",children:[a.jsxs("h3",{className:"font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(Vo,{className:"w-4 h-4 text-green-400"})," Ad Strategy"]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("input",{className:"w-full bg-black border border-gray-700 rounded-lg p-3 text-sm text-white focus:border-green-500",placeholder:"Product Name / Service",value:V,onChange:j=>U(j.target.value)}),a.jsx("textarea",{className:"w-full bg-black border border-gray-700 rounded-lg p-3 text-sm text-white focus:border-green-500 h-24 resize-none",placeholder:"Campaign Goal (e.g. Drive leads for SaaS Webinar)",value:W,onChange:j=>q(j.target.value)}),a.jsx("button",{onClick:F,disabled:se||!V,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2 rounded-lg flex items-center justify-center gap-2",children:se?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):"Generate Copy"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[pe.map((j,Z)=>a.jsxs("div",{className:"bg-black border border-gray-800 p-4 rounded-lg hover:border-gray-600 transition-colors cursor-pointer group relative",children:[a.jsxs("p",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:["Option ",Z+1]}),a.jsx("h4",{className:"font-bold text-white mb-2",children:j.headline}),a.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:j.body}),a.jsx("button",{className:"absolute top-2 right-2 p-1 text-gray-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(nk,{className:"w-4 h-4"})})]},Z)),pe.length===0&&!se&&a.jsx("div",{className:"text-center text-gray-600 mt-12",children:a.jsx("p",{children:"Enter details to generate high-conversion ad copy."})})]})]}),a.jsxs("div",{className:"flex-1 bg-gray-900 border border-gray-800 rounded-xl p-6 flex flex-col",children:[a.jsxs("h3",{className:"font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(Cu,{className:"w-4 h-4 text-blue-400"})," Campaign Assets"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto",children:[n.map(j=>a.jsxs("div",{className:"relative group aspect-square bg-black rounded-lg border border-gray-800 overflow-hidden",children:[j.type==="image"?a.jsx("img",{src:j.url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}):a.jsx("video",{src:j.url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-3",children:[a.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-400",children:j.type}),a.jsx("p",{className:"text-xs text-white line-clamp-1",children:j.prompt})]})]},j.id)),a.jsx("div",{className:"border-2 border-dashed border-gray-800 rounded-lg flex items-center justify-center text-gray-600 hover:text-gray-400 hover:border-gray-600 cursor-pointer transition-colors",onClick:()=>i("image"),children:a.jsxs("div",{className:"text-center",children:[a.jsx(y_e,{className:"w-8 h-8 mx-auto mb-1"}),a.jsx("span",{className:"text-xs font-bold",children:"New Asset"})]})})]})]})]})]})]})},y_e=({className:e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[a.jsx("path",{d:"M5 12h14"}),a.jsx("path",{d:"M12 5v14"})]}),__e=[{id:"ENG_01",pillar:"Engine",title:"Install a single work board",desc:"Centralize all open tasks in one place (Trello/ClickUp/Whiteboard).",effort:"Low",owner:"Ops",metric:"% work visible",driverTags:["WORK_VISIBILITY_GAP"],proofType:"link",delta:"+3"},{id:"ENG_02",pillar:"Engine",title:"Write 3 one-page SOPs",desc:"Document the top 3 recurring workflows to stop reinventing the wheel.",effort:"Med",owner:"Ops/CEO",metric:"Questions/day",driverTags:["SOP_GAP"],proofType:"file",delta:"+5"},{id:"ENG_03",pillar:"Engine",title:"Set approval limits",desc:"Define what staff can decide without you (e.g. <$100, refund <$50).",effort:"Med",owner:"CEO",metric:"Approvals/day",driverTags:["OWNER_BOTTLENECK"],proofType:"file",delta:"+5"},{id:"ENG_04",pillar:"Engine",title:"Build onboarding mini-pack",desc:"Checklist + 3 videos for new hires.",effort:"Med",owner:"HR",metric:"Ramp time",driverTags:["NO_ONBOARDING"],proofType:"file",delta:"+4"},{id:"ENG_05",pillar:"Engine",title:"Standardize packages",desc:"Turn custom services into fixed-scope products.",effort:"High",owner:"Sales",metric:"% standard sales",driverTags:["CUSTOM_WORK_TAX"],proofType:"file",delta:"+6"},{id:"ENG_06",pillar:"Engine",title:"Replace 1 meeting with dashboard",desc:"Cancel a status meeting; use a shared sheet/board.",effort:"Low",owner:"Ops",metric:"Meeting hours",driverTags:["MEETING_THEATER"],proofType:"file",delta:"+3"},{id:"ENG_07",pillar:"Engine",title:"Create handoff checklist",desc:"List exact criteria for work to move from Sales -> Ops.",effort:"Low",owner:"Ops",metric:"Rework rate",driverTags:["HANDOFF_CONFUSION"],proofType:"file",delta:"+3"},{id:"ENG_08",pillar:"Engine",title:"Automate invoicing",desc:"Set up auto-send or recurring invoices.",effort:"Med",owner:"Finance",metric:"Admin hours",driverTags:["MANUAL_ADMIN_DRAG"],proofType:"file",delta:"+4"},{id:"ENG_09",pillar:"Engine",title:"Define quality standard",desc:'One-page "What Good Looks Like" guide.',effort:"Low",owner:"Ops",metric:"QC pass rate",driverTags:["QUALITY_VARIANCE"],proofType:"file",delta:"+3"},{id:"ENG_10",pillar:"Engine",title:"Weekly blocker review",desc:'15-min standup: "What is stuck?"',effort:"Low",owner:"Team",metric:"Blocked tasks",driverTags:["FIRE_FIGHTING_LOOP"],proofType:"text",delta:"+2"},{id:"FUEL_01",pillar:"Fuel",title:"Stop-Work Rule",desc:"Policy: No new work if invoice is >7 days overdue.",effort:"Low",owner:"Finance",metric:"Overdue count",driverTags:["SOFT_COLLECTIONS"],proofType:"file",delta:"+4"},{id:"FUEL_02",pillar:"Fuel",title:"Collections cadence",desc:"Scripts for Day 1, 3, 7 overdue.",effort:"Med",owner:"Finance",metric:"Collection speed",driverTags:["WEAK_COLLECTIONS_PROCESS"],proofType:"file",delta:"+5"},{id:"FUEL_03",pillar:"Fuel",title:"Separate accounts",desc:"Business money in business bank only.",effort:"Med",owner:"CEO",metric:"Audit ready",driverTags:["MIXED_FINANCES"],proofType:"file",delta:"+5"},{id:"FUEL_04",pillar:"Fuel",title:"4-week cash forecast",desc:"Simple sheet: Cash in vs Cash out.",effort:"Med",owner:"Finance",metric:"Forecast accuracy",driverTags:["NO_FORECAST"],proofType:"link",delta:"+4"},{id:"FUEL_05",pillar:"Fuel",title:"Offer profitability check",desc:"Calculate margin for top 3 products.",effort:"Med",owner:"CEO",metric:"Margin %",driverTags:["MARGIN_FOG"],proofType:"file",delta:"+5"},{id:"FUEL_06",pillar:"Fuel",title:"Discount policy",desc:"Rules for when/who can give discounts.",effort:"Low",owner:"Sales",metric:"Discount rate",driverTags:["DISCOUNT_LEAK"],proofType:"file",delta:"+3"},{id:"FUEL_07",pillar:"Fuel",title:"Zombie cost audit",desc:"Review bank statement; cut unused subs.",effort:"Low",owner:"Finance",metric:"Saved $",driverTags:["ZOMBIE_COSTS"],proofType:"file",delta:"+2"},{id:"FUEL_08",pillar:"Fuel",title:"Monthly P&L ritual",desc:"30-min review of Profit & Loss.",effort:"Low",owner:"CEO",metric:"Review done",driverTags:["NO_MONTHLY_REVIEW"],proofType:"text",delta:"+3"},{id:"FUEL_09",pillar:"Fuel",title:"Payment terms upgrade",desc:"Shift new clients to 50% upfront.",effort:"Med",owner:"Sales",metric:"Upfront %",driverTags:["WEAK_TERMS"],proofType:"file",delta:"+4"},{id:"FUEL_10",pillar:"Fuel",title:"Tax set-aside",desc:"Auto-transfer tax % to separate account.",effort:"Low",owner:"Finance",metric:"Tax readiness",driverTags:["TAX_SURPRISE_RISK"],proofType:"file",delta:"+2"},{id:"VOICE_01",pillar:"Voice",title:"10-day follow-up",desc:"Sequence for nurturing leads.",effort:"Med",owner:"Sales",metric:"Conversion %",driverTags:["WEAK_FOLLOWUP"],proofType:"file",delta:"+4"},{id:"VOICE_02",pillar:"Voice",title:"Response time rule",desc:"Reply to leads within 1 hour.",effort:"Low",owner:"Sales",metric:"Response time",driverTags:["SLOW_RESPONSE"],proofType:"file",delta:"+3"},{id:"VOICE_03",pillar:"Voice",title:"Lead tracker",desc:"Central sheet for all potential deals.",effort:"Low",owner:"Sales",metric:"Leads logged",driverTags:["NO_TRACKING"],proofType:"link",delta:"+3"},{id:"VOICE_04",pillar:"Voice",title:"Clarity sentence",desc:"We help X do Y by Z.",effort:"Low",owner:"Marketing",metric:"Bounce rate",driverTags:["UNCLEAR_MESSAGE"],proofType:"text",delta:"+2"},{id:"VOICE_05",pillar:"Voice",title:"Proof asset",desc:"One case study or testimonial PDF.",effort:"Med",owner:"Marketing",metric:"Asset count",driverTags:["LOW_TRUST_PROOF"],proofType:"file",delta:"+4"},{id:"VOICE_06",pillar:"Voice",title:"Referral ask",desc:"Script to ask happy clients for intro.",effort:"Low",owner:"Sales",metric:"Referrals",driverTags:["NO_REFERRAL_SYSTEM"],proofType:"text",delta:"+3"},{id:"VOICE_07",pillar:"Voice",title:"Offer page template",desc:"Standard PDF/Link for quotes.",effort:"Med",owner:"Sales",metric:"Close rate",driverTags:["WEAK_OFFER_PRESENTATION"],proofType:"file",delta:"+3"},{id:"VOICE_08",pillar:"Voice",title:"Retention check-in",desc:"Script for post-purchase check.",effort:"Low",owner:"Success",metric:"Churn rate",driverTags:["NO_ONBOARDING_EXPERIENCE"],proofType:"text",delta:"+2"},{id:"VOICE_09",pillar:"Voice",title:"Channel diversif.",desc:"Test one new lead source.",effort:"Med",owner:"Marketing",metric:"New leads",driverTags:["SINGLE_CHANNEL_RISK"],proofType:"file",delta:"+3"},{id:"VOICE_10",pillar:"Voice",title:"Exit interview",desc:"Ask lost leads why they said no.",effort:"Low",owner:"Sales",metric:"Insight count",driverTags:["UNKNOWN_CHURN_CAUSE"],proofType:"file",delta:"+2"},{id:"BRAIN_01",pillar:"Brain",title:"3 Priorities Board",desc:"Weekly top 3 goals visible to all.",effort:"Med",owner:"CEO",metric:"Goal completion",driverTags:["PRIORITY_CHAOS"],proofType:"file",delta:"+4"},{id:"BRAIN_02",pillar:"Brain",title:"Role scorecards",desc:"Define winning for top 3 roles.",effort:"Med",owner:"HR",metric:"Clarity score",driverTags:["NO_KPI_CLARITY"],proofType:"file",delta:"+4"},{id:"BRAIN_03",pillar:"Brain",title:"Weekly review",desc:"30-min leadership sync.",effort:"Low",owner:"CEO",metric:"Sync done",driverTags:["NO_CADENCE"],proofType:"text",delta:"+2"},{id:"BRAIN_04",pillar:"Brain",title:"Feedback script",desc:"Template for hard conversations.",effort:"Low",owner:"Managers",metric:"Feedback count",driverTags:["FEEDBACK_AVOIDANCE"],proofType:"file",delta:"+2"},{id:"BRAIN_05",pillar:"Brain",title:"Hiring skills test",desc:"Practical task before offer.",effort:"Med",owner:"HR",metric:"Hire quality",driverTags:["WEAK_HIRING"],proofType:"file",delta:"+3"},{id:"BRAIN_06",pillar:"Brain",title:"Outcome delegation",desc:"Assign results, not tasks.",effort:"Med",owner:"CEO",metric:"Owner count",driverTags:["TASK_DELEGATION_ONLY"],proofType:"text",delta:"+3"},{id:"BRAIN_07",pillar:"Brain",title:"JD Cleanup",desc:"Update Job Descriptions to reality.",effort:"Med",owner:"HR",metric:"JD accuracy",driverTags:["ROLE_AMBIGUITY"],proofType:"file",delta:"+3"},{id:"BRAIN_08",pillar:"Brain",title:"Mentor check-in",desc:"Monthly external accountability.",effort:"Low",owner:"CEO",metric:"Meeting done",driverTags:["NO_ACCOUNTABILITY"],proofType:"text",delta:"+2"},{id:"BRAIN_09",pillar:"Brain",title:"Decision log",desc:"Track major decisions made.",effort:"Low",owner:"CEO",metric:"Decisions tracked",driverTags:["ERRATIC_DECISIONS"],proofType:"link",delta:"+2"},{id:"BRAIN_10",pillar:"Brain",title:"Recognition rule",desc:"Reward output, not just hours.",effort:"Low",owner:"HR",metric:"Rewards given",driverTags:["UNFAIR_INCENTIVES"],proofType:"text",delta:"+2"},{id:"PULSE_01",pillar:"Pulse",title:"10 Customer Calls",desc:"Ask: Why did you buy?",effort:"Med",owner:"CEO",metric:"Interviews",driverTags:["NO_FEEDBACK_LOOP"],proofType:"file",delta:"+4"},{id:"PULSE_02",pillar:"Pulse",title:"QC Checklist",desc:"Check before shipping.",effort:"Low",owner:"Ops",metric:"Defect rate",driverTags:["REACTIVE_QC"],proofType:"file",delta:"+3"},{id:"PULSE_03",pillar:"Pulse",title:"Experiment calendar",desc:"Plan 1 test per month.",effort:"Med",owner:"Product",metric:"Tests run",driverTags:["NO_TESTING_RHYTHM"],proofType:"link",delta:"+3"},{id:"PULSE_04",pillar:"Pulse",title:"Competitor review",desc:"Check pricing/offers of top 3.",effort:"Low",owner:"Marketing",metric:"Review done",driverTags:["COMPETITOR_BLINDNESS"],proofType:"file",delta:"+2"},{id:"PULSE_05",pillar:"Pulse",title:"Kill weak offer",desc:"Remove low-margin distraction.",effort:"Med",owner:"CEO",metric:"Simplicity",driverTags:["OFFER_DRAG"],proofType:"text",delta:"+3"},{id:"PULSE_06",pillar:"Pulse",title:"Value Ladder",desc:"Entry -> Core -> Premium.",effort:"Med",owner:"Sales",metric:"LTV",driverTags:["WEAK_POSITIONING"],proofType:"file",delta:"+4"},{id:"PULSE_07",pillar:"Pulse",title:"Diversify product",desc:"Reduce dependency on one item.",effort:"High",owner:"Product",metric:"Rev mix",driverTags:["PRODUCT_CONCENTRATION_RISK"],proofType:"file",delta:"+4"},{id:"PULSE_08",pillar:"Pulse",title:"First impression",desc:'Audit the "unboxing" experience.',effort:"Med",owner:"Ops",metric:"Satisfaction",driverTags:["WEAK_FIRST_IMPRESSION"],proofType:"file",delta:"+3"},{id:"PULSE_09",pillar:"Pulse",title:"Bug SLA",desc:"Fix critical issues in 24h.",effort:"Low",owner:"Tech",metric:"Fix time",driverTags:["SLOW_FIX_CYCLE"],proofType:"file",delta:"+2"},{id:"PULSE_10",pillar:"Pulse",title:"Customer Quality",desc:"Define specs based on client need.",effort:"Low",owner:"Ops",metric:"Spec sheet",driverTags:["INTERNAL_QC_ONLY"],proofType:"file",delta:"+2"},{id:"SHIELD_01",pillar:"Shield",title:"Enable 2FA",desc:"Secure email, bank, and social.",effort:"Low",owner:"IT",metric:"Coverage %",driverTags:["NO_2FA"],proofType:"file",delta:"+6"},{id:"SHIELD_02",pillar:"Shield",title:"Password vault",desc:"Move shared passwords to manager.",effort:"Low",owner:"Ops",metric:"Vault usage",driverTags:["WEAK_PASSWORD_PRACTICE"],proofType:"file",delta:"+3"},{id:"SHIELD_03",pillar:"Shield",title:"Backup test",desc:"Verify you can restore data.",effort:"Low",owner:"IT",metric:"Restore success",driverTags:["BACKUP_NOT_VERIFIED"],proofType:"file",delta:"+5"},{id:"SHIELD_04",pillar:"Shield",title:"Contract standard",desc:"Scope + Terms signed every time.",effort:"Med",owner:"Admin",metric:"Signed %",driverTags:["WEAK_CONTRACTS"],proofType:"file",delta:"+5"},{id:"SHIELD_05",pillar:"Shield",title:"Access control",desc:"Remove old staff access.",effort:"Med",owner:"Ops",metric:"Access list",driverTags:["ACCESS_CONTROL_GAP"],proofType:"file",delta:"+3"},{id:"SHIELD_06",pillar:"Shield",title:"License check",desc:"Ensure software is legal.",effort:"Low",owner:"IT",metric:"Compliance",driverTags:["PIRATED_SOFTWARE_RISK"],proofType:"file",delta:"+2"},{id:"SHIELD_07",pillar:"Shield",title:"Tax rhythm",desc:"Monthly filing check.",effort:"Med",owner:"Finance",metric:"Compliance",driverTags:["TAX_COMPLIANCE_RISK"],proofType:"file",delta:"+3"},{id:"SHIELD_08",pillar:"Shield",title:"Incident plan",desc:"Who to call if hacked/sued.",effort:"Low",owner:"CEO",metric:"Plan ready",driverTags:["NO_INCIDENT_PLAN"],proofType:"file",delta:"+3"},{id:"SHIELD_09",pillar:"Shield",title:"Data policy",desc:"How customer data is stored.",effort:"Med",owner:"Ops",metric:"Policy doc",driverTags:["DATA_PRIVACY_RISK"],proofType:"file",delta:"+3"},{id:"SHIELD_10",pillar:"Shield",title:"Succession note",desc:"Key passwords/info for emergency.",effort:"Low",owner:"CEO",metric:"Note stored",driverTags:["KEY_PERSON_RISK"],proofType:"text",delta:"+2"},{id:"TRIBE_01",pillar:"Tribe",title:"Decision rights",desc:"Who decides what?",effort:"Med",owner:"CEO",metric:"Clarity",driverTags:["APPROVAL_DRAG"],proofType:"file",delta:"+5"},{id:"TRIBE_02",pillar:"Tribe",title:"Meeting discipline",desc:"Agenda required for all meetings.",effort:"Low",owner:"Ops",metric:"Meeting time",driverTags:["MEETING_THEATER"],proofType:"file",delta:"+3"},{id:"TRIBE_03",pillar:"Tribe",title:"No-blame ritual",desc:"Fix system, not person.",effort:"Low",owner:"Managers",metric:"Retros held",driverTags:["FEAR_OF_BLAME"],proofType:"text",delta:"+2"},{id:"TRIBE_04",pillar:"Tribe",title:"Manager mirror",desc:"Weekly self-check on micro-mgmt.",effort:"Low",owner:"Managers",metric:"Check-in",driverTags:["MICROMANAGEMENT_SIGNAL"],proofType:"text",delta:"+2"},{id:"TRIBE_05",pillar:"Tribe",title:"Safe mode survey",desc:"Anon feedback on culture.",effort:"Med",owner:"HR",metric:"Safety score",driverTags:["LOW_PSYCH_SAFETY"],proofType:"file",delta:"+3"},{id:"TRIBE_06",pillar:"Tribe",title:"Relationship map",desc:"Who works with whom?",effort:"Low",owner:"HR",metric:"Map done",driverTags:["SILO_DRIFT"],proofType:"file",delta:"+2"},{id:"TRIBE_07",pillar:"Tribe",title:"Recognition rule",desc:"Public praise for outcomes.",effort:"Low",owner:"CEO",metric:"Praise count",driverTags:["UNFAIR_INCENTIVES"],proofType:"text",delta:"+2"},{id:"TRIBE_08",pillar:"Tribe",title:"Escalation ladder",desc:"When to ask for help.",effort:"Low",owner:"Ops",metric:"Escalations",driverTags:["ESCALATE_EVERYTHING"],proofType:"file",delta:"+3"},{id:"TRIBE_09",pillar:"Tribe",title:"1:1 Cadence",desc:"Weekly short check-ins.",effort:"Low",owner:"Managers",metric:"1:1s held",driverTags:["LOW_FEEDBACK_RHYTHM"],proofType:"file",delta:"+2"},{id:"TRIBE_10",pillar:"Tribe",title:"Conflict script",desc:"How to disagree productively.",effort:"Med",owner:"HR",metric:"Resolutions",driverTags:["CONFLICT_AVOIDANCE"],proofType:"file",delta:"+2"}],dg={G1:{id:"G1",name:"Cash Flow Stabilizer",pillarWeights:{money:30,operations:15,risk:15,market:12,leadership:10,innovation:8,people:10},starterTaskIds:["FUEL_04","FUEL_01","FUEL_02","FUEL_03","FUEL_05","FUEL_07","FUEL_06","FUEL_09","ENG_08","SHIELD_05"],defaultKPIs:[{id:"days_cash",name:"Days cash on hand",pillar:["money"],frequency:"weekly"},{id:"overdue",name:"Overdue invoices amount",pillar:["money"],frequency:"weekly"},{id:"collection",name:"Collection rate %",pillar:["money"],frequency:"monthly"}],matchKeywords:["Cash Flow","Monthly Income","Debt","Collections"]},G2:{id:"G2",name:"Profit & Margin Builder",pillarWeights:{money:26,innovation:16,market:14,operations:14,risk:10,leadership:10,people:10},starterTaskIds:["FUEL_05","FUEL_06","PULSE_06","VOICE_07","ENG_05","FUEL_07","PULSE_05","VOICE_06","ENG_09","FUEL_08"],defaultKPIs:[{id:"gross_margin",name:"Gross Margin %",pillar:["money"],frequency:"monthly"},{id:"net_profit",name:"Net Profit %",pillar:["money"],frequency:"monthly"},{id:"discount_rate",name:"Avg Discount %",pillar:["money"],frequency:"weekly"}],matchKeywords:["Profit","Margin","Prices","Cost"]},G3:{id:"G3",name:"Sales Pipeline Growth",pillarWeights:{market:30,innovation:16,operations:14,money:12,leadership:10,people:10,risk:8},starterTaskIds:["VOICE_02","VOICE_03","VOICE_01","VOICE_04","VOICE_05","VOICE_07","VOICE_06","VOICE_09","PULSE_06","ENG_01"],defaultKPIs:[{id:"leads",name:"New Leads / Week",pillar:["market"],frequency:"weekly"},{id:"conversion",name:"Lead-to-Deal %",pillar:["market"],frequency:"monthly"},{id:"response",name:"Avg Response Time",pillar:["market"],frequency:"weekly"}],matchKeywords:["Revenue","Customers","Leads","Sales","Growth"]},G4:{id:"G4",name:"Operations Speed & Consistency",pillarWeights:{operations:30,people:18,leadership:14,risk:12,money:10,innovation:8,market:8},starterTaskIds:["ENG_01","ENG_02","ENG_07","ENG_03","TRIBE_01","TRIBE_02","ENG_06","ENG_04","BRAIN_03","ENG_09"],defaultKPIs:[{id:"ontime",name:"On-Time Delivery %",pillar:["operations"],frequency:"weekly"},{id:"cycle_time",name:"Avg Cycle Time",pillar:["operations"],frequency:"weekly"},{id:"rework",name:"Rework Count",pillar:["operations"],frequency:"weekly"}],matchKeywords:["Operations","Speed","Consistency","Delays","SOPs"]},G5:{id:"G5",name:"Product Quality & Upgrade",pillarWeights:{innovation:30,market:18,operations:14,money:12,leadership:10,people:10,risk:6},starterTaskIds:["PULSE_01","PULSE_02","PULSE_03","PULSE_06","PULSE_10","VOICE_10","VOICE_08","PULSE_05","PULSE_09","VOICE_05"],defaultKPIs:[{id:"nps",name:"NPS / Satisfaction",pillar:["innovation"],frequency:"monthly"},{id:"returns",name:"Return / Refund Rate",pillar:["innovation","money"],frequency:"weekly"},{id:"churn",name:"Churn Rate",pillar:["innovation"],frequency:"monthly"}],matchKeywords:["Quality","Product","Service","Innovation","Feedback"]},G6:{id:"G6",name:"Risk & Compliance Fortress",pillarWeights:{risk:32,money:14,leadership:14,operations:12,people:10,market:10,innovation:8},starterTaskIds:["SHIELD_01","SHIELD_03","SHIELD_04","SHIELD_05","SHIELD_09","SHIELD_08","FUEL_08","SHIELD_07","ENG_01","BRAIN_02"],defaultKPIs:[{id:"risk_score",name:"Risk Exposure Score",pillar:["risk"],frequency:"monthly"},{id:"compliance",name:"Compliance Check %",pillar:["risk"],frequency:"monthly"},{id:"incidents",name:"Security Incidents",pillar:["risk"],frequency:"weekly"}],matchKeywords:["Risk","Compliance","Legal","Security","Fraud"]},G7:{id:"G7",name:"Team Performance System",pillarWeights:{leadership:24,people:22,operations:16,market:10,money:10,risk:10,innovation:8},starterTaskIds:["BRAIN_01","BRAIN_02","TRIBE_09","TRIBE_01","BRAIN_06","TRIBE_03","TRIBE_05","BRAIN_04","ENG_02","TRIBE_07"],defaultKPIs:[{id:"kpi_clarity",name:"Roles with Clear KPIs %",pillar:["leadership"],frequency:"monthly"},{id:"meeting_load",name:"Meeting Hours / Week",pillar:["people"],frequency:"weekly"},{id:"turnover",name:"Staff Turnover Rate",pillar:["people"],frequency:"quarterly"}],matchKeywords:["Team","Performance","Accountability","Culture","Leadership"]},G8:{id:"G8",name:"Hiring & Onboarding",pillarWeights:{leadership:28,people:18,operations:18,risk:12,money:10,market:8,innovation:6},starterTaskIds:["BRAIN_05","BRAIN_07","ENG_04","BRAIN_02","TRIBE_09","ENG_02","SHIELD_04","TRIBE_03","BRAIN_03","VOICE_10"],defaultKPIs:[{id:"ramp_time",name:"New Hire Ramp Time",pillar:["operations","leadership"],frequency:"monthly"},{id:"hiring_quality",name:"90-Day Retention %",pillar:["leadership"],frequency:"quarterly"},{id:"applications",name:"Qualified Candidates",pillar:["leadership"],frequency:"weekly"}],matchKeywords:["Hiring","Recruiting","Onboarding","Staffing"]},G9:{id:"G9",name:"Waste & Leakage Crusher",pillarWeights:{money:22,operations:20,innovation:18,risk:14,leadership:10,people:10,market:6},starterTaskIds:["FUEL_07","ENG_09","PULSE_02","ENG_07","FUEL_05","ENG_06","SHIELD_05","PULSE_05","ENG_01","FUEL_08"],defaultKPIs:[{id:"waste_cost",name:"Waste/Shrinkage Cost",pillar:["money"],frequency:"weekly"},{id:"rework_rate",name:"Rework Rate %",pillar:["operations"],frequency:"weekly"},{id:"zombie_spend",name:"Recurring Costs Cut",pillar:["money"],frequency:"monthly"}],matchKeywords:["Waste","Leakage","Efficiency","Cost Cutting"]},G10:{id:"G10",name:"Investment Readiness",pillarWeights:{money:22,risk:20,leadership:16,operations:14,market:10,people:10,innovation:8},starterTaskIds:["FUEL_03","FUEL_08","FUEL_04","SHIELD_07","SHIELD_04","SHIELD_05","ENG_08","BRAIN_02","ENG_01","VOICE_05"],defaultKPIs:[{id:"close_speed",name:"Monthly Close (Days)",pillar:["money"],frequency:"monthly"},{id:"burn_rate",name:"Monthly Burn Rate",pillar:["money"],frequency:"monthly"},{id:"compliance_score",name:"Compliance Score",pillar:["risk"],frequency:"quarterly"}],matchKeywords:["Investment","Loan","Funding","Audit","Reporting"]},G11:{id:"G11",name:"Market Expansion",pillarWeights:{market:22,operations:20,leadership:14,money:14,innovation:14,risk:10,people:6},starterTaskIds:["VOICE_04","VOICE_07","VOICE_03","VOICE_09","PULSE_03","ENG_05","ENG_01","FUEL_04","SHIELD_04","BRAIN_01"],defaultKPIs:[{id:"new_market_leads",name:"New Market Leads",pillar:["market"],frequency:"weekly"},{id:"cac",name:"CAC (New Market)",pillar:["market","money"],frequency:"monthly"},{id:"capacity",name:"Capacity Utilization",pillar:["operations"],frequency:"weekly"}],matchKeywords:["Expansion","New Market","Launch","Scale"]}},v_e=e=>{if(!e||e.length===0)return dg.G1;const t=e.join(" ").toLowerCase();for(const i in dg){const n=dg[i];if(n.matchKeywords.some(r=>t.includes(r.toLowerCase())))return n}return dg.G1},b_e={agriculture:{kpis:[{id:"post_harvest",name:"Post-Harvest Loss %",pillar:["engine"],frequency:"weekly"},{id:"yield",name:"Yield per Acre/Unit",pillar:["pulse"],frequency:"term"},{id:"buyer_pay",name:"Buyer Payment Delay",pillar:["fuel"],frequency:"weekly"}],taskSwaps:{ENG_09:{title:"Grading & Handling Checklist",metric:"Rejection rate"},RET_SHIELD_01:{title:"Buyer Contract Standards"},PULSE_02:{title:"Produce Quality Check"},FUEL_07:{title:"Input Cost Audit"}}},retail:{kpis:[{id:"stockouts",name:"Top 20 Stock-outs",pillar:["engine"],frequency:"weekly"},{id:"shrinkage",name:"Shrinkage / Theft %",pillar:["shield"],frequency:"monthly"},{id:"basket",name:"Avg Basket Size",pillar:["voice"],frequency:"daily"}],taskSwaps:{ENG_09:{title:"Shelf Stocking Standard"},PULSE_02:{title:"Expiry Date Check"},ENG_01:{title:"Inventory Reorder Board"}}},hospitality:{kpis:[{id:"revpar",name:"Occupancy / RevPAR",pillar:["voice"],frequency:"daily"},{id:"food_waste",name:"Food Waste Cost",pillar:["fuel"],frequency:"weekly"},{id:"reviews",name:"TripAdvisor Rating",pillar:["pulse"],frequency:"weekly"}],taskSwaps:{PULSE_02:{title:"Guest Room Checklist"},ENG_01:{title:"Shift Handover Log"},VOICE_01:{title:"Booking Inquiry Response"}}},health:{kpis:[{id:"wait_time",name:"Patient Wait Time",pillar:["engine"],frequency:"weekly"},{id:"stock_meds",name:"Essential Meds Stock",pillar:["engine"],frequency:"weekly"},{id:"return_rate",name:"Patient Return Rate",pillar:["pulse"],frequency:"monthly"}],taskSwaps:{VOICE_05:{title:"Patient Trust Proof (Badges)"},ENG_01:{title:"Patient Flow Tracker"},SHIELD_08:{title:"Clinical Incident Log"}}},construction:{kpis:[{id:"delay_days",name:"Days Behind Schedule",pillar:["engine"],frequency:"weekly"},{id:"rework_cost",name:"Rework Material Cost",pillar:["fuel"],frequency:"weekly"},{id:"milestones",name:"Milestones Billed",pillar:["fuel"],frequency:"monthly"}],taskSwaps:{VOICE_07:{title:"Standard Proposal Template"},ENG_01:{title:"Site Progress Board"},ENG_07:{title:"Trade Handoff Checklist"}}},finance:{kpis:[{id:"par",name:"Portfolio at Risk (PAR)",pillar:["shield"],frequency:"weekly"},{id:"tat",name:"Loan Turnaround Time",pillar:["engine"],frequency:"weekly"},{id:"audit_score",name:"Compliance Score",pillar:["shield"],frequency:"monthly"}],taskSwaps:{SHIELD_04:{title:"KYC / AML Checklist"},ENG_01:{title:"Application Tracker"},PULSE_01:{title:"Client exit interviews"}}},tech:{kpis:[{id:"sla",name:"SLA Breach Rate",pillar:["engine"],frequency:"weekly"},{id:"churn",name:"Churn / Downgrades",pillar:["voice"],frequency:"monthly"},{id:"velocity",name:"Ship Velocity",pillar:["pulse"],frequency:"weekly"}],taskSwaps:{ENG_01:{title:"Sprint Board (Jira/Linear)"},ENG_07:{title:"Deployment Checklist"},SHIELD_03:{title:"Disaster Recovery Drill"}}}},x_e=(e,t,i)=>{const n=i.pillars.find(l=>l.name===t),s=100-(n?n.score:50);return e+s},k_e=e=>{var d;const t=e.profileContext||{industry:"other",size:"solo",goals:["Increase Profit"]},i=v_e(t.goals),n=((d=t.industry)==null?void 0:d.toLowerCase())||"other",r=b_e[n];e.pillars.filter(p=>p.riskScore>60).map(p=>p.name);let s=[];i.starterTaskIds.forEach(p=>{const u=__e.find(k=>k.id===p);if(!u)return;let g=u.title,h=u.metric;if(r!=null&&r.taskSwaps[p]&&(g=r.taskSwaps[p].title,r.taskSwaps[p].metric&&(h=r.taskSwaps[p].metric||h)),t.size==="solo"){if(["TRIBE_01","BRAIN_06","TRIBE_09"].includes(p))return;u.owner.includes("HR")||u.owner.includes("Manager")}const y=u.pillar.toLowerCase(),v=i.pillarWeights[y]||0,S=x_e(v,u.pillar,e);s.push({id:`fix_${p}_${Date.now()}`,pillar:u.pillar,title:g,desc:u.desc,status:"backlog",effort:u.effort,owner:t.size==="solo"?"You":u.owner,metric:h,deadline:"Day 7",impactScore:parseInt(u.delta.replace("+",""))||5,evidence:void 0,_sortScore:S})}),s.sort((p,u)=>u._sortScore-p._sortScore);let l=[...i.defaultKPIs];return r!=null&&r.kpis&&(l=[...r.kpis.slice(0,2),...l]),e.pillars.forEach(p=>{p.actions&&p.actions.length>0&&p.actions.forEach((u,g)=>{s.unshift({id:`fix_signal_${p.name}_${g}_${Date.now()}`,pillar:p.name,title:u.text,desc:u.description||"Action recommended by analysis.",status:"backlog",effort:u.effort||"Med",owner:u.owner||"Owner",metric:u.metric||"Completion",deadline:u.type==="today"?"Day 7":"Day 30",impactScore:9,signalTag:u.signalTag,costType:u.costType,evidencePrompt:u.evidencePrompt,verificationCriteria:u.verificationCriteria,optionalEvidence:u.optionalEvidence,autoTags:u.autoTags,_sortScore:1e3})})}),e.agroIndices&&e.agroIndices.length>0&&e.agroIndices.forEach((p,u)=>{if(p.inspectionItems.length>0){const g=p.inspectionItems[0];s.unshift({id:`fix_agro_${p.id}_${u}`,pillar:p.pillar,title:`Inspect: ${p.title}`,desc:`Signals detected: ${p.signals[0]}. Action: ${g.item}`,status:"backlog",effort:"Med",owner:"Owner",metric:"Cost Reduction",deadline:"Day 3",impactScore:10,_sortScore:999})}}),l=l.slice(0,5),{id:`plan_${Date.now()}`,reportId:e.id,startedAt:new Date().toISOString(),tasks:s,overallProgress:0,kpis:l,focusArea:i.name}},S_e=e=>{switch(e){case"Engine":return ya;case"Fuel":return ii;case"Voice":return Ds;case"Brain":return Z0;case"Pulse":return tk;case"Shield":return Sc;case"Tribe":return Da;default:return ya}},w_e=({report:e})=>{var r,s,l,d;const t=e.pillars.map(p=>({subject:p.name,A:p.score,fullMark:100})),i=[...e.pillars].sort((p,u)=>u.riskScore-p.riskScore),n=e.pillars.filter(p=>p.riskScore>60).length;return a.jsxs("div",{className:"hidden print:block bg-white text-black font-sans w-full",style:{WebkitPrintColorAdjust:"exact",printColorAdjust:"exact"},children:[a.jsxs("div",{className:"h-screen flex flex-col justify-between p-16 border-b-8 border-slate-900 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-16",children:a.jsx("div",{className:"text-4xl font-extrabold text-slate-200 tracking-tighter",children:"PROFIT DNA"})}),a.jsxs("div",{className:"mt-32",children:[a.jsx("div",{className:"inline-block bg-slate-900 text-white px-4 py-1 text-sm font-bold uppercase tracking-widest mb-6",children:"Confidential Board Report"}),a.jsxs("h1",{className:"text-6xl font-black text-slate-900 mb-4 leading-tight",children:["Strategic Health",a.jsx("br",{}),"Audit"]}),a.jsxs("p",{className:"text-2xl text-slate-500 font-light",children:["Prepared for: ",a.jsxs("span",{className:"font-bold text-slate-900",children:[((r=e.profileContext)==null?void 0:r.industry)||"Business"," Leader"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-12 border-t-2 border-slate-900 pt-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Date of Analysis"}),a.jsx("p",{className:"text-xl font-bold",children:e.date})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Archetype Detected"}),a.jsx("p",{className:"text-xl font-bold text-brand-600",children:e.archetype})]})]})]}),a.jsxs("div",{className:"min-h-screen p-12 break-before-page",children:[a.jsxs("div",{className:"border-b-2 border-slate-100 pb-4 mb-8 flex justify-between items-end",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Executive Summary"}),a.jsx("span",{className:"text-sm text-slate-400",children:"Page 2"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4",children:"The Narrative"}),a.jsx("p",{className:"text-lg leading-relaxed text-slate-700 font-medium border-l-4 border-slate-900 pl-6 py-2",children:e.executiveSummary}),a.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl",children:[a.jsx("p",{className:"text-sm font-bold text-slate-500 mb-1",children:"Critical Bottlenecks"}),a.jsx("p",{className:"text-4xl font-black text-red-600",children:n}),a.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Pillars requiring immediate intervention."})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl",children:[a.jsx("p",{className:"text-sm font-bold text-slate-500 mb-1",children:"Overall Health Index"}),a.jsxs("p",{className:"text-4xl font-black text-slate-900",children:[Math.round(e.pillars.reduce((p,u)=>p+u.score,0)/7),a.jsx("span",{className:"text-xl text-slate-400",children:"/100"})]}),a.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Composite score across 7 pillars."})]})]})]}),a.jsxs("div",{className:"col-span-1 flex flex-col justify-center items-center bg-slate-50 rounded-2xl p-4",children:[a.jsx("div",{className:"w-full h-64 relative",children:a.jsx(np,{width:"100%",height:"100%",children:a.jsxs(wm,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[a.jsx(xp,{stroke:"#e2e8f0"}),a.jsx(Sp,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10,fontWeight:"bold"}}),a.jsx(kp,{angle:30,domain:[0,100],tick:!1}),a.jsx(vc,{name:"My Business",dataKey:"A",stroke:"#0f172a",fill:"#0f172a",fillOpacity:.2})]})})}),a.jsx("p",{className:"text-xs text-center text-slate-400 mt-4 font-medium italic",children:"Figure 1.1: Operational Balance"})]})]}),a.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6",children:"Calculated Economic Impact"}),a.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-12",children:[a.jsxs("div",{className:"border border-slate-200 p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(Zi,{className:"w-5 h-5 text-slate-400"}),a.jsx("h4",{className:"font-bold text-slate-700",children:"Time Leakage"})]}),a.jsx("div",{className:"text-2xl font-bold mb-2",children:(s=e.indices)!=null&&s.timeLeak&&e.indices.timeLeak>50?"High":"Moderate"}),a.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Execution friction is causing payroll hours to be spent on rework, waiting, and manual administration rather than output."})]}),a.jsxs("div",{className:"border border-slate-200 p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(ii,{className:"w-5 h-5 text-slate-400"}),a.jsx("h4",{className:"font-bold text-slate-700",children:"Cash Drag"})]}),a.jsx("div",{className:"text-2xl font-bold mb-2",children:(l=e.indices)!=null&&l.cashLeak&&e.indices.cashLeak>50?"High":"Moderate"}),a.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Inefficiencies in pricing, collections, or expense control are reducing net margin below potential."})]}),a.jsxs("div",{className:"border border-slate-200 p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(Sc,{className:"w-5 h-5 text-slate-400"}),a.jsx("h4",{className:"font-bold text-slate-700",children:"Risk Exposure"})]}),a.jsx("div",{className:"text-2xl font-bold mb-2",children:(d=e.indices)!=null&&d.riskExposure&&e.indices.riskExposure>50?"Severe":"Managed"}),a.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Vulnerabilities in compliance, contracts, or data security present a shock risk to business continuity."})]})]})]}),e.agroIndices&&e.agroIndices.length>0&&a.jsxs("div",{className:"min-h-screen p-12 break-before-page",children:[a.jsxs("div",{className:"border-b-2 border-slate-100 pb-4 mb-8 flex justify-between items-end",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Agro-Processing Deep Scan"}),a.jsx("span",{className:"text-sm text-slate-400",children:"Special Report"})]}),e.deepScanScores&&a.jsxs("div",{className:"mb-12",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6",children:"Operational Maturity"}),a.jsx("div",{className:"grid grid-cols-3 gap-8",children:Object.entries(e.deepScanScores.pillars).map(([p,u])=>{var g;return a.jsxs("div",{className:"border border-slate-200 p-6 rounded-xl bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:p}),a.jsxs("span",{className:"text-xs font-bold bg-white px-2 py-1 rounded border border-slate-200",children:[(g=e.deepScanScores)==null?void 0:g.confidence[p]," Conf."]})]}),a.jsx("div",{className:"w-full bg-slate-200 h-4 rounded-full overflow-hidden mb-2",children:a.jsx("div",{className:"h-full bg-slate-900",style:{width:`${u}%`}})}),a.jsxs("div",{className:"text-right text-2xl font-black text-slate-900",children:[u,"/100"]})]},p)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6",children:"Detected Profit Leaks"}),a.jsx("div",{className:"space-y-8",children:e.agroIndices.map((p,u)=>a.jsxs("div",{className:"border border-slate-200 rounded-xl p-8 flex gap-8",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-700 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0",children:p.id}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold text-slate-900",children:p.title}),a.jsxs("p",{className:"text-slate-500 italic",children:['"',p.meaning,'"']})]}),p.detectedCost&&a.jsxs("div",{className:"bg-red-50 text-red-700 px-4 py-2 rounded-lg border border-red-100 text-right",children:[a.jsx("div",{className:"font-bold text-lg",children:p.detectedCost}),a.jsx("div",{className:"text-[10px] uppercase font-bold text-red-400",children:"Est. Loss"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-6",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-bold text-xs text-slate-400 uppercase mb-2",children:"Signals"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-slate-700 space-y-1",children:p.signals.slice(0,3).map((g,h)=>a.jsx("li",{children:g},h))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-bold text-xs text-slate-400 uppercase mb-2",children:"Inspection Items"}),a.jsx("ul",{className:"space-y-2",children:p.inspectionItems.slice(0,3).map((g,h)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-900 font-bold",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 rounded"}),g.item]},h))})]})]})]})]},p.id))})]})]}),i.map((p,u)=>{const g=S_e(p.name),h=p.riskScore>60;return a.jsxs("div",{className:"min-h-screen p-12 break-before-page flex flex-col",children:[a.jsxs("div",{className:"border-b-2 border-slate-100 pb-4 mb-8 flex justify-between items-end",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${h?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:a.jsx(g,{className:"w-6 h-6"})}),a.jsxs("h2",{className:"text-3xl font-bold text-slate-900",children:[p.name," Deep Dive"]})]}),a.jsxs("span",{className:"text-sm text-slate-400",children:["Page ",3+u]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-8 mb-10",children:[a.jsxs("div",{className:"col-span-4 bg-slate-50 rounded-2xl p-8 flex flex-col items-center justify-center text-center border border-slate-100",children:[a.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4",children:"Pillar Score"}),a.jsx("div",{className:`text-6xl font-black mb-2 ${h?"text-red-600":"text-slate-900"}`,children:p.score}),a.jsx("div",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold uppercase ${h?"bg-red-100 text-red-700":"bg-green-100 text-green-800"}`,children:p.band})]}),a.jsxs("div",{className:"col-span-8",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Diagnostic Findings"}),a.jsxs("p",{className:"text-xl font-medium text-slate-900 mb-6 leading-relaxed",children:['"',p.hiddenCost,'"']}),a.jsx("div",{className:"bg-white border-l-4 border-slate-900 p-4 pl-6 italic text-slate-600",children:p.deepInsight})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-12 mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Evidence Detected"}),a.jsx("ul",{className:"space-y-4",children:p.evidenceSnapshots.map((y,v)=>a.jsxs("li",{className:"flex gap-4 items-start",children:[a.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-red-500 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 text-sm",children:y.observation}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:y.whyItMatters})]})]},v))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Underlying Drivers"}),a.jsx("div",{className:"space-y-4",children:p.drivers.map((y,v)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[a.jsx("span",{className:"text-slate-700 uppercase",children:y.name}),a.jsx("span",{className:y.status==="Critical"?"text-red-600":"text-slate-400",children:y.status})]}),a.jsx("div",{className:"w-full bg-slate-100 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${y.status==="Critical"?"bg-red-500":y.status==="Weak"?"bg-amber-400":"bg-green-500"}`,style:{width:`${y.score}%`}})})]},v))})]})]}),a.jsxs("div",{className:"mt-auto bg-slate-900 text-white rounded-2xl p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-700 pb-4",children:[a.jsx(Ks,{className:"w-5 h-5 text-brand-400"}),a.jsx("h3",{className:"font-bold text-lg",children:"Prescribed Fix Plan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"7-Day Stabilization"}),a.jsx("ul",{className:"space-y-2",children:p.actions.filter(y=>y.type==="today"||y.type==="week").map((y,v)=>a.jsxs("li",{className:"flex gap-2 text-sm",children:[a.jsx("span",{className:"text-brand-400 font-bold",children:""}),y.text]},v))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"30-Day Systemization"}),a.jsx("ul",{className:"space-y-2",children:p.actions.filter(y=>y.type==="month").map((y,v)=>a.jsxs("li",{className:"flex gap-2 text-sm",children:[a.jsx("span",{className:"text-brand-400 font-bold",children:""}),y.text]},v))})]})]})]})]},p.name)}),a.jsxs("div",{className:"min-h-screen p-12 break-before-page",children:[a.jsx("div",{className:"border-b-2 border-slate-100 pb-4 mb-8",children:a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Master Execution Checklist"})}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.pillars.flatMap(p=>p.actions.map(u=>({...u,pillar:p.name}))).map((p,u)=>a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 py-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-slate-300 rounded"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 text-sm",children:p.text}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Pillar: ",p.pillar,"  Owner: ",p.owner]})]})]}),a.jsx("div",{className:"text-xs font-mono text-slate-400 bg-slate-50 px-2 py-1 rounded",children:p.type==="today"?"IMMEDIATE":p.type==="week"?"THIS WEEK":"THIS MONTH"})]},u))}),a.jsxs("div",{className:"mt-20 text-center",children:[a.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Generated by The Profit Driven Channel Analysis Engine"}),a.jsxs("p",{className:"text-xs text-slate-300 font-mono",children:["Report ID: ",e.id]})]})]})]})},C_e=({report:e})=>{const{agroIndices:t,deepScanScores:i,profileContext:n}=e;return!t&&!i?null:a.jsxs("div",{className:"space-y-12 mb-16 animate-fade-in",children:[i&&a.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl p-8 md:p-12 shadow-2xl overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500/10 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Deep Scan Analysis"}),a.jsxs("p",{className:"text-slate-400",children:["Operational maturity assessment based on ",(n==null?void 0:n.operatingModel)||"your setup"," & ",(n==null?void 0:n.complianceLevel)||"compliance","."]})]}),a.jsxs("div",{className:"px-4 py-2 bg-white/10 rounded-lg text-sm font-medium backdrop-blur-sm",children:[n==null?void 0:n.agroSubSector," Sector"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(i.pillars).map(([r,s])=>{const l=i.confidence[r];return a.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 relative overflow-hidden group hover:bg-white/10 transition-all",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"capitalize font-bold text-lg text-slate-200",children:r}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${l==="High"?"bg-teal-500/20 text-teal-300":"bg-amber-500/20 text-amber-300"}`,children:[l," Conf."]})]}),a.jsx("div",{className:"relative h-4 bg-slate-800 rounded-full mb-4 overflow-hidden",children:a.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out ${s>70?"bg-teal-500":s>40?"bg-amber-500":"bg-red-500"}`,style:{width:`${s}%`}})}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("span",{className:"text-4xl font-bold",children:s}),a.jsx("span",{className:"text-sm text-slate-400 mb-1",children:"/ 100"})]})]},r)})})]})]}),t&&t.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 text-red-600 flex items-center justify-center",children:a.jsx(Kz,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Critical Profit Leaks"}),a.jsx("p",{className:"text-slate-500",children:"Specific verified drains on your margin"})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(r=>a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden flex flex-col md:flex-row group hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"w-full md:w-2 bg-red-500 md:h-auto h-2"}),a.jsxs("div",{className:"p-8 flex-1",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[r.title,a.jsxs("span",{className:"text-sm font-normal text-slate-400 px-2 py-1 bg-gray-100 rounded-md",children:["Pillar: ",r.pillar]})]}),a.jsx("p",{className:"text-slate-600 mt-2 text-lg",children:r.meaning})]}),a.jsx("div",{className:"text-right",children:r.detectedCost&&a.jsxs("div",{className:"inline-block bg-red-50 text-red-700 font-bold px-4 py-3 rounded-xl border border-red-100 animate-pulse-slow",children:[r.detectedCost,a.jsx("div",{className:"text-[10px] text-red-400 uppercase tracking-widest mt-1",children:"Est. Loss"})]})})]}),a.jsx("div",{className:"bg-slate-50 rounded-xl p-5 mb-6 border border-slate-100",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ar,{className:"w-5 h-5 text-amber-500 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm text-slate-700",children:[a.jsx("strong",{children:"Silent Cost:"})," ",r.silentCost]})]})}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-sm text-slate-900 uppercase tracking-wide mb-3 flex items-center gap-2",children:[a.jsx(KU,{className:"w-4 h-4 text-slate-400"})," Manager Mirror Questions"]}),a.jsx("div",{className:"space-y-3",children:r.mirrorQuestions.slice(0,3).map((s,l)=>a.jsxs("div",{className:"flex gap-3 items-start text-slate-600 text-sm group-hover:text-slate-900 transition-colors",children:[a.jsx("span",{className:"text-teal-500 font-bold",children:"?"}),s]},l))})]})]})]},r.id))})]})]})};function T_e(e,t){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const A_e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,E_e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,N_e={};function bL(e,t){return(N_e.jsx?E_e:A_e).test(e)}const M_e=/[ \t\n\f\r]/g;function P_e(e){return typeof e=="object"?e.type==="text"?xL(e.value):!1:xL(e)}function xL(e){return e.replace(M_e,"")===""}class wp{constructor(t,i,n){this.normal=i,this.property=t,n&&(this.space=n)}}wp.prototype.normal={};wp.prototype.property={};wp.prototype.space=void 0;function V4(e,t){const i={},n={};for(const r of e)Object.assign(i,r.property),Object.assign(n,r.normal);return new wp(i,n,t)}function q0(e){return e.toLowerCase()}class jn{constructor(t,i){this.attribute=i,this.property=t}}jn.prototype.attribute="";jn.prototype.booleanish=!1;jn.prototype.boolean=!1;jn.prototype.commaOrSpaceSeparated=!1;jn.prototype.commaSeparated=!1;jn.prototype.defined=!1;jn.prototype.mustUseProperty=!1;jn.prototype.number=!1;jn.prototype.overloadedBoolean=!1;jn.prototype.property="";jn.prototype.spaceSeparated=!1;jn.prototype.space=void 0;let I_e=0;const dt=Qo(),Si=Qo(),z0=Qo(),_e=Qo(),Kt=Qo(),lc=Qo(),Hn=Qo();function Qo(){return 2**++I_e}const W0=Object.freeze(Object.defineProperty({__proto__:null,boolean:dt,booleanish:Si,commaOrSpaceSeparated:Hn,commaSeparated:lc,number:_e,overloadedBoolean:z0,spaceSeparated:Kt},Symbol.toStringTag,{value:"Module"})),ix=Object.keys(W0);class uw extends jn{constructor(t,i,n,r){let s=-1;if(super(t,i),kL(this,"space",r),typeof n=="number")for(;++s<ix.length;){const l=ix[s];kL(this,ix[s],(n&W0[l])===W0[l])}}}uw.prototype.defined=!0;function kL(e,t,i){i&&(e[t]=i)}function zc(e){const t={},i={};for(const[n,r]of Object.entries(e.properties)){const s=new uw(n,e.transform(e.attributes||{},n),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,i[q0(n)]=n,i[q0(s.attribute)]=n}return new wp(t,i,e.space)}const H4=zc({properties:{ariaActiveDescendant:null,ariaAtomic:Si,ariaAutoComplete:null,ariaBusy:Si,ariaChecked:Si,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:Kt,ariaCurrent:null,ariaDescribedBy:Kt,ariaDetails:null,ariaDisabled:Si,ariaDropEffect:Kt,ariaErrorMessage:null,ariaExpanded:Si,ariaFlowTo:Kt,ariaGrabbed:Si,ariaHasPopup:null,ariaHidden:Si,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kt,ariaLevel:_e,ariaLive:null,ariaModal:Si,ariaMultiLine:Si,ariaMultiSelectable:Si,ariaOrientation:null,ariaOwns:Kt,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:Si,ariaReadOnly:Si,ariaRelevant:null,ariaRequired:Si,ariaRoleDescription:Kt,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:Si,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function G4(e,t){return t in e?e[t]:t}function $4(e,t){return G4(e,t.toLowerCase())}const O_e=zc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lc,acceptCharset:Kt,accessKey:Kt,action:null,allow:null,allowFullScreen:dt,allowPaymentRequest:dt,allowUserMedia:dt,alt:null,as:null,async:dt,autoCapitalize:null,autoComplete:Kt,autoFocus:dt,autoPlay:dt,blocking:Kt,capture:null,charSet:null,checked:dt,cite:null,className:Kt,cols:_e,colSpan:null,content:null,contentEditable:Si,controls:dt,controlsList:Kt,coords:_e|lc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dt,defer:dt,dir:null,dirName:null,disabled:dt,download:z0,draggable:Si,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dt,formTarget:null,headers:Kt,height:_e,hidden:z0,high:_e,href:null,hrefLang:null,htmlFor:Kt,httpEquiv:Kt,id:null,imageSizes:null,imageSrcSet:null,inert:dt,inputMode:null,integrity:null,is:null,isMap:dt,itemId:null,itemProp:Kt,itemRef:Kt,itemScope:dt,itemType:Kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:dt,muted:dt,name:null,nonce:null,noModule:dt,noValidate:dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dt,optimum:_e,pattern:null,ping:Kt,placeholder:null,playsInline:dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dt,referrerPolicy:null,rel:Kt,required:dt,reversed:dt,rows:_e,rowSpan:_e,sandbox:Kt,scope:null,scoped:dt,seamless:dt,selected:dt,shadowRootClonable:dt,shadowRootDelegatesFocus:dt,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:Si,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:dt,useMap:null,value:Si,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kt,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dt,declare:dt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:dt,noHref:dt,noShade:dt,noWrap:dt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:Si,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dt,disableRemotePlayback:dt,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:$4}),L_e=zc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hn,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:Kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lc,g2:lc,glyphName:lc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:Hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hn,rev:Hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hn,requiredFeatures:Hn,requiredFonts:Hn,requiredFormats:Hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:Hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hn,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:G4}),Y4=zc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Q4=zc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$4}),X4=zc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),R_e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},D_e=/[A-Z]/g,SL=/-[a-z]/g,j_e=/^data[-\w.:]+$/i;function K_e(e,t){const i=q0(t);let n=t,r=jn;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&j_e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(SL,B_e);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!SL.test(s)){let l=s.replace(D_e,F_e);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}r=uw}return new r(n,t)}function F_e(e){return"-"+e.toLowerCase()}function B_e(e){return e.charAt(1).toUpperCase()}const U_e=V4([H4,O_e,Y4,Q4,X4],"html"),pw=V4([H4,L_e,Y4,Q4,X4],"svg");function q_e(e){return e.join(" ").trim()}var Vl={},nx,wL;function z_e(){if(wL)return nx;wL=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,u="/",g="*",h="",y="comment",v="declaration";function S(C,T){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];T=T||{};var N=1,E=1;function O(X){var se=X.match(t);se&&(N+=se.length);var K=X.lastIndexOf(p);E=~K?X.length-K:E+X.length}function P(){var X={line:N,column:E};return function(se){return se.position=new I(X),V(),se}}function I(X){this.start=X,this.end={line:N,column:E},this.source=T.source}I.prototype.content=C;function D(X){var se=new Error(T.source+":"+N+":"+E+": "+X);if(se.reason=X,se.filename=T.source,se.line=N,se.column=E,se.source=C,!T.silent)throw se}function B(X){var se=X.exec(C);if(se){var K=se[0];return O(K),C=C.slice(K.length),se}}function V(){B(i)}function U(X){var se;for(X=X||[];se=W();)se!==!1&&X.push(se);return X}function W(){var X=P();if(!(u!=C.charAt(0)||g!=C.charAt(1))){for(var se=2;h!=C.charAt(se)&&(g!=C.charAt(se)||u!=C.charAt(se+1));)++se;if(se+=2,h===C.charAt(se-1))return D("End of comment missing");var K=C.slice(2,se-2);return E+=2,O(K),C=C.slice(se),E+=2,X({type:y,comment:K})}}function q(){var X=P(),se=B(n);if(se){if(W(),!B(r))return D("property missing ':'");var K=B(s),z=X({type:v,property:k(se[0].replace(e,h)),value:K?k(K[0].replace(e,h)):h});return B(l),z}}function pe(){var X=[];U(X);for(var se;se=q();)se!==!1&&(X.push(se),U(X));return X}return V(),pe()}function k(C){return C?C.replace(d,h):h}return nx=S,nx}var CL;function W_e(){if(CL)return Vl;CL=1;var e=Vl&&Vl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.default=i;const t=e(z_e());function i(n,r){let s=null;if(!n||typeof n!="string")return s;const l=(0,t.default)(n),d=typeof r=="function";return l.forEach(p=>{if(p.type!=="declaration")return;const{property:u,value:g}=p;d?r(u,g,p):g&&(s=s||{},s[u]=g)}),s}return Vl}var Qd={},TL;function V_e(){if(TL)return Qd;TL=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(u){return!u||i.test(u)||e.test(u)},l=function(u,g){return g.toUpperCase()},d=function(u,g){return"".concat(g,"-")},p=function(u,g){return g===void 0&&(g={}),s(u)?u:(u=u.toLowerCase(),g.reactCompat?u=u.replace(r,d):u=u.replace(n,d),u.replace(t,l))};return Qd.camelCase=p,Qd}var Xd,AL;function H_e(){if(AL)return Xd;AL=1;var e=Xd&&Xd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=e(W_e()),i=V_e();function n(r,s){var l={};return!r||typeof r!="string"||(0,t.default)(r,function(d,p){d&&p&&(l[(0,i.camelCase)(d,s)]=p)}),l}return n.default=n,Xd=n,Xd}var G_e=H_e();const $_e=Jn(G_e),J4=Z4("end"),fw=Z4("start");function Z4(e){return t;function t(i){const n=i&&i.position&&i.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Y_e(e){const t=fw(e),i=J4(e);if(t&&i)return{start:t,end:i}}function xu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?EL(e.position):"start"in e||"end"in e?EL(e):"line"in e||"column"in e?V0(e):""}function V0(e){return NL(e&&e.line)+":"+NL(e&&e.column)}function EL(e){return V0(e&&e.start)+"-"+V0(e&&e.end)}function NL(e){return e&&typeof e=="number"?e:1}class un extends Error{constructor(t,i,n){super(),typeof i=="string"&&(n=i,i=void 0);let r="",s={},l=!1;if(i&&("line"in i&&"column"in i?s={place:i}:"start"in i&&"end"in i?s={place:i}:"type"in i?s={ancestors:[i],place:i.position}:s={...i}),typeof t=="string"?r=t:!s.cause&&t&&(l=!0,r=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const p=n.indexOf(":");p===-1?s.ruleId=n:(s.source=n.slice(0,p),s.ruleId=n.slice(p+1))}if(!s.place&&s.ancestors&&s.ancestors){const p=s.ancestors[s.ancestors.length-1];p&&(s.place=p.position)}const d=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=d?d.line:void 0,this.name=xu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}un.prototype.file="";un.prototype.name="";un.prototype.reason="";un.prototype.message="";un.prototype.stack="";un.prototype.column=void 0;un.prototype.line=void 0;un.prototype.ancestors=void 0;un.prototype.cause=void 0;un.prototype.fatal=void 0;un.prototype.place=void 0;un.prototype.ruleId=void 0;un.prototype.source=void 0;const gw={}.hasOwnProperty,Q_e=new Map,X_e=/[A-Z]/g,J_e=new Set(["table","tbody","thead","tfoot","tr"]),Z_e=new Set(["td","th"]),eF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eve(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=lve(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=ove(i,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?pw:U_e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=tF(r,e,void 0);return s&&typeof s!="string"?s:r.create(e,r.Fragment,{children:s||void 0},void 0)}function tF(e,t,i){if(t.type==="element")return tve(e,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ive(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ave(e,t,i);if(t.type==="mdxjsEsm")return nve(e,t);if(t.type==="root")return rve(e,t,i);if(t.type==="text")return sve(e,t)}function tve(e,t,i){const n=e.schema;let r=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=pw,e.schema=r),e.ancestors.push(t);const s=nF(e,t.tagName,!1),l=cve(e,t);let d=mw(e,t);return J_e.has(t.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!P_e(p):!0})),iF(e,l,s,t),hw(l,d),e.ancestors.pop(),e.schema=n,e.create(t,s,l,i)}function ive(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Xu(e,t.position)}function nve(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xu(e,t.position)}function ave(e,t,i){const n=e.schema;let r=n;t.name==="svg"&&n.space==="html"&&(r=pw,e.schema=r),e.ancestors.push(t);const s=t.name===null?e.Fragment:nF(e,t.name,!0),l=dve(e,t),d=mw(e,t);return iF(e,l,s,t),hw(l,d),e.ancestors.pop(),e.schema=n,e.create(t,s,l,i)}function rve(e,t,i){const n={};return hw(n,mw(e,t)),e.create(t,e.Fragment,n,i)}function sve(e,t){return t.value}function iF(e,t,i,n){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(t.node=n)}function hw(e,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(e.children=i)}}function ove(e,t,i){return n;function n(r,s,l,d){const u=Array.isArray(l.children)?i:t;return d?u(s,l,d):u(s,l)}}function lve(e,t){return i;function i(n,r,s,l){const d=Array.isArray(s.children),p=fw(n);return t(r,s,l,d,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function cve(e,t){const i={};let n,r;for(r in t.properties)if(r!=="children"&&gw.call(t.properties,r)){const s=uve(e,r,t.properties[r]);if(s){const[l,d]=s;e.tableCellAlignToStyle&&l==="align"&&typeof d=="string"&&Z_e.has(t.tagName)?n=d:i[l]=d}}if(n){const s=i.style||(i.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return i}function dve(e,t){const i={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const l=s.expression;l.type;const d=l.properties[0];d.type,Object.assign(i,e.evaluater.evaluateExpression(d.argument))}else Xu(e,t.position);else{const r=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const d=n.value.data.estree.body[0];d.type,s=e.evaluater.evaluateExpression(d.expression)}else Xu(e,t.position);else s=n.value===null?!0:n.value;i[r]=s}return i}function mw(e,t){const i=[];let n=-1;const r=e.passKeys?new Map:Q_e;for(;++n<t.children.length;){const s=t.children[n];let l;if(e.passKeys){const p=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(p){const u=r.get(p)||0;l=p+"-"+u,r.set(p,u+1)}}const d=tF(e,s,l);d!==void 0&&i.push(d)}return i}function uve(e,t,i){const n=K_e(e.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=n.commaSeparated?T_e(i):q_e(i)),n.property==="style"){let r=typeof i=="object"?i:pve(e,String(i));return e.stylePropertyNameCase==="css"&&(r=fve(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&n.space?R_e[n.property]||n.property:n.attribute,i]}}function pve(e,t){try{return $_e(t,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const n=i,r=new un("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=eF+"#cannot-parse-style-attribute",r}}function nF(e,t,i){let n;if(!i)n={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let s=-1,l;for(;++s<r.length;){const d=bL(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};l=l?{type:"MemberExpression",object:l,property:d,computed:!!(s&&d.type==="Literal"),optional:!1}:d}n=l}else n=bL(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const r=n.value;return gw.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(n);Xu(e)}function Xu(e,t){const i=new un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=eF+"#cannot-handle-mdx-estrees-without-createevaluater",i}function fve(e){const t={};let i;for(i in e)gw.call(e,i)&&(t[gve(i)]=e[i]);return t}function gve(e){let t=e.replace(X_e,hve);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function hve(e){return"-"+e.toLowerCase()}const ax={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mve={};function yve(e,t){const i=mve,n=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,r=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return aF(e,n,r)}function aF(e,t,i){if(_ve(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ML(e.children,t,i)}return Array.isArray(e)?ML(e,t,i):""}function ML(e,t,i){const n=[];let r=-1;for(;++r<e.length;)n[r]=aF(e[r],t,i);return n.join("")}function _ve(e){return!!(e&&typeof e=="object")}const PL=document.createElement("i");function yw(e){const t="&"+e+";";PL.innerHTML=t;const i=PL.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===t?!1:i}function cr(e,t,i,n){const r=e.length;let s=0,l;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,i=i>0?i:0,n.length<1e4)l=Array.from(n),l.unshift(t,i),e.splice(...l);else for(i&&e.splice(t,i);s<n.length;)l=n.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function pa(e,t){return e.length>0?(cr(e,e.length,0,t),e):t}const IL={}.hasOwnProperty;function vve(e){const t={};let i=-1;for(;++i<e.length;)bve(t,e[i]);return t}function bve(e,t){let i;for(i in t){const r=(IL.call(e,i)?e[i]:void 0)||(e[i]={}),s=t[i];let l;if(s)for(l in s){IL.call(r,l)||(r[l]=[]);const d=s[l];xve(r[l],Array.isArray(d)?d:d?[d]:[])}}}function xve(e,t){let i=-1;const n=[];for(;++i<t.length;)(t[i].add==="after"?e:n).push(t[i]);cr(e,0,0,n)}function rF(e,t){const i=Number.parseInt(e,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function cc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Za=Hs(/[A-Za-z]/),Yn=Hs(/[\dA-Za-z]/),kve=Hs(/[#-'*+\--9=?A-Z^-~]/);function H0(e){return e!==null&&(e<32||e===127)}const G0=Hs(/\d/),Sve=Hs(/[\dA-Fa-f]/),wve=Hs(/[!-/:-@[-`{-~]/);function nt(e){return e!==null&&e<-2}function Ln(e){return e!==null&&(e<0||e===32)}function Ct(e){return e===-2||e===-1||e===32}const Cve=Hs(new RegExp("\\p{P}|\\p{S}","u")),Tve=Hs(/\s/);function Hs(e){return t;function t(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function Wc(e){const t=[];let i=-1,n=0,r=0;for(;++i<e.length;){const s=e.charCodeAt(i);let l="";if(s===37&&Yn(e.charCodeAt(i+1))&&Yn(e.charCodeAt(i+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const d=e.charCodeAt(i+1);s<56320&&d>56319&&d<57344?(l=String.fromCharCode(s,d),r=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(n,i),encodeURIComponent(l)),n=i+r+1,l=""),r&&(i+=r,r=0)}return t.join("")+e.slice(n)}function Ft(e,t,i,n){const r=n?n-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(p){return Ct(p)?(e.enter(i),d(p)):t(p)}function d(p){return Ct(p)&&s++<r?(e.consume(p),d):(e.exit(i),t(p))}}const Ave={tokenize:Eve};function Eve(e){const t=e.attempt(this.parser.constructs.contentInitial,n,r);let i;return t;function n(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ft(e,t,"linePrefix")}function r(d){return e.enter("paragraph"),s(d)}function s(d){const p=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,l(d)}function l(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return nt(d)?(e.consume(d),e.exit("chunkText"),s):(e.consume(d),l)}}const Nve={tokenize:Mve},OL={tokenize:Pve};function Mve(e){const t=this,i=[];let n=0,r,s,l;return d;function d(E){if(n<i.length){const O=i[n];return t.containerState=O[1],e.attempt(O[0].continuation,p,u)(E)}return u(E)}function p(E){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&N();const O=t.events.length;let P=O,I;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){I=t.events[P][1].end;break}T(n);let D=O;for(;D<t.events.length;)t.events[D][1].end={...I},D++;return cr(t.events,P+1,0,t.events.slice(O)),t.events.length=D,u(E)}return d(E)}function u(E){if(n===i.length){if(!r)return y(E);if(r.currentConstruct&&r.currentConstruct.concrete)return S(E);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(OL,g,h)(E)}function g(E){return r&&N(),T(n),y(E)}function h(E){return t.parser.lazy[t.now().line]=n!==i.length,l=t.now().offset,S(E)}function y(E){return t.containerState={},e.attempt(OL,v,S)(E)}function v(E){return n++,i.push([t.currentConstruct,t.containerState]),y(E)}function S(E){if(E===null){r&&N(),T(0),e.consume(E);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),k(E)}function k(E){if(E===null){C(e.exit("chunkFlow"),!0),T(0),e.consume(E);return}return nt(E)?(e.consume(E),C(e.exit("chunkFlow")),n=0,t.interrupt=void 0,d):(e.consume(E),k)}function C(E,O){const P=t.sliceStream(E);if(O&&P.push(null),E.previous=s,s&&(s.next=E),s=E,r.defineSkip(E.start),r.write(P),t.parser.lazy[E.start.line]){let I=r.events.length;for(;I--;)if(r.events[I][1].start.offset<l&&(!r.events[I][1].end||r.events[I][1].end.offset>l))return;const D=t.events.length;let B=D,V,U;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(V){U=t.events[B][1].end;break}V=!0}for(T(n),I=D;I<t.events.length;)t.events[I][1].end={...U},I++;cr(t.events,B+1,0,t.events.slice(D)),t.events.length=I}}function T(E){let O=i.length;for(;O-- >E;){const P=i[O];t.containerState=P[1],P[0].exit.call(t,e)}i.length=E}function N(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}function Pve(e,t,i){return Ft(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function LL(e){if(e===null||Ln(e)||Tve(e))return 1;if(Cve(e))return 2}function _w(e,t,i){const n=[];let r=-1;for(;++r<e.length;){const s=e[r].resolveAll;s&&!n.includes(s)&&(t=s(t,i),n.push(s))}return t}const $0={name:"attention",resolveAll:Ive,tokenize:Ove};function Ive(e,t){let i=-1,n,r,s,l,d,p,u,g;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(n=i;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[n][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;p=e[n][1].end.offset-e[n][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const h={...e[n][1].end},y={...e[i][1].start};RL(h,-p),RL(y,p),l={type:p>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:y},s={type:p>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[i][1].start}},r={type:p>1?"strong":"emphasis",start:{...l.start},end:{...d.end}},e[n][1].end={...l.start},e[i][1].start={...d.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=pa(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=pa(u,[["enter",r,t],["enter",l,t],["exit",l,t],["enter",s,t]]),u=pa(u,_w(t.parser.constructs.insideSpan.null,e.slice(n+1,i),t)),u=pa(u,[["exit",s,t],["enter",d,t],["exit",d,t],["exit",r,t]]),e[i][1].end.offset-e[i][1].start.offset?(g=2,u=pa(u,[["enter",e[i][1],t],["exit",e[i][1],t]])):g=0,cr(e,n-1,i-n+3,u),i=n+u.length-g-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function Ove(e,t){const i=this.parser.constructs.attentionMarkers.null,n=this.previous,r=LL(n);let s;return l;function l(p){return s=p,e.enter("attentionSequence"),d(p)}function d(p){if(p===s)return e.consume(p),d;const u=e.exit("attentionSequence"),g=LL(p),h=!g||g===2&&r||i.includes(p),y=!r||r===2&&g||i.includes(n);return u._open=!!(s===42?h:h&&(r||!y)),u._close=!!(s===42?y:y&&(g||!h)),t(p)}}function RL(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Lve={name:"autolink",tokenize:Rve};function Rve(e,t,i){let n=0;return r;function r(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(v){return Za(v)?(e.consume(v),l):v===64?i(v):u(v)}function l(v){return v===43||v===45||v===46||Yn(v)?(n=1,d(v)):u(v)}function d(v){return v===58?(e.consume(v),n=0,p):(v===43||v===45||v===46||Yn(v))&&n++<32?(e.consume(v),d):(n=0,u(v))}function p(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||H0(v)?i(v):(e.consume(v),p)}function u(v){return v===64?(e.consume(v),g):kve(v)?(e.consume(v),u):i(v)}function g(v){return Yn(v)?h(v):i(v)}function h(v){return v===46?(e.consume(v),n=0,g):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):y(v)}function y(v){if((v===45||Yn(v))&&n++<63){const S=v===45?y:h;return e.consume(v),S}return i(v)}}const Pm={partial:!0,tokenize:Dve};function Dve(e,t,i){return n;function n(s){return Ct(s)?Ft(e,r,"linePrefix")(s):r(s)}function r(s){return s===null||nt(s)?t(s):i(s)}}const sF={continuation:{tokenize:Kve},exit:Fve,name:"blockQuote",tokenize:jve};function jve(e,t,i){const n=this;return r;function r(l){if(l===62){const d=n.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return i(l)}function s(l){return Ct(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function Kve(e,t,i){const n=this;return r;function r(l){return Ct(l)?Ft(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(sF,t,i)(l)}}function Fve(e){e.exit("blockQuote")}const oF={name:"characterEscape",tokenize:Bve};function Bve(e,t,i){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),r}function r(s){return wve(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(s)}}const lF={name:"characterReference",tokenize:Uve};function Uve(e,t,i){const n=this;let r=0,s,l;return d;function d(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),p}function p(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,l=Yn,g(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=Sve,g):(e.enter("characterReferenceValue"),s=7,l=G0,g(h))}function g(h){if(h===59&&r){const y=e.exit("characterReferenceValue");return l===Yn&&!yw(n.sliceSerialize(y))?i(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(h)&&r++<s?(e.consume(h),g):i(h)}}const DL={partial:!0,tokenize:zve},jL={concrete:!0,name:"codeFenced",tokenize:qve};function qve(e,t,i){const n=this,r={partial:!0,tokenize:P};let s=0,l=0,d;return p;function p(I){return u(I)}function u(I){const D=n.events[n.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,d=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(I)}function g(I){return I===d?(l++,e.consume(I),g):l<3?i(I):(e.exit("codeFencedFenceSequence"),Ct(I)?Ft(e,h,"whitespace")(I):h(I))}function h(I){return I===null||nt(I)?(e.exit("codeFencedFence"),n.interrupt?t(I):e.check(DL,k,O)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(I))}function y(I){return I===null||nt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(I)):Ct(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ft(e,v,"whitespace")(I)):I===96&&I===d?i(I):(e.consume(I),y)}function v(I){return I===null||nt(I)?h(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(I))}function S(I){return I===null||nt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(I)):I===96&&I===d?i(I):(e.consume(I),S)}function k(I){return e.attempt(r,O,C)(I)}function C(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),T}function T(I){return s>0&&Ct(I)?Ft(e,N,"linePrefix",s+1)(I):N(I)}function N(I){return I===null||nt(I)?e.check(DL,k,O)(I):(e.enter("codeFlowValue"),E(I))}function E(I){return I===null||nt(I)?(e.exit("codeFlowValue"),N(I)):(e.consume(I),E)}function O(I){return e.exit("codeFenced"),t(I)}function P(I,D,B){let V=0;return U;function U(se){return I.enter("lineEnding"),I.consume(se),I.exit("lineEnding"),W}function W(se){return I.enter("codeFencedFence"),Ct(se)?Ft(I,q,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):q(se)}function q(se){return se===d?(I.enter("codeFencedFenceSequence"),pe(se)):B(se)}function pe(se){return se===d?(V++,I.consume(se),pe):V>=l?(I.exit("codeFencedFenceSequence"),Ct(se)?Ft(I,X,"whitespace")(se):X(se)):B(se)}function X(se){return se===null||nt(se)?(I.exit("codeFencedFence"),D(se)):B(se)}}}function zve(e,t,i){const n=this;return r;function r(l){return l===null?i(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return n.parser.lazy[n.now().line]?i(l):t(l)}}const rx={name:"codeIndented",tokenize:Vve},Wve={partial:!0,tokenize:Hve};function Vve(e,t,i){const n=this;return r;function r(u){return e.enter("codeIndented"),Ft(e,s,"linePrefix",5)(u)}function s(u){const g=n.events[n.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?l(u):i(u)}function l(u){return u===null?p(u):nt(u)?e.attempt(Wve,l,p)(u):(e.enter("codeFlowValue"),d(u))}function d(u){return u===null||nt(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),d)}function p(u){return e.exit("codeIndented"),t(u)}}function Hve(e,t,i){const n=this;return r;function r(l){return n.parser.lazy[n.now().line]?i(l):nt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),r):Ft(e,s,"linePrefix",5)(l)}function s(l){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(l):nt(l)?r(l):i(l)}}const Gve={name:"codeText",previous:Yve,resolve:$ve,tokenize:Qve};function $ve(e){let t=e.length-4,i=3,n,r;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=i;++n<t;)if(e[n][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(n=i-1,t++;++n<=t;)r===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(r=n):(n===t||e[n][1].type==="lineEnding")&&(e[r][1].type="codeTextData",n!==r+2&&(e[r][1].end=e[n-1][1].end,e.splice(r+2,n-r-2),t-=n-r-2,n=r+2),r=void 0);return e}function Yve(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Qve(e,t,i){let n=0,r,s;return l;function l(h){return e.enter("codeText"),e.enter("codeTextSequence"),d(h)}function d(h){return h===96?(e.consume(h),n++,d):(e.exit("codeTextSequence"),p(h))}function p(h){return h===null?i(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),p):h===96?(s=e.enter("codeTextSequence"),r=0,g(h)):nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),p):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||nt(h)?(e.exit("codeTextData"),p(h)):(e.consume(h),u)}function g(h){return h===96?(e.consume(h),r++,g):r===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}class Xve{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const n=i??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,i,n){const r=i||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Jd(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Jd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Jd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);Jd(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Jd(this.left,i.reverse())}}}function Jd(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function cF(e){const t={};let i=-1,n,r,s,l,d,p,u;const g=new Xve(e);for(;++i<g.length;){for(;i in t;)i=t[i];if(n=g.get(i),i&&n[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(p=n[1]._tokenizer.events,s=0,s<p.length&&p[s][1].type==="lineEndingBlank"&&(s+=2),s<p.length&&p[s][1].type==="content"))for(;++s<p.length&&p[s][1].type!=="content";)p[s][1].type==="chunkText"&&(p[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Jve(g,i)),i=t[i],u=!0);else if(n[1]._container){for(s=i,r=void 0;s--;)if(l=g.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(g.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(n[1].end={...g.get(r)[1].start},d=g.slice(r,i),d.unshift(n),g.splice(r,i-r+1,d))}}return cr(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!u}function Jve(e,t){const i=e.get(t)[1],n=e.get(t)[2];let r=t-1;const s=[];let l=i._tokenizer;l||(l=n.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const d=l.events,p=[],u={};let g,h,y=-1,v=i,S=0,k=0;const C=[k];for(;v;){for(;e.get(++r)[1]!==v;);s.push(r),v._tokenizer||(g=n.sliceStream(v),v.next||g.push(null),h&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(g),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),h=v,v=v.next}for(v=i;++y<d.length;)d[y][0]==="exit"&&d[y-1][0]==="enter"&&d[y][1].type===d[y-1][1].type&&d[y][1].start.line!==d[y][1].end.line&&(k=y+1,C.push(k),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),y=C.length;y--;){const T=d.slice(C[y],C[y+1]),N=s.pop();p.push([N,N+T.length-1]),e.splice(N,2,T)}for(p.reverse(),y=-1;++y<p.length;)u[S+p[y][0]]=S+p[y][1],S+=p[y][1]-p[y][0]-1;return u}const Zve={resolve:tbe,tokenize:ibe},ebe={partial:!0,tokenize:nbe};function tbe(e){return cF(e),e}function ibe(e,t){let i;return n;function n(d){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),r(d)}function r(d){return d===null?s(d):nt(d)?e.check(ebe,l,s)(d):(e.consume(d),r)}function s(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function l(d){return e.consume(d),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,r}}function nbe(e,t,i){const n=this;return r;function r(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ft(e,s,"linePrefix")}function s(l){if(l===null||nt(l))return i(l);const d=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(l):e.interrupt(n.parser.constructs.flow,i,t)(l)}}function dF(e,t,i,n,r,s,l,d,p){const u=p||Number.POSITIVE_INFINITY;let g=0;return h;function h(T){return T===60?(e.enter(n),e.enter(r),e.enter(s),e.consume(T),e.exit(s),y):T===null||T===32||T===41||H0(T)?i(T):(e.enter(n),e.enter(l),e.enter(d),e.enter("chunkString",{contentType:"string"}),k(T))}function y(T){return T===62?(e.enter(s),e.consume(T),e.exit(s),e.exit(r),e.exit(n),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===62?(e.exit("chunkString"),e.exit(d),y(T)):T===null||T===60||nt(T)?i(T):(e.consume(T),T===92?S:v)}function S(T){return T===60||T===62||T===92?(e.consume(T),v):v(T)}function k(T){return!g&&(T===null||T===41||Ln(T))?(e.exit("chunkString"),e.exit(d),e.exit(l),e.exit(n),t(T)):g<u&&T===40?(e.consume(T),g++,k):T===41?(e.consume(T),g--,k):T===null||T===32||T===40||H0(T)?i(T):(e.consume(T),T===92?C:k)}function C(T){return T===40||T===41||T===92?(e.consume(T),k):k(T)}}function uF(e,t,i,n,r,s){const l=this;let d=0,p;return u;function u(v){return e.enter(n),e.enter(r),e.consume(v),e.exit(r),e.enter(s),g}function g(v){return d>999||v===null||v===91||v===93&&!p||v===94&&!d&&"_hiddenFootnoteSupport"in l.parser.constructs?i(v):v===93?(e.exit(s),e.enter(r),e.consume(v),e.exit(r),e.exit(n),t):nt(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===null||v===91||v===93||nt(v)||d++>999?(e.exit("chunkString"),g(v)):(e.consume(v),p||(p=!Ct(v)),v===92?y:h)}function y(v){return v===91||v===92||v===93?(e.consume(v),d++,h):h(v)}}function pF(e,t,i,n,r,s){let l;return d;function d(y){return y===34||y===39||y===40?(e.enter(n),e.enter(r),e.consume(y),e.exit(r),l=y===40?41:y,p):i(y)}function p(y){return y===l?(e.enter(r),e.consume(y),e.exit(r),e.exit(n),t):(e.enter(s),u(y))}function u(y){return y===l?(e.exit(s),p(l)):y===null?i(y):nt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Ft(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(y))}function g(y){return y===l||y===null||nt(y)?(e.exit("chunkString"),u(y)):(e.consume(y),y===92?h:g)}function h(y){return y===l||y===92?(e.consume(y),g):g(y)}}function ku(e,t){let i;return n;function n(r){return nt(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),i=!0,n):Ct(r)?Ft(e,n,i?"linePrefix":"lineSuffix")(r):t(r)}}const abe={name:"definition",tokenize:sbe},rbe={partial:!0,tokenize:obe};function sbe(e,t,i){const n=this;let r;return s;function s(v){return e.enter("definition"),l(v)}function l(v){return uF.call(n,e,d,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function d(v){return r=cc(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),p):i(v)}function p(v){return Ln(v)?ku(e,u)(v):u(v)}function u(v){return dF(e,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function g(v){return e.attempt(rbe,h,h)(v)}function h(v){return Ct(v)?Ft(e,y,"whitespace")(v):y(v)}function y(v){return v===null||nt(v)?(e.exit("definition"),n.parser.defined.push(r),t(v)):i(v)}}function obe(e,t,i){return n;function n(d){return Ln(d)?ku(e,r)(d):i(d)}function r(d){return pF(e,s,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function s(d){return Ct(d)?Ft(e,l,"whitespace")(d):l(d)}function l(d){return d===null||nt(d)?t(d):i(d)}}const lbe={name:"hardBreakEscape",tokenize:cbe};function cbe(e,t,i){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),r}function r(s){return nt(s)?(e.exit("hardBreakEscape"),t(s)):i(s)}}const dbe={name:"headingAtx",resolve:ube,tokenize:pbe};function ube(e,t){let i=e.length-2,n=3,r,s;return e[n][1].type==="whitespace"&&(n+=2),i-2>n&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(n===i-1||i-4>n&&e[i-2][1].type==="whitespace")&&(i-=n+1===i?2:4),i>n&&(r={type:"atxHeadingText",start:e[n][1].start,end:e[i][1].end},s={type:"chunkText",start:e[n][1].start,end:e[i][1].end,contentType:"text"},cr(e,n,i-n+1,[["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t]])),e}function pbe(e,t,i){let n=0;return r;function r(g){return e.enter("atxHeading"),s(g)}function s(g){return e.enter("atxHeadingSequence"),l(g)}function l(g){return g===35&&n++<6?(e.consume(g),l):g===null||Ln(g)?(e.exit("atxHeadingSequence"),d(g)):i(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),p(g)):g===null||nt(g)?(e.exit("atxHeading"),t(g)):Ct(g)?Ft(e,d,"whitespace")(g):(e.enter("atxHeadingText"),u(g))}function p(g){return g===35?(e.consume(g),p):(e.exit("atxHeadingSequence"),d(g))}function u(g){return g===null||g===35||Ln(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),u)}}const fbe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KL=["pre","script","style","textarea"],gbe={concrete:!0,name:"htmlFlow",resolveTo:ybe,tokenize:_be},hbe={partial:!0,tokenize:bbe},mbe={partial:!0,tokenize:vbe};function ybe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _be(e,t,i){const n=this;let r,s,l,d,p;return u;function u(R){return g(R)}function g(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),h}function h(R){return R===33?(e.consume(R),y):R===47?(e.consume(R),s=!0,k):R===63?(e.consume(R),r=3,n.interrupt?t:F):Za(R)?(e.consume(R),l=String.fromCharCode(R),C):i(R)}function y(R){return R===45?(e.consume(R),r=2,v):R===91?(e.consume(R),r=5,d=0,S):Za(R)?(e.consume(R),r=4,n.interrupt?t:F):i(R)}function v(R){return R===45?(e.consume(R),n.interrupt?t:F):i(R)}function S(R){const fe="CDATA[";return R===fe.charCodeAt(d++)?(e.consume(R),d===fe.length?n.interrupt?t:q:S):i(R)}function k(R){return Za(R)?(e.consume(R),l=String.fromCharCode(R),C):i(R)}function C(R){if(R===null||R===47||R===62||Ln(R)){const fe=R===47,je=l.toLowerCase();return!fe&&!s&&KL.includes(je)?(r=1,n.interrupt?t(R):q(R)):fbe.includes(l.toLowerCase())?(r=6,fe?(e.consume(R),T):n.interrupt?t(R):q(R)):(r=7,n.interrupt&&!n.parser.lazy[n.now().line]?i(R):s?N(R):E(R))}return R===45||Yn(R)?(e.consume(R),l+=String.fromCharCode(R),C):i(R)}function T(R){return R===62?(e.consume(R),n.interrupt?t:q):i(R)}function N(R){return Ct(R)?(e.consume(R),N):U(R)}function E(R){return R===47?(e.consume(R),U):R===58||R===95||Za(R)?(e.consume(R),O):Ct(R)?(e.consume(R),E):U(R)}function O(R){return R===45||R===46||R===58||R===95||Yn(R)?(e.consume(R),O):P(R)}function P(R){return R===61?(e.consume(R),I):Ct(R)?(e.consume(R),P):E(R)}function I(R){return R===null||R===60||R===61||R===62||R===96?i(R):R===34||R===39?(e.consume(R),p=R,D):Ct(R)?(e.consume(R),I):B(R)}function D(R){return R===p?(e.consume(R),p=null,V):R===null||nt(R)?i(R):(e.consume(R),D)}function B(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Ln(R)?P(R):(e.consume(R),B)}function V(R){return R===47||R===62||Ct(R)?E(R):i(R)}function U(R){return R===62?(e.consume(R),W):i(R)}function W(R){return R===null||nt(R)?q(R):Ct(R)?(e.consume(R),W):i(R)}function q(R){return R===45&&r===2?(e.consume(R),K):R===60&&r===1?(e.consume(R),z):R===62&&r===4?(e.consume(R),j):R===63&&r===3?(e.consume(R),F):R===93&&r===5?(e.consume(R),de):nt(R)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(hbe,Z,pe)(R)):R===null||nt(R)?(e.exit("htmlFlowData"),pe(R)):(e.consume(R),q)}function pe(R){return e.check(mbe,X,Z)(R)}function X(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),se}function se(R){return R===null||nt(R)?pe(R):(e.enter("htmlFlowData"),q(R))}function K(R){return R===45?(e.consume(R),F):q(R)}function z(R){return R===47?(e.consume(R),l="",Q):q(R)}function Q(R){if(R===62){const fe=l.toLowerCase();return KL.includes(fe)?(e.consume(R),j):q(R)}return Za(R)&&l.length<8?(e.consume(R),l+=String.fromCharCode(R),Q):q(R)}function de(R){return R===93?(e.consume(R),F):q(R)}function F(R){return R===62?(e.consume(R),j):R===45&&r===2?(e.consume(R),F):q(R)}function j(R){return R===null||nt(R)?(e.exit("htmlFlowData"),Z(R)):(e.consume(R),j)}function Z(R){return e.exit("htmlFlow"),t(R)}}function vbe(e,t,i){const n=this;return r;function r(l){return nt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):i(l)}function s(l){return n.parser.lazy[n.now().line]?i(l):t(l)}}function bbe(e,t,i){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Pm,t,i)}}const xbe={name:"htmlText",tokenize:kbe};function kbe(e,t,i){const n=this;let r,s,l;return d;function d(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),p}function p(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),P):F===63?(e.consume(F),E):Za(F)?(e.consume(F),B):i(F)}function u(F){return F===45?(e.consume(F),g):F===91?(e.consume(F),s=0,S):Za(F)?(e.consume(F),N):i(F)}function g(F){return F===45?(e.consume(F),v):i(F)}function h(F){return F===null?i(F):F===45?(e.consume(F),y):nt(F)?(l=h,z(F)):(e.consume(F),h)}function y(F){return F===45?(e.consume(F),v):h(F)}function v(F){return F===62?K(F):F===45?y(F):h(F)}function S(F){const j="CDATA[";return F===j.charCodeAt(s++)?(e.consume(F),s===j.length?k:S):i(F)}function k(F){return F===null?i(F):F===93?(e.consume(F),C):nt(F)?(l=k,z(F)):(e.consume(F),k)}function C(F){return F===93?(e.consume(F),T):k(F)}function T(F){return F===62?K(F):F===93?(e.consume(F),T):k(F)}function N(F){return F===null||F===62?K(F):nt(F)?(l=N,z(F)):(e.consume(F),N)}function E(F){return F===null?i(F):F===63?(e.consume(F),O):nt(F)?(l=E,z(F)):(e.consume(F),E)}function O(F){return F===62?K(F):E(F)}function P(F){return Za(F)?(e.consume(F),I):i(F)}function I(F){return F===45||Yn(F)?(e.consume(F),I):D(F)}function D(F){return nt(F)?(l=D,z(F)):Ct(F)?(e.consume(F),D):K(F)}function B(F){return F===45||Yn(F)?(e.consume(F),B):F===47||F===62||Ln(F)?V(F):i(F)}function V(F){return F===47?(e.consume(F),K):F===58||F===95||Za(F)?(e.consume(F),U):nt(F)?(l=V,z(F)):Ct(F)?(e.consume(F),V):K(F)}function U(F){return F===45||F===46||F===58||F===95||Yn(F)?(e.consume(F),U):W(F)}function W(F){return F===61?(e.consume(F),q):nt(F)?(l=W,z(F)):Ct(F)?(e.consume(F),W):V(F)}function q(F){return F===null||F===60||F===61||F===62||F===96?i(F):F===34||F===39?(e.consume(F),r=F,pe):nt(F)?(l=q,z(F)):Ct(F)?(e.consume(F),q):(e.consume(F),X)}function pe(F){return F===r?(e.consume(F),r=void 0,se):F===null?i(F):nt(F)?(l=pe,z(F)):(e.consume(F),pe)}function X(F){return F===null||F===34||F===39||F===60||F===61||F===96?i(F):F===47||F===62||Ln(F)?V(F):(e.consume(F),X)}function se(F){return F===47||F===62||Ln(F)?V(F):i(F)}function K(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):i(F)}function z(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),Q}function Q(F){return Ct(F)?Ft(e,de,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):de(F)}function de(F){return e.enter("htmlTextData"),l(F)}}const vw={name:"labelEnd",resolveAll:Tbe,resolveTo:Abe,tokenize:Ebe},Sbe={tokenize:Nbe},wbe={tokenize:Mbe},Cbe={tokenize:Pbe};function Tbe(e){let t=-1;const i=[];for(;++t<e.length;){const n=e[t][1];if(i.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const r=n.type==="labelImage"?4:2;n.type="data",t+=r}}return e.length!==i.length&&cr(e,0,e.length,i),e}function Abe(e,t){let i=e.length,n=0,r,s,l,d;for(;i--;)if(r=e[i][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[i][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(e[i][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=i,r.type!=="labelLink")){n=2;break}}else r.type==="labelEnd"&&(l=i);const p={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},g={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[l-2][1].start}};return d=[["enter",p,t],["enter",u,t]],d=pa(d,e.slice(s+1,s+n+3)),d=pa(d,[["enter",g,t]]),d=pa(d,_w(t.parser.constructs.insideSpan.null,e.slice(s+n+4,l-3),t)),d=pa(d,[["exit",g,t],e[l-2],e[l-1],["exit",u,t]]),d=pa(d,e.slice(l+1)),d=pa(d,[["exit",p,t]]),cr(e,s,e.length,d),e}function Ebe(e,t,i){const n=this;let r=n.events.length,s,l;for(;r--;)if((n.events[r][1].type==="labelImage"||n.events[r][1].type==="labelLink")&&!n.events[r][1]._balanced){s=n.events[r][1];break}return d;function d(y){return s?s._inactive?h(y):(l=n.parser.defined.includes(cc(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),p):i(y)}function p(y){return y===40?e.attempt(Sbe,g,l?g:h)(y):y===91?e.attempt(wbe,g,l?u:h)(y):l?g(y):h(y)}function u(y){return e.attempt(Cbe,g,h)(y)}function g(y){return t(y)}function h(y){return s._balanced=!0,i(y)}}function Nbe(e,t,i){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),r}function r(h){return Ln(h)?ku(e,s)(h):s(h)}function s(h){return h===41?g(h):dF(e,l,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function l(h){return Ln(h)?ku(e,p)(h):g(h)}function d(h){return i(h)}function p(h){return h===34||h===39||h===40?pF(e,u,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):g(h)}function u(h){return Ln(h)?ku(e,g)(h):g(h)}function g(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):i(h)}}function Mbe(e,t,i){const n=this;return r;function r(d){return uF.call(n,e,s,l,"reference","referenceMarker","referenceString")(d)}function s(d){return n.parser.defined.includes(cc(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(d):i(d)}function l(d){return i(d)}}function Pbe(e,t,i){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),r}function r(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):i(s)}}const Ibe={name:"labelStartImage",resolveAll:vw.resolveAll,tokenize:Obe};function Obe(e,t,i){const n=this;return r;function r(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),s}function s(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),l):i(d)}function l(d){return d===94&&"_hiddenFootnoteSupport"in n.parser.constructs?i(d):t(d)}}const Lbe={name:"labelStartLink",resolveAll:vw.resolveAll,tokenize:Rbe};function Rbe(e,t,i){const n=this;return r;function r(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?i(l):t(l)}}const sx={name:"lineEnding",tokenize:Dbe};function Dbe(e,t){return i;function i(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ft(e,t,"linePrefix")}}const wg={name:"thematicBreak",tokenize:jbe};function jbe(e,t,i){let n=0,r;return s;function s(u){return e.enter("thematicBreak"),l(u)}function l(u){return r=u,d(u)}function d(u){return u===r?(e.enter("thematicBreakSequence"),p(u)):n>=3&&(u===null||nt(u))?(e.exit("thematicBreak"),t(u)):i(u)}function p(u){return u===r?(e.consume(u),n++,p):(e.exit("thematicBreakSequence"),Ct(u)?Ft(e,d,"whitespace")(u):d(u))}}const En={continuation:{tokenize:Ube},exit:zbe,name:"list",tokenize:Bbe},Kbe={partial:!0,tokenize:Wbe},Fbe={partial:!0,tokenize:qbe};function Bbe(e,t,i){const n=this,r=n.events[n.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return d;function d(v){const S=n.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!n.containerState.marker||v===n.containerState.marker:G0(v)){if(n.containerState.type||(n.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(wg,i,u)(v):u(v);if(!n.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(v)}return i(v)}function p(v){return G0(v)&&++l<10?(e.consume(v),p):(!n.interrupt||l<2)&&(n.containerState.marker?v===n.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),u(v)):i(v)}function u(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||v,e.check(Pm,n.interrupt?i:g,e.attempt(Kbe,y,h))}function g(v){return n.containerState.initialBlankLine=!0,s++,y(v)}function h(v){return Ct(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),y):i(v)}function y(v){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function Ube(e,t,i){const n=this;return n.containerState._closeFlow=void 0,e.check(Pm,r,s);function r(d){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Ft(e,t,"listItemIndent",n.containerState.size+1)(d)}function s(d){return n.containerState.furtherBlankLines||!Ct(d)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(d)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(Fbe,t,l)(d))}function l(d){return n.containerState._closeFlow=!0,n.interrupt=void 0,Ft(e,e.attempt(En,t,i),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function qbe(e,t,i){const n=this;return Ft(e,r,"listItemIndent",n.containerState.size+1);function r(s){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(s):i(s)}}function zbe(e){e.exit(this.containerState.type)}function Wbe(e,t,i){const n=this;return Ft(e,r,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const l=n.events[n.events.length-1];return!Ct(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):i(s)}}const FL={name:"setextUnderline",resolveTo:Vbe,tokenize:Hbe};function Vbe(e,t){let i=e.length,n,r,s;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){n=i;break}e[i][1].type==="paragraph"&&(r=i)}else e[i][1].type==="content"&&e.splice(i,1),!s&&e[i][1].type==="definition"&&(s=i);const l={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",l,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=l,e.push(["exit",l,t]),e}function Hbe(e,t,i){const n=this;let r;return s;function s(u){let g=n.events.length,h;for(;g--;)if(n.events[g][1].type!=="lineEnding"&&n.events[g][1].type!=="linePrefix"&&n.events[g][1].type!=="content"){h=n.events[g][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),r=u,l(u)):i(u)}function l(u){return e.enter("setextHeadingLineSequence"),d(u)}function d(u){return u===r?(e.consume(u),d):(e.exit("setextHeadingLineSequence"),Ct(u)?Ft(e,p,"lineSuffix")(u):p(u))}function p(u){return u===null||nt(u)?(e.exit("setextHeadingLine"),t(u)):i(u)}}const Gbe={tokenize:$be};function $be(e){const t=this,i=e.attempt(Pm,n,e.attempt(this.parser.constructs.flowInitial,r,Ft(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Zve,r)),"linePrefix")));return i;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,i}}const Ybe={resolveAll:gF()},Qbe=fF("string"),Xbe=fF("text");function fF(e){return{resolveAll:gF(e==="text"?Jbe:void 0),tokenize:t};function t(i){const n=this,r=this.parser.constructs[e],s=i.attempt(r,l,d);return l;function l(g){return u(g)?s(g):d(g)}function d(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),p}function p(g){return u(g)?(i.exit("data"),s(g)):(i.consume(g),p)}function u(g){if(g===null)return!0;const h=r[g];let y=-1;if(h)for(;++y<h.length;){const v=h[y];if(!v.previous||v.previous.call(n,n.previous))return!0}return!1}}}function gF(e){return t;function t(i,n){let r=-1,s;for(;++r<=i.length;)s===void 0?i[r]&&i[r][1].type==="data"&&(s=r,r++):(!i[r]||i[r][1].type!=="data")&&(r!==s+2&&(i[s][1].end=i[r-1][1].end,i.splice(s+2,r-s-2),r=s+2),s=void 0);return e?e(i,n):i}}function Jbe(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const n=e[i-1][1],r=t.sliceStream(n);let s=r.length,l=-1,d=0,p;for(;s--;){const u=r[s];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)d++,l--;if(l)break;l=-1}else if(u===-2)p=!0,d++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&i===e.length&&(d=0),d){const u={type:i===e.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:n.start._bufferIndex+l,_index:n.start._index+s,line:n.end.line,column:n.end.column-d,offset:n.end.offset-d},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(i,0,["enter",u,t],["exit",u,t]),i+=2)}i++}return e}const Zbe={42:En,43:En,45:En,48:En,49:En,50:En,51:En,52:En,53:En,54:En,55:En,56:En,57:En,62:sF},exe={91:abe},txe={[-2]:rx,[-1]:rx,32:rx},ixe={35:dbe,42:wg,45:[FL,wg],60:gbe,61:FL,95:wg,96:jL,126:jL},nxe={38:lF,92:oF},axe={[-5]:sx,[-4]:sx,[-3]:sx,33:Ibe,38:lF,42:$0,60:[Lve,xbe],91:Lbe,92:[lbe,oF],93:vw,95:$0,96:Gve},rxe={null:[$0,Ybe]},sxe={null:[42,95]},oxe={null:[]},lxe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:sxe,contentInitial:exe,disable:oxe,document:Zbe,flow:ixe,flowInitial:txe,insideSpan:rxe,string:nxe,text:axe},Symbol.toStringTag,{value:"Module"}));function cxe(e,t,i){let n={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const r={},s=[];let l=[],d=[];const p={attempt:D(P),check:D(I),consume:N,enter:E,exit:O,interrupt:D(I,{interrupt:!0})},u={code:null,containerState:{},defineSkip:k,events:[],now:S,parser:e,previous:null,sliceSerialize:y,sliceStream:v,write:h};let g=t.tokenize.call(u,p);return t.resolveAll&&s.push(t),u;function h(W){return l=pa(l,W),C(),l[l.length-1]!==null?[]:(B(t,0),u.events=_w(s,u.events,u),u.events)}function y(W,q){return uxe(v(W),q)}function v(W){return dxe(l,W)}function S(){const{_bufferIndex:W,_index:q,line:pe,column:X,offset:se}=n;return{_bufferIndex:W,_index:q,line:pe,column:X,offset:se}}function k(W){r[W.line]=W.column,U()}function C(){let W;for(;n._index<l.length;){const q=l[n._index];if(typeof q=="string")for(W=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===W&&n._bufferIndex<q.length;)T(q.charCodeAt(n._bufferIndex));else T(q)}}function T(W){g=g(W)}function N(W){nt(W)?(n.line++,n.column=1,n.offset+=W===-3?2:1,U()):W!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=W}function E(W,q){const pe=q||{};return pe.type=W,pe.start=S(),u.events.push(["enter",pe,u]),d.push(pe),pe}function O(W){const q=d.pop();return q.end=S(),u.events.push(["exit",q,u]),q}function P(W,q){B(W,q.from)}function I(W,q){q.restore()}function D(W,q){return pe;function pe(X,se,K){let z,Q,de,F;return Array.isArray(X)?Z(X):"tokenize"in X?Z([X]):j(X);function j(le){return ae;function ae(ee){const $=ee!==null&&le[ee],Be=ee!==null&&le.null,Fe=[...Array.isArray($)?$:$?[$]:[],...Array.isArray(Be)?Be:Be?[Be]:[]];return Z(Fe)(ee)}}function Z(le){return z=le,Q=0,le.length===0?K:R(le[Q])}function R(le){return ae;function ae(ee){return F=V(),de=le,le.partial||(u.currentConstruct=le),le.name&&u.parser.constructs.disable.null.includes(le.name)?je():le.tokenize.call(q?Object.assign(Object.create(u),q):u,p,fe,je)(ee)}}function fe(le){return W(de,F),se}function je(le){return F.restore(),++Q<z.length?R(z[Q]):K}}}function B(W,q){W.resolveAll&&!s.includes(W)&&s.push(W),W.resolve&&cr(u.events,q,u.events.length-q,W.resolve(u.events.slice(q),u)),W.resolveTo&&(u.events=W.resolveTo(u.events,u))}function V(){const W=S(),q=u.previous,pe=u.currentConstruct,X=u.events.length,se=Array.from(d);return{from:X,restore:K};function K(){n=W,u.previous=q,u.currentConstruct=pe,u.events.length=X,d=se,U()}}function U(){n.line in r&&n.column<2&&(n.column=r[n.line],n.offset+=r[n.line]-1)}}function dxe(e,t){const i=t.start._index,n=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let l;if(i===r)l=[e[i].slice(n,s)];else{if(l=e.slice(i,r),n>-1){const d=l[0];typeof d=="string"?l[0]=d.slice(n):l.shift()}s>0&&l.push(e[r].slice(0,s))}return l}function uxe(e,t){let i=-1;const n=[];let r;for(;++i<e.length;){const s=e[i];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&r)continue;l=" ";break}default:l=String.fromCharCode(s)}r=s===-2,n.push(l)}return n.join("")}function pxe(e){const n={constructs:vve([lxe,...(e||{}).extensions||[]]),content:r(Ave),defined:[],document:r(Nve),flow:r(Gbe),lazy:{},string:r(Qbe),text:r(Xbe)};return n;function r(s){return l;function l(d){return cxe(n,s,d)}}}function fxe(e){for(;!cF(e););return e}const BL=/[\0\t\n\r]/g;function gxe(){let e=1,t="",i=!0,n;return r;function r(s,l,d){const p=[];let u,g,h,y,v;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),h=0,t="",i&&(s.charCodeAt(0)===65279&&h++,i=void 0);h<s.length;){if(BL.lastIndex=h,u=BL.exec(s),y=u&&u.index!==void 0?u.index:s.length,v=s.charCodeAt(y),!u){t=s.slice(h);break}if(v===10&&h===y&&n)p.push(-3),n=void 0;else switch(n&&(p.push(-5),n=void 0),h<y&&(p.push(s.slice(h,y)),e+=y-h),v){case 0:{p.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,p.push(-2);e++<g;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:n=!0,e=1}h=y+1}return d&&(n&&p.push(-5),t&&p.push(t),p.push(null)),p}}const hxe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mxe(e){return e.replace(hxe,yxe)}function yxe(e,t,i){if(t)return t;if(i.charCodeAt(0)===35){const r=i.charCodeAt(1),s=r===120||r===88;return rF(i.slice(s?2:1),s?16:10)}return yw(i)||e}const hF={}.hasOwnProperty;function _xe(e,t,i){return typeof t!="string"&&(i=t,t=void 0),vxe(i)(fxe(pxe(i).document().write(gxe()(e,t,!0))))}function vxe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(pn),autolinkProtocol:V,autolinkEmail:V,atxHeading:s(Xe),blockQuote:s(Be),characterEscape:V,characterReference:V,codeFenced:s(Fe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(Fe,l),codeText:s(ce,l),codeTextData:V,data:V,codeFlowValue:V,definition:s(H),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(Ve),hardBreakEscape:s(_t),hardBreakTrailing:s(_t),htmlFlow:s(At,l),htmlFlowData:V,htmlText:s(At,l),htmlTextData:V,image:s(Gt),label:l,link:s(pn),listItem:s(Ua),listItemValue:y,listOrdered:s(ka,h),listUnordered:s(ka),paragraph:s(Ke),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(Xe),strong:s(Ye),thematicBreak:s(at)},exit:{atxHeading:p(),atxHeadingSequence:P,autolink:p(),autolinkEmail:$,autolinkProtocol:ee,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:le,characterReference:ae,codeFenced:p(C),codeFencedFence:k,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:U,codeIndented:p(T),codeText:p(se),codeTextData:U,data:U,definition:p(),definitionDestinationString:O,definitionLabelString:N,definitionTitleString:E,emphasis:p(),hardBreakEscape:p(q),hardBreakTrailing:p(q),htmlFlow:p(pe),htmlFlowData:U,htmlText:p(X),htmlTextData:U,image:p(z),label:de,labelText:Q,lineEnding:W,link:p(K),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:fe,resourceDestinationString:F,resourceTitleString:j,resource:Z,setextHeading:p(B),setextHeadingLineSequence:D,setextHeadingText:I,strong:p(),thematicBreak:p()}};mF(t,(e||{}).mdastExtensions||[]);const i={};return n;function n(ue){let ve={type:"root",children:[]};const Qe={stack:[ve],tokenStack:[],config:t,enter:d,exit:u,buffer:l,resume:g,data:i},st=[];let et=-1;for(;++et<ue.length;)if(ue[et][1].type==="listOrdered"||ue[et][1].type==="listUnordered")if(ue[et][0]==="enter")st.push(et);else{const Yt=st.pop();et=r(ue,Yt,et)}for(et=-1;++et<ue.length;){const Yt=t[ue[et][0]];hF.call(Yt,ue[et][1].type)&&Yt[ue[et][1].type].call(Object.assign({sliceSerialize:ue[et][2].sliceSerialize},Qe),ue[et][1])}if(Qe.tokenStack.length>0){const Yt=Qe.tokenStack[Qe.tokenStack.length-1];(Yt[1]||UL).call(Qe,void 0,Yt[0])}for(ve.position={start:Ps(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Ps(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<t.transforms.length;)ve=t.transforms[et](ve)||ve;return ve}function r(ue,ve,Qe){let st=ve-1,et=-1,Yt=!1,Ci,Qt,Xt,tn;for(;++st<=Qe;){const Et=ue[st];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?et++:et--,tn=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(Ci&&!tn&&!et&&!Xt&&(Xt=st),tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tn=void 0}if(!et&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||et===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(Ci){let ea=st;for(Qt=void 0;ea--;){const fn=ue[ea];if(fn[1].type==="lineEnding"||fn[1].type==="lineEndingBlank"){if(fn[0]==="exit")continue;Qt&&(ue[Qt][1].type="lineEndingBlank",Yt=!0),fn[1].type="lineEnding",Qt=ea}else if(!(fn[1].type==="linePrefix"||fn[1].type==="blockQuotePrefix"||fn[1].type==="blockQuotePrefixWhitespace"||fn[1].type==="blockQuoteMarker"||fn[1].type==="listItemIndent"))break}Xt&&(!Qt||Xt<Qt)&&(Ci._spread=!0),Ci.end=Object.assign({},Qt?ue[Qt][1].start:Et[1].end),ue.splice(Qt||st,0,["exit",Ci,Et[2]]),st++,Qe++}if(Et[1].type==="listItemPrefix"){const ea={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};Ci=ea,ue.splice(st,0,["enter",ea,Et[2]]),st++,Qe++,Xt=void 0,tn=!0}}}return ue[ve][1]._spread=Yt,Qe}function s(ue,ve){return Qe;function Qe(st){d.call(this,ue(st),st),ve&&ve.call(this,st)}}function l(){this.stack.push({type:"fragment",children:[]})}function d(ue,ve,Qe){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([ve,Qe||void 0]),ue.position={start:Ps(ve.start),end:void 0}}function p(ue){return ve;function ve(Qe){ue&&ue.call(this,Qe),u.call(this,Qe)}}function u(ue,ve){const Qe=this.stack.pop(),st=this.tokenStack.pop();if(st)st[0].type!==ue.type&&(ve?ve.call(this,ue,st[0]):(st[1]||UL).call(this,ue,st[0]));else throw new Error("Cannot close `"+ue.type+"` ("+xu({start:ue.start,end:ue.end})+"): its not open");Qe.position.end=Ps(ue.end)}function g(){return yve(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function y(ue){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ue}function S(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ue}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue.replace(/(\r?\n|\r)$/g,"")}function N(ue){const ve=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=ve,Qe.identifier=cc(this.sliceSerialize(ue)).toLowerCase()}function E(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ue}function O(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ue}function P(ue){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Qe=this.sliceSerialize(ue).length;ve.depth=Qe}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function D(ue){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function V(ue){const Qe=this.stack[this.stack.length-1].children;let st=Qe[Qe.length-1];(!st||st.type!=="text")&&(st=Ze(),st.position={start:Ps(ue.start),end:void 0},Qe.push(st)),this.stack.push(st)}function U(ue){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ue),ve.position.end=Ps(ue.end)}function W(ue){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Qe=ve.children[ve.children.length-1];Qe.position.end=Ps(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ve.type)&&(V.call(this,ue),U.call(this,ue))}function q(){this.data.atHardBreak=!0}function pe(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue}function X(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue}function se(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue}function K(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=ve,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function z(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=ve,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function Q(ue){const ve=this.sliceSerialize(ue),Qe=this.stack[this.stack.length-2];Qe.label=mxe(ve),Qe.identifier=cc(ve).toLowerCase()}function de(){const ue=this.stack[this.stack.length-1],ve=this.resume(),Qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Qe.type==="link"){const st=ue.children;Qe.children=st}else Qe.alt=ve}function F(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ue}function j(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ue}function Z(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function fe(ue){const ve=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=ve,Qe.identifier=cc(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function je(ue){this.data.characterReferenceType=ue.type}function le(ue){const ve=this.sliceSerialize(ue),Qe=this.data.characterReferenceType;let st;Qe?(st=rF(ve,Qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):st=yw(ve);const et=this.stack[this.stack.length-1];et.value+=st}function ae(ue){const ve=this.stack.pop();ve.position.end=Ps(ue.end)}function ee(ue){U.call(this,ue);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ue)}function $(ue){U.call(this,ue);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ue)}function Be(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function ce(){return{type:"inlineCode",value:""}}function H(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ve(){return{type:"emphasis",children:[]}}function Xe(){return{type:"heading",depth:0,children:[]}}function _t(){return{type:"break"}}function At(){return{type:"html",value:""}}function Gt(){return{type:"image",title:null,url:"",alt:null}}function pn(){return{type:"link",title:null,url:"",children:[]}}function ka(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function Ua(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function Ye(){return{type:"strong",children:[]}}function Ze(){return{type:"text",value:""}}function at(){return{type:"thematicBreak"}}}function Ps(e){return{line:e.line,column:e.column,offset:e.offset}}function mF(e,t){let i=-1;for(;++i<t.length;){const n=t[i];Array.isArray(n)?mF(e,n):bxe(e,n)}}function bxe(e,t){let i;for(i in t)if(hF.call(t,i))switch(i){case"canContainEols":{const n=t[i];n&&e[i].push(...n);break}case"transforms":{const n=t[i];n&&e[i].push(...n);break}case"enter":case"exit":{const n=t[i];n&&Object.assign(e[i],n);break}}}function UL(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+xu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+xu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+xu({start:t.start,end:t.end})+") is still open")}function xxe(e){const t=this;t.parser=i;function i(n){return _xe(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kxe(e,t){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)}function Sxe(e,t){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:`
`}]}function wxe(e,t){const i=t.value?t.value+`
`:"",n={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(n.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:i}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function Cxe(e,t){const i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Txe(e,t){const i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Axe(e,t){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),r=Wc(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let l,d=e.footnoteCounts.get(n);d===void 0?(d=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=s+1,d+=1,e.footnoteCounts.set(n,d);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+r,id:i+"fnref-"+r+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,p);const u={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,u),e.applyData(t,u)}function Exe(e,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Nxe(e,t){if(e.options.allowDangerousHtml){const i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}}function yF(e,t){const i=t.referenceType;let n="]";if(i==="collapsed"?n+="[]":i==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const r=e.all(t),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=n:r.push({type:"text",value:n}),r}function Mxe(e,t){const i=String(t.identifier).toUpperCase(),n=e.definitionById.get(i);if(!n)return yF(e,t);const r={src:Wc(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const s={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,s),e.applyData(t,s)}function Pxe(e,t){const i={src:Wc(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const n={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,n),e.applyData(t,n)}function Ixe(e,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);const n={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,n),e.applyData(t,n)}function Oxe(e,t){const i=String(t.identifier).toUpperCase(),n=e.definitionById.get(i);if(!n)return yF(e,t);const r={href:Wc(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const s={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Lxe(e,t){const i={href:Wc(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const n={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rxe(e,t,i){const n=e.all(t),r=i?Dxe(i):_F(t),s={},l=[];if(typeof t.checked=="boolean"){const g=n[0];let h;g&&g.type==="element"&&g.tagName==="p"?h=g:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let d=-1;for(;++d<n.length;){const g=n[d];(r||d!==0||g.type!=="element"||g.tagName!=="p")&&l.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?l.push(...g.children):l.push(g)}const p=n[n.length-1];p&&(r||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,u),e.applyData(t,u)}function Dxe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const i=e.children;let n=-1;for(;!t&&++n<i.length;)t=_F(i[n])}return t}function _F(e){const t=e.spread;return t??e.children.length>1}function jxe(e,t){const i={},n=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++r<n.length;){const l=n[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function Kxe(e,t){const i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Fxe(e,t){const i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)}function Bxe(e,t){const i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Uxe(e,t){const i=e.all(t),n=i.shift(),r=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],l),r.push(l)}if(i.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},d=fw(t.children[1]),p=J4(t.children[t.children.length-1]);d&&p&&(l.position={start:d,end:p}),r.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function qxe(e,t,i){const n=i?i.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",l=i&&i.type==="table"?i.align:void 0,d=l?l.length:t.children.length;let p=-1;const u=[];for(;++p<d;){const h=t.children[p],y={},v=l?l[p]:void 0;v&&(y.align=v);let S={type:"element",tagName:s,properties:y,children:[]};h&&(S.children=e.all(h),e.patch(h,S),S=e.applyData(h,S)),u.push(S)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,g),e.applyData(t,g)}function zxe(e,t){const i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}const qL=9,zL=32;function Wxe(e){const t=String(e),i=/\r?\n|\r/g;let n=i.exec(t),r=0;const s=[];for(;n;)s.push(WL(t.slice(r,n.index),r>0,!0),n[0]),r=n.index+n[0].length,n=i.exec(t);return s.push(WL(t.slice(r),r>0,!1)),s.join("")}function WL(e,t,i){let n=0,r=e.length;if(t){let s=e.codePointAt(n);for(;s===qL||s===zL;)n++,s=e.codePointAt(n)}if(i){let s=e.codePointAt(r-1);for(;s===qL||s===zL;)r--,s=e.codePointAt(r-1)}return r>n?e.slice(n,r):""}function Vxe(e,t){const i={type:"text",value:Wxe(String(t.value))};return e.patch(t,i),e.applyData(t,i)}function Hxe(e,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)}const Gxe={blockquote:kxe,break:Sxe,code:wxe,delete:Cxe,emphasis:Txe,footnoteReference:Axe,heading:Exe,html:Nxe,imageReference:Mxe,image:Pxe,inlineCode:Ixe,linkReference:Oxe,link:Lxe,listItem:Rxe,list:jxe,paragraph:Kxe,root:Fxe,strong:Bxe,table:Uxe,tableCell:zxe,tableRow:qxe,text:Vxe,thematicBreak:Hxe,toml:ug,yaml:ug,definition:ug,footnoteDefinition:ug};function ug(){}const vF=-1,Im=0,Su=1,Ih=2,bw=3,xw=4,kw=5,Sw=6,bF=7,xF=8,VL=typeof self=="object"?self:globalThis,$xe=(e,t)=>{const i=(r,s)=>(e.set(s,r),r),n=r=>{if(e.has(r))return e.get(r);const[s,l]=t[r];switch(s){case Im:case vF:return i(l,r);case Su:{const d=i([],r);for(const p of l)d.push(n(p));return d}case Ih:{const d=i({},r);for(const[p,u]of l)d[n(p)]=n(u);return d}case bw:return i(new Date(l),r);case xw:{const{source:d,flags:p}=l;return i(new RegExp(d,p),r)}case kw:{const d=i(new Map,r);for(const[p,u]of l)d.set(n(p),n(u));return d}case Sw:{const d=i(new Set,r);for(const p of l)d.add(n(p));return d}case bF:{const{name:d,message:p}=l;return i(new VL[d](p),r)}case xF:return i(BigInt(l),r);case"BigInt":return i(Object(BigInt(l)),r);case"ArrayBuffer":return i(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:d}=new Uint8Array(l);return i(new DataView(d),l)}}return i(new VL[s](l),r)};return n},HL=e=>$xe(new Map,e)(0),Hl="",{toString:Yxe}={},{keys:Qxe}=Object,Zd=e=>{const t=typeof e;if(t!=="object"||!e)return[Im,t];const i=Yxe.call(e).slice(8,-1);switch(i){case"Array":return[Su,Hl];case"Object":return[Ih,Hl];case"Date":return[bw,Hl];case"RegExp":return[xw,Hl];case"Map":return[kw,Hl];case"Set":return[Sw,Hl];case"DataView":return[Su,i]}return i.includes("Array")?[Su,i]:i.includes("Error")?[bF,i]:[Ih,i]},pg=([e,t])=>e===Im&&(t==="function"||t==="symbol"),Xxe=(e,t,i,n)=>{const r=(l,d)=>{const p=n.push(l)-1;return i.set(d,p),p},s=l=>{if(i.has(l))return i.get(l);let[d,p]=Zd(l);switch(d){case Im:{let g=l;switch(p){case"bigint":d=xF,g=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return r([vF],l)}return r([d,g],l)}case Su:{if(p){let y=l;return p==="DataView"?y=new Uint8Array(l.buffer):p==="ArrayBuffer"&&(y=new Uint8Array(l)),r([p,[...y]],l)}const g=[],h=r([d,g],l);for(const y of l)g.push(s(y));return h}case Ih:{if(p)switch(p){case"BigInt":return r([p,l.toString()],l);case"Boolean":case"Number":case"String":return r([p,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const g=[],h=r([d,g],l);for(const y of Qxe(l))(e||!pg(Zd(l[y])))&&g.push([s(y),s(l[y])]);return h}case bw:return r([d,l.toISOString()],l);case xw:{const{source:g,flags:h}=l;return r([d,{source:g,flags:h}],l)}case kw:{const g=[],h=r([d,g],l);for(const[y,v]of l)(e||!(pg(Zd(y))||pg(Zd(v))))&&g.push([s(y),s(v)]);return h}case Sw:{const g=[],h=r([d,g],l);for(const y of l)(e||!pg(Zd(y)))&&g.push(s(y));return h}}const{message:u}=l;return r([d,{name:p,message:u}],l)};return s},GL=(e,{json:t,lossy:i}={})=>{const n=[];return Xxe(!(t||i),!!t,new Map,n)(e),n},Oh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?HL(GL(e,t)):structuredClone(e):(e,t)=>HL(GL(e,t));function Jxe(e,t){const i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function Zxe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function e0e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||Jxe,n=e.options.footnoteBackLabel||Zxe,r=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[p]);if(!u)continue;const g=e.all(u),h=String(u.identifier).toUpperCase(),y=Wc(h.toLowerCase());let v=0;const S=[],k=e.footnoteCounts.get(h);for(;k!==void 0&&++v<=k;){S.length>0&&S.push({type:"text",value:" "});let N=typeof i=="string"?i:i(p,v);typeof N=="string"&&(N={type:"text",value:N}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(p,v),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const C=g[g.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const N=C.children[C.children.length-1];N&&N.type==="text"?N.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...S)}else g.push(...S);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(g,!0)};e.patch(u,T),d.push(T)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Oh(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const kF=(function(e){if(e==null)return a0e;if(typeof e=="function")return Om(e);if(typeof e=="object")return Array.isArray(e)?t0e(e):i0e(e);if(typeof e=="string")return n0e(e);throw new Error("Expected function, string, or object as test")});function t0e(e){const t=[];let i=-1;for(;++i<e.length;)t[i]=kF(e[i]);return Om(n);function n(...r){let s=-1;for(;++s<t.length;)if(t[s].apply(this,r))return!0;return!1}}function i0e(e){const t=e;return Om(i);function i(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}function n0e(e){return Om(t);function t(i){return i&&i.type===e}}function Om(e){return t;function t(i,n,r){return!!(r0e(i)&&e.call(this,i,typeof n=="number"?n:void 0,r||void 0))}}function a0e(){return!0}function r0e(e){return e!==null&&typeof e=="object"&&"type"in e}const SF=[],s0e=!0,$L=!1,o0e="skip";function l0e(e,t,i,n){let r;typeof t=="function"&&typeof i!="function"?(n=i,i=t):r=t;const s=kF(r),l=n?-1:1;d(e,void 0,[])();function d(p,u,g){const h=p&&typeof p=="object"?p:{};if(typeof h.type=="string"){const v=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(p.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=SF,S,k,C;if((!t||s(p,u,g[g.length-1]||void 0))&&(v=c0e(i(p,g)),v[0]===$L))return v;if("children"in p&&p.children){const T=p;if(T.children&&v[0]!==o0e)for(k=(n?T.children.length:-1)+l,C=g.concat(T);k>-1&&k<T.children.length;){const N=T.children[k];if(S=d(N,k,C)(),S[0]===$L)return S;k=typeof S[1]=="number"?S[1]:k+l}}return v}}}function c0e(e){return Array.isArray(e)?e:typeof e=="number"?[s0e,e]:e==null?SF:[e]}function wF(e,t,i,n){let r,s,l;typeof t=="function"&&typeof i!="function"?(s=void 0,l=t,r=i):(s=t,l=i,r=n),l0e(e,s,d,r);function d(p,u){const g=u[u.length-1],h=g?g.children.indexOf(p):void 0;return l(p,h,g)}}const Y0={}.hasOwnProperty,d0e={};function u0e(e,t){const i=t||d0e,n=new Map,r=new Map,s=new Map,l={...Gxe,...i.handlers},d={all:u,applyData:f0e,definitionById:n,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:l,one:p,options:i,patch:p0e,wrap:h0e};return wF(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const h=g.type==="definition"?n:r,y=String(g.identifier).toUpperCase();h.has(y)||h.set(y,g)}}),d;function p(g,h){const y=g.type,v=d.handlers[y];if(Y0.call(d.handlers,y)&&v)return v(d,g,h);if(d.options.passThrough&&d.options.passThrough.includes(y)){if("children"in g){const{children:k,...C}=g,T=Oh(C);return T.children=d.all(g),T}return Oh(g)}return(d.options.unknownHandler||g0e)(d,g,h)}function u(g){const h=[];if("children"in g){const y=g.children;let v=-1;for(;++v<y.length;){const S=d.one(y[v],g);if(S){if(v&&y[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=YL(S.value)),!Array.isArray(S)&&S.type==="element")){const k=S.children[0];k&&k.type==="text"&&(k.value=YL(k.value))}Array.isArray(S)?h.push(...S):h.push(S)}}}return h}}function p0e(e,t){e.position&&(t.position=Y_e(e))}function f0e(e,t){let i=t;if(e&&e.data){const n=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(i.type==="element")i.tagName=n;else{const l="children"in i?i.children:[i];i={type:"element",tagName:n,properties:{},children:l}}i.type==="element"&&s&&Object.assign(i.properties,Oh(s)),"children"in i&&i.children&&r!==null&&r!==void 0&&(i.children=r)}return i}function g0e(e,t){const i=t.data||{},n="value"in t&&!(Y0.call(i,"hProperties")||Y0.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function h0e(e,t){const i=[];let n=-1;for(t&&i.push({type:"text",value:`
`});++n<e.length;)n&&i.push({type:"text",value:`
`}),i.push(e[n]);return t&&e.length>0&&i.push({type:"text",value:`
`}),i}function YL(e){let t=0,i=e.charCodeAt(t);for(;i===9||i===32;)t++,i=e.charCodeAt(t);return e.slice(t)}function QL(e,t){const i=u0e(e,t),n=i.one(e,void 0),r=e0e(i),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function m0e(e,t){return e&&"run"in e?async function(i,n){const r=QL(i,{file:n,...t});await e.run(r,n)}:function(i,n){return QL(i,{file:n,...e||t})}}function XL(e){if(e)throw e}var ox,JL;function y0e(){if(JL)return ox;JL=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var g=e.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!g&&!h)return!1;var y;for(y in u);return typeof y>"u"||e.call(u,y)},l=function(u,g){i&&g.name==="__proto__"?i(u,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):u[g.name]=g.newValue},d=function(u,g){if(g==="__proto__")if(e.call(u,g)){if(n)return n(u,g).value}else return;return u[g]};return ox=function p(){var u,g,h,y,v,S,k=arguments[0],C=1,T=arguments.length,N=!1;for(typeof k=="boolean"&&(N=k,k=arguments[1]||{},C=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});C<T;++C)if(u=arguments[C],u!=null)for(g in u)h=d(k,g),y=d(u,g),k!==y&&(N&&y&&(s(y)||(v=r(y)))?(v?(v=!1,S=h&&r(h)?h:[]):S=h&&s(h)?h:{},l(k,{name:g,newValue:p(N,S,y)})):typeof y<"u"&&l(k,{name:g,newValue:y}));return k},ox}var _0e=y0e();const lx=Jn(_0e);function Q0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function v0e(){const e=[],t={run:i,use:n};return t;function i(...r){let s=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);d(null,...r);function d(p,...u){const g=e[++s];let h=-1;if(p){l(p);return}for(;++h<r.length;)(u[h]===null||u[h]===void 0)&&(u[h]=r[h]);r=u,g?b0e(g,d)(...u):l(null,...u)}}function n(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function b0e(e,t){let i;return n;function n(...l){const d=e.length>l.length;let p;d&&l.push(r);try{p=e.apply(this,l)}catch(u){const g=u;if(d&&i)throw g;return r(g)}d||(p&&p.then&&typeof p.then=="function"?p.then(s,r):p instanceof Error?r(p):s(p))}function r(l,...d){i||(i=!0,t(l,...d))}function s(l){r(null,l)}}const Xa={basename:x0e,dirname:k0e,extname:S0e,join:w0e,sep:"/"};function x0e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Cp(e);let i=0,n=-1,r=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(s){i=r+1;break}}else n<0&&(s=!0,n=r+1);return n<0?"":e.slice(i,n)}if(t===e)return"";let l=-1,d=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(s){i=r+1;break}}else l<0&&(s=!0,l=r+1),d>-1&&(e.codePointAt(r)===t.codePointAt(d--)?d<0&&(n=r):(d=-1,n=l));return i===n?n=l:n<0&&(n=e.length),e.slice(i,n)}function k0e(e){if(Cp(e),e.length===0)return".";let t=-1,i=e.length,n;for(;--i;)if(e.codePointAt(i)===47){if(n){t=i;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function S0e(e){Cp(e);let t=e.length,i=-1,n=0,r=-1,s=0,l;for(;t--;){const d=e.codePointAt(t);if(d===47){if(l){n=t+1;break}continue}i<0&&(l=!0,i=t+1),d===46?r<0?r=t:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||i<0||s===0||s===1&&r===i-1&&r===n+1?"":e.slice(r,i)}function w0e(...e){let t=-1,i;for(;++t<e.length;)Cp(e[t]),e[t]&&(i=i===void 0?e[t]:i+"/"+e[t]);return i===void 0?".":C0e(i)}function C0e(e){Cp(e);const t=e.codePointAt(0)===47;let i=T0e(e,!t);return i.length===0&&!t&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),t?"/"+i:i}function T0e(e,t){let i="",n=0,r=-1,s=0,l=-1,d,p;for(;++l<=e.length;){if(l<e.length)d=e.codePointAt(l);else{if(d===47)break;d=47}if(d===47){if(!(r===l-1||s===1))if(r!==l-1&&s===2){if(i.length<2||n!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",n=0):(i=i.slice(0,p),n=i.length-1-i.lastIndexOf("/")),r=l,s=0;continue}}else if(i.length>0){i="",n=0,r=l,s=0;continue}}t&&(i=i.length>0?i+"/..":"..",n=2)}else i.length>0?i+="/"+e.slice(r+1,l):i=e.slice(r+1,l),n=l-r-1;r=l,s=0}else d===46&&s>-1?s++:s=-1}return i}function Cp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const A0e={cwd:E0e};function E0e(){return"/"}function X0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function N0e(e){if(typeof e=="string")e=new URL(e);else if(!X0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return M0e(e)}function M0e(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const n=t.codePointAt(i+2);if(n===70||n===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const cx=["history","path","basename","stem","extname","dirname"];class CF{constructor(t){let i;t?X0(t)?i={path:t}:typeof t=="string"||P0e(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":A0e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<cx.length;){const s=cx[n];s in i&&i[s]!==void 0&&i[s]!==null&&(this[s]=s==="history"?[...i[s]]:i[s])}let r;for(r in i)cx.includes(r)||(this[r]=i[r])}get basename(){return typeof this.path=="string"?Xa.basename(this.path):void 0}set basename(t){ux(t,"basename"),dx(t,"basename"),this.path=Xa.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Xa.dirname(this.path):void 0}set dirname(t){ZL(this.basename,"dirname"),this.path=Xa.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Xa.extname(this.path):void 0}set extname(t){if(dx(t,"extname"),ZL(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xa.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){X0(t)&&(t=N0e(t)),ux(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Xa.basename(this.path,this.extname):void 0}set stem(t){ux(t,"stem"),dx(t,"stem"),this.path=Xa.join(this.dirname||"",t+(this.extname||""))}fail(t,i,n){const r=this.message(t,i,n);throw r.fatal=!0,r}info(t,i,n){const r=this.message(t,i,n);return r.fatal=void 0,r}message(t,i,n){const r=new un(t,i,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function dx(e,t){if(e&&e.includes(Xa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xa.sep+"`")}function ux(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ZL(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function P0e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const I0e=(function(e){const n=this.constructor.prototype,r=n[e],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),O0e={}.hasOwnProperty;class ww extends I0e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=v0e()}copy(){const t=new ww;let i=-1;for(;++i<this.attachers.length;){const n=this.attachers[i];t.use(...n)}return t.data(lx(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(gx("data",this.frozen),this.namespace[t]=i,this):O0e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(gx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const r=i.call(t,...n);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=fg(t),n=this.parser||this.Parser;return px("parse",n),n(String(i),i)}process(t,i){const n=this;return this.freeze(),px("process",this.parser||this.Parser),fx("process",this.compiler||this.Compiler),i?r(void 0,i):new Promise(r);function r(s,l){const d=fg(t),p=n.parse(d);n.run(p,d,function(g,h,y){if(g||!h||!y)return u(g);const v=h,S=n.stringify(v,y);D0e(S)?y.value=S:y.result=S,u(g,y)});function u(g,h){g||!h?l(g):s?s(h):i(void 0,h)}}}processSync(t){let i=!1,n;return this.freeze(),px("processSync",this.parser||this.Parser),fx("processSync",this.compiler||this.Compiler),this.process(t,r),tR("processSync","process",i),n;function r(s,l){i=!0,XL(s),n=l}}run(t,i,n){eR(t),this.freeze();const r=this.transformers;return!n&&typeof i=="function"&&(n=i,i=void 0),n?s(void 0,n):new Promise(s);function s(l,d){const p=fg(i);r.run(t,p,u);function u(g,h,y){const v=h||t;g?d(g):l?l(v):n(void 0,v,y)}}}runSync(t,i){let n=!1,r;return this.run(t,i,s),tR("runSync","run",n),r;function s(l,d){XL(l),r=d,n=!0}}stringify(t,i){this.freeze();const n=fg(i),r=this.compiler||this.Compiler;return fx("stringify",r),eR(t),r(t,n)}use(t,...i){const n=this.attachers,r=this.namespace;if(gx("use",this.frozen),t!=null)if(typeof t=="function")p(t,i);else if(typeof t=="object")Array.isArray(t)?d(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")p(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[g,...h]=u;p(g,h)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(u.plugins),u.settings&&(r.settings=lx(!0,r.settings,u.settings))}function d(u){let g=-1;if(u!=null)if(Array.isArray(u))for(;++g<u.length;){const h=u[g];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function p(u,g){let h=-1,y=-1;for(;++h<n.length;)if(n[h][0]===u){y=h;break}if(y===-1)n.push([u,...g]);else if(g.length>0){let[v,...S]=g;const k=n[y][1];Q0(k)&&Q0(v)&&(v=lx(!0,k,v)),n[y]=[u,v,...S]}}}}const L0e=new ww().freeze();function px(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function gx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function eR(e){if(!Q0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function tR(e,t,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function fg(e){return R0e(e)?e:new CF(e)}function R0e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function D0e(e){return typeof e=="string"||j0e(e)}function j0e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const K0e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",iR=[],nR={allowDangerousHtml:!0},F0e=/^(https?|ircs?|mailto|xmpp)$/i,B0e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gg(e){const t=U0e(e),i=q0e(e);return z0e(t.runSync(t.parse(i),i),e)}function U0e(e){const t=e.rehypePlugins||iR,i=e.remarkPlugins||iR,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...nR}:nR;return L0e().use(xxe).use(i).use(m0e,n).use(t)}function q0e(e){const t=e.children||"",i=new CF;return typeof t=="string"&&(i.value=t),i}function z0e(e,t){const i=t.allowedElements,n=t.allowElement,r=t.components,s=t.disallowedElements,l=t.skipHtml,d=t.unwrapDisallowed,p=t.urlTransform||W0e;for(const g of B0e)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+K0e+g.id,void 0);return wF(e,u),eve(e,{Fragment:a.Fragment,components:r,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function u(g,h,y){if(g.type==="raw"&&y&&typeof h=="number")return l?y.children.splice(h,1):y.children[h]={type:"text",value:g.value},h;if(g.type==="element"){let v;for(v in ax)if(Object.hasOwn(ax,v)&&Object.hasOwn(g.properties,v)){const S=g.properties[v],k=ax[v];(k===null||k.includes(g.tagName))&&(g.properties[v]=p(String(S||""),v,g))}}if(g.type==="element"){let v=i?!i.includes(g.tagName):s?s.includes(g.tagName):!1;if(!v&&n&&typeof h=="number"&&(v=!n(g,h,y)),v&&y&&typeof h=="number")return d&&g.children?y.children.splice(h,1,...g.children):y.children.splice(h,1),h}}}function W0e(e){const t=e.indexOf(":"),i=e.indexOf("?"),n=e.indexOf("#"),r=e.indexOf("/");return t===-1||r!==-1&&t>r||i!==-1&&t>i||n!==-1&&t>n||F0e.test(e.slice(0,t))?e:""}const V0e=({report:e,onBack:t,onStartFix:i})=>{const[n,r]=A.useState("dashboard"),[s,l]=A.useState(null),d=()=>{window.print()},p=()=>{const C=k_e(e);i(C)},u=C=>{switch(C){case"Engine":return ya;case"Fuel":return ii;case"Voice":return Ds;case"Brain":return Z0;case"Pulse":return tk;case"Shield":return Sc;case"Tribe":return Da;default:return ya}},g=e.pillars.map(C=>({subject:C.name,A:C.score,fullMark:100})),h=[...e.pillars].sort((C,T)=>T.riskScore-C.riskScore).map(C=>({name:C.name,risk:C.riskScore,fill:C.riskScore>60?"#ef4444":C.riskScore>40?"#f59e0b":"#22c55e"})),y=()=>{var C,T,N;return a.jsxs("div",{className:"space-y-12 animate-fade-in",children:[a.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-3xl shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-brand-500/10 rounded-full blur-3xl -mr-32 -mt-32"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-12 relative z-10",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-3xl font-extrabold mb-4",children:"Business Health Snapshot"}),a.jsxs("p",{className:"text-slate-300 text-lg mb-8 max-w-2xl leading-relaxed",children:["Your strongest potential comes from fixing ",a.jsx("span",{className:"text-white font-bold underline",children:h[0].name})," and stabilizing ",a.jsx("span",{className:"text-white font-bold underline",children:h[1].name}),"."]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 print:hidden",children:[a.jsxs("button",{onClick:p,className:"bg-brand-500 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-brand-400 transition-all shadow-lg shadow-brand-900/40 flex items-center justify-center gap-2 group",children:["Start Fix Plan ",a.jsx(on,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),a.jsxs("button",{onClick:d,className:"bg-white/10 text-white border border-white/20 px-8 py-4 rounded-xl font-bold text-lg hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[a.jsx(ln,{className:"w-5 h-5"})," Board Deck"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-12",children:[a.jsxs("div",{className:"bg-white/10 p-4 rounded-xl border border-white/10",children:[a.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Time Leak"}),a.jsxs("div",{className:"text-2xl font-bold text-white mt-1",children:[((C=e.indices)==null?void 0:C.timeLeak)||0,a.jsx("span",{className:"text-xs font-normal text-slate-500",children:"/100"})]})]}),a.jsxs("div",{className:"bg-white/10 p-4 rounded-xl border border-white/10",children:[a.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Cash Leak"}),a.jsxs("div",{className:"text-2xl font-bold text-white mt-1",children:[((T=e.indices)==null?void 0:T.cashLeak)||0,a.jsx("span",{className:"text-xs font-normal text-slate-500",children:"/100"})]})]}),a.jsxs("div",{className:"bg-white/10 p-4 rounded-xl border border-white/10",children:[a.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Risk Index"}),a.jsxs("div",{className:"text-2xl font-bold text-white mt-1",children:[((N=e.indices)==null?void 0:N.riskExposure)||0,a.jsx("span",{className:"text-xs font-normal text-slate-500",children:"/100"})]})]})]})]}),a.jsx("div",{className:"w-64 h-64 relative flex-shrink-0",children:a.jsx(np,{width:"100%",height:"100%",children:a.jsxs(wm,{cx:"50%",cy:"50%",outerRadius:"70%",data:g,children:[a.jsx(xp,{stroke:"#334155"}),a.jsx(Sp,{dataKey:"subject",tick:{fill:"#94a3b8",fontSize:10,fontWeight:"bold"}}),a.jsx(kp,{angle:30,domain:[0,100],tick:!1}),a.jsx(vc,{name:"My Business",dataKey:"A",stroke:"#38bdf8",fill:"#38bdf8",fillOpacity:.3})]})})})]})]}),a.jsxs("div",{className:"bg-white border-l-8 border-slate-900 p-8 rounded-r-2xl shadow-sm flex flex-col md:flex-row gap-8 items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Mission Brief"}),a.jsxs("p",{className:"text-xl font-medium text-slate-800 leading-relaxed font-serif",children:['"',e.executiveSummary,'"']}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-500",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live Analysis  ",e.date]})]}),a.jsxs("div",{className:"w-full md:w-64 bg-slate-50 p-4 rounded-xl border border-slate-100 flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm text-2xl mb-2",children:e.archetype.includes("Sovereign")?"":e.archetype.includes("General")?"":e.archetype.includes("King")?"":""}),a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Archetype"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:e.archetype})]})]}),a.jsx(C_e,{report:e}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[a.jsx(Ag,{className:"w-5 h-5 text-red-600"})," Priority Fixes"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h[0],h[1],h[2]].map((E,O)=>{const P=e.pillars.find(I=>I.name===E.name);return P?a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm flex flex-col h-full hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h4",{className:"font-bold text-lg text-gray-900",children:E.name}),a.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-1 rounded ${E.risk>60?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:P.band})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3 leading-relaxed font-medium",children:P.quickScanAnalysis||P.hiddenCost}),a.jsxs("div",{className:"mt-auto space-y-3 pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(dr,{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs text-gray-600",children:P.profitConsequence?P.profitConsequence[0]:"Impacts profit stability"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ii,{className:"w-4 h-4 text-brand-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs font-bold text-brand-700",children:P.fixLever.action})]})]})]},E.name):null})})]})]})},v=()=>a.jsx("div",{className:"space-y-16 animate-fade-in",children:e.pillars.map((C,T)=>{const N=s===C.name||C.riskScore>60;return u(C.name),a.jsxs("div",{className:`border rounded-2xl overflow-hidden shadow-sm transition-all duration-300 bg-white ${C.riskScore>60?"border-red-200 ring-4 ring-red-50":"border-gray-200"}`,children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>l(N?null:C.name),children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center font-black text-2xl text-white shadow-sm ${C.riskScore>60?"bg-red-600":C.riskScore>30?"bg-amber-500":"bg-green-600"}`,children:C.score}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-extrabold text-gray-900 flex items-center gap-2",children:[C.name,C.riskScore>60&&a.jsx(Ag,{className:"w-5 h-5 text-red-600"})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${C.riskScore>60?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:C.band}),a.jsx("span",{className:"text-xs text-gray-400",children:" Read Time: 5 mins"})]})]})]}),a.jsx("div",{className:"text-gray-400",children:N?a.jsx(oR,{className:"w-6 h-6"}):a.jsx(Ju,{className:"w-6 h-6"})})]}),N&&a.jsxs("div",{className:"bg-gray-50/50 p-8 space-y-12",children:[C.deepScanChapter?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[a.jsxs("div",{className:"prose prose-lg text-slate-700 max-w-none",children:[a.jsx(gg,{children:C.deepScanChapter.theory}),a.jsx("hr",{className:"my-8 border-slate-200"}),a.jsx(gg,{children:C.deepScanChapter.diagnosis})]}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-xl",children:a.jsx(gg,{className:"prose prose-sm max-w-none text-blue-900",children:C.deepScanChapter.psychology})}),a.jsx("div",{className:"prose prose-lg text-slate-700 max-w-none",children:a.jsx(gg,{children:C.deepScanChapter.financials})})]}),a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm sticky top-32",children:[a.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(ln,{className:"w-4 h-4"})," Detected Signals"]}),a.jsx("ul",{className:"space-y-4 mb-8",children:C.evidenceSnapshots.map((E,O)=>a.jsxs("li",{className:"text-sm",children:[a.jsx("span",{className:"font-bold block text-slate-900 mb-1",children:E.observation}),a.jsx("span",{className:"text-slate-500 text-xs",children:E.whyItMatters})]},O))}),a.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4"})," Immediate Prescription"]}),a.jsx("div",{className:"bg-brand-50 p-4 rounded-lg border border-brand-100 text-brand-900 text-sm font-medium mb-4",children:C.fixLever.action}),a.jsx("button",{onClick:p,className:"w-full bg-black text-white py-3 rounded-lg font-bold hover:bg-gray-800 transition-colors",children:"Activate Fix Plan"})]})})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{children:"Deep scan data generating..."})}),a.jsxs("div",{className:"bg-white border-2 border-brand-100 rounded-xl overflow-hidden shadow-sm mt-8",children:[a.jsx("div",{className:"bg-brand-50 p-4 border-b border-brand-100 flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uc,{className:"w-5 h-5 text-brand-600"}),a.jsx("h4",{className:"font-bold text-brand-900",children:"Execution Protocol"})]})}),a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{children:[a.jsxs("h5",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Zi,{className:"w-4 h-4 text-gray-400"})," Phase 1: Stabilization (7 Days)"]}),a.jsx("ul",{className:"space-y-4",children:C.actions.filter(E=>E.type==="today"||E.type==="week").map((E,O)=>a.jsxs("li",{className:"flex gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500 flex-shrink-0",children:O+1}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:E.text}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[E.owner,"  Metric: ",E.metric]})]})]},O))})]}),a.jsxs("div",{children:[a.jsxs("h5",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(kc,{className:"w-4 h-4 text-gray-400"})," Phase 2: Systemization (30 Days)"]}),a.jsx("ul",{className:"space-y-4",children:C.actions.filter(E=>E.type==="month").map((E,O)=>a.jsxs("li",{className:"flex gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500 flex-shrink-0",children:O+1}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:E.text}),a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[E.owner,"  Metric: ",E.metric]})]})]},O))})]})]})})]})]})]},T)})}),S=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-gray-200 shadow-sm text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"90-Day Execution Timeline"}),a.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Don't try to fix everything at once. Follow this sequence to stabilize first, then scale."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[a.jsx("div",{className:"absolute top-8 left-0 w-full h-1 bg-gray-200 hidden md:block -z-10"}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-t-4 border-red-500 shadow-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 text-red-600 rounded-full flex items-center justify-center font-bold text-lg mb-4 border-4 border-white",children:"1"}),a.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-1",children:"Stabilize"}),a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wide mb-6",children:"Days 0-30"}),a.jsxs("ul",{className:"space-y-4",children:[e.pillars.filter(C=>C.riskScore>50).map(C=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Fix ",C.name," leaks"]})]},C.name)),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stop cash bleeding"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-t-4 border-amber-500 shadow-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-bold text-lg mb-4 border-4 border-white",children:"2"}),a.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-1",children:"Systemize"}),a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wide mb-6",children:"Days 31-60"}),a.jsxs("ul",{className:"space-y-4",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Install core SOPs"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Delegation limits"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weekly scorecard rhythm"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-t-4 border-green-500 shadow-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 text-green-600 rounded-full flex items-center justify-center font-bold text-lg mb-4 border-4 border-white",children:"3"}),a.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-1",children:"Scale"}),a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wide mb-6",children:"Days 61-90"}),a.jsxs("ul",{className:"space-y-4",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hiring & Training"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Marketing automation"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(He,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New offer launch"})]})]})]})]})]}),k=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"bg-gray-900 text-white p-8 rounded-2xl shadow-xl flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Automated Action Plan"}),a.jsxs("p",{className:"text-gray-400",children:["Based on the ",e.pillars.filter(C=>C.riskScore>60).length," critical risks identified, here is your prioritized execution list."]})]}),a.jsxs("button",{onClick:()=>window.print(),className:"bg-white text-black px-6 py-3 rounded-lg font-bold hover:bg-gray-100 flex items-center gap-2",children:[a.jsx(yx,{className:"w-4 h-4"})," Print Checklist"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2 mb-4 flex items-center gap-2",children:[a.jsx(Zi,{className:"w-5 h-5 text-red-600"})," Phase 1: Stabilize (Week 1)"]}),a.jsx("div",{className:"space-y-3",children:e.pillars.map(C=>C.riskScore>60&&C.actions.filter(T=>T.type==="today"||T.type==="week").map((T,N)=>a.jsxs("label",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors border border-transparent hover:border-gray-200",children:[a.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-black rounded border-gray-300 focus:ring-black"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-gray-900",children:T.text}),a.jsxs("span",{className:"block text-xs text-gray-500",children:["Fixing: ",C.name]})]})]},`${C.name}_7_${N}`)))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2 mb-4 flex items-center gap-2",children:[a.jsx(Ks,{className:"w-5 h-5 text-amber-500"})," Phase 2: Systemize (Days 14-30)"]}),a.jsx("div",{className:"space-y-3",children:e.pillars.map(C=>C.riskScore>60&&C.actions.filter(T=>T.type==="month").map((T,N)=>a.jsxs("label",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors border border-transparent hover:border-gray-200",children:[a.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-black rounded border-gray-300 focus:ring-black"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-800",children:T.text}),a.jsxs("span",{className:"block text-xs text-gray-500",children:["Fixing: ",C.name]})]})]},`${C.name}_30_${N}`)))})]})]})})]});return a.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 font-sans text-slate-900 print:bg-white print:py-0",children:[a.jsxs("div",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm px-6 py-4 flex justify-between items-center print:hidden",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-500",children:a.jsx(dc,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Deep Scan Report"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[e.archetype,"  ",e.date]})]})]}),a.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:["dashboard","deep_dive","roadmap","action_plan"].map(C=>a.jsx("button",{onClick:()=>r(C),className:`px-4 py-2 rounded-md text-sm font-medium capitalize transition-all ${n===C?"bg-white shadow-sm text-black":"text-gray-500 hover:text-black"}`,children:C.replace("_"," ")},C))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:p,className:"bg-brand-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-brand-700 transition-colors flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4"})," Start Fix"]}),a.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-bold hover:bg-gray-50",children:[a.jsx(yx,{className:"w-4 h-4"})," PDF"]})]})]}),a.jsxs("div",{className:"max-w-6xl mx-auto p-8 print:hidden",children:[n==="dashboard"&&a.jsx(y,{}),n==="deep_dive"&&a.jsx(v,{}),n==="roadmap"&&a.jsx(S,{}),n==="action_plan"&&k()]}),a.jsx(w_e,{report:e})]})},H0e=[{id:"approval_friction",title:"Approval Friction",questions:["TD-01","TD-06","TD-07","TD-10","TD-26","TD-30"],description:"Measures approval dependence and unclear decision rights.",profitLeak:"Slow execution, bottlenecks, manager overload, missed opportunities.",timeDragFactor:5,bands:{healthy:{executive:"{DEPARTMENT} shows low approval friction. Most staff feel trusted to make decisions within clear boundaries, which supports speed and ownership. Maintain this by keeping decision rights visible and consistent.",operator:"Decision rights appear clear and consistently applied. Escalation is used for true risk, not as a safety blanket. This is the pattern you want for scalability.",actions:['Publish "Decide vs Escalate" examples (5 scenarios by role).',"Review one approval rule that still causes delay.","Add delegation health to manager coaching."],measure:"Time-to-decision, # escalations/week, manager time spent approving."},watch:{executive:"Approval friction is mixed in {DEPARTMENT}. Some teams move fast; others wait for approval more often. This usually signals inconsistent decision rules or uneven manager behavior.",operator:"Some staff treat approval as risk insurance. That slows work and makes managers human routers. Root causes typically include unclear thresholds, fear of blame, or managers overriding decisions after the fact.",fix7:['Create a 1-page "decision thresholds" guide (what staff can decide alone).'],fix30:["Replace ad-hoc approvals with a simple template: context -> options -> risk -> recommendation -> decision."],fix90:["Remove the biggest structural bottleneck (single approver / single gatekeeper)."],measure:"Approval wait time, rework from late approvals, cycle time per workflow."},highRisk:{executive:"{DEPARTMENT} has high approval friction ({SCORE}). A large share of staff prefer to wait for approval before acting. This strongly suggests that speed is being traded for safety, creating bottlenecks and slowing output.",operator:"This pattern is consistent with approval-dependency culture: people escalate to protect themselves. Managers become the bottleneck, initiative drops, and performance becomes fragile. If {AGREEMENT} is high, this is systemic.",fix7:["Publish decision rights + escalation ladder (decide / decide+FYI / escalate).",'Leader message: "Good-faith decisions wont be punished."',"Remove one approval-heavy meeting; replace with async updates."],fix30:['Define "what good looks like" for top workflows (reduces fear).',"Introduce blameless post-mortems (system > person).","Manager training: coach decisions instead of taking over."],fix90:["Delegated approval limits; SLAs for approvals.","Manager KPIs include delegation health and cycle time improvements."],measure:"Cycle time, escalations, manager approval load, employee ownership score.",owner:"Department Head + HRBP"}}},{id:"blame_cover",title:"Blame & Cover",questions:["TD-02","TD-06","TD-16","TD-36","TD-40"],description:"Measures fear of blame, CYA behavior (CCs, written proof, silence).",profitLeak:"Slow decisions, hidden issues, reduced innovation.",timeDragFactor:3,bands:{healthy:{executive:"Low blame-and-cover signals healthy trust. People communicate for clarity rather than self-protection, which supports speed and openness.",operator:"Staff feel safe reporting problems early. Mistakes are treated as learning inputs, not punishable events.",actions:['Keep weekly "what we learned" ritual.',"Reward early issue surfacing."],measure:"Incident reporting speed, idea submissions, near-miss reporting."},watch:{executive:"Mixed signals: some staff prefer extra visibility and documentation as protection. This often comes from inconsistent reactions to mistakes.",operator:"Caution is used as insurance. You may have uneven manager behavior: some reward transparency, others punish it.",fix7:['Agree one rule: "We fix the system first." Leaders model it once publicly.'],fix30:['Implement a "mistake protocol" (report -> contain -> learn -> improve).'],fix90:["Adjust reviews to reward detection + correction, not perfection theater."],measure:"Late surprises, escalation frequency, staff silence indicators."},highRisk:{executive:"High blame-and-cover ({SCORE}) suggests staff optimize for safety over performance. This creates slow communication and prevents early risk detection.",operator:"This is survival-mode behavior. If people cant be wrong safely, they will hide issues until they explode.",fix7:["Anonymous issue capture + leader commitment to no retaliation."],fix30:["Monthly learning reviews with action tracking."],fix90:["Audit manager behaviors; remove retaliatory patterns; promote transparency."],measure:"Defects found late vs early, feedback participation, psychological safety pulse."}}},{id:"bureaucracy",title:"Bureaucracy Drag",questions:["TD-04","TD-05","TD-29","TD-30"],description:"Measures process rigidity and meeting dependency.",profitLeak:"Payroll spent on rituals; slow delivery.",timeDragFactor:6,bands:{healthy:{executive:"Process supports quality without blocking speed. Meetings are used for decisions, not reporting.",operator:"SOPs are flexible where appropriate; exceptions exist for customer impact.",actions:["Maintain dashboard-first updates.","Keep decision meetings only."],measure:"Meeting hours/person, time from request->delivery."},watch:{executive:"Process helps, but some steps may slow execution. Meeting load may be higher than needed.",operator:"Teams may be using meetings to compensate for unclear priorities or weak dashboards.",fix7:["Identify top 2 slowest steps; simplify one immediately."],fix30:["Replace 1 recurring meeting with async dashboard updates."],fix90:['Rewrite SOPs into "minimum effective steps" + quality checkpoints.'],measure:"Meeting hours, queue time, rework."},highRisk:{executive:"High bureaucracy drag ({SCORE}) indicates process and meetings may be replacing execution. This is a direct payroll-to-output inefficiency.",operator:"People choose safety via procedure over results. This slows customers, demoralizes high performers, and hides accountability.",fix7:["Meeting reset: cancel/reporting meetings; keep decision-only."],fix30:["Create exception rules where outcome > procedure (with safeguards)."],fix90:["Re-architect workflows with frontline input; track cycle time reductions."],measure:"Meeting load, cycle time, customer complaint rate, throughput."}}},{id:"tool_friction",title:"Tool Friction",questions:["TD-11","TD-16","TD-19"],description:"Measures productivity loss from outdated tools, workarounds, and interruptions.",profitLeak:"Hours lost, errors, rework.",timeDragFactor:4,bands:{healthy:{executive:"Tools support speed and quality. Staff dont rely heavily on personal workarounds.",operator:"Low shadow-systems. One source of truth is used consistently.",actions:["Quarterly tool hygiene.","Remove duplicates."],measure:"Tool adoption, task completion time, error rate."},watch:{executive:"Some friction existslikely a few recurring tool or access pain points.",operator:"Workarounds are forming. That signals reliability gaps in the official system.",fix7:["Fix 1 high-pain tool issue (fast win)."],fix30:["Standardize tool usage + train."],fix90:["Tool ROI plan: invest in one upgrade with measured time saved."],measure:"Time saved per workflow, ticket volume, rework."},highRisk:{executive:"High tool friction ({SCORE}) suggests the system is slowing staff down, pushing them into workarounds. This is a measurable productivity tax.",operator:"Shadow systems are likely. Risk rises (lost data, inconsistent quality) and speed drops.",fix7:["Declare one official system for tasks/files; reduce duplication."],fix30:["Access permissions + structure + reliability improvements."],fix90:["Enforce adoption; retire legacy tools; measure cycle time improvement."],measure:"Throughput, defect rates, tool compliance, time-to-find information."}}},{id:"onboarding_debt",title:"Onboarding Debt",questions:["TD-12","TD-18","TD-09"],description:"Measures how much learning depends on luck, people, and tribal knowledge.",profitLeak:"Slow ramp, inconsistent delivery, rework.",timeDragFactor:3,bands:{healthy:{executive:"Onboarding is supported by clear resources. New staff can reach productivity without overloading seniors.",operator:"Docs are trusted and used; escalation rules exist; standards are visible.",actions:['Keep "Start Here" current.',"Quarterly doc refresh."],measure:"Time-to-productivity, new hire error rate."},watch:{executive:"Some learning depends on asking colleagues rather than reliable documentation.",operator:"Tribal knowledge is creeping in. Quality becomes person-dependent.",fix7:['Create "Top 10 questions" doc.'],fix30:["Role checklists + 30/60/90 plans."],fix90:["Onboarding library (videos + SOPs + certification)."],measure:"New hire confidence, rework, dependency on top performers."},highRisk:{executive:"High onboarding debt ({SCORE}) indicates growth may break quality. The business is relying on memory and heroes.",operator:"Senior staff are the documentation. That becomes expensive and fragile.",fix7:["Capture repeat questions into SOPs."],fix30:["Implement buddy + weekly learning checkpoints."],fix90:["Certification for key roles before independent work."],measure:"Ramp time, error rate, mentor load."}}},{id:"burnout_risk",title:"Burnout Risk",questions:["TD-13","TD-20","TD-19"],description:"Measures survival pacing (skipping breaks, overtime, constant interruption).",profitLeak:"Churn, errors, customer issues.",timeDragFactor:2,bands:{healthy:{executive:"Work pace appears sustainable. This supports consistency and retention.",operator:"Breaks and focus time are normal; overtime is exception-based.",actions:["Keep staffing + planning stable."],measure:"Overtime, sick days, error rate."},watch:{executive:"Intermittent overload exists. If unmanaged, it becomes a retention and quality risk.",operator:"Teams may be running hot during predictable peaks without a plan.",fix7:["Protect focus time; reduce interrupts."],fix30:["Workload audit; remove low-value tasks."],fix90:["Redesign staffing/scope to reduce recurring crunch."],measure:"Overtime trend, defects, resignations."},highRisk:{executive:"Burnout risk is high ({SCORE}). This pattern commonly precedes turnover and quality incidents.",operator:"This is endurance mode, not high performance. People will either quit or start making expensive mistakes.",fix7:["Stop the bleeding: freeze noncritical work; reduce after-hours."],fix30:["Capacity plan + staffing/scope correction."],fix90:["Manager accountability: sustainable pace metrics."],measure:"Attrition intent, error spikes, customer complaints."}}},{id:"priority_noise",title:"Priority Noise",questions:["TD-23","TD-25","TD-28","TD-29"],description:"Measures scream-based prioritization and context switching.",profitLeak:"Salary spent on low-impact tasks; missed delivery.",timeDragFactor:4,bands:{healthy:{executive:"Priorities are aligned and stable; teams focus on impact.",operator:"Work intake and prioritization rules are clear and followed.",actions:["Maintain weekly priorities.","Intake discipline."],measure:"WIP count, missed deadlines."},watch:{executive:"Urgency sometimes overrides impact. Alignment needs tightening.",operator:"Conflicting requests are pulling staff off high-value work.",fix7:["Publish weekly top 3 priorities + owners."],fix30:["Intake rule: new requests go through one channel."],fix90:["Leadership alignment routine (same goals across managers)."],measure:"WIP, rework, abandoned projects."},highRisk:{executive:"High priority noise ({SCORE}) suggests teams prioritize based on who asks rather than agreed goals. This is a direct efficiency and morale risk.",operator:"Leadership alignment is broken. Staff are being pulled apart.",fix7:["Freeze priorities except true emergencies."],fix30:["Define goal hierarchy (company->dept->team)."],fix90:["Unify leadership planning and resolve conflicts explicitly."],measure:"Switching cost, missed deadlines, throughput."}}},{id:"kpi_fog",title:"KPI Fog",questions:["TD-24","TD-27","TD-14"],description:"Measures unclear success metrics and busyness over outcomes.",profitLeak:"Effort without returns.",timeDragFactor:3,bands:{healthy:{executive:'Success is measurable and understood; teams know what "good" looks like.',operator:"Role scorecards exist and are used consistently.",actions:["Keep scoreboards visible.","Stable metrics."],measure:"KPI clarity pulse, variance in performance."},watch:{executive:"Some roles lack clear measurement. This can lead to misaligned work.",operator:"People may be optimizing for activity rather than results.",fix7:["Define 1-3 KPIs per role."],fix30:["Weekly scoreboard review."],fix90:["Connect KPIs to business outcomes and development plans."],measure:"Output quality, delivery predictability."},highRisk:{executive:"KPI fog is high ({SCORE}). People likely work hard without clear direction on what drives results.",operator:"Busyness is being rewarded. Thats how profit leaks hide.",fix7:['Publish "this months scoreboard".'],fix30:["Implement role scorecards + coaching."],fix90:["Redesign performance system to reward outcomes + standards."],measure:"KPI adoption, delivery predictability, productivity."}}},{id:"fairness_merit",title:"Fairness & Merit",questions:["TD-32","TD-35","TD-37","TD-39"],description:"Measures belief that advancement is political vs performance-based.",profitLeak:"Top performers disengage or leave.",timeDragFactor:1,bands:{healthy:{executive:"People believe performance and impact drive growth. This supports retention.",operator:"Promotion criteria and rewards are understood and consistent.",actions:["Keep transparency.","Calibration across managers."],measure:"Retention of top performers, internal mobility."},watch:{executive:"Some employees feel visibility or relationships influence growth more than results.",operator:"Perceived inconsistency is emerging. Fix now before it hardens into cynicism.",fix7:["Publish promotion criteria simply."],fix30:["Calibrate reviews across managers."],fix90:["Audit pay/promotion patterns for risk signals."],measure:"Engagement, internal promotion fairness pulse."},highRisk:{executive:"Fairness risk is high ({SCORE}). People may believe the system rewards proximity over performance, which increases turnover risk among high performers.",operator:"This creates politics, silence, and output suppression. Your best people will exit first.",fix7:['Publish criteria + examples of "what earns growth".'],fix30:["Implement evidence-based evaluations."],fix90:["Rebuild incentives: reward impact, not loyalty theater."],measure:"Regrettable attrition, performance distribution, complaint signals."}}},{id:"feedback_safety",title:"Feedback Safety",questions:["TD-34","TD-40","TD-36"],description:"Measures whether people can speak truth and share ideas early.",profitLeak:"Defects persist, innovation stalls, risk hidden.",timeDragFactor:2,bands:{healthy:{executive:"Feedback flows early and constructively. This supports learning speed.",operator:"People can challenge ideas without fear; issues surface quickly.",actions:["Leader modeling.","Retros with action tracking."],measure:"Idea submissions, defect detection speed."},watch:{executive:"Feedback is careful and inconsistent. This can slow improvement.",operator:"Some fear exists; feedback may be happening privately instead of productively.",fix7:["Leaders invite one critique publicly and respond well."],fix30:["Structured retros + safe channels."],fix90:["Embed upward feedback into manager KPIs."],measure:"Participation, speed of issue surfacing, quality improvement rate."},highRisk:{executive:"Feedback safety is high risk ({SCORE}). People likely filter themselves and delay sharing concerns. This increases the cost of problems because theyre discovered late.",operator:"Truth suppression is operational risk. The business will learn too late.",fix7:["Explicit non-retaliation + reward early reporting."],fix30:["Monthly retros with tracked actions."],fix90:["Leadership accountability: feedback health affects evaluation."],measure:"Near-miss reporting, churn risk, defect rates."}}}],G0e=()=>{const t=H0e.map(s=>{const l=Math.floor(Math.random()*60)+30,d=Math.floor(Math.random()*15);let p="healthy";return l>66?p="highRisk":l>33&&(p="watch"),{...s,score:l,band:p,dispersion:d,respondentCount:12,agreement:d<10?"High":"Mixed"}}),n=[...t].sort((s,l)=>l.score-s.score).slice(0,2),r=[...t].sort((s,l)=>s.score-l.score).slice(0,2);return{department:"Operations & Sales (North)",respondents:12,date:new Date().toLocaleDateString(),indices:t,topRisks:n,topStrengths:r}},$0e=({onBack:e})=>{const[t,i]=A.useState("snapshot"),[n,r]=A.useState("executive"),[s]=A.useState(G0e()),[l,d]=A.useState(12),[p,u]=A.useState(50),h=(()=>{let T=0;return s.indices.forEach(N=>{N.band==="highRisk"?T+=N.timeDragFactor:N.band==="watch"&&(T+=N.timeDragFactor*.5)}),T*l*p})(),y=h*50,v=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-200 shadow-lg",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-8 gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Executive Snapshot"}),a.jsxs("p",{className:"text-gray-500 mt-2 text-lg",children:["Department: ",a.jsx("span",{className:"font-bold text-black",children:s.department}),"  ",s.respondents," Respondents"]})]}),a.jsxs("div",{className:"text-right bg-red-50 px-6 py-4 rounded-xl border border-red-100",children:[a.jsx("div",{className:"text-sm font-bold text-red-800 uppercase tracking-wide mb-1",children:"Est. Efficiency Loss"}),a.jsxs("div",{className:"text-4xl font-black text-red-600",children:["$",h.toLocaleString()," ",a.jsx("span",{className:"text-sm text-red-400 font-medium",children:"/ week"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-green-50/50 p-6 rounded-xl border border-green-100",children:[a.jsxs("h3",{className:"font-bold text-green-900 flex items-center gap-2 mb-4",children:[a.jsx(He,{className:"w-5 h-5 text-green-600"})," Top Strengths"]}),a.jsx("div",{className:"space-y-4",children:s.topStrengths.map(T=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-bold text-gray-900",children:T.title}),a.jsxs("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:[T.score,"/100 Risk"]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:T.bands.healthy.executive})]},T.id))})]}),a.jsxs("div",{className:"bg-red-50/50 p-6 rounded-xl border border-red-100",children:[a.jsxs("h3",{className:"font-bold text-red-900 flex items-center gap-2 mb-4",children:[a.jsx(Ur,{className:"w-5 h-5 text-red-600"})," Silent Killers"]}),a.jsx("div",{className:"space-y-4",children:s.topRisks.map(T=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-bold text-gray-900",children:T.title}),a.jsxs("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded",children:["CRITICAL (",T.score,")"]})]}),a.jsx("p",{className:"text-sm text-gray-700 font-medium",children:T.bands.highRisk.executive.replace("{DEPARTMENT}",s.department).replace("{SCORE}",T.score.toString())}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-red-500 uppercase",children:"Immediate Fix:"}),a.jsx("span",{className:"text-xs text-gray-600 truncate",children:T.bands.highRisk.fix7[0]})]})]},T.id))})]})]})]}),a.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-8 shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(_U,{className:"w-6 h-6 text-amber-400"}),a.jsx("h3",{className:"text-xl font-bold",children:"Business Cost Calculator"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-center",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Team Headcount"}),a.jsx("input",{type:"number",value:l,onChange:T=>d(Number(T.target.value)),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-white font-bold"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Avg Hourly Cost ($)"}),a.jsx("input",{type:"number",value:p,onChange:T=>u(Number(T.target.value)),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-white font-bold"})]})]}),a.jsxs("div",{className:"col-span-2 bg-slate-800 rounded-xl p-6 border border-slate-700 flex justify-around text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Weekly Leakage"}),a.jsxs("p",{className:"text-3xl font-bold text-red-400",children:["$",h.toLocaleString()]})]}),a.jsx("div",{className:"w-px bg-slate-700"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Annual Impact"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",y.toLocaleString()]})]})]})]})]})]}),S=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Heatmap"}),a.jsxs("div",{className:"flex gap-4 text-sm font-medium",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full"})," Healthy"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 bg-amber-500 rounded-full"})," Watch"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 bg-red-600 rounded-full"})," Critical"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.indices.map(T=>{const N=T.band==="highRisk"?T.bands.highRisk:T.band==="watch"?T.bands.watch:T.bands.healthy,O=(n==="executive"?N.executive:N.operator).replace("{DEPARTMENT}",s.department).replace("{SCORE}",T.score.toString()).replace("{AGREEMENT}",T.agreement);return a.jsxs("div",{className:"bg-white border border-gray-200 p-5 rounded-xl shadow-sm hover:shadow-md transition-shadow relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h4",{className:"font-bold text-gray-900",children:T.title}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["n=",s.respondents]}),a.jsx("span",{className:`text-lg font-black ${T.score>66?"text-red-600":T.score>33?"text-amber-500":"text-green-600"}`,children:T.score})]})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 mb-4",children:a.jsx("div",{className:`h-2.5 rounded-full transition-all duration-1000 ${T.score>66?"bg-red-600":T.score>33?"bg-amber-500":"bg-green-500"}`,style:{width:`${T.score}%`}})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:O}),T.band==="highRisk"&&a.jsx("div",{className:"mt-3 flex justify-between items-center",children:a.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-bold text-red-700 bg-red-50 px-2 py-1 rounded",children:[a.jsx(Ag,{className:"w-3 h-3"})," First Fix Opportunity"]})})]},T.id)})})]}),k=()=>a.jsx("div",{className:"space-y-12 animate-fade-in",children:s.indices.map(T=>{if(T.band==="healthy")return null;const N=T.band==="highRisk"?T.bands.highRisk:T.bands.watch,O=(n==="executive"?N.executive:N.operator).replace("{DEPARTMENT}",s.department).replace("{SCORE}",T.score.toString()).replace("{AGREEMENT}",T.agreement);return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm",children:[a.jsxs("div",{className:`p-6 border-b border-gray-100 flex justify-between items-center ${T.band==="highRisk"?"bg-red-50":"bg-amber-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center font-bold text-xl text-white ${T.band==="highRisk"?"bg-red-600":"bg-amber-500"}`,children:T.score}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:T.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80",children:[a.jsx("span",{className:"uppercase font-bold tracking-wide",children:T.band==="highRisk"?"High Risk":"Watch List"}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Agreement: ",T.agreement]})]})]})]}),T.band==="highRisk"&&a.jsxs("div",{className:"hidden md:block text-right",children:[a.jsx("p",{className:"text-xs font-bold text-red-800 uppercase",children:"Profit Impact"}),a.jsx("p",{className:"text-sm text-red-900",children:T.profitLeak})]})]}),a.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:n==="executive"?"Executive Summary":"Operator Diagnosis"}),a.jsxs("p",{className:"text-lg font-medium text-gray-900 leading-relaxed",children:['"',O,'"']})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"What to Measure"}),a.jsx("p",{className:"text-sm text-gray-700",children:N.measure})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:[a.jsxs("h4",{className:"text-xs font-bold text-blue-800 uppercase tracking-widest mb-2 flex items-center gap-1",children:[a.jsx(Vo,{className:"w-3 h-3"})," Root Cause / Insight"]}),a.jsx("p",{className:"text-sm text-blue-900 italic font-medium",children:T.description})]})]}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200 h-full",children:[a.jsxs("h4",{className:"font-bold text-slate-900 mb-6 flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4 text-amber-500 fill-current"})," Fix Protocol"]}),a.jsxs("div",{className:"space-y-6 relative",children:[a.jsx("div",{className:"absolute left-[7px] top-2 bottom-2 w-0.5 bg-slate-200"}),a.jsxs("div",{className:"relative pl-8",children:[a.jsx("div",{className:"absolute left-0 top-0 w-4 h-4 rounded-full bg-slate-300 border-2 border-white"}),a.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"7-Day Behavior Fix"}),a.jsx("ul",{className:"space-y-1",children:N.fix7.map((P,I)=>a.jsx("li",{className:"text-sm font-bold text-slate-900",children:P},I))})]}),a.jsxs("div",{className:"relative pl-8",children:[a.jsx("div",{className:"absolute left-0 top-0 w-4 h-4 rounded-full bg-slate-300 border-2 border-white"}),a.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"30-Day System Fix"}),a.jsx("ul",{className:"space-y-1",children:N.fix30.map((P,I)=>a.jsx("li",{className:"text-sm font-medium text-slate-700",children:P},I))})]}),a.jsxs("div",{className:"relative pl-8",children:[a.jsx("div",{className:"absolute left-0 top-0 w-4 h-4 rounded-full bg-slate-300 border-2 border-white"}),a.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"90-Day Structural Fix"}),a.jsx("ul",{className:"space-y-1",children:N.fix90.map((P,I)=>a.jsx("li",{className:"text-sm font-medium text-slate-700",children:P},I))})]})]})]})]})]},T.id)})}),C=()=>a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"bg-gray-900 text-white p-8 rounded-2xl shadow-xl flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Automated Action Plan"}),a.jsxs("p",{className:"text-gray-400",children:["Based on the ",s.topRisks.length," critical risks identified, here is your prioritized execution list."]})]}),a.jsxs("button",{onClick:()=>window.print(),className:"bg-white text-black px-6 py-3 rounded-lg font-bold hover:bg-gray-100 flex items-center gap-2",children:[a.jsx(yx,{className:"w-4 h-4"})," Print Checklist"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2 mb-4 flex items-center gap-2",children:[a.jsx(Zi,{className:"w-5 h-5 text-red-600"})," Phase 1: Stabilize (Week 1)"]}),a.jsx("div",{className:"space-y-3",children:s.topRisks.map(T=>T.band==="highRisk"&&T.bands.highRisk.fix7.map((N,E)=>a.jsxs("label",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors border border-transparent hover:border-gray-200",children:[a.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-black rounded border-gray-300 focus:ring-black"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-gray-900",children:N}),a.jsxs("span",{className:"block text-xs text-gray-500",children:["Fixing: ",T.title]})]})]},`${T.id}_7_${E}`)))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2 mb-4 flex items-center gap-2",children:[a.jsx(Ks,{className:"w-5 h-5 text-amber-500"})," Phase 2: Systemize (Days 14-30)"]}),a.jsx("div",{className:"space-y-3",children:s.topRisks.map(T=>T.band==="highRisk"&&T.bands.highRisk.fix30.map((N,E)=>a.jsxs("label",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors border border-transparent hover:border-gray-200",children:[a.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-black rounded border-gray-300 focus:ring-black"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-800",children:N}),a.jsxs("span",{className:"block text-xs text-gray-500",children:["Fixing: ",T.title]})]})]},`${T.id}_30_${E}`)))})]})]})})]});return a.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 font-sans text-slate-900 print:bg-white print:py-0",children:[a.jsxs("div",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm px-6 py-4 flex flex-col md:flex-row justify-between items-center print:hidden gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-500",children:a.jsx(dc,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Workplace Forensic Report"}),a.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["ID: ",Math.random().toString(36).substr(2,9).toUpperCase()]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end",children:[a.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[a.jsxs("button",{onClick:()=>r("executive"),className:`px-3 py-1.5 text-xs font-bold rounded flex items-center gap-1 transition-all ${n==="executive"?"bg-white text-black shadow-sm":"text-gray-500"}`,children:[a.jsx(dR,{className:"w-3 h-3"})," Executive"]}),a.jsxs("button",{onClick:()=>r("operator"),className:`px-3 py-1.5 text-xs font-bold rounded flex items-center gap-1 transition-all ${n==="operator"?"bg-white text-black shadow-sm":"text-gray-500"}`,children:[a.jsx(hR,{className:"w-3 h-3"})," Operator"]})]}),a.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[{id:"snapshot",label:"Snapshot",icon:ln},{id:"heatmap",label:"Heatmap",icon:sR},{id:"deep_dive",label:"Metric Cards",icon:Cu},{id:"action_plan",label:"Action Plan",icon:He}].map(T=>a.jsxs("button",{onClick:()=>i(T.id),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 transition-all ${t===T.id?"bg-white shadow-sm text-black":"text-gray-500 hover:text-black"}`,children:[a.jsx(T.icon,{className:"w-4 h-4"})," ",a.jsx("span",{className:"hidden lg:inline",children:T.label})]},T.id))}),a.jsxs("button",{onClick:()=>window.print(),className:"hidden md:flex items-center gap-2 px-4 py-2 bg-black text-white rounded-lg text-sm font-bold hover:bg-gray-800",children:[a.jsx(yz,{className:"w-4 h-4"})," Share"]})]})]}),a.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-center gap-2 text-xs text-gray-400 bg-white border border-gray-200 p-2 rounded-lg mx-auto w-fit",children:[a.jsx(Ur,{className:"w-3 h-3"}),a.jsxs("span",{children:["Aggregate Data Only (n=",s.respondents,"). No individual responses shown."]})]}),t==="snapshot"&&v(),t==="heatmap"&&S(),t==="deep_dive"&&k(),t==="action_plan"&&C()]})]})},Y0e=({onStartScan:e,onRequestDemo:t,onCheckout:i})=>{const{locale:n,price:r}=wc(),[s,l]=A.useState(null),[d,p]=A.useState("USD"),u=v=>{l(s===v?null:v)},g=n.contentRegion==="AFRICA_SME"?"Trusted by SMEs scaling across Africa.":"Used by fast-growing teams and agencies.",h=[{question:"Why is the Quick Scan free?",answer:"We believe every business deserves a baseline diagnosis. The Quick Scan gives you immediate clarity on your 'Profit Archetype' and primary weakness at no cost. You only pay if you want the deep forensic report and action roadmap."},{question:"What do I get in the Standard report?",answer:"The Standard plan includes the full 30-page forensic audit, 24-month profit simulator access, the detailed Action Roadmap (PDF + Web), and your verified Industry Leader badge."},{question:"How does local pricing work?",answer:"We use Purchasing Power Parity (PPP). If you complete the Quick Scan from an eligible region (like East Africa, India, or LatAm), you will automatically unlock a subsidized rate (up to 50% off) at checkout."},{question:"Can I buy just one pillar?",answer:"Currently, we sell the full integrated system because profit leaks are interconnected. Fixing 'Marketing' without fixing 'Finance' usually leads to cashflow breaks."},{question:"Is this a subscription?",answer:"The Standard Audit is a one-time purchase. Enterprise plans offers annual licenses for ongoing team access and multi-department tracking."},{question:"Can my team take the assessment?",answer:"Yes. The Standard plan covers one owner/admin profile. For multi-user aggregated reporting (to see if your team aligns with you), you need the Enterprise plan."}],y={"@context":"https://schema.org","@type":"SoftwareApplication",name:"Business Diagnostic & Profit Leak Scanner",applicationCategory:"BusinessApplication",offers:[{"@type":"Offer",name:"Standard",price:"97",priceCurrency:"USD",availability:"https://schema.org/InStock",description:"Full deep assessment, 30-page action report, and profit simulator."},{"@type":"Offer",name:"Enterprise",price:"0",priceCurrency:"USD",description:"Custom pricing based on team size, multi-department dashboards, and admin controls."}]};return a.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900 pb-20",children:[a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(y)}}),a.jsxs("div",{className:"bg-slate-900 text-white pt-20 pb-32 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-brand-900 rounded-full blur-3xl opacity-20 -mr-32 -mt-32 pointer-events-none"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-800/50 border border-brand-700 rounded-full px-4 py-1.5 mb-8",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs font-bold text-brand-100 tracking-wide uppercase",children:g})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6 leading-tight",children:["Pricing built for speed: ",a.jsx("br",{}),a.jsx("span",{className:"text-brand-400",children:"Diagnose the leak, fix the leak."})]}),a.jsx("p",{className:"text-xl text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Start free. Upgrade only when you want the full forensic audit, simulator, and action roadmap."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsxs("button",{onClick:e,className:"w-full sm:w-auto bg-brand-500 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-brand-600 transition-all shadow-lg shadow-brand-900/50 flex items-center justify-center gap-2",children:["Start Free Quick Scan ",a.jsx(on,{className:"w-5 h-5"})]}),a.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-transparent border border-slate-600 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-white/10 transition-all",children:"Talk to Sales"})]})]})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20 relative z-20",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden flex flex-col relative",children:[a.jsx("div",{className:"absolute top-0 inset-x-0 h-1 bg-brand-600"}),a.jsxs("div",{className:"p-8 flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Standard"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"For founders & solo operators"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-3xl font-extrabold text-slate-900",children:"$97"}),a.jsx("div",{className:"text-xs text-slate-400 font-medium",children:"USD / one-time"})]})]}),a.jsx("div",{className:"prose prose-sm text-slate-600 mb-8",children:a.jsx("p",{children:"Standard is for businesses that want the full diagnostic, a clear profit improvement roadmap, and a report they can actually executewithout hiring a consultant first."})}),a.jsx("div",{className:"space-y-4 mb-8",children:["Full Deep Assessment (7 Pillars)","30-Page Action Roadmap (PDF)","Profit Simulator (Advanced)","Benchmark Badge (Shareable)","Report History & Trends"].map((v,S)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 bg-green-100 p-1 rounded-full",children:a.jsx(Ja,{className:"w-3 h-3 text-green-600"})}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:v})]},S))})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100",children:[a.jsx("button",{onClick:e,className:"w-full bg-slate-900 text-white py-3.5 rounded-xl font-bold hover:bg-black transition-all shadow-sm mb-4",children:"Start Free Quick Scan"}),a.jsxs("p",{className:"text-xs text-center text-slate-500",children:["Prefer the best offer? Complete the free scan to unlock ",a.jsx("strong",{children:"bundle pricing and local rates."})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden flex flex-col relative opacity-95",children:[a.jsxs("div",{className:"p-8 flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Enterprise"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"For teams, agencies & incubators"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-3xl font-extrabold text-slate-900",children:"Custom"}),a.jsx("div",{className:"text-xs text-slate-400 font-medium",children:"Contact Sales"})]})]}),a.jsx("div",{className:"prose prose-sm text-slate-600 mb-8",children:a.jsx("p",{children:"Deploy the diagnostic across multiple departments or portfolio companies. Aggregate data to find systemic weaknesses across your entire organization."})}),a.jsx("div",{className:"space-y-4 mb-8",children:["Everything in Standard","Multi-User / Dept Dashboard","Aggregated Heatmaps","Custom Industry Benchmarks","Admin Roles & Access Control","Dedicated Account Manager"].map((v,S)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 bg-blue-100 p-1 rounded-full",children:a.jsx(Ja,{className:"w-3 h-3 text-blue-600"})}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:v})]},S))})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 mt-auto",children:[a.jsx("button",{onClick:t,className:"w-full bg-white border-2 border-slate-200 text-slate-900 py-3.5 rounded-xl font-bold hover:border-slate-900 hover:bg-slate-50 transition-all mb-4",children:"Request Enterprise Demo"}),a.jsx("p",{className:"text-xs text-center text-slate-500",children:"Volume discounts available for 5+ seats."})]})]})]})}),a.jsx("div",{className:"max-w-3xl mx-auto px-4 mt-16 mb-20",children:a.jsxs("div",{className:"bg-brand-50 border border-brand-200 rounded-xl p-6 flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-brand-100 rounded-lg text-brand-700 flex-shrink-0",children:a.jsx(ii,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold text-brand-900 mb-2",children:"Unlock your best price"}),a.jsxs("p",{className:"text-brand-800 text-sm leading-relaxed mb-1",children:["Want the best offer? Start with the free Quick Scan. Youll unlock ",a.jsx("strong",{children:"bundle pricing, local currency rates, and targeted options"})," based on your critical pillar. In some regions, the Standard bundle may be available from ",a.jsx("span",{className:"font-bold underline",children:"$49"}),"."]}),a.jsx("p",{className:"text-xs text-brand-600 mt-3 italic",children:"* Offers vary by location and assessment type. Final pricing is shown before payment."})]})]})}),a.jsx("div",{className:"bg-slate-50 py-20 border-y border-slate-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Everything you need to fix the leak"}),a.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"More than just a report. It's an operating system for profit."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:ya,title:"Diagnostic Engine",desc:"Analyzes 7 pillars of your business (Finance, Ops, Marketing, etc) to find the hidden drag."},{icon:ln,title:"Forensic Deep Dive",desc:"100+ data points synthesized into a clear, brutal, and actionable truth about your operation."},{icon:sR,title:"Action Roadmap",desc:"A 30-page PDF report with 7-day, 30-day, and 90-day execution plans tailored to your archetype."},{icon:ii,title:"Profit Simulator",desc:"Interactive sliders to see exactly how fixing your 'Fuel' or 'Voice' impacts your bottom line."},{icon:cn,title:"Benchmark Badge",desc:"See how you stack up against top SMEs in your region. Downloadable for LinkedIn."},{icon:Yr,title:"Boardroom AI",desc:"Optional add-on: A 24/7 AI Consultant trained on your specific diagnostic scores."}].map((v,S)=>a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center text-slate-900 mb-4",children:a.jsx(v.icon,{className:"w-6 h-6"})}),a.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:v.title}),a.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:v.desc})]},S))})]})}),a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900 text-center mb-12",children:"Compare Plans"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"py-4 px-6 font-bold text-slate-900 w-1/3",children:"Feature"}),a.jsx("th",{className:"py-4 px-6 font-bold text-slate-900 text-center bg-slate-50",children:"Free Quick Scan"}),a.jsx("th",{className:"py-4 px-6 font-bold text-slate-900 text-center border-x border-slate-200 bg-brand-50/30",children:"Standard ($97)"}),a.jsx("th",{className:"py-4 px-6 font-bold text-slate-900 text-center",children:"Enterprise"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{label:"Archetype Detection",free:!0,std:!0,ent:!0},{label:"Critical Pillar Alert",free:!0,std:!0,ent:!0},{label:"Full Deep Assessment",free:!1,std:!0,ent:!0},{label:"30-Page PDF Report",free:!1,std:!0,ent:!0},{label:"Profit Simulator",free:"Lite",std:"Advanced",ent:"Advanced"},{label:"Benchmark Badge",free:!1,std:!0,ent:!0},{label:"Multi-User Dashboard",free:!1,std:!1,ent:!0},{label:"Department Analytics",free:!1,std:!1,ent:!0},{label:"Admin Controls",free:!1,std:!1,ent:!0}].map((v,S)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"py-4 px-6 font-medium text-slate-700",children:v.label}),a.jsx("td",{className:"py-4 px-6 text-center bg-slate-50",children:v.free===!0?a.jsx(Ja,{className:"w-5 h-5 text-green-500 mx-auto"}):v.free===!1?a.jsx(yn,{className:"w-5 h-5 text-slate-300 mx-auto"}):a.jsx("span",{className:"text-xs font-bold text-slate-500",children:v.free})}),a.jsx("td",{className:"py-4 px-6 text-center border-x border-slate-200 bg-brand-50/10",children:v.std===!0?a.jsx(Ja,{className:"w-5 h-5 text-green-500 mx-auto"}):v.std===!1?a.jsx(yn,{className:"w-5 h-5 text-slate-300 mx-auto"}):a.jsx("span",{className:"text-xs font-bold text-slate-500",children:v.std})}),a.jsx("td",{className:"py-4 px-6 text-center",children:v.ent===!0?a.jsx(Ja,{className:"w-5 h-5 text-green-500 mx-auto"}):v.ent===!1?a.jsx(yn,{className:"w-5 h-5 text-slate-300 mx-auto"}):a.jsx("span",{className:"text-xs font-bold text-slate-500",children:v.ent})})]},S))})]})})]}),a.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900 text-center mb-10",children:"Frequently Asked Questions"}),a.jsx("div",{className:"space-y-4",children:h.map((v,S)=>a.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden bg-white",children:[a.jsxs("button",{onClick:()=>u(S),className:"w-full flex items-center justify-between p-5 text-left font-bold text-slate-900 hover:bg-slate-50 transition-colors",children:[v.question,s===S?a.jsx(oR,{className:"w-5 h-5 text-slate-400"}):a.jsx(Ju,{className:"w-5 h-5 text-slate-400"})]}),s===S&&a.jsx("div",{className:"p-5 pt-0 text-slate-600 leading-relaxed text-sm animate-in fade-in slide-in-from-top-2",children:v.answer})]},S))})]}),a.jsx("div",{className:"bg-slate-900 text-white py-16 mt-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-6",children:"Stop guessing. Find the leak."}),a.jsx("p",{className:"text-slate-400 text-lg mb-8",children:"Your first diagnostic takes less than 7 minutes. Its free, private, and brutal."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsxs("button",{onClick:e,className:"w-full sm:w-auto bg-brand-500 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-brand-600 transition-all shadow-lg flex items-center justify-center gap-2",children:["Start Free Quick Scan ",a.jsx(on,{className:"w-5 h-5"})]}),a.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-transparent border border-slate-700 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-white/10 transition-all",children:"Request Enterprise Demo"})]})]})})]})},Q0e=({onJoin:e,onLogin:t})=>a.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900",children:[a.jsxs("div",{className:"relative bg-slate-900 text-white pt-24 pb-32 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-brand-900 rounded-full blur-3xl opacity-20 -mr-40 -mt-40 pointer-events-none"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-800/50 border border-brand-700 rounded-full px-4 py-1.5 mb-8 animate-in fade-in slide-in-from-top-4",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs font-bold text-brand-100 tracking-wide uppercase",children:"Partner Ecosystem Now Live"})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6 leading-tight max-w-4xl mx-auto",children:["Diagnose all your clients in one click. ",a.jsx("br",{}),a.jsx("span",{className:"text-brand-400",children:"Look like a genius."})]}),a.jsx("p",{className:"text-xl text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed",children:'Instantly reveal hidden profit leaks across Finance, Ops, Marketing, and Risk. Get a "Health Map" for your entire portfolio and actionable plans you can monetize.'}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsxs("button",{onClick:e,className:"w-full sm:w-auto bg-brand-500 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-brand-600 transition-all shadow-lg shadow-brand-900/50 flex items-center justify-center gap-2",children:["Become a Partner ",a.jsx(on,{className:"w-5 h-5"})]}),a.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-transparent border border-slate-600 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-white/10 transition-all",children:"Partner Login"})]})]})]}),a.jsx("div",{className:"py-20 bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-16",children:"The Business Doctor Protocol"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"text-center relative",children:[a.jsx("div",{className:"w-16 h-16 bg-white border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-sm",children:a.jsx(ii,{className:"w-8 h-8 text-brand-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"1. Send Diagnostic Link"}),a.jsx("p",{className:"text-gray-600",children:"Your client answers a 7-minute Quick Scan. No login required for them."}),a.jsx("div",{className:"hidden md:block absolute top-8 left-[60%] w-full h-0.5 bg-gray-200"})]}),a.jsxs("div",{className:"text-center relative",children:[a.jsx("div",{className:"w-16 h-16 bg-white border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-sm",children:a.jsx(ek,{className:"w-8 h-8 text-brand-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"2. Get Health Map"}),a.jsx("p",{className:"text-gray-600",children:"See a 7-pillar radar chart, critical risks, and benchmark position instantly."}),a.jsx("div",{className:"hidden md:block absolute top-8 left-[60%] w-full h-0.5 bg-gray-200"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-white border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-sm",children:a.jsx(Ur,{className:"w-8 h-8 text-brand-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"3. Act Before Crisis"}),a.jsx("p",{className:"text-gray-600",children:"Receive alerts when a client is heading toward a cash crash or compliance risk."})]})]})]})}),a.jsxs("div",{className:"py-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Who is this for?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"p-8 border border-gray-200 rounded-2xl hover:shadow-lg transition-all bg-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ln,{className:"w-6 h-6 text-blue-600"}),a.jsx("h3",{className:"font-bold text-lg",children:"Accountants"})]}),a.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:"Move beyond tax filing. Spot cash leaks, margin erosion, and compliance risks before they become debt."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"})," Cashflow Alerts"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"})," Margin Analysis"]})]})]}),a.jsxs("div",{className:"p-8 border border-gray-200 rounded-2xl hover:shadow-lg transition-all bg-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Da,{className:"w-6 h-6 text-purple-600"}),a.jsx("h3",{className:"font-bold text-lg",children:"Business Coaches"})]}),a.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:"Stop guessing. See the real bottleneckleadership, execution, or salesnot just the symptoms they tell you."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"})," Leadership Blindspots"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"})," Team Alignment"]})]})]}),a.jsxs("div",{className:"p-8 border border-gray-200 rounded-2xl hover:shadow-lg transition-all bg-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-amber-600"}),a.jsx("h3",{className:"font-bold text-lg",children:"Incubators"})]}),a.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:"Track 50+ startups like a portfolio. See who is ready for investment and who is about to crash."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"})," Portfolio Heatmap"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500 mt-0.5"})," Investment Readiness"]})]})]})]})]}),a.jsx("div",{className:"bg-slate-900 text-white py-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Wholesale Power"}),a.jsxs("p",{className:"text-slate-300 text-lg mb-10",children:["Buy diagnostic credits in bulk. Resell them or bundle them into your retainer.",a.jsx("br",{}),"You only pay when you send a link."]}),a.jsxs("div",{className:"bg-white/10 rounded-xl p-8 border border-white/20 inline-block text-left",children:[a.jsxs("div",{className:"flex items-center justify-between gap-12 mb-4",children:[a.jsx("span",{className:"font-bold text-lg",children:"Partner Rate"}),a.jsx("span",{className:"font-mono text-2xl font-bold text-green-400",children:"50% OFF"})]}),a.jsxs("ul",{className:"space-y-3 mb-8",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-400"})," White-label reports"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-400"})," Client Dashboard"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-400"})," Priority Support"]})]}),a.jsx("button",{onClick:e,className:"w-full bg-white text-black py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"View Partner Plans"})]})]})})]}),X0e=[{id:"G-ABS-01",trigger:e=>{const t=Object.values(e.pillarScores).filter(i=>typeof i=="number");return Math.min(...t)<=29},severity:"critical",titleTemplate:"Urgent: {Client} is in the red on {CriticalPillar}",action:"Call within 48 hours"},{id:"G-MIX-01",trigger:e=>Object.values(e.pillarScores).filter(i=>typeof i=="number").filter(i=>i<=29).length>=2,severity:"critical",titleTemplate:"Multi-system failure risk (2+ red pillars)",action:"Escalate: urgent intervention"},{id:"FUEL-01",trigger:e=>e.pillarScores.fuel<=15,severity:"critical",titleTemplate:"Bankruptcy risk: Fuel extremely low",action:"Call today"},{id:"FUEL-DRV-01",trigger:e=>{var t;return((t=e.drivers)==null?void 0:t.overdue_invoices)==="high"&&e.pillarScores.fuel<=44},severity:"critical",titleTemplate:"Receivables choking cash flow",action:"Install stop-work + reminders"},{id:"FUEL-DRV-05",trigger:e=>{var t;return((t=e.drivers)==null?void 0:t.no_cash_buffer)===!0&&e.pillarScores.fuel<=44},severity:"critical",titleTemplate:"Zero buffer shock risk",action:"Build 1-month buffer plan"},{id:"ENGINE-01",trigger:e=>e.pillarScores.engine<=29,severity:"critical",titleTemplate:"Founder bottleneck risk",action:"SOP + delegation sprint"},{id:"ENGINE-DRV-01",trigger:e=>{var t;return((t=e.drivers)==null?void 0:t.no_sops)===!0&&e.pillarScores.engine<=44},severity:"critical",titleTemplate:"Chaos scaling risk",action:"Build top 10 SOPs"},{id:"SHIELD-01",trigger:e=>e.pillarScores.shield<=29,severity:"critical",titleTemplate:"Business is legally/cyber exposed",action:"Immediate protection"},{id:"SHIELD-DRV-01",trigger:e=>{var t;return((t=e.drivers)==null?void 0:t.no_contracts)===!0&&e.pillarScores.shield<=44},severity:"critical",titleTemplate:"Handshake deal risk",action:"Standard contract pack"},{id:"VOICE-01",trigger:e=>e.pillarScores.voice<=29,severity:"critical",titleTemplate:"Lead flow unstablerevenue volatility risk",action:"Build follow-up + offer"},{id:"VOICE-DRV-01",trigger:e=>{var t;return((t=e.drivers)==null?void 0:t.no_followup_system)===!0&&e.pillarScores.voice<=44},severity:"critical",titleTemplate:"Money dying in follow-up",action:"Install 10-day cadence"},{id:"BRAIN-01",trigger:e=>e.pillarScores.brain<=29,severity:"critical",titleTemplate:"Leadership system failing",action:"Define 3 priorities this month"},{id:"TRIBE-01",trigger:e=>e.pillarScores.tribe<=29,severity:"critical",titleTemplate:"Culture is blocking execution",action:"Leadership coaching required"}],J0e=()=>{const[e,t]=A.useState("list"),[i,n]=A.useState(150),[r,s]=A.useState(!1),l=[{id:"c1",name:"Kampala Logistics",company:"Kampala Logistics Ltd",industry:"Logistics",country:"UG",overallHealth:45,criticalPillar:"Fuel",lastAssessedDate:"Oct 24",status:"needs_call",pillarScores:{engine:60,fuel:12,voice:50,brain:70,pulse:40,shield:30,tribe:50},drivers:{no_cash_buffer:!0,overdue_invoices:"high"}},{id:"c2",name:"TechFlow",company:"TechFlow Inc",industry:"SaaS",country:"US",overallHealth:82,criticalPillar:"Tribe",lastAssessedDate:"Oct 20",status:"stable",pillarScores:{engine:85,fuel:90,voice:80,brain:85,pulse:75,shield:80,tribe:65},drivers:{}},{id:"c3",name:"Apex Retail",company:"Apex Retail Group",industry:"Retail",country:"KE",overallHealth:60,criticalPillar:"Voice",lastAssessedDate:"Oct 15",status:"active",pillarScores:{engine:70,fuel:65,voice:25,brain:60,pulse:55,shield:70,tribe:60},drivers:{no_followup_system:!0}},{id:"c4",name:"Green Agro",company:"Green Agro Co",industry:"Agriculture",country:"NG",overallHealth:30,criticalPillar:"Shield",lastAssessedDate:"Oct 10",status:"needs_call",pillarScores:{engine:40,fuel:35,voice:30,brain:40,pulse:30,shield:15,tribe:20},drivers:{no_contracts:!0,no_sops:!0}},{id:"c5",name:"Swift Movers",company:"Swift Movers",industry:"Logistics",country:"UG",overallHealth:55,criticalPillar:"Engine",lastAssessedDate:"Oct 28",status:"active",pillarScores:{engine:28,fuel:60,voice:55,brain:60,pulse:50,shield:50,tribe:55},drivers:{no_sops:!0}}],[d,p]=A.useState([]);A.useEffect(()=>{const y=[];l.forEach(v=>{X0e.forEach(S=>{S.trigger(v)&&y.push({id:`alert_${v.id}_${S.id}`,clientId:v.id,clientName:v.name,type:S.id,severity:S.severity,message:S.titleTemplate.replace("{Client}",v.name).replace("{CriticalPillar}",v.criticalPillar),action:S.action,date:"Just now"})})}),y.sort((v,S)=>v.severity==="critical"?-1:1),p(y)},[]);const u=y=>y>=70?"bg-green-500":y>=40?"bg-amber-500":"bg-red-500",g=y=>{switch(y){case"needs_call":return a.jsxs("span",{className:"bg-red-100 text-red-700 text-xs font-bold px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(gR,{className:"w-3 h-3"})," Call Now"]});case"stable":return a.jsxs("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(He,{className:"w-3 h-3"})," Stable"]});case"active":return a.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs font-bold px-2 py-1 rounded",children:"Active"});default:return a.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded",children:"New"})}},h=()=>a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Send Diagnostic Link"}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-black",children:""})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Client Email"}),a.jsx("input",{type:"email",placeholder:"client@example.com",className:"w-full border-gray-300 rounded-lg p-2.5 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Diagnostic Type"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{className:"p-3 border-2 border-black bg-gray-50 rounded-xl text-left",children:[a.jsx("div",{className:"font-bold text-sm",children:"Quick Scan"}),a.jsx("div",{className:"text-xs text-gray-500",children:"1 Credit  7 Mins"})]}),a.jsxs("button",{className:"p-3 border border-gray-200 rounded-xl text-left hover:border-gray-300",children:[a.jsx("div",{className:"font-bold text-sm",children:"Deep Audit"}),a.jsx("div",{className:"text-xs text-gray-500",children:"5 Credits  45 Mins"})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg flex items-start gap-2 border border-blue-100",children:[a.jsx(ii,{className:"w-4 h-4 text-blue-600 mt-0.5"}),a.jsx("p",{className:"text-xs text-blue-800",children:"Link will include your branding. You will be notified when they complete it."})]})]}),a.jsxs("div",{className:"p-4 border-t border-gray-100 flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Balance: ",i," Credits"]}),a.jsx("button",{onClick:()=>s(!1),className:"bg-black text-white px-6 py-2.5 rounded-lg text-sm font-bold hover:bg-gray-800",children:"Send Link (-1 Credit)"})]})]})});return a.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto min-h-full font-sans text-slate-900",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:["Partner Dashboard ",a.jsx("span",{className:"bg-brand-100 text-brand-800 text-xs px-2 py-1 rounded border border-brand-200 uppercase tracking-wider",children:"Business Doctor"})]}),a.jsxs("p",{className:"text-gray-500 mt-1",children:["Monitoring ",a.jsxs("strong",{children:[l.length," clients"]}),". You have ",a.jsxs("strong",{children:[d.length," urgent alerts"]}),"."]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2 text-sm font-bold shadow-sm",children:["Credits: ",a.jsx("span",{className:"text-brand-600",children:i})]}),a.jsxs("button",{onClick:()=>s(!0),className:"bg-black text-white px-5 py-2.5 rounded-lg text-sm font-bold hover:bg-gray-800 flex items-center gap-2 shadow-lg",children:[a.jsx(fz,{className:"w-4 h-4"})," Send Link"]})]})]}),d.length>0&&a.jsx("div",{className:"mb-8 space-y-2",children:d.map(y=>a.jsxs("div",{className:`p-4 rounded-xl border flex items-center justify-between ${y.severity==="critical"?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[y.severity==="critical"?a.jsx(Ur,{className:"w-5 h-5 text-red-600"}):a.jsx(ar,{className:"w-5 h-5 text-amber-600"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-bold text-gray-900",children:[y.clientName,":"]}),a.jsx("span",{className:"text-gray-700",children:y.message})]}),a.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Recommended: ",y.action]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-gray-500",children:y.date}),a.jsx("button",{className:"bg-white border border-gray-300 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-gray-50",children:"View Client"})]})]},y.id))}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ka,{className:"w-4 h-4 absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search clients...",className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-black focus:border-black w-64"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 border border-gray-200 rounded-lg text-sm font-medium hover:bg-gray-50 bg-white",children:[a.jsx(Zu,{className:"w-4 h-4"})," Filter"]})]}),a.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[a.jsxs("button",{onClick:()=>t("list"),className:`p-2 rounded flex items-center gap-2 text-xs font-bold ${e==="list"?"bg-white shadow-sm text-black":"text-gray-500"}`,children:[a.jsx(pR,{className:"w-4 h-4"})," List"]}),a.jsxs("button",{onClick:()=>t("heatmap"),className:`p-2 rounded flex items-center gap-2 text-xs font-bold ${e==="heatmap"?"bg-white shadow-sm text-black":"text-gray-500"}`,children:[a.jsx(fq,{className:"w-4 h-4"})," Heatmap"]})]})]}),e==="list"?a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Client"}),a.jsx("th",{className:"px-6 py-4",children:"Industry"}),a.jsx("th",{className:"px-6 py-4",children:"Health Score"}),a.jsx("th",{className:"px-6 py-4",children:"Critical Pillar"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4",children:"Last Check"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50 group",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-gray-900",children:y.name}),a.jsx("td",{className:"px-6 py-4 text-gray-500",children:y.industry}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${u(y.overallHealth)}`}),a.jsxs("span",{className:"font-bold",children:[y.overallHealth,"/100"]})]})}),a.jsx("td",{className:"px-6 py-4 text-red-600 font-medium",children:y.criticalPillar}),a.jsx("td",{className:"px-6 py-4",children:g(y.status)}),a.jsx("td",{className:"px-6 py-4 text-gray-500",children:y.lastAssessedDate}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-black hover:bg-gray-100 rounded-full",title:"View Report",children:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-black hover:bg-gray-100 rounded-full",title:"More",children:a.jsx(Po,{className:"w-4 h-4"})})]})})]},y.id))})]})}):a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"grid grid-cols-8 gap-1 min-w-[800px]",children:[a.jsx("div",{className:"font-bold text-gray-500 text-xs p-2",children:"Client"}),["Engine","Fuel","Voice","Brain","Pulse","Shield","Tribe"].map(y=>a.jsx("div",{className:"font-bold text-gray-500 text-xs p-2 text-center uppercase",children:y},y)),l.map(y=>a.jsxs(J0.Fragment,{children:[a.jsx("div",{className:"text-sm font-bold text-gray-900 p-2 truncate border-b border-gray-50 flex items-center",children:y.name}),["engine","fuel","voice","brain","pulse","shield","tribe"].map(v=>{const S=y.pillarScores[v];return a.jsx("div",{className:"p-1 border-b border-gray-50",children:a.jsx("div",{className:`w-full h-8 rounded flex items-center justify-center text-xs font-bold text-white ${u(S)}`,children:S})},v)})]},y.id))]})})}),r&&a.jsx(h,{})]})},Z0e=({mode:e,onSignup:t,onSelectPack:i})=>{const[n,r]=A.useState(25),s=[{id:"starter",name:"Starter",credits:100,clientsCovered:"10-25",bestFor:"Solo Consultants",price:e==="seo"?"$":"$190",perCredit:e==="seo"?"":"$1.90",features:["Quick Scan & Deep Audit","Partner Dashboard","Basic Alerts"]},{id:"growth",name:"Growth",credits:300,clientsCovered:"25-75",bestFor:"Small Firms",price:e==="seo"?"$":"$450",perCredit:e==="seo"?"":"$1.50",highlight:!0,features:["Everything in Starter","Wholesale Discount (20%)","Priority Support","White-label Reports"]},{id:"scale",name:"Scale",credits:800,clientsCovered:"75-200",bestFor:"Agencies",price:e==="seo"?"$":"$960",perCredit:e==="seo"?"":"$1.20",features:["Everything in Growth","Wholesale Discount (40%)","API Access","Dedicated Success Mgr"]}];return a.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900",children:[a.jsx("div",{className:"bg-slate-900 text-white pt-20 pb-24 relative overflow-hidden",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center relative z-10",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-6",children:e==="seo"?"Partner Pricing":"Wholesale Credit Packs"}),a.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto mb-8",children:e==="seo"?"Run diagnostics across 50+ clients, track risk, and get action plans you can sell. You only pay when you send a link.":"Unlock exclusive partner rates. Buy credits in bulk to increase your margin."}),e==="seo"&&a.jsxs("button",{onClick:t,className:"bg-brand-500 text-white px-8 py-3 rounded-xl font-bold text-lg hover:bg-brand-600 transition-all shadow-lg flex items-center gap-2 mx-auto",children:["Create Partner Account ",a.jsx(on,{className:"w-5 h-5"})]})]})}),e==="funnel"&&a.jsx("div",{className:"bg-green-50 border-b border-green-100 py-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-center items-center gap-2 text-green-800 font-bold text-sm",children:[a.jsx(ii,{className:"w-4 h-4"}),"First-Pack Bonus Active: Get 10% extra credits on your first purchase."]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[a.jsxs("div",{className:"max-w-2xl mx-auto mb-16 text-center",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Estimate your monthly usage"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm font-bold text-gray-500",children:"10 Clients"}),a.jsx("input",{type:"range",min:"10",max:"200",step:"10",value:n,onChange:l=>r(parseInt(l.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-black"}),a.jsx("span",{className:"text-sm font-bold text-gray-500",children:"200+ Clients"})]}),a.jsxs("p",{className:"mt-4 text-brand-600 font-bold",children:[n," Clients  ",Math.ceil(n*1.5)," Credits / Month"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"(Assumes mix of Quick Scans and Deep Audits)"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map(l=>a.jsxs("div",{className:`bg-white rounded-2xl p-8 border-2 flex flex-col relative transition-all hover:shadow-xl ${l.highlight?"border-black shadow-lg scale-105":"border-gray-100 shadow-sm"}`,children:[l.highlight&&a.jsx("div",{className:"absolute top-0 left-0 right-0 bg-black text-white text-xs font-bold py-1 text-center uppercase tracking-widest rounded-t-lg",children:"Best Value"}),a.jsxs("div",{className:"mb-6 mt-2",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l.name}),a.jsx("p",{className:"text-sm text-gray-500",children:l.bestFor})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-4xl font-extrabold text-gray-900",children:l.price}),e==="funnel"&&a.jsxs("div",{className:"text-sm font-medium text-green-600",children:[l.perCredit," / credit"]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-2 font-bold",children:[l.credits," Credits"]})]}),a.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:l.features.map((d,p)=>a.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[a.jsx(He,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),d]},p))}),a.jsx("button",{onClick:()=>i&&i(l.id),className:`w-full py-3.5 rounded-xl font-bold transition-colors ${l.highlight?"bg-black text-white hover:bg-gray-800":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:e==="seo"?"View Pricing":"Buy Pack"})]},l.id))}),e==="seo"&&a.jsxs("div",{className:"mt-20 max-w-4xl mx-auto bg-gray-50 rounded-2xl p-8 border border-gray-200 flex flex-col md:flex-row items-center gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Enterprise Partners"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"For incubators, large firms, and associations managing 200+ clients."}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-black"})," White-label domain"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-black"})," Custom cohorts & benchmarks"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-black"})," API Integration"]})]})]}),a.jsx("button",{className:"bg-white border-2 border-black text-black px-8 py-3 rounded-xl font-bold hover:bg-black hover:text-white transition-colors",children:"Contact Sales"})]}),e==="seo"&&a.jsxs("div",{className:"mt-20 max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Partner FAQ"}),a.jsx("div",{className:"space-y-4",children:[{q:"Do credits expire?",a:"No. Your credits never expire."},{q:"Can I brand the reports?",a:"Yes. All partner reports include your logo and firm details in the header."},{q:"How much does a scan cost?",a:"A Quick Scan costs 1 credit. A Deep Audit costs 5 credits."}].map((l,d)=>a.jsxs("div",{className:"border border-gray-200 rounded-xl p-6",children:[a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:l.q}),a.jsx("p",{className:"text-gray-600 text-sm",children:l.a})]},d))})]}),e==="funnel"&&a.jsx("div",{className:"mt-12 text-center text-xs text-gray-400",children:a.jsx("p",{children:"Secure payment via Stripe. 14-day refund policy on unused credits."})})]})]})},eke=({user:e,onUpdateUser:t,onBack:i})=>{var T,N;const[n,r]=A.useState(null),[s,l]=A.useState(""),[d,p]=A.useState(!1),[u,g]=A.useState("board");if(!e.activeFixPlan)return null;const h=e.activeFixPlan,y=h.tasks,v=E=>y.filter(O=>O.status===E),S=(E,O)=>{const P=y.map(D=>D.id===E?{...D,status:O}:D),I=Math.round(P.filter(D=>D.status==="done").length/P.length*100);t({...e,activeFixPlan:{...h,tasks:P,overallProgress:I}})},k=async()=>{!n||!s||(p(!0),setTimeout(()=>{const E=y.map(B=>B.id===n.id?{...B,status:"done",evidence:{type:"text",value:s,timestamp:new Date().toISOString()}}:B),O=Math.round(E.filter(B=>B.status==="done").length/E.length*100),P=n.pillar.toLowerCase(),I=e.pillarScores||{operations:0,money:0,market:0,leadership:0,innovation:0,risk:0,people:0},D=Math.min(100,(I[P]||0)+n.impactScore);t({...e,pillarScores:{...I,[P]:D},activeFixPlan:{...h,tasks:E,overallProgress:O}}),p(!1),r(null),l("")},1200))},C=({task:E})=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:border-brand-300 hover:shadow-md transition-all cursor-pointer group",onClick:()=>r(E),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded border ${E.pillar==="Risk"?"bg-red-50 text-red-700 border-red-100":E.pillar==="Money"?"bg-green-50 text-green-700 border-green-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:E.pillar}),a.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:E.deadline})]}),a.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 leading-tight group-hover:text-brand-600 transition-colors",children:E.title}),a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3 leading-relaxed",children:E.desc}),E.autoTags&&E.autoTags.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-1",children:E.autoTags.slice(0,2).map(O=>a.jsx("span",{className:"text-[10px] bg-slate-100 text-slate-700 px-2 py-0.5 rounded-full border border-slate-200",children:O},O))}),a.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-100 flex items-center justify-center text-[8px] font-bold text-gray-500",children:E.owner[0]}),a.jsx("span",{className:"text-[10px] text-gray-400",children:E.owner})]}),a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-brand-600",children:[a.jsx(ii,{className:"w-3 h-3"})," +",E.impactScore]})]})]});return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[a.jsx("header",{className:"bg-slate-900 text-white p-6 sticky top-0 z-30 shadow-xl",children:a.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:i,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(dc,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[h.focusArea||"Execution Engine"," ",a.jsx("span",{className:"bg-brand-500 text-[10px] px-2 py-0.5 rounded uppercase tracking-wider",children:"Fix Mode"})]}),a.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:["Plan started: ",new Date(h.startedAt).toLocaleDateString()]})]})]}),a.jsx("div",{className:"flex flex-1 md:justify-center items-center gap-8 w-full md:w-auto",children:a.jsxs("div",{className:"flex-1 max-w-xs",children:[a.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1.5",children:[a.jsx("span",{children:"Gap Closing Progress"}),a.jsxs("span",{children:[h.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-brand-400 h-full transition-all duration-1000",style:{width:`${h.overallProgress}%`}})})]})}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all",children:[a.jsx(Fr,{className:"w-4 h-4"})," Export Protocol"]})})]}),h.kpis&&h.kpis.length>0&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-white/10",children:[a.jsxs("div",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider flex items-center",children:[a.jsx(Ks,{className:"w-4 h-4 mr-2"})," Target Metrics"]}),h.kpis.map(E=>a.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2 border border-white/5",children:[a.jsx("p",{className:"text-[10px] text-slate-400 uppercase truncate",children:E.name}),a.jsxs("p",{className:"text-sm font-bold text-white flex items-center gap-1",children:["-- ",a.jsxs("span",{className:"text-[10px] font-normal opacity-70",children:["/ ",E.frequency]})]})]},E.id))]})]})}),a.jsx("main",{className:"max-w-[1400px] mx-auto w-full p-8 flex-1 overflow-hidden flex flex-col",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 h-full",children:[a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm uppercase tracking-widest",children:[a.jsx(pR,{className:"w-4 h-4 text-gray-400"})," Backlog (",v("backlog").length,")"]}),a.jsx(Po,{className:"w-4 h-4 text-gray-400"})]}),a.jsxs("div",{className:"bg-gray-100/50 rounded-2xl p-4 flex-1 overflow-y-auto space-y-4 border border-gray-200/50",children:[v("backlog").map(E=>a.jsx(C,{task:E},E.id)),v("backlog").length===0&&a.jsx("div",{className:"h-32 flex flex-col items-center justify-center text-center p-6 border-2 border-dashed border-gray-200 rounded-xl text-gray-400",children:a.jsx("p",{className:"text-xs",children:"Queue empty."})})]})]}),a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm uppercase tracking-widest",children:[a.jsx(ya,{className:"w-4 h-4 text-brand-600"})," Working (",v("in_progress").length,")"]}),a.jsx(Po,{className:"w-4 h-4 text-gray-400"})]}),a.jsxs("div",{className:"bg-brand-50/30 rounded-2xl p-4 flex-1 overflow-y-auto space-y-4 border border-brand-100/50",children:[v("in_progress").map(E=>a.jsx(C,{task:E},E.id)),v("in_progress").length===0&&a.jsx("div",{className:"h-32 flex flex-col items-center justify-center text-center p-6 border-2 border-dashed border-brand-200 rounded-xl text-brand-400/50",children:a.jsx("p",{className:"text-xs italic",children:"Drag tasks here to start fixing."})})]})]}),a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm uppercase tracking-widest",children:[a.jsx(He,{className:"w-4 h-4 text-green-600"})," Verified (",v("done").length,")"]}),a.jsx(Po,{className:"w-4 h-4 text-gray-400"})]}),a.jsx("div",{className:"bg-green-50/30 rounded-2xl p-4 flex-1 overflow-y-auto space-y-4 border border-green-100/50",children:v("done").map(E=>a.jsx(C,{task:E},E.id))})]})]})}),n&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-end bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"w-full max-w-xl h-full bg-white shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:"Task Protocol"}),a.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-black transition-colors",children:a.jsx(yn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-xs font-bold text-brand-600 uppercase tracking-widest mb-2 block",children:[n.pillar," PILLAR"]}),a.jsx("h2",{className:"text-2xl font-black text-gray-900 leading-tight",children:n.title}),a.jsx("p",{className:"text-gray-500 mt-4 leading-relaxed",children:n.desc})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 py-6 border-y border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Impact Metric"}),a.jsxs("p",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(dr,{className:"w-4 h-4 text-green-500"})," ",n.metric]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Effort Level"}),a.jsx("p",{className:"text-sm font-bold text-gray-900",children:n.effort})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Assigned To"}),a.jsx("p",{className:"text-sm font-bold text-gray-900",children:n.owner})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Rescore Reward"}),a.jsxs("p",{className:"text-sm font-bold text-brand-600",children:["+",n.impactScore," points"]})]}),n.costType&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Cost Type"}),a.jsx("p",{className:"text-sm font-bold text-gray-900",children:n.costType})]})]}),n.autoTags&&n.autoTags.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Auto Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.autoTags.map(E=>a.jsx("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-full border border-slate-200",children:E},E))})]}),n.status!=="done"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-xl",children:[a.jsxs("h4",{className:"text-sm font-bold text-amber-900 mb-2 flex items-center gap-2",children:[a.jsx(cR,{className:"w-4 h-4"})," Proof-of-Work Required"]}),a.jsx("p",{className:"text-xs text-amber-800 mb-4 leading-relaxed",children:n.evidencePrompt||"To mark this task as fixed, upload a brief description of the system change OR a link to the new documentation/SOP."}),n.verificationCriteria&&a.jsxs("p",{className:"text-[11px] text-amber-900 mb-4 font-semibold",children:["Verify: ",n.verificationCriteria]}),n.optionalEvidence&&a.jsxs("p",{className:"text-[11px] text-amber-700 mb-4",children:["Optional: ",n.optionalEvidence]}),a.jsx("textarea",{className:"w-full bg-white border border-amber-200 rounded-lg p-3 text-sm focus:ring-black focus:border-black h-32 resize-none",placeholder:"Describe how the fix was implemented...",value:s,onChange:E=>l(E.target.value)})]}),a.jsxs("div",{className:"flex gap-4",children:[n.status==="backlog"&&a.jsxs("button",{onClick:()=>S(n.id,"in_progress"),className:"flex-1 bg-gray-900 text-white py-3 rounded-xl font-bold hover:bg-black transition-all flex items-center justify-center gap-2",children:[a.jsx(ik,{className:"w-4 h-4"})," Move to Working"]}),a.jsxs("button",{onClick:k,disabled:!s||d,className:"flex-1 bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50 transition-all flex items-center justify-center gap-2 shadow-lg shadow-green-900/20",children:[d?a.jsx(Ma,{className:"w-4 h-4 animate-spin"}):a.jsx(hx,{className:"w-4 h-4"}),"Verify & Rescore"]})]})]}):a.jsxs("div",{className:"bg-green-50 border border-green-200 p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-800 font-bold mb-3",children:[a.jsx(cn,{className:"w-5 h-5"})," Evidence Verified"]}),a.jsxs("p",{className:"text-sm text-green-700 leading-relaxed italic",children:['"',(T=n.evidence)==null?void 0:T.value,'"']}),a.jsxs("p",{className:"text-[10px] text-green-600 mt-4 font-mono",children:["Timestamp: ",(N=n.evidence)==null?void 0:N.timestamp]})]})]})]})})]})},tke=({report:e,onUnlock:t})=>{var l,d,p,u,g,h,y,v,S,k;const i=A.useRef(null),n=[...e.pillars].sort((C,T)=>T.riskScore-C.riskScore).slice(0,3);[...e.pillars].sort((C,T)=>T.riskScore-C.riskScore),(d=(l=e.profileContext)==null?void 0:l.industry)!=null&&d.toLowerCase(),(p=e.pillars.find(C=>C.name==="Engine"))!=null&&p.score,(u=e.pillars.find(C=>C.name==="Fuel"))!=null&&u.score,(g=n[0])!=null&&g.name;const r=e.pillars.map(C=>({subject:C.name,A:C.score,fullMark:100})),s=()=>{var C;t({id:"report_unlock",title:"Full Forensic Report & Fix Plan",description:`Unlock the 30-page deep scan, 7-day action plan, and profit simulator for ${((C=e.profileContext)==null?void 0:C.businessName)||"your business"}.`,price:97,type:"one_time"})};return a.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans text-slate-900 pb-24",ref:i,children:[a.jsx("div",{className:"bg-slate-900 text-white sticky top-0 z-30 shadow-md",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-brand-600 p-2 rounded-lg",children:a.jsx(ln,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"leading-tight",children:[a.jsx("h1",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Profit Leak Field Report"}),a.jsx("p",{className:"font-bold",children:((h=e.profileContext)==null?void 0:h.businessName)||"Business Analysis"})]})]}),a.jsxs("button",{onClick:s,className:"bg-brand-600 hover:bg-brand-500 text-white px-5 py-2 rounded-lg text-sm font-bold transition-colors shadow-lg flex items-center gap-2",children:[a.jsx(Rn,{className:"w-3 h-3"})," Unlock Full Scan ($97)"]})]})}),a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative",children:[a.jsx("div",{className:"h-2 bg-gradient-to-r from-red-500 via-amber-500 to-green-500"}),a.jsxs("div",{className:"p-8 md:p-12",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start border-b border-slate-100 pb-8 mb-8 gap-6",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:[new Date().toLocaleDateString(),"  REF: ",e.id.substring(0,8).toUpperCase()]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-2",children:"Strategic Health Snapshot"}),a.jsxs("div",{className:"flex gap-2 text-sm text-slate-500",children:[a.jsxs("span",{className:"bg-slate-100 px-2 py-1 rounded text-slate-700 font-medium",children:[((y=e.profileContext)==null?void 0:y.industry)||"General"," Edition"]}),a.jsxs("span",{className:"bg-slate-100 px-2 py-1 rounded text-slate-700 font-medium",children:[((v=e.profileContext)==null?void 0:v.size)||"Unknown"," Team"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-6 py-4 rounded-xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Archetype"}),a.jsx("p",{className:"text-xl font-bold text-brand-600",children:e.archetype})]}),a.jsx("div",{className:"h-10 w-px bg-slate-200"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Risk Score"}),a.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[((S=e.indices)==null?void 0:S.riskExposure)||50,"/100"]})]})]})]}),a.jsxs("div",{className:"prose prose-lg text-slate-600 mb-12 max-w-none",children:[a.jsx("p",{className:"font-medium text-slate-800 border-l-4 border-brand-500 pl-4",children:e.executiveSummary}),a.jsxs("p",{children:["Our forensic analysis detected ",a.jsxs("strong",{children:[n.length," critical bottlenecks"]})," currently limiting your growth. The data indicates that your primary constraint is in the ",a.jsx("strong",{children:(k=n[0])==null?void 0:k.name})," pillar."]})]}),a.jsx("div",{className:"h-80 w-full mb-12",children:a.jsx(np,{width:"100%",height:"100%",children:a.jsxs(wm,{cx:"50%",cy:"50%",outerRadius:"80%",data:r,children:[a.jsx(xp,{stroke:"#e2e8f0"}),a.jsx(Sp,{dataKey:"subject",tick:{fill:"#64748b",fontSize:12,fontWeight:"bold"}}),a.jsx(kp,{angle:30,domain:[0,100],tick:!1}),a.jsx(vc,{name:"My Business",dataKey:"A",stroke:"#0f172a",fill:"#0f172a",fillOpacity:.2})]})})}),a.jsxs("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-6 flex items-center gap-2",children:[a.jsx(Ur,{className:"w-4 h-4 text-red-600"})," Critical Leaks Detected"]}),a.jsx("div",{className:"grid gap-4",children:n.map(C=>a.jsxs("div",{className:"flex items-start gap-4 p-4 border border-red-100 bg-red-50/50 rounded-lg",children:[a.jsx(ar,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-red-900",children:[C.name," System Failure"]}),a.jsx("p",{className:"text-sm text-red-800 mt-1",children:C.hiddenCost})]})]},C.name))})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative",children:[a.jsxs("div",{className:"p-8 md:p-12 opacity-50 blur-sm pointer-events-none select-none",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Detailed Fix Plan"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[a.jsx("div",{className:"h-32 bg-slate-100 rounded-lg"}),a.jsx("div",{className:"h-32 bg-slate-100 rounded-lg"})]})]})]}),a.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/60",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-slate-200 max-w-md text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-brand-100 text-brand-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Rn,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Unlock the Full Report"}),a.jsx("p",{className:"text-slate-500 mb-6 text-sm",children:"Get the comprehensive 30-page forensic audit, including your 7-day fix plan, profit simulator, and deep dive analysis for every pillar."}),a.jsxs("div",{className:"space-y-3 mb-6 text-left text-sm text-slate-600 bg-slate-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:"30-Page Deep Scan PDF"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:"7-Day & 30-Day Action Plans"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:"Full Profit Simulator Access"})]})]}),a.jsxs("button",{onClick:s,className:"w-full bg-black hover:bg-slate-800 text-white py-3.5 rounded-xl font-bold text-lg transition-all shadow-lg flex items-center justify-center gap-2",children:["Unlock Now ",a.jsx("span",{className:"text-brand-400 font-normal",children:"| $97"})]}),a.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"100% Money-back guarantee. Secure payment."})]})})]})]})]})},eu=[{id:"1",key:"finance",name:"Wealth & Capital",description:"Master asset allocation.",icon:""},{id:"2",key:"business",name:"Business Systems",description:"Operational excellence.",icon:""}],tu=[{id:"c1",slug:"saas-economics",title:"The Portfolio Blueprint",shortPromise:"Protect capital first.",instructor:{id:"t1",name:"Michael V.",title:"Fund Manager",avatar:"",rating:4.9,reviewsCount:840,verified:!0},price:499,currency:"USD",category:"Wealth & Capital",thumbnail:"https://images.unsplash.com/photo-1611974765270-ca12586343bb?auto=format&fit=crop&q=80&w=400",rating:4.9,reviewsCount:840,level:"Intermediate",language:"English",duration:"4 Weeks",format:"Live Session",outcomes:[],roiStats:[],proofOfWork:[],syllabus:[],resourcesIncluded:[],upcomingSessions:[],badges:[],enterpriseEligible:!0}],ike=()=>{const[e,t]=A.useState("landing"),[i]=A.useState({code:"en",name:"English",flag:""}),[n,r]=A.useState(null),[s,l]=A.useState(null),[d,p]=A.useState(null),[u,g]=A.useState(""),[h,y]=A.useState(null),v=D=>{r(D),e==="diagnostic_result"?t("dashboard"):D.role==="partner"?t("partner_dashboard"):t("dashboard")},S=()=>{r(null),t("landing")},k=(D,B,V,U)=>{n?(r({...n,archetype:D,pillarScores:B,planType:V,latestReport:U}),t(U?"mission_brief":"dashboard")):(r({id:"temp_user",name:"Guest User",role:"student",avatar:"https://ui-avatars.com/api/?name=Guest",archetype:D,pillarScores:B,status:"approved",planType:V,latestReport:U}),t(U?"mission_brief":"dashboard"))},C=D=>{n&&(r({...n,activeFixPlan:D}),t("fix_mode"))},T=()=>{if(!n&&["auth","login","signup"].includes(e))return a.jsx(ex,{onLogin:v,initialMode:e==="signup"?"signup":"login"});switch(e){case"landing":return a.jsx(y6,{onSearch:N,onCourseClick:O,onCategoryClick:E,onViewSchedule:()=>t("live_schedule"),onStartDiagnostic:()=>t("diagnostic"),courses:tu,categories:eu});case"diagnostic":return a.jsx(fL,{onComplete:k,variant:"owner"});case"tribe_diagnostic":return a.jsx(fL,{onComplete:D=>alert(`Employee Profile: ${D}`),variant:"employee"});case"catalog":return a.jsx(gL,{categories:eu,trendingCourses:tu,onCategoryClick:E,onCourseClick:O,onSearch:N,user:n,onViewPricing:()=>t("pricing")});case"consultant_marketplace":return a.jsx($ye,{onConsultantClick:()=>t("consultant_profile"),onSessionClick:()=>t("live_session"),user:n});case"category":return s?a.jsx(Yye,{category:s,courses:tu,onCourseClick:O}):null;case"course":return d?a.jsx(Qye,{course:d,onEnroll:P,user:n,onBack:()=>t("catalog")}):null;case"search":return a.jsx(Xye,{query:u,onCourseClick:O});case"pricing":return a.jsx(Y0e,{onStartScan:()=>t("diagnostic"),onRequestDemo:()=>t("company_profile"),onCheckout:P});case"blog_feed":return a.jsx(f_e,{onRead:()=>{},posts:[],user:n,onCreatePost:()=>t("blog_editor")});case"blog_editor":return n?a.jsx(vL,{onBack:()=>t("blog_feed"),onPublish:D=>t("blog_feed")}):a.jsx(ex,{onLogin:v,initialMode:"login"});case"live_schedule":return a.jsx(p_e,{onBook:P});case"consultant_profile":return a.jsx(a_e,{onBook:P});case"company_profile":return a.jsx(yL,{});case"partner_landing":return a.jsx(Q0e,{onJoin:()=>t("signup"),onLogin:()=>t("login")});case"partner_pricing":return a.jsx(Z0e,{mode:"seo",onSignup:()=>t("signup")})}if(!n)return a.jsx(ex,{onLogin:v});switch(e){case"dashboard":return a.jsx(Hd,{user:n,onViewCourse:O,onLaunchTribe:()=>t("tribe_diagnostic"),onViewHRReport:()=>t("hr_report")});case"report_view":return n.latestReport?a.jsx(V0e,{report:n.latestReport,onBack:()=>t("dashboard"),onStartFix:C}):a.jsx(Hd,{user:n,onViewCourse:O,onLaunchTribe:()=>t("tribe_diagnostic"),onViewHRReport:()=>t("hr_report")});case"mission_brief":return n.latestReport?a.jsx(tke,{report:n.latestReport,onUnlock:P}):a.jsx(Hd,{user:n,onViewCourse:O,onLaunchTribe:()=>t("tribe_diagnostic"),onViewHRReport:()=>t("hr_report")});case"fix_mode":return n.activeFixPlan?a.jsx(eke,{user:n,onUpdateUser:r,onBack:()=>t("dashboard")}):a.jsx(Hd,{user:n,onViewCourse:O,onLaunchTribe:()=>t("tribe_diagnostic"),onViewHRReport:()=>t("hr_report")});case"hr_report":return a.jsx($0e,{onBack:()=>t("dashboard")});case"consultant_dashboard":return a.jsx(mL,{});case"partner_dashboard":return a.jsx(J0e,{});case"studio":return a.jsx(t_e,{user:n,onLaunchLive:()=>t("live_session"),onNavigate:D=>t(D)});case"students":return a.jsx(i_e,{});case"ad_manager":return a.jsx(d_e,{user:n});case"billing":return a.jsx(tx,{});case"clients":return a.jsx(mL,{});case"consultant_onboarding":return a.jsx(r_e,{user:n,onComplete:()=>t("consultant_dashboard")});case"company_profile":return a.jsx(yL,{});case"team":return a.jsx(tx,{});case"admin_dashboard":return a.jsx(_L,{initialTab:"users"});case"admin_verifications":return a.jsx(_L,{initialTab:"users"});case"blog_editor":return a.jsx(vL,{onBack:()=>t("blog_feed"),onPublish:D=>t("blog_feed")});case"live_session":return a.jsx(u_e,{user:n,onExit:()=>t("live_schedule")});case"action_lab":return a.jsx(Hye,{});case"second_brain":return a.jsx(Jye,{});case"ai_ad_studio":return a.jsx(m_e,{user:n});case"locker":return a.jsx(Zye,{});case"settings":return a.jsx(tx,{});case"catalog":return a.jsx(gL,{categories:eu,trendingCourses:tu,onCategoryClick:E,onCourseClick:O,onSearch:N,user:n,onViewPricing:()=>t("pricing")});default:return a.jsx(Hd,{user:n,onViewCourse:O,onLaunchTribe:()=>t("tribe_diagnostic"),onViewHRReport:()=>t("hr_report")})}},N=D=>{g(D),t("search")},E=D=>{if(D==="all")t("catalog");else{const B=eu.find(V=>V.key===D);B&&(l(B),t("category"))}},O=D=>{const B=tu.find(V=>V.slug===D);B&&(p(B),t("course"))},P=D=>{n?y(D):t("login")},I=!n||["landing","auth","login","signup","diagnostic","tribe_diagnostic","catalog","pricing","search","consultant_profile","report_view","hr_report","partner_landing","partner_pricing","fix_mode","mission_brief"].includes(e);return a.jsx(f6,{children:a.jsxs("div",{className:"h-full bg-surface-container flex flex-col font-sans text-on-surface",children:[e!=="live_session"&&e!=="diagnostic"&&e!=="tribe_diagnostic"&&e!=="report_view"&&e!=="hr_report"&&e!=="partner_landing"&&e!=="fix_mode"&&e!=="mission_brief"&&a.jsx(h6,{currentView:e,setView:t,lang:i,user:n,onLogout:S,categories:eu,onSearch:N,onCategorySelect:E}),a.jsxs("div",{className:"flex flex-1 max-w-[100%] mx-auto w-full overflow-hidden",children:[!I&&n&&a.jsx(m6,{currentView:e,setView:t,userRole:n.role}),a.jsx("main",{className:`flex-1 w-full overflow-y-auto ${I?"":"bg-surface-container"}`,children:T()})]}),h&&a.jsx(h_e,{item:h,isOpen:!!h,onClose:()=>y(null),onConfirm:()=>{y(null),h.id==="report_unlock"&&t("report_view")},user:n})]})})},TF=document.getElementById("root");if(!TF)throw new Error("Could not find root element to mount to");const nke=JB.createRoot(TF);nke.render(a.jsx(J0.StrictMode,{children:a.jsx(ike,{})}));

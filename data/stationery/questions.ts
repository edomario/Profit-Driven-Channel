import { PillarId, QuestionDefinition, SignalTag } from '../../types';

const q = (
  qid: string,
  pillar: PillarId,
  signal_tags: SignalTag[],
  textA: string,
  textB: string,
  weight = 1.0,
  line_type: string[] = ['all']
): QuestionDefinition => ({
  qid,
  industry: 'retail',
  line_type,
  pillar,
  signal_tags,
  weight,
  textA,
  textB
});

export const questions: QuestionDefinition[] = [
  // QUICK SCAN (2 per pillar)
  q('QS_OPS_01', 'Operations', ['inventory_accuracy_gap', 'stockout_tax'],
    'I confirm item availability by checking shelves quickly.',
    'I confirm availability using a simple SKU list first.', 1.1),
  q('QS_OPS_02', 'Operations', ['restock_delay', 'planning_gap'],
    'Peak season stock planning happens when demand starts rising.',
    'Peak season stock planning happens on a calendar.', 1.0),

  q('QS_MONEY_01', 'Money', ['pricing_margin_blindspot', 'category_margin_blindspot'],
    'I feel a week was good when customers were many.',
    'I feel a week was good when profit stayed predictable.', 1.0),
  q('QS_MONEY_02', 'Money', ['discounting_leak', 'pricing_inconsistency'],
    'Discounts depend on the customer and the moment.',
    'Discounts follow simple bulk bands.', 1.1),

  q('QS_MARKET_01', 'Market', ['followup_gap', 'channel_dependency'],
    'Schools and offices buy from us when they remember.',
    'Schools and offices buy because we remind them and make it easy.', 1.0),
  q('QS_MARKET_02', 'Market', ['followup_gap', 'weak_onboarding'],
    'WhatsApp orders are answered when we are free.',
    'WhatsApp orders follow response templates and targets.', 1.0),

  q('QS_LEAD_01', 'Leadership', ['decision_bottleneck', 'approval_bottleneck'],
    'Most exceptions still need the owner or manager.',
    'We use rules so staff decide quickly.', 1.0),
  q('QS_LEAD_02', 'Leadership', ['no_variance_review', 'no_meeting_to_action'],
    'We fix problems fast and move on.',
    'We adjust the process so problems repeat less.', 1.0),

  q('QS_INNOV_01', 'Innovation', ['bundle_engine_missing'],
    'We sell items one-by-one based on what the customer asks for.',
    'We offer ready bundles and kits to save time.', 1.0),
  q('QS_INNOV_02', 'Innovation', ['service_inconsistency', 'offer_measurement_gap'],
    'Services like lamination, covering, and delivery are offered when asked.',
    'Services are offered as part of checkout.', 1.0),

  q('QS_RISK_01', 'Risk', ['supplier_doc_gap', 'supplier_selection_undisciplined'],
    'We trust suppliers based on relationship.',
    'We trust suppliers with small verification habits.', 1.0),
  q('QS_RISK_02', 'Risk', ['contract_gap', 'policy_vagueness'],
    'Printing mistakes are handled case-by-case.',
    'Printing mistakes follow clear terms and proof.', 1.0),

  q('QS_PEOPLE_01', 'People', ['training_gap', 'onboarding_gap'],
    'Staff learn mainly by shadowing.',
    'Staff learn with checklists and scripts.', 1.0),
  q('QS_PEOPLE_02', 'People', ['incentive_misalignment', 'accountability_soft'],
    'Staff performance is mainly about sales volume.',
    'Staff performance also includes accuracy and shrink control.', 1.0),

  // DEEP SCAN (10 per pillar)
  // Operations (OPS01-OPS10)
  q('DS_OPS_01', 'Operations', ['inventory_accuracy_gap'],
    'I find items by memory and scanning shelves.',
    'I find items by category layout and SKU cues.', 1.0),
  q('DS_OPS_02', 'Operations', ['inventory_accuracy_gap', 'stockout_tax'],
    'Pack sizes and variants are handled informally.',
    'Pack sizes and variants are tracked clearly.', 1.0),
  q('DS_OPS_03', 'Operations', ['receiving_slippage'],
    'Receiving is done quickly so stock gets to shelves.',
    'Receiving includes counting and recording before shelving.', 1.0),
  q('DS_OPS_04', 'Operations', ['stockout_tax', 'restock_delay'],
    'Stockouts are discovered when customers ask.',
    'Stockouts are spotted using Top 50 checks.', 1.0),
  q('DS_OPS_05', 'Operations', ['planning_gap', 'restock_delay'],
    'Peak season buying starts when demand rises.',
    'Peak season buying starts from a calendar plan.', 1.0),
  q('DS_OPS_06', 'Operations', ['offer_measurement_gap'],
    'Shelves are arranged for neatness.',
    'Shelves are arranged for speed and conversion.', 0.9),
  q('DS_OPS_07', 'Operations', ['slow_mover_attachment'],
    'Slow books and items stay until someone eventually buys.',
    'Slow books and items trigger a recovery plan.', 1.0),
  q('DS_OPS_08', 'Operations', ['dispatch_delivery_instability'],
    'Online orders are picked from chat memory.',
    'Online orders follow a pick checklist.', 0.9),
  q('DS_OPS_09', 'Operations', ['no_standard_work', 'contract_gap'],
    'Printing jobs are managed verbally.',
    'Printing jobs use tickets and a queue.', 1.0),
  q('DS_OPS_10', 'Operations', ['hero_staff_dependence'],
    'When staff changes, systems slow down.',
    'Systems work the same regardless of staff.', 1.0),

  // Money (MNY01-MNY10)
  q('DS_MONEY_01', 'Money', ['pricing_margin_blindspot', 'pricing_inconsistency'],
    'Pricing is matched to competitors.',
    'Pricing starts from cost plus target margin rules.', 1.0),
  q('DS_MONEY_02', 'Money', ['discounting_leak'],
    'Discounts are flexible to close sales.',
    'Discounts follow bulk bands.', 1.0),
  q('DS_MONEY_03', 'Money', ['category_margin_blindspot', 'pricing_margin_blindspot'],
    'Profit is what remains after expenses.',
    'Profit is tracked by category and leaks.', 1.1),
  q('DS_MONEY_04', 'Money', ['credit_terms_risk'],
    'Credit is given to keep relationships.',
    'Credit follows limits and due dates.', 1.0),
  q('DS_MONEY_05', 'Money', ['payment_delay_chokehold'],
    'Debtors are followed up when they delay too much.',
    'Debtors are followed up routinely.', 1.0),
  q('DS_MONEY_06', 'Money', ['shrinkage_leak'],
    'Shrink is assumed as normal for small items.',
    'Shrink is measured and controlled.', 1.0),
  q('DS_MONEY_07', 'Money', ['cash_recon_gap'],
    'Cash and momo are checked when something feels off.',
    'Cash and momo are reconciled daily.', 1.0),
  q('DS_MONEY_08', 'Money', ['waste_not_costed'],
    'Printing pricing is based on market rates.',
    'Printing pricing reflects real cost plus margin.', 1.0),
  q('DS_MONEY_09', 'Money', ['supplier_selection_undisciplined', 'purchase_panic'],
    'Buying is driven by what suppliers recommend.',
    'Buying is driven by your sell-through evidence.', 0.9),
  q('DS_MONEY_10', 'Money', ['discounting_leak', 'bundle_engine_missing'],
    'Promotions are mainly price cuts.',
    'Promotions are kits, bundles, and value-adds.', 0.9),

  // Market (MKT01-MKT10)
  q('DS_MARKET_01', 'Market', ['followup_gap'],
    'Repeat customers happen naturally.',
    'Repeat customers are built through VIP and follow-up.', 1.0),
  q('DS_MARKET_02', 'Market', ['channel_dependency', 'followup_gap'],
    'Schools buy when they need supplies.',
    'We maintain a school contract and outreach rhythm.', 1.0),
  q('DS_MARKET_03', 'Market', ['bundle_engine_missing'],
    'We sell whatever the customer asks for.',
    'We guide customers to bundles and kits for speed.', 1.0),
  q('DS_MARKET_04', 'Market', ['followup_gap'],
    'We rely mostly on walk-ins.',
    'We capture contacts and follow up.', 1.0),
  q('DS_MARKET_05', 'Market', ['weak_onboarding'],
    'WhatsApp inquiries are answered when free.',
    'WhatsApp inquiries follow templates and targets.', 1.0),
  q('DS_MARKET_06', 'Market', ['no_market_feedback_loop'],
    'We rarely ask for referrals.',
    'We ask teachers and parents for referrals routinely.', 0.9),
  q('DS_MARKET_07', 'Market', ['offer_measurement_gap'],
    'Display is mostly about neatness.',
    'Display is about conversion and fast movers.', 0.9),
  q('DS_MARKET_08', 'Market', ['no_market_feedback_loop'],
    'We do not track repeat buyers.',
    'We track repeat buyers and reward them.', 1.0),
  q('DS_MARKET_09', 'Market', ['planning_gap'],
    'Back-to-school marketing is last-minute.',
    'Back-to-school marketing is calendar-based.', 0.9),
  q('DS_MARKET_10', 'Market', ['channel_dependency'],
    'Office clients buy ad-hoc.',
    'Office clients are managed as accounts.', 0.9),

  // Leadership (LDR01-LDR10)
  q('DS_LEAD_01', 'Leadership', ['kpi_cadence_gap'],
    'Targets are mostly in my head.',
    'Targets are visible and reviewed weekly.', 1.0),
  q('DS_LEAD_02', 'Leadership', ['no_variance_review'],
    'I solve errors personally to protect quality.',
    'I adjust the process to stop repeats.', 1.0),
  q('DS_LEAD_03', 'Leadership', ['approval_bottleneck', 'decision_bottleneck'],
    'Discounts and returns need approval often.',
    'Discounts and returns follow limits and rules.', 1.0),
  q('DS_LEAD_04', 'Leadership', ['training_planning_gap'],
    'Staff learn mainly by shadowing.',
    'Staff learn through checklists and scripts.', 0.9),
  q('DS_LEAD_05', 'Leadership', ['accountability_soft'],
    'Performance is judged by effort and busyness.',
    'Performance is judged by outcomes and accuracy.', 1.0),
  q('DS_LEAD_06', 'Leadership', ['meeting_no_action'],
    'Meetings are the main alignment tool.',
    'Dashboards reduce meeting dependence.', 0.9),
  q('DS_LEAD_07', 'Leadership', ['no_variance_review'],
    'Mistakes are corrected and forgotten.',
    'Mistakes lead to small system improvements.', 1.0),
  q('DS_LEAD_08', 'Leadership', ['role_clarity_gap'],
    'I delegate tasks.',
    'I delegate ownership outcomes.', 0.9),
  q('DS_LEAD_09', 'Leadership', ['priority_whiplash'],
    'Priorities shift based on urgent requests.',
    'Priorities follow weekly plans.', 0.9),
  q('DS_LEAD_10', 'Leadership', ['fear_silence'],
    'Feedback is avoided to keep peace.',
    'Feedback protects standards.', 0.9),

  // Innovation (INN01-INN10)
  q('DS_INNOV_01', 'Innovation', ['bundle_engine_missing'],
    'We sell items one-by-one.',
    'We sell kits and bundles.', 1.0),
  q('DS_INNOV_02', 'Innovation', ['service_inconsistency'],
    'We add services when customers ask.',
    'We offer services as part of checkout.', 0.9),
  q('DS_INNOV_03', 'Innovation', ['planning_gap', 'no_testing_rhythm'],
    'Seasonal items are ordered when demand rises.',
    'Seasonal items are ordered ahead by calendar.', 1.0),
  q('DS_INNOV_04', 'Innovation', ['no_testing_rhythm'],
    'We rarely test new learning materials or titles.',
    'We micro-test and scale winners.', 1.0),
  q('DS_INNOV_05', 'Innovation', ['discounting_leak'],
    'We do not run promotions often.',
    'We run simple calendar promotions.', 0.9),
  q('DS_INNOV_06', 'Innovation', ['bundle_engine_missing'],
    'We do not have a fast-lane for parents in a hurry.',
    'We have grab-and-go bundles.', 0.9),
  q('DS_INNOV_07', 'Innovation', ['service_inconsistency', 'offer_measurement_gap'],
    'Printing is just a service we provide.',
    'Printing is productized with packages.', 0.9),
  q('DS_INNOV_08', 'Innovation', ['bundle_engine_missing'],
    'We do not package school lists by class or school.',
    'We package lists into ready kits.', 0.9),
  q('DS_INNOV_09', 'Innovation', ['offer_measurement_gap'],
    'Online selling is occasional.',
    'Online selling follows routines and templates.', 0.9),
  q('DS_INNOV_10', 'Innovation', ['no_market_feedback_loop'],
    'We do not collect feedback on missing items.',
    'We collect requested-but-missing lists.', 0.9),

  // Risk (RSK01-RSK10)
  q('DS_RISK_01', 'Risk', ['supplier_doc_gap', 'supplier_selection_undisciplined'],
    'We trust suppliers based on history.',
    'We verify short deliveries and authenticity.', 1.0),
  q('DS_RISK_02', 'Risk', ['shrinkage_leak'],
    'Small items disappear sometimes; it happens.',
    'Small items are protected with controls.', 1.0),
  q('DS_RISK_03', 'Risk', ['cash_recon_gap'],
    'Cash handling is flexible when busy.',
    'Cash handling follows strict close routine.', 1.0),
  q('DS_RISK_04', 'Risk', ['contract_gap', 'policy_vagueness'],
    'Printing mistakes are handled case-by-case.',
    'Printing mistakes follow terms and proof steps.', 1.0),
  q('DS_RISK_05', 'Risk', ['policy_vagueness'],
    'Receipts and invoices are sometimes skipped.',
    'Receipts and invoices are consistent.', 0.9),
  q('DS_RISK_06', 'Risk', ['receiving_slippage', 'supplier_doc_gap'],
    'Supplier deliveries are accepted quickly.',
    'Supplier deliveries are counted and verified.', 1.0),
  q('DS_RISK_07', 'Risk', ['credit_terms_risk', 'contract_gap'],
    'Credit is given informally.',
    'Credit is documented and limited.', 1.0),
  q('DS_RISK_08', 'Risk', ['shrinkage_leak'],
    'Access to stockroom is open.',
    'Access to stockroom is controlled.', 1.0),
  q('DS_RISK_09', 'Risk', ['data_security_gap'],
    'Customer and school data is kept on personal phones.',
    'Customer and school data is stored securely.', 0.9),
  q('DS_RISK_10', 'Risk', ['contract_gap', 'policy_vagueness'],
    'Disputes are solved by giving discounts.',
    'Disputes are solved using clear terms and proof.', 1.0),

  // People (PPL01-PPL10)
  q('DS_PEOPLE_01', 'People', ['incentive_misalignment'],
    'Staff success is mainly about sales volume.',
    'Staff success includes accuracy and shrink control.', 1.0),
  q('DS_PEOPLE_02', 'People', ['incentive_misalignment', 'discounting_leak'],
    'Staff discounts to keep customers happy.',
    'Staff use bulk bands and scripts.', 1.0),
  q('DS_PEOPLE_03', 'People', ['service_inconsistency'],
    'Product finding depends on who is on shift.',
    'Product finding is consistent across staff.', 1.0),
  q('DS_PEOPLE_04', 'People', ['bundle_engine_missing', 'training_gap'],
    'Staff rarely upsell bundles.',
    'Staff offer kits to save customer time.', 0.9),
  q('DS_PEOPLE_05', 'People', ['incentive_misalignment'],
    'Incentives are mostly sales-based.',
    'Incentives include quality and margin metrics.', 1.0),
  q('DS_PEOPLE_06', 'People', ['onboarding_gap', 'training_gap'],
    'New hires learn mainly by shadowing.',
    'New hires learn by checklist plus shadowing.', 1.0),
  q('DS_PEOPLE_07', 'People', ['blame_culture'],
    'Mistakes lead to blame.',
    'Mistakes lead to process improvement.', 1.0),
  q('DS_PEOPLE_08', 'People', ['no_market_feedback_loop'],
    'Staff do not track requested-but-missing items.',
    'Staff logs customer requests.', 0.9),
  q('DS_PEOPLE_09', 'People', ['hero_staff_dependence'],
    'One strong staff carries operations.',
    'The system runs regardless of staff.', 1.0),
  q('DS_PEOPLE_10', 'People', ['blame_culture'],
    'High performers can bend rules.',
    'Standards are consistent for everyone.', 0.9)
];
